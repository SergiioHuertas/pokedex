var h4=Object.defineProperty;var f4=(t,e,n)=>e in t?h4(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Vd=(t,e,n)=>(f4(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function z(){}const ZS=t=>t;function go(t,e){for(const n in e)t[n]=e[n];return t}function d4(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function eE(t){return t()}function U1(){return Object.create(null)}function Kt(t){t.forEach(eE)}function Po(t){return typeof t=="function"}function Ue(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Pc;function he(t,e){return t===e?!0:(Pc||(Pc=document.createElement("a")),Pc.href=e,t===Pc.href)}function p4(t){return Object.keys(t).length===0}function tE(t,...e){if(t==null){for(const r of e)r(void 0);return z}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function jn(t,e,n){t.$$.on_destroy.push(tE(e,n))}function Ro(t,e,n,r){if(t){const i=nE(t,e,n,r);return t[0](i)}}function nE(t,e,n,r){return t[1]&&r?go(n.ctx.slice(),t[1](r(e))):n.ctx}function Do(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const s=[],o=Math.max(e.dirty.length,i.length);for(let l=0;l<o;l+=1)s[l]=e.dirty[l]|i[l];return s}return e.dirty|i}return e.dirty}function Oo(t,e,n,r,i,s){if(i){const o=nE(e,n,r,s);t.p(o,i)}}function Mo(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function B1(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function W1(t){return t??""}function Hd(t,e,n){return t.set(n),e}function g4(t){return t&&Po(t.destroy)?t.destroy:z}function j1(t){const e=typeof t=="string"&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}const rE=typeof window<"u";let nu=rE?()=>window.performance.now():()=>Date.now(),Wg=rE?t=>requestAnimationFrame(t):z;const so=new Set;function iE(t){so.forEach(e=>{e.c(t)||(so.delete(e),e.f())}),so.size!==0&&Wg(iE)}function jg(t){let e;return so.size===0&&Wg(iE),{promise:new Promise(n=>{so.add(e={c:t,f:n})}),abort(){so.delete(e)}}}const m4=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function T(t,e){t.appendChild(e)}function sE(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function v4(t){const e=C("style");return e.textContent="/* empty */",y4(sE(t),e),e.sheet}function y4(t,e){return T(t.head||t,e),e.sheet}function x(t,e,n){t.insertBefore(e,n||null)}function H(t){t.parentNode&&t.parentNode.removeChild(t)}function Jt(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function C(t){return document.createElement(t)}function Xr(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function me(t){return document.createTextNode(t)}function B(){return me(" ")}function He(){return me("")}function le(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function b(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function z1(t,e){for(const n in e)b(t,n,e[n])}function _4(t){return Array.from(t.childNodes)}function Ce(t,e){e=""+e,t.data!==e&&(t.data=e)}function zn(t,e){t.value=e??""}function an(t,e,n,r){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function q1(t,e,n){for(let r=0;r<t.options.length;r+=1){const i=t.options[r];if(i.__value===e){i.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function w4(t){const e=t.querySelector(":checked");return e&&e.__value}function zt(t,e,n){t.classList.toggle(e,!!n)}function b4(t,e,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}function G1(t,e){return new t(e)}const ru=new Map;let iu=0;function A4(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function S4(t,e){const n={stylesheet:v4(e),rules:{}};return ru.set(t,n),n}function oE(t,e,n,r,i,s,o,l=0){const c=16.666/r;let h=`{
`;for(let I=0;I<=1;I+=c){const R=e+(n-e)*s(I);h+=I*100+`%{${o(R,1-R)}}
`}const g=h+`100% {${o(n,1-n)}}
}`,m=`__svelte_${A4(g)}_${l}`,_=sE(t),{stylesheet:v,rules:S}=ru.get(_)||S4(_,t);S[m]||(S[m]=!0,v.insertRule(`@keyframes ${m} ${g}`,v.cssRules.length));const k=t.style.animation||"";return t.style.animation=`${k?`${k}, `:""}${m} ${r}ms linear ${i}ms 1 both`,iu+=1,m}function Wp(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?s=>s.indexOf(e)<0:s=>s.indexOf("__svelte")===-1),i=n.length-r.length;i&&(t.style.animation=r.join(", "),iu-=i,iu||E4())}function E4(){Wg(()=>{iu||(ru.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&H(e)}),ru.clear())})}let Ya;function $r(t){Ya=t}function vl(){if(!Ya)throw new Error("Function called outside component initialization");return Ya}function Pi(t){vl().$$.on_mount.push(t)}function T4(t){vl().$$.on_destroy.push(t)}function Fd(t,e){return vl().$$.context.set(t,e),e}function jp(t){return vl().$$.context.get(t)}function zp(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(r=>r.call(this,e))}const Js=[],dt=[];let oo=[];const qp=[],aE=Promise.resolve();let Gp=!1;function lE(){Gp||(Gp=!0,aE.then(zg))}function Dr(){return lE(),aE}function Ei(t){oo.push(t)}function Rt(t){qp.push(t)}const xd=new Set;let js=0;function zg(){if(js!==0)return;const t=Ya;do{try{for(;js<Js.length;){const e=Js[js];js++,$r(e),I4(e.$$)}}catch(e){throw Js.length=0,js=0,e}for($r(null),Js.length=0,js=0;dt.length;)dt.pop()();for(let e=0;e<oo.length;e+=1){const n=oo[e];xd.has(n)||(xd.add(n),n())}oo.length=0}while(Js.length);for(;qp.length;)qp.pop()();Gp=!1,xd.clear(),$r(t)}function I4(t){if(t.fragment!==null){t.update(),Kt(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ei)}}function k4(t){const e=[],n=[];oo.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),oo=e}let ba;function cE(){return ba||(ba=Promise.resolve(),ba.then(()=>{ba=null})),ba}function su(t,e,n){t.dispatchEvent(b4(`${e?"intro":"outro"}${n}`))}const zc=new Set;let mi;function Qe(){mi={r:0,c:[],p:mi}}function Xe(){mi.r||Kt(mi.c),mi=mi.p}function j(t,e){t&&t.i&&(zc.delete(t),t.i(e))}function G(t,e,n,r){if(t&&t.o){if(zc.has(t))return;zc.add(t),mi.c.push(()=>{zc.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}const uE={duration:0};function hE(t,e,n){const r={direction:"in"};let i=e(t,n,r),s=!1,o,l,c=0;function h(){o&&Wp(t,o)}function g(){const{delay:_=0,duration:v=300,easing:S=ZS,tick:k=z,css:I}=i||uE;I&&(o=oE(t,0,1,v,_,S,I,c++)),k(0,1);const R=nu()+_,M=R+v;l&&l.abort(),s=!0,Ei(()=>su(t,!0,"start")),l=jg(V=>{if(s){if(V>=M)return k(1,0),su(t,!0,"end"),h(),s=!1;if(V>=R){const L=S((V-R)/v);k(L,1-L)}}return s})}let m=!1;return{start(){m||(m=!0,Wp(t),Po(i)?(i=i(r),cE().then(g)):g())},invalidate(){m=!1},end(){s&&(h(),s=!1)}}}function fE(t,e,n){const r={direction:"out"};let i=e(t,n,r),s=!0,o;const l=mi;l.r+=1;let c;function h(){const{delay:g=0,duration:m=300,easing:_=ZS,tick:v=z,css:S}=i||uE;S&&(o=oE(t,1,0,m,g,_,S));const k=nu()+g,I=k+m;Ei(()=>su(t,!1,"start")),"inert"in t&&(c=t.inert,t.inert=!0),jg(R=>{if(s){if(R>=I)return v(0,1),su(t,!1,"end"),--l.r||Kt(l.c),!1;if(R>=k){const M=_((R-k)/m);v(1-M,M)}}return s})}return Po(i)?cE().then(()=>{i=i(r),h()}):h(),{end(g){g&&"inert"in t&&(t.inert=c),g&&i.tick&&i.tick(1,0),s&&(o&&Wp(t,o),s=!1)}}}function qn(t,e){const n=e.token={};function r(i,s,o,l){if(e.token!==n)return;e.resolved=l;let c=e.ctx;o!==void 0&&(c=c.slice(),c[o]=l);const h=i&&(e.current=i)(c);let g=!1;e.block&&(e.blocks?e.blocks.forEach((m,_)=>{_!==s&&m&&(Qe(),G(m,1,1,()=>{e.blocks[_]===m&&(e.blocks[_]=null)}),Xe())}):e.block.d(1),h.c(),j(h,1),h.m(e.mount(),e.anchor),g=!0),e.block=h,e.blocks&&(e.blocks[s]=h),g&&zg()}if(d4(t)){const i=vl();if(t.then(s=>{$r(i),r(e.then,1,e.value,s),$r(null)},s=>{if($r(i),r(e.catch,2,e.error,s),$r(null),!e.hasCatch)throw s}),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}}function Xi(t,e,n){const r=e.slice(),{resolved:i}=t;t.current===t.then&&(r[t.value]=i),t.current===t.catch&&(r[t.error]=i),t.block.p(r,n)}function De(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function C4(t,e){t.d(1),e.delete(t.key)}function qg(t,e){G(t,1,1,()=>{e.delete(t.key)})}function Bu(t,e,n,r,i,s,o,l,c,h,g,m){let _=t.length,v=s.length,S=_;const k={};for(;S--;)k[t[S].key]=S;const I=[],R=new Map,M=new Map,V=[];for(S=v;S--;){const q=m(i,s,S),Q=n(q);let $=o.get(Q);$?r&&V.push(()=>$.p(q,e)):($=h(Q,q),$.c()),R.set(Q,I[S]=$),Q in k&&M.set(Q,Math.abs(S-k[Q]))}const L=new Set,D=new Set;function W(q){j(q,1),q.m(l,g),o.set(q.key,q),g=q.first,v--}for(;_&&v;){const q=I[v-1],Q=t[_-1],$=q.key,K=Q.key;q===Q?(g=q.first,_--,v--):R.has(K)?!o.has($)||L.has($)?W(q):D.has(K)?_--:M.get($)>M.get(K)?(D.add($),W(q)):(L.add(K),_--):(c(Q,o),_--)}for(;_--;){const q=t[_];R.has(q.key)||c(q,o)}for(;v;)W(I[v-1]);return Kt(V),I}function ou(t,e){const n={},r={},i={$$scope:1};let s=t.length;for(;s--;){const o=t[s],l=e[s];if(l){for(const c in o)c in l||(r[c]=1);for(const c in l)i[c]||(n[c]=l[c],i[c]=1);t[s]=l}else for(const c in o)i[c]=1}for(const o in r)o in n||(n[o]=void 0);return n}function ka(t){return typeof t=="object"&&t!==null?t:{}}function Dt(t,e,n){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function ae(t){t&&t.c()}function se(t,e,n){const{fragment:r,after_update:i}=t.$$;r&&r.m(e,n),Ei(()=>{const s=t.$$.on_mount.map(eE).filter(Po);t.$$.on_destroy?t.$$.on_destroy.push(...s):Kt(s),t.$$.on_mount=[]}),i.forEach(Ei)}function oe(t,e){const n=t.$$;n.fragment!==null&&(k4(n.after_update),Kt(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function P4(t,e){t.$$.dirty[0]===-1&&(Js.push(t),lE(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function et(t,e,n,r,i,s,o=null,l=[-1]){const c=Ya;$r(t);const h=t.$$={fragment:null,ctx:[],props:s,update:z,not_equal:i,bound:U1(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:U1(),dirty:l,skip_bound:!1,root:e.target||c.$$.root};o&&o(h.root);let g=!1;if(h.ctx=n?n(t,e.props||{},(m,_,...v)=>{const S=v.length?v[0]:_;return h.ctx&&i(h.ctx[m],h.ctx[m]=S)&&(!h.skip_bound&&h.bound[m]&&h.bound[m](S),g&&P4(t,m)),_}):[],h.update(),g=!0,Kt(h.before_update),h.fragment=r?r(h.ctx):!1,e.target){if(e.hydrate){const m=_4(e.target);h.fragment&&h.fragment.l(m),m.forEach(H)}else h.fragment&&h.fragment.c();e.intro&&j(t.$$.fragment),se(t,e.target,e.anchor),zg()}$r(c)}class tt{constructor(){Vd(this,"$$");Vd(this,"$$set")}$destroy(){oe(this,1),this.$destroy=z}$on(e,n){if(!Po(n))return z;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!p4(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const R4="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(R4);const K1={},Kp={},D4={},dE=/^:(.+)/,Y1=4,O4=3,M4=2,N4=1,L4=1,Yp=t=>t.replace(/(^\/+|\/+$)/g,"").split("/"),Ud=t=>t.replace(/(^\/+|\/+$)/g,""),V4=(t,e)=>{const n=t.default?0:Yp(t.path).reduce((r,i)=>(r+=Y1,i===""?r+=L4:dE.test(i)?r+=M4:i[0]==="*"?r-=Y1+N4:r+=O4,r),0);return{route:t,score:n,index:e}},H4=t=>t.map(V4).sort((e,n)=>e.score<n.score?1:e.score>n.score?-1:e.index-n.index),Q1=(t,e)=>{let n,r;const[i]=e.split("?"),s=Yp(i),o=s[0]==="",l=H4(t);for(let c=0,h=l.length;c<h;c++){const g=l[c].route;let m=!1;if(g.default){r={route:g,params:{},uri:e};continue}const _=Yp(g.path),v={},S=Math.max(s.length,_.length);let k=0;for(;k<S;k++){const I=_[k],R=s[k];if(I&&I[0]==="*"){const V=I==="*"?"*":I.slice(1);v[V]=s.slice(k).map(decodeURIComponent).join("/");break}if(typeof R>"u"){m=!0;break}const M=dE.exec(I);if(M&&!o){const V=decodeURIComponent(R);v[M[1]]=V}else if(I!==R){m=!0;break}}if(!m){n={route:g,params:v,uri:"/"+s.slice(0,k).join("/")};break}}return n||r||null},X1=(t,e)=>`${Ud(e==="/"?t:`${Ud(t)}/${Ud(e)}`)}/`,pE=()=>typeof window<"u"&&"document"in window&&"location"in window,F4=t=>({params:t&4}),$1=t=>({params:t[2]});function J1(t){let e,n,r,i;const s=[U4,x4],o=[];function l(c,h){return c[0]?0:1}return e=l(t),n=o[e]=s[e](t),{c(){n.c(),r=He()},m(c,h){o[e].m(c,h),x(c,r,h),i=!0},p(c,h){let g=e;e=l(c),e===g?o[e].p(c,h):(Qe(),G(o[g],1,1,()=>{o[g]=null}),Xe(),n=o[e],n?n.p(c,h):(n=o[e]=s[e](c),n.c()),j(n,1),n.m(r.parentNode,r))},i(c){i||(j(n),i=!0)},o(c){G(n),i=!1},d(c){c&&H(r),o[e].d(c)}}}function x4(t){let e;const n=t[8].default,r=Ro(n,t,t[7],$1);return{c(){r&&r.c()},m(i,s){r&&r.m(i,s),e=!0},p(i,s){r&&r.p&&(!e||s&132)&&Oo(r,n,i,i[7],e?Do(n,i[7],s,F4):Mo(i[7]),$1)},i(i){e||(j(r,i),e=!0)},o(i){G(r,i),e=!1},d(i){r&&r.d(i)}}}function U4(t){let e,n,r,i={ctx:t,current:null,token:null,hasCatch:!1,pending:j4,then:W4,catch:B4,value:12,blocks:[,,,]};return qn(n=t[0],i),{c(){e=He(),i.block.c()},m(s,o){x(s,e,o),i.block.m(s,i.anchor=o),i.mount=()=>e.parentNode,i.anchor=e,r=!0},p(s,o){t=s,i.ctx=t,o&1&&n!==(n=t[0])&&qn(n,i)||Xi(i,t,o)},i(s){r||(j(i.block),r=!0)},o(s){for(let o=0;o<3;o+=1){const l=i.blocks[o];G(l)}r=!1},d(s){s&&H(e),i.block.d(s),i.token=null,i=null}}}function B4(t){return{c:z,m:z,p:z,i:z,o:z,d:z}}function W4(t){var l;let e,n,r;const i=[t[2],t[3]];var s=((l=t[12])==null?void 0:l.default)||t[12];function o(c,h){let g={};if(h!==void 0&&h&12)g=ou(i,[h&4&&ka(c[2]),h&8&&ka(c[3])]);else for(let m=0;m<i.length;m+=1)g=go(g,i[m]);return{props:g}}return s&&(e=G1(s,o(t))),{c(){e&&ae(e.$$.fragment),n=He()},m(c,h){e&&se(e,c,h),x(c,n,h),r=!0},p(c,h){var g;if(h&1&&s!==(s=((g=c[12])==null?void 0:g.default)||c[12])){if(e){Qe();const m=e;G(m.$$.fragment,1,0,()=>{oe(m,1)}),Xe()}s?(e=G1(s,o(c,h)),ae(e.$$.fragment),j(e.$$.fragment,1),se(e,n.parentNode,n)):e=null}else if(s){const m=h&12?ou(i,[h&4&&ka(c[2]),h&8&&ka(c[3])]):{};e.$set(m)}},i(c){r||(e&&j(e.$$.fragment,c),r=!0)},o(c){e&&G(e.$$.fragment,c),r=!1},d(c){c&&H(n),e&&oe(e,c)}}}function j4(t){return{c:z,m:z,p:z,i:z,o:z,d:z}}function z4(t){let e,n,r=t[1]&&t[1].route===t[5]&&J1(t);return{c(){r&&r.c(),e=He()},m(i,s){r&&r.m(i,s),x(i,e,s),n=!0},p(i,[s]){i[1]&&i[1].route===i[5]?r?(r.p(i,s),s&2&&j(r,1)):(r=J1(i),r.c(),j(r,1),r.m(e.parentNode,e)):r&&(Qe(),G(r,1,1,()=>{r=null}),Xe())},i(i){n||(j(r),n=!0)},o(i){G(r),n=!1},d(i){i&&H(e),r&&r.d(i)}}}function q4(t,e,n){let r,{$$slots:i={},$$scope:s}=e,{path:o=""}=e,{component:l=null}=e,c={},h={};const{registerRoute:g,unregisterRoute:m,activeRoute:_}=jp(Kp);jn(t,_,S=>n(1,r=S));const v={path:o,default:o===""};return g(v),T4(()=>{m(v)}),t.$$set=S=>{n(11,e=go(go({},e),B1(S))),"path"in S&&n(6,o=S.path),"component"in S&&n(0,l=S.component),"$$scope"in S&&n(7,s=S.$$scope)},t.$$.update=()=>{if(r&&r.route===v){n(2,c=r.params);const{component:S,path:k,...I}=e;n(3,h=I),S&&(S.toString().startsWith("class ")?n(0,l=S):n(0,l=S())),pE()&&!r.preserveScroll&&(window==null||window.scrollTo(0,0))}},e=B1(e),[l,r,c,h,_,v,o,s,i]}class Or extends tt{constructor(e){super(),et(this,e,q4,z4,Ue,{path:6,component:0})}}const zs=[];function gE(t,e){return{subscribe:qi(t,e).subscribe}}function qi(t,e=z){let n;const r=new Set;function i(l){if(Ue(t,l)&&(t=l,n)){const c=!zs.length;for(const h of r)h[1](),zs.push(h,t);if(c){for(let h=0;h<zs.length;h+=2)zs[h][0](zs[h+1]);zs.length=0}}}function s(l){i(l(t))}function o(l,c=z){const h=[l,c];return r.add(h),r.size===1&&(n=e(i,s)||z),l(t),()=>{r.delete(h),r.size===0&&n&&(n(),n=null)}}return{set:i,update:s,subscribe:o}}function G4(t,e,n){const r=!Array.isArray(t),i=r?[t]:t;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=e.length<2;return gE(n,(o,l)=>{let c=!1;const h=[];let g=0,m=z;const _=()=>{if(g)return;m();const S=e(r?h[0]:h,o,l);s?o(S):m=Po(S)?S:z},v=i.map((S,k)=>tE(S,I=>{h[k]=I,g&=~(1<<k),c&&_()},()=>{g|=1<<k}));return c=!0,_(),function(){Kt(v),m(),c=!1}})}const Bd=t=>({...t.location,state:t.history.state,key:t.history.state&&t.history.state.key||"initial"}),K4=t=>{const e=[];let n=Bd(t);return{get location(){return n},listen(r){e.push(r);const i=()=>{n=Bd(t),r({location:n,action:"POP"})};return t.addEventListener("popstate",i),()=>{t.removeEventListener("popstate",i);const s=e.indexOf(r);e.splice(s,1)}},navigate(r,{state:i,replace:s=!1,preserveScroll:o=!1}={}){i={...i,key:Date.now()+""};try{s?t.history.replaceState(i,"",r):t.history.pushState(i,"",r)}catch{t.location[s?"replace":"assign"](r)}n=Bd(t),e.forEach(l=>l({location:n,action:"PUSH",preserveScroll:o})),document.activeElement.blur()}}},Y4=(t="/")=>{let e=0;const n=[{pathname:t,search:""}],r=[];return{get location(){return n[e]},addEventListener(i,s){},removeEventListener(i,s){},history:{get entries(){return n},get index(){return e},get state(){return r[e]},pushState(i,s,o){const[l,c=""]=o.split("?");e++,n.push({pathname:l,search:c}),r.push(i)},replaceState(i,s,o){const[l,c=""]=o.split("?");n[e]={pathname:l,search:c},r[e]=i}}}},Q4=K4(pE()?window:Y4()),X4=t=>({route:t&4,location:t&2}),Z1=t=>({route:t[2]&&t[2].uri,location:t[1]}),$4=t=>({route:t&4,location:t&2}),ew=t=>({route:t[2]&&t[2].uri,location:t[1]});function J4(t){let e;const n=t[15].default,r=Ro(n,t,t[14],Z1);return{c(){r&&r.c()},m(i,s){r&&r.m(i,s),e=!0},p(i,s){r&&r.p&&(!e||s&16390)&&Oo(r,n,i,i[14],e?Do(n,i[14],s,X4):Mo(i[14]),Z1)},i(i){e||(j(r,i),e=!0)},o(i){G(r,i),e=!1},d(i){r&&r.d(i)}}}function Z4(t){let e=t[1].pathname,n,r,i=tw(t);return{c(){i.c(),n=He()},m(s,o){i.m(s,o),x(s,n,o),r=!0},p(s,o){o&2&&Ue(e,e=s[1].pathname)?(Qe(),G(i,1,1,z),Xe(),i=tw(s),i.c(),j(i,1),i.m(n.parentNode,n)):i.p(s,o)},i(s){r||(j(i),r=!0)},o(s){G(i),r=!1},d(s){s&&H(n),i.d(s)}}}function tw(t){let e,n,r,i;const s=t[15].default,o=Ro(s,t,t[14],ew);return{c(){e=C("div"),o&&o.c()},m(l,c){x(l,e,c),o&&o.m(e,null),i=!0},p(l,c){o&&o.p&&(!i||c&16390)&&Oo(o,s,l,l[14],i?Do(s,l[14],c,$4):Mo(l[14]),ew)},i(l){i||(j(o,l),l&&Ei(()=>{i&&(r&&r.end(1),n=hE(e,t[3],{}),n.start())}),i=!0)},o(l){G(o,l),n&&n.invalidate(),l&&(r=fE(e,t[3],{})),i=!1},d(l){l&&H(e),o&&o.d(l),l&&r&&r.end()}}}function eL(t){let e,n,r,i;const s=[Z4,J4],o=[];function l(c,h){return c[0]?0:1}return e=l(t),n=o[e]=s[e](t),{c(){n.c(),r=He()},m(c,h){o[e].m(c,h),x(c,r,h),i=!0},p(c,[h]){let g=e;e=l(c),e===g?o[e].p(c,h):(Qe(),G(o[g],1,1,()=>{o[g]=null}),Xe(),n=o[e],n?n.p(c,h):(n=o[e]=s[e](c),n.c()),j(n,1),n.m(r.parentNode,r))},i(c){i||(j(n),i=!0)},o(c){G(n),i=!1},d(c){c&&H(r),o[e].d(c)}}}function tL(t,e,n){let r,i,s,o,{$$slots:l={},$$scope:c}=e,{basepath:h="/"}=e,{url:g=null}=e,{viewtransition:m=null}=e,{history:_=Q4}=e;const v=($,K,we)=>{const ue=m(we);return typeof(ue==null?void 0:ue.fn)=="function"?ue.fn($,ue):ue};Fd(D4,_);const S=jp(K1),k=jp(Kp),I=qi([]);jn(t,I,$=>n(12,i=$));const R=qi(null);jn(t,R,$=>n(2,o=$));let M=!1;const V=S||qi(g?{pathname:g}:_.location);jn(t,V,$=>n(1,r=$));const L=k?k.routerBase:qi({path:h,uri:h});jn(t,L,$=>n(13,s=$));const D=G4([L,R],([$,K])=>{if(!K)return $;const{path:we}=$,{route:ue,uri:ye}=K;return{path:ue.default?we:ue.path.replace(/\*.*$/,""),uri:ye}}),W=$=>{const{path:K}=s;let{path:we}=$;if($._path=we,$.path=X1(K,we),typeof window>"u"){if(M)return;const ue=Q1([$],r.pathname);ue&&(R.set(ue),M=!0)}else I.update(ue=>[...ue,$])},q=$=>{I.update(K=>K.filter(we=>we!==$))};let Q=!1;return S||(Pi(()=>_.listen(K=>{n(11,Q=K.preserveScroll||!1),V.set(K.location)})),Fd(K1,V)),Fd(Kp,{activeRoute:R,base:L,routerBase:D,registerRoute:W,unregisterRoute:q}),t.$$set=$=>{"basepath"in $&&n(8,h=$.basepath),"url"in $&&n(9,g=$.url),"viewtransition"in $&&n(0,m=$.viewtransition),"history"in $&&n(10,_=$.history),"$$scope"in $&&n(14,c=$.$$scope)},t.$$.update=()=>{if(t.$$.dirty&8192){const{path:$}=s;I.update(K=>K.map(we=>Object.assign(we,{path:X1($,we._path)})))}if(t.$$.dirty&6146){const $=Q1(i,r.pathname);R.set({...$,preserveScroll:Q})}},[m,r,o,v,I,R,V,L,h,g,_,Q,i,s,c,l]}class nL extends tt{constructor(e){super(),et(this,e,tL,eL,Ue,{basepath:8,url:9,viewtransition:0,history:10})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},rL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},vE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,h=c?t[i+2]:0,g=s>>2,m=(s&3)<<4|l>>4;let _=(l&15)<<2|h>>6,v=h&63;c||(v=64,o||(_=64)),r.push(n[g],n[m],n[_],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(mE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):rL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||h==null||m==null)throw new iL;const _=s<<2|l>>4;if(r.push(_),h!==64){const v=l<<4&240|h>>2;if(r.push(v),m!==64){const S=h<<6&192|m;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class iL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sL=function(t){const e=mE(t);return vE.encodeByteArray(e,!0)},au=function(t){return sL(t).replace(/\./g,"")},yE=function(t){try{return vE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL=()=>oL().__FIREBASE_DEFAULTS__,lL=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},cL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&yE(t[1]);return e&&JSON.parse(e)},Gg=()=>{try{return aL()||lL()||cL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},_E=t=>{var e,n;return(n=(e=Gg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},uL=t=>{const e=_E(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},wE=()=>{var t;return(t=Gg())===null||t===void 0?void 0:t.config},bE=t=>{var e;return(e=Gg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[au(JSON.stringify(n)),au(JSON.stringify(o)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pn())}function AE(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function pL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gL(){const t=Pn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function SE(){try{return typeof indexedDB=="object"}catch{return!1}}function EE(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function mL(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL="FirebaseError";class yr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=vL,Object.setPrototypeOf(this,yr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hs.prototype.create)}}class hs{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?yL(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new yr(i,l,r)}}function yL(t,e){return t.replace(_L,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const _L=/\{\$([^}]+)}/g;function wL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Qa(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(nw(s)&&nw(o)){if(!Qa(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function nw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ca(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Pa(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function bL(t,e){const n=new AL(t,e);return n.subscribe.bind(n)}class AL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");SL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Wd),i.error===void 0&&(i.error=Wd),i.complete===void 0&&(i.complete=Wd);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function SL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Wd(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EL=1e3,TL=2,IL=4*60*60*1e3,kL=.5;function rw(t,e=EL,n=TL){const r=e*Math.pow(n,t),i=Math.round(kL*r*(Math.random()-.5)*2);return Math.min(IL,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(t){return t&&t._delegate?t._delegate:t}class dr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new hL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(RL(e))try{this.getOrInitializeService({instanceIdentifier:Wi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Wi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wi){return this.instances.has(e)}getOptions(e=Wi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:PL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wi){return this.component?this.component.multipleInstances?e:Wi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PL(t){return t===Wi?void 0:t}function RL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new CL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ye||(Ye={}));const OL={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},ML=Ye.INFO,NL={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},LL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=NL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Wu{constructor(e){this.name=e,this._logLevel=ML,this._logHandler=LL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const VL=(t,e)=>e.some(n=>t instanceof n);let iw,sw;function HL(){return iw||(iw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FL(){return sw||(sw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TE=new WeakMap,Qp=new WeakMap,IE=new WeakMap,jd=new WeakMap,Kg=new WeakMap;function xL(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(_i(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&TE.set(n,t)}).catch(()=>{}),Kg.set(e,t),e}function UL(t){if(Qp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Qp.set(t,e)}let Xp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Qp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||IE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _i(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function BL(t){Xp=t(Xp)}function WL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(zd(this),e,...n);return IE.set(r,e.sort?e.sort():[e]),_i(r)}:FL().includes(t)?function(...e){return t.apply(zd(this),e),_i(TE.get(this))}:function(...e){return _i(t.apply(zd(this),e))}}function jL(t){return typeof t=="function"?WL(t):(t instanceof IDBTransaction&&UL(t),VL(t,HL())?new Proxy(t,Xp):t)}function _i(t){if(t instanceof IDBRequest)return xL(t);if(jd.has(t))return jd.get(t);const e=jL(t);return e!==t&&(jd.set(t,e),Kg.set(e,t)),e}const zd=t=>Kg.get(t);function zL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=_i(o);return r&&o.addEventListener("upgradeneeded",c=>{r(_i(o.result),c.oldVersion,c.newVersion,_i(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const qL=["get","getKey","getAll","getAllKeys","count"],GL=["put","add","delete","clear"],qd=new Map;function ow(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(qd.get(e))return qd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=GL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||qL.includes(n)))return;const s=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let h=c.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),i&&c.done]))[0]};return qd.set(e,s),s}BL(t=>({...t,get:(e,n,r)=>ow(e,n)||t.get(e,n,r),has:(e,n)=>!!ow(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(YL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function YL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $p="@firebase/app",aw="0.9.20";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns=new Wu("@firebase/app"),QL="@firebase/app-compat",XL="@firebase/analytics-compat",$L="@firebase/analytics",JL="@firebase/app-check-compat",ZL="@firebase/app-check",eV="@firebase/auth",tV="@firebase/auth-compat",nV="@firebase/database",rV="@firebase/database-compat",iV="@firebase/functions",sV="@firebase/functions-compat",oV="@firebase/installations",aV="@firebase/installations-compat",lV="@firebase/messaging",cV="@firebase/messaging-compat",uV="@firebase/performance",hV="@firebase/performance-compat",fV="@firebase/remote-config",dV="@firebase/remote-config-compat",pV="@firebase/storage",gV="@firebase/storage-compat",mV="@firebase/firestore",vV="@firebase/firestore-compat",yV="firebase",_V="10.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp="[DEFAULT]",wV={[$p]:"fire-core",[QL]:"fire-core-compat",[$L]:"fire-analytics",[XL]:"fire-analytics-compat",[ZL]:"fire-app-check",[JL]:"fire-app-check-compat",[eV]:"fire-auth",[tV]:"fire-auth-compat",[nV]:"fire-rtdb",[rV]:"fire-rtdb-compat",[iV]:"fire-fn",[sV]:"fire-fn-compat",[oV]:"fire-iid",[aV]:"fire-iid-compat",[lV]:"fire-fcm",[cV]:"fire-fcm-compat",[uV]:"fire-perf",[hV]:"fire-perf-compat",[fV]:"fire-rc",[dV]:"fire-rc-compat",[pV]:"fire-gcs",[gV]:"fire-gcs-compat",[mV]:"fire-fst",[vV]:"fire-fst-compat","fire-js":"fire-js",[yV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu=new Map,Zp=new Map;function bV(t,e){try{t.container.addComponent(e)}catch(n){ns.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function jr(t){const e=t.name;if(Zp.has(e))return ns.debug(`There were multiple attempts to register component ${e}.`),!1;Zp.set(e,t);for(const n of lu.values())bV(n,t);return!0}function fs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},wi=new hs("app","Firebase",AV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new dr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=_V;function kE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Jp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw wi.create("bad-app-name",{appName:String(i)});if(n||(n=wE()),!n)throw wi.create("no-options");const s=lu.get(i);if(s){if(Qa(n,s.options)&&Qa(r,s.config))return s;throw wi.create("duplicate-app",{appName:i})}const o=new DL(i);for(const c of Zp.values())o.addComponent(c);const l=new SV(n,r,o);return lu.set(i,l),l}function Yg(t=Jp){const e=lu.get(t);if(!e&&t===Jp&&wE())return kE();if(!e)throw wi.create("no-app",{appName:t});return e}function cr(t,e,n){var r;let i=(r=wV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ns.warn(l.join(" "));return}jr(new dr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV="firebase-heartbeat-database",TV=1,Xa="firebase-heartbeat-store";let Gd=null;function CE(){return Gd||(Gd=zL(EV,TV,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Xa)}}}).catch(t=>{throw wi.create("idb-open",{originalErrorMessage:t.message})})),Gd}async function IV(t){try{return await(await CE()).transaction(Xa).objectStore(Xa).get(PE(t))}catch(e){if(e instanceof yr)ns.warn(e.message);else{const n=wi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ns.warn(n.message)}}}async function lw(t,e){try{const r=(await CE()).transaction(Xa,"readwrite");await r.objectStore(Xa).put(e,PE(t)),await r.done}catch(n){if(n instanceof yr)ns.warn(n.message);else{const r=wi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ns.warn(r.message)}}}function PE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV=1024,CV=30*24*60*60*1e3;class PV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new DV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=cw();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=CV}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=cw(),{heartbeatsToSend:n,unsentEntries:r}=RV(this._heartbeatsCache.heartbeats),i=au(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function cw(){return new Date().toISOString().substring(0,10)}function RV(t,e=kV){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),uw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),uw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class DV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SE()?EE().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await IV(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return lw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return lw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function uw(t){return au(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OV(t){jr(new dr("platform-logger",e=>new KL(e),"PRIVATE")),jr(new dr("heartbeat",e=>new PV(e),"PRIVATE")),cr($p,aw,t),cr($p,aw,"esm2017"),cr("fire-js","")}OV("");var MV="firebase",NV="10.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cr(MV,NV,"app");var LV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ce,Qg=Qg||{},Re=LV||self;function ju(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function _l(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function VV(t){return Object.prototype.hasOwnProperty.call(t,Kd)&&t[Kd]||(t[Kd]=++HV)}var Kd="closure_uid_"+(1e9*Math.random()>>>0),HV=0;function FV(t,e,n){return t.call.apply(t.bind,arguments)}function xV(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function kn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?kn=FV:kn=xV,kn.apply(null,arguments)}function Rc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function un(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),l=2;l<arguments.length;l++)o[l-2]=arguments[l];return e.prototype[i].apply(r,o)}}function Ri(){this.s=this.s,this.o=this.o}var UV=0;Ri.prototype.s=!1;Ri.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),UV!=0)&&VV(this)};Ri.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const RE=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Xg(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function hw(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(ju(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Cn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Cn.prototype.h=function(){this.defaultPrevented=!0};var BV=function(){if(!Re.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Re.addEventListener("test",()=>{},e),Re.removeEventListener("test",()=>{},e)}catch{}return t}();function $a(t){return/^[\s\xa0]*$/.test(t)}function zu(){var t=Re.navigator;return t&&(t=t.userAgent)?t:""}function Lr(t){return zu().indexOf(t)!=-1}function $g(t){return $g[" "](t),t}$g[" "]=function(){};function WV(t,e){var n=N3;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var jV=Lr("Opera"),mo=Lr("Trident")||Lr("MSIE"),DE=Lr("Edge"),eg=DE||mo,OE=Lr("Gecko")&&!(zu().toLowerCase().indexOf("webkit")!=-1&&!Lr("Edge"))&&!(Lr("Trident")||Lr("MSIE"))&&!Lr("Edge"),zV=zu().toLowerCase().indexOf("webkit")!=-1&&!Lr("Edge");function ME(){var t=Re.document;return t?t.documentMode:void 0}var tg;e:{var Yd="",Qd=function(){var t=zu();if(OE)return/rv:([^\);]+)(\)|;)/.exec(t);if(DE)return/Edge\/([\d\.]+)/.exec(t);if(mo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(zV)return/WebKit\/(\S+)/.exec(t);if(jV)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Qd&&(Yd=Qd?Qd[1]:""),mo){var Xd=ME();if(Xd!=null&&Xd>parseFloat(Yd)){tg=String(Xd);break e}}tg=Yd}var ng;if(Re.document&&mo){var fw=ME();ng=fw||parseInt(tg,10)||void 0}else ng=void 0;var qV=ng;function Ja(t,e){if(Cn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(OE){e:{try{$g(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:GV[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ja.$.h.call(this)}}un(Ja,Cn);var GV={2:"touch",3:"pen",4:"mouse"};Ja.prototype.h=function(){Ja.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var wl="closure_listenable_"+(1e6*Math.random()|0),KV=0;function YV(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++KV,this.fa=this.ia=!1}function qu(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Jg(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function QV(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function NE(t){const e={};for(const n in t)e[n]=t[n];return e}const dw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function LE(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<dw.length;s++)n=dw[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Gu(t){this.src=t,this.g={},this.h=0}Gu.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=ig(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new YV(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function rg(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=RE(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(qu(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function ig(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Zg="closure_lm_"+(1e6*Math.random()|0),$d={};function VE(t,e,n,r,i){if(r&&r.once)return FE(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)VE(t,e[s],n,r,i);return null}return n=nm(n),t&&t[wl]?t.O(e,n,_l(r)?!!r.capture:!!r,i):HE(t,e,n,!1,r,i)}function HE(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=_l(i)?!!i.capture:!!i,l=tm(t);if(l||(t[Zg]=l=new Gu(t)),n=l.add(e,n,r,o,s),n.proxy)return n;if(r=XV(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)BV||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(UE(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function XV(){function t(n){return e.call(t.src,t.listener,n)}const e=$V;return t}function FE(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)FE(t,e[s],n,r,i);return null}return n=nm(n),t&&t[wl]?t.P(e,n,_l(r)?!!r.capture:!!r,i):HE(t,e,n,!0,r,i)}function xE(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)xE(t,e[s],n,r,i);else r=_l(r)?!!r.capture:!!r,n=nm(n),t&&t[wl]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=ig(s,n,r,i),-1<n&&(qu(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=tm(t))&&(e=t.g[e.toString()],t=-1,e&&(t=ig(e,n,r,i)),(n=-1<t?e[t]:null)&&em(n))}function em(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[wl])rg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(UE(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=tm(e))?(rg(n,t),n.h==0&&(n.src=null,e[Zg]=null)):qu(t)}}}function UE(t){return t in $d?$d[t]:$d[t]="on"+t}function $V(t,e){if(t.fa)t=!0;else{e=new Ja(e,this);var n=t.listener,r=t.la||t.src;t.ia&&em(t),t=n.call(r,e)}return t}function tm(t){return t=t[Zg],t instanceof Gu?t:null}var Jd="__closure_events_fn_"+(1e9*Math.random()>>>0);function nm(t){return typeof t=="function"?t:(t[Jd]||(t[Jd]=function(e){return t.handleEvent(e)}),t[Jd])}function cn(){Ri.call(this),this.i=new Gu(this),this.S=this,this.J=null}un(cn,Ri);cn.prototype[wl]=!0;cn.prototype.removeEventListener=function(t,e,n,r){xE(this,t,e,n,r)};function yn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Cn(e,t);else if(e instanceof Cn)e.target=e.target||t;else{var i=e;e=new Cn(r,t),LE(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Dc(o,r,!0,e)&&i}if(o=e.g=t,i=Dc(o,r,!0,e)&&i,i=Dc(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Dc(o,r,!1,e)&&i}cn.prototype.N=function(){if(cn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)qu(n[r]);delete t.g[e],t.h--}}this.J=null};cn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};cn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Dc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var l=o.listener,c=o.la||o.src;o.ia&&rg(t.i,o),i=l.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var rm=Re.JSON.stringify;class JV{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function ZV(){var t=im;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class e3{constructor(){this.h=this.g=null}add(e,n){const r=BE.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var BE=new JV(()=>new t3,t=>t.reset());class t3{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function n3(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function r3(t){Re.setTimeout(()=>{throw t},0)}let Za,el=!1,im=new e3,WE=()=>{const t=Re.Promise.resolve(void 0);Za=()=>{t.then(i3)}};var i3=()=>{for(var t;t=ZV();){try{t.h.call(t.g)}catch(n){r3(n)}var e=BE;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}el=!1};function Ku(t,e){cn.call(this),this.h=t||1,this.g=e||Re,this.j=kn(this.qb,this),this.l=Date.now()}un(Ku,cn);ce=Ku.prototype;ce.ga=!1;ce.T=null;ce.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),yn(this,"tick"),this.ga&&(sm(this),this.start()))}};ce.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function sm(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}ce.N=function(){Ku.$.N.call(this),sm(this),delete this.g};function om(t,e,n){if(typeof t=="function")n&&(t=kn(t,n));else if(t&&typeof t.handleEvent=="function")t=kn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Re.setTimeout(t,e||0)}function jE(t){t.g=om(()=>{t.g=null,t.i&&(t.i=!1,jE(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class s3 extends Ri{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:jE(this)}N(){super.N(),this.g&&(Re.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tl(t){Ri.call(this),this.h=t,this.g={}}un(tl,Ri);var pw=[];function zE(t,e,n,r){Array.isArray(n)||(n&&(pw[0]=n.toString()),n=pw);for(var i=0;i<n.length;i++){var s=VE(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function qE(t){Jg(t.g,function(e,n){this.g.hasOwnProperty(n)&&em(e)},t),t.g={}}tl.prototype.N=function(){tl.$.N.call(this),qE(this)};tl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Yu(){this.g=!0}Yu.prototype.Ea=function(){this.g=!1};function o3(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",l=s.split("&"),c=0;c<l.length;c++){var h=l[c].split("=");if(1<h.length){var g=h[0];h=h[1];var m=g.split("_");o=2<=m.length&&m[1]=="type"?o+(g+"="+h+"&"):o+(g+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function a3(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function ro(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+c3(t,n)+(r?" "+r:"")})}function l3(t,e){t.info(function(){return"TIMEOUT: "+e})}Yu.prototype.info=function(){};function c3(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return rm(n)}catch{return e}}var ds={},gw=null;function Qu(){return gw=gw||new cn}ds.Ta="serverreachability";function GE(t){Cn.call(this,ds.Ta,t)}un(GE,Cn);function nl(t){const e=Qu();yn(e,new GE(e))}ds.STAT_EVENT="statevent";function KE(t,e){Cn.call(this,ds.STAT_EVENT,t),this.stat=e}un(KE,Cn);function xn(t){const e=Qu();yn(e,new KE(e,t))}ds.Ua="timingevent";function YE(t,e){Cn.call(this,ds.Ua,t),this.size=e}un(YE,Cn);function bl(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Re.setTimeout(function(){t()},e)}var Xu={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},QE={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function am(){}am.prototype.h=null;function mw(t){return t.h||(t.h=t.i())}function XE(){}var Al={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function lm(){Cn.call(this,"d")}un(lm,Cn);function cm(){Cn.call(this,"c")}un(cm,Cn);var sg;function $u(){}un($u,am);$u.prototype.g=function(){return new XMLHttpRequest};$u.prototype.i=function(){return{}};sg=new $u;function Sl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new tl(this),this.P=u3,t=eg?125:void 0,this.V=new Ku(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new $E}function $E(){this.i=null,this.g="",this.h=!1}var u3=45e3,og={},cu={};ce=Sl.prototype;ce.setTimeout=function(t){this.P=t};function ag(t,e,n){t.L=1,t.v=Zu(ti(e)),t.s=n,t.S=!0,JE(t,null)}function JE(t,e){t.G=Date.now(),El(t),t.A=ti(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),oT(n.i,"t",r),t.C=0,n=t.l.J,t.h=new $E,t.g=kT(t.l,n?e:null,!t.s),0<t.O&&(t.M=new s3(kn(t.Pa,t,t.g),t.O)),zE(t.U,t.g,"readystatechange",t.nb),e=t.I?NE(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),nl(),o3(t.j,t.u,t.A,t.m,t.W,t.s)}ce.nb=function(t){t=t.target;const e=this.M;e&&Vr(t)==3?e.l():this.Pa(t)};ce.Pa=function(t){try{if(t==this.g)e:{const g=Vr(this.g);var e=this.g.Ia();const m=this.g.da();if(!(3>g)&&(g!=3||eg||this.g&&(this.h.h||this.g.ja()||ww(this.g)))){this.J||g!=4||e==7||(e==8||0>=m?nl(3):nl(2)),Ju(this);var n=this.g.da();this.ca=n;t:if(ZE(this)){var r=ww(this.g);t="";var i=r.length,s=Vr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gi(this),La(this);var o="";break t}this.h.i=new Re.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,a3(this.j,this.u,this.A,this.m,this.W,g,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$a(l)){var h=l;break t}}h=null}if(n=h)ro(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,lg(this,n);else{this.i=!1,this.o=3,xn(12),Gi(this),La(this);break e}}this.S?(eT(this,g,o),eg&&this.i&&g==3&&(zE(this.U,this.V,"tick",this.mb),this.V.start())):(ro(this.j,this.m,o,null),lg(this,o)),g==4&&Gi(this),this.i&&!this.J&&(g==4?ST(this.l,this):(this.i=!1,El(this)))}else D3(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,xn(12)):(this.o=0,xn(13)),Gi(this),La(this)}}}catch{}finally{}};function ZE(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function eT(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=h3(t,n),i==cu){e==4&&(t.o=4,xn(14),r=!1),ro(t.j,t.m,null,"[Incomplete Response]");break}else if(i==og){t.o=4,xn(15),ro(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ro(t.j,t.m,i,null),lg(t,i);ZE(t)&&i!=cu&&i!=og&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,xn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),gm(e),e.M=!0,xn(11))):(ro(t.j,t.m,n,"[Invalid Chunked Response]"),Gi(t),La(t))}ce.mb=function(){if(this.g){var t=Vr(this.g),e=this.g.ja();this.C<e.length&&(Ju(this),eT(this,t,e),this.i&&t!=4&&El(this))}};function h3(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?cu:(n=Number(e.substring(n,r)),isNaN(n)?og:(r+=1,r+n>e.length?cu:(e=e.slice(r,r+n),t.C=r+n,e)))}ce.cancel=function(){this.J=!0,Gi(this)};function El(t){t.Y=Date.now()+t.P,tT(t,t.P)}function tT(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=bl(kn(t.lb,t),e)}function Ju(t){t.B&&(Re.clearTimeout(t.B),t.B=null)}ce.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(l3(this.j,this.A),this.L!=2&&(nl(),xn(17)),Gi(this),this.o=2,La(this)):tT(this,this.Y-t)};function La(t){t.l.H==0||t.J||ST(t.l,t)}function Gi(t){Ju(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,sm(t.V),qE(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function lg(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||cg(n.i,t))){if(!t.K&&cg(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)fu(n),rh(n);else break e;pm(n),xn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=bl(kn(n.ib,n),6e3));if(1>=cT(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ki(n,11)}else if((t.K||n.g==t)&&fu(n),!$a(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let h=i[e];if(n.V=h[0],h=h[1],n.H==2)if(h[0]=="c"){n.K=h[1],n.pa=h[2];const g=h[3];g!=null&&(n.ra=g,n.l.info("VER="+n.ra));const m=h[4];m!=null&&(n.Ga=m,n.l.info("SVER="+n.Ga));const _=h[5];_!=null&&typeof _=="number"&&0<_&&(r=1.5*_,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const v=t.g;if(v){const S=v.g?v.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(S){var s=r.i;s.g||S.indexOf("spdy")==-1&&S.indexOf("quic")==-1&&S.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(um(s,s.h),s.h=null))}if(r.F){const k=v.g?v.g.getResponseHeader("X-HTTP-Session-Id"):null;k&&(r.Da=k,Et(r.I,r.F,k))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=IT(r,r.J?r.pa:null,r.Y),o.K){uT(r.i,o);var l=o,c=r.L;c&&l.setTimeout(c),l.B&&(Ju(l),El(l)),r.g=o}else bT(r);0<n.j.length&&ih(n)}else h[0]!="stop"&&h[0]!="close"||Ki(n,7);else n.H==3&&(h[0]=="stop"||h[0]=="close"?h[0]=="stop"?Ki(n,7):dm(n):h[0]!="noop"&&n.h&&n.h.Aa(h),n.A=0)}}nl(4)}catch{}}function f3(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(ju(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function d3(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(ju(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function nT(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(ju(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=d3(t),r=f3(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var rT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function p3(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function $i(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof $i){this.h=t.h,uu(this,t.j),this.s=t.s,this.g=t.g,hu(this,t.m),this.l=t.l;var e=t.i,n=new rl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),vw(this,n),this.o=t.o}else t&&(e=String(t).match(rT))?(this.h=!1,uu(this,e[1]||"",!0),this.s=Ra(e[2]||""),this.g=Ra(e[3]||"",!0),hu(this,e[4]),this.l=Ra(e[5]||"",!0),vw(this,e[6]||"",!0),this.o=Ra(e[7]||"")):(this.h=!1,this.i=new rl(null,this.h))}$i.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Da(e,yw,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Da(e,yw,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Da(n,n.charAt(0)=="/"?v3:m3,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Da(n,_3)),t.join("")};function ti(t){return new $i(t)}function uu(t,e,n){t.j=n?Ra(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function hu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function vw(t,e,n){e instanceof rl?(t.i=e,w3(t.i,t.h)):(n||(e=Da(e,y3)),t.i=new rl(e,t.h))}function Et(t,e,n){t.i.set(e,n)}function Zu(t){return Et(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ra(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Da(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,g3),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function g3(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var yw=/[#\/\?@]/g,m3=/[#\?:]/g,v3=/[#\?]/g,y3=/[#\?@]/g,_3=/#/g;function rl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Di(t){t.g||(t.g=new Map,t.h=0,t.i&&p3(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ce=rl.prototype;ce.add=function(t,e){Di(this),this.i=null,t=Lo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function iT(t,e){Di(t),e=Lo(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function sT(t,e){return Di(t),e=Lo(t,e),t.g.has(e)}ce.forEach=function(t,e){Di(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};ce.ta=function(){Di(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};ce.Z=function(t){Di(this);let e=[];if(typeof t=="string")sT(this,t)&&(e=e.concat(this.g.get(Lo(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ce.set=function(t,e){return Di(this),this.i=null,t=Lo(this,t),sT(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ce.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function oT(t,e,n){iT(t,e),0<n.length&&(t.i=null,t.g.set(Lo(t,e),Xg(n)),t.h+=n.length)}ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Lo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function w3(t,e){e&&!t.j&&(Di(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(iT(this,r),oT(this,i,n))},t)),t.j=e}var b3=class{constructor(t,e){this.g=t,this.map=e}};function aT(t){this.l=t||A3,Re.PerformanceNavigationTiming?(t=Re.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Re.g&&Re.g.Ka&&Re.g.Ka()&&Re.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var A3=10;function lT(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function cT(t){return t.h?1:t.g?t.g.size:0}function cg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function um(t,e){t.g?t.g.add(e):t.h=e}function uT(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}aT.prototype.cancel=function(){if(this.i=hT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function hT(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Xg(t.i)}var S3=class{stringify(t){return Re.JSON.stringify(t,void 0)}parse(t){return Re.JSON.parse(t,void 0)}};function E3(){this.g=new S3}function T3(t,e,n){const r=n||"";try{nT(t,function(i,s){let o=i;_l(i)&&(o=rm(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function I3(t,e){const n=new Yu;if(Re.Image){const r=new Image;r.onload=Rc(Oc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Rc(Oc,n,r,"TestLoadImage: error",!1,e),r.onabort=Rc(Oc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Rc(Oc,n,r,"TestLoadImage: timeout",!1,e),Re.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Oc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function eh(t){this.l=t.ec||null,this.j=t.ob||!1}un(eh,am);eh.prototype.g=function(){return new th(this.l,this.j)};eh.prototype.i=function(t){return function(){return t}}({});function th(t,e){cn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=hm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}un(th,cn);var hm=0;ce=th.prototype;ce.open=function(t,e){if(this.readyState!=hm)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,il(this)};ce.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Re).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Tl(this)),this.readyState=hm};ce.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,il(this)),this.g&&(this.readyState=3,il(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Re.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;fT(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function fT(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}ce.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Tl(this):il(this),this.readyState==3&&fT(this)}};ce.Za=function(t){this.g&&(this.response=this.responseText=t,Tl(this))};ce.Ya=function(t){this.g&&(this.response=t,Tl(this))};ce.ka=function(){this.g&&Tl(this)};function Tl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,il(t)}ce.setRequestHeader=function(t,e){this.v.append(t,e)};ce.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ce.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function il(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(th.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var k3=Re.JSON.parse;function Ft(t){cn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=dT,this.L=this.M=!1}un(Ft,cn);var dT="",C3=/^https?$/i,P3=["POST","PUT"];ce=Ft.prototype;ce.Oa=function(t){this.M=t};ce.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():sg.g(),this.C=this.u?mw(this.u):mw(sg),this.g.onreadystatechange=kn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){_w(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Re.FormData&&t instanceof Re.FormData,!(0<=RE(P3,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{mT(this),0<this.B&&((this.L=R3(this.g))?(this.g.timeout=this.B,this.g.ontimeout=kn(this.ua,this)):this.A=om(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){_w(this,s)}};function R3(t){return mo&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ce.ua=function(){typeof Qg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,yn(this,"timeout"),this.abort(8))};function _w(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,pT(t),nh(t)}function pT(t){t.F||(t.F=!0,yn(t,"complete"),yn(t,"error"))}ce.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,yn(this,"complete"),yn(this,"abort"),nh(this))};ce.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),nh(this,!0)),Ft.$.N.call(this)};ce.La=function(){this.s||(this.G||this.v||this.l?gT(this):this.kb())};ce.kb=function(){gT(this)};function gT(t){if(t.h&&typeof Qg<"u"&&(!t.C[1]||Vr(t)!=4||t.da()!=2)){if(t.v&&Vr(t)==4)om(t.La,0,t);else if(yn(t,"readystatechange"),Vr(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(rT)[1]||null;!i&&Re.self&&Re.self.location&&(i=Re.self.location.protocol.slice(0,-1)),r=!C3.test(i?i.toLowerCase():"")}n=r}if(n)yn(t,"complete"),yn(t,"success");else{t.m=6;try{var s=2<Vr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",pT(t)}}finally{nh(t)}}}}function nh(t,e){if(t.g){mT(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||yn(t,"ready");try{n.onreadystatechange=r}catch{}}}function mT(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Re.clearTimeout(t.A),t.A=null)}ce.isActive=function(){return!!this.g};function Vr(t){return t.g?t.g.readyState:0}ce.da=function(){try{return 2<Vr(this)?this.g.status:-1}catch{return-1}};ce.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};ce.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),k3(e)}};function ww(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case dT:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function D3(t){const e={};t=(t.g&&2<=Vr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if($a(t[r]))continue;var n=n3(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}QV(e,function(r){return r.join(", ")})}ce.Ia=function(){return this.m};ce.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function vT(t){let e="";return Jg(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function fm(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=vT(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Et(t,e,n))}function Aa(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function yT(t){this.Ga=0,this.j=[],this.l=new Yu,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Aa("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Aa("baseRetryDelayMs",5e3,t),this.hb=Aa("retryDelaySeedMs",1e4,t),this.eb=Aa("forwardChannelMaxRetries",2,t),this.xa=Aa("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new aT(t&&t.concurrentRequestLimit),this.Ja=new E3,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}ce=yT.prototype;ce.ra=8;ce.H=1;function dm(t){if(_T(t),t.H==3){var e=t.W++,n=ti(t.I);if(Et(n,"SID",t.K),Et(n,"RID",e),Et(n,"TYPE","terminate"),Il(t,n),e=new Sl(t,t.l,e),e.L=2,e.v=Zu(ti(n)),n=!1,Re.navigator&&Re.navigator.sendBeacon)try{n=Re.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Re.Image&&(new Image().src=e.v,n=!0),n||(e.g=kT(e.l,null),e.g.ha(e.v)),e.G=Date.now(),El(e)}TT(t)}function rh(t){t.g&&(gm(t),t.g.cancel(),t.g=null)}function _T(t){rh(t),t.u&&(Re.clearTimeout(t.u),t.u=null),fu(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Re.clearTimeout(t.m),t.m=null)}function ih(t){if(!lT(t.i)&&!t.m){t.m=!0;var e=t.Na;Za||WE(),el||(Za(),el=!0),im.add(e,t),t.C=0}}function O3(t,e){return cT(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=bl(kn(t.Na,t,e),ET(t,t.C)),t.C++,!0)}ce.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Sl(this,this.l,t);let s=this.s;if(this.U&&(s?(s=NE(s),LE(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=wT(this,i,e),n=ti(this.I),Et(n,"RID",t),Et(n,"CVER",22),this.F&&Et(n,"X-HTTP-Session-Id",this.F),Il(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(vT(s)))+"&"+e:this.o&&fm(n,this.o,s)),um(this.i,i),this.bb&&Et(n,"TYPE","init"),this.P?(Et(n,"$req",e),Et(n,"SID","null"),i.aa=!0,ag(i,n,null)):ag(i,n,e),this.H=2}}else this.H==3&&(t?bw(this,t):this.j.length==0||lT(this.i)||bw(this))};function bw(t,e){var n;e?n=e.m:n=t.W++;const r=ti(t.I);Et(r,"SID",t.K),Et(r,"RID",n),Et(r,"AID",t.V),Il(t,r),t.o&&t.s&&fm(r,t.o,t.s),n=new Sl(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=wT(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),um(t.i,n),ag(n,r,e)}function Il(t,e){t.na&&Jg(t.na,function(n,r){Et(e,r,n)}),t.h&&nT({},function(n,r){Et(e,r,n)})}function wT(t,e,n){n=Math.min(t.j.length,n);var r=t.h?kn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let l=!0;for(let c=0;c<n;c++){let h=i[c].g;const g=i[c].map;if(h-=s,0>h)s=Math.max(0,i[c].g-100),l=!1;else try{T3(g,o,"req"+h+"_")}catch{r&&r(g)}}if(l){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function bT(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Za||WE(),el||(Za(),el=!0),im.add(e,t),t.A=0}}function pm(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=bl(kn(t.Ma,t),ET(t,t.A)),t.A++,!0)}ce.Ma=function(){if(this.u=null,AT(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=bl(kn(this.jb,this),t)}};ce.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,xn(10),rh(this),AT(this))};function gm(t){t.B!=null&&(Re.clearTimeout(t.B),t.B=null)}function AT(t){t.g=new Sl(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=ti(t.wa);Et(e,"RID","rpc"),Et(e,"SID",t.K),Et(e,"AID",t.V),Et(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Et(e,"TO",t.qa),Et(e,"TYPE","xmlhttp"),Il(t,e),t.o&&t.s&&fm(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Zu(ti(e)),n.s=null,n.S=!0,JE(n,t)}ce.ib=function(){this.v!=null&&(this.v=null,rh(this),pm(this),xn(19))};function fu(t){t.v!=null&&(Re.clearTimeout(t.v),t.v=null)}function ST(t,e){var n=null;if(t.g==e){fu(t),gm(t),t.g=null;var r=2}else if(cg(t.i,e))n=e.F,uT(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=Qu(),yn(r,new YE(r,n)),ih(t)}else bT(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&O3(t,e)||r==2&&pm(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ki(t,5);break;case 4:Ki(t,10);break;case 3:Ki(t,6);break;default:Ki(t,2)}}}function ET(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ki(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=kn(t.pb,t);n||(n=new $i("//www.google.com/images/cleardot.gif"),Re.location&&Re.location.protocol=="http"||uu(n,"https"),Zu(n)),I3(n.toString(),r)}else xn(2);t.H=0,t.h&&t.h.za(e),TT(t),_T(t)}ce.pb=function(t){t?(this.l.info("Successfully pinged google.com"),xn(2)):(this.l.info("Failed to ping google.com"),xn(1))};function TT(t){if(t.H=0,t.ma=[],t.h){const e=hT(t.i);(e.length!=0||t.j.length!=0)&&(hw(t.ma,e),hw(t.ma,t.j),t.i.i.length=0,Xg(t.j),t.j.length=0),t.h.ya()}}function IT(t,e,n){var r=n instanceof $i?ti(n):new $i(n);if(r.g!="")e&&(r.g=e+"."+r.g),hu(r,r.m);else{var i=Re.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new $i(null);r&&uu(s,r),e&&(s.g=e),i&&hu(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Et(r,n,e),Et(r,"VER",t.ra),Il(t,r),r}function kT(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Ft(new eh({ob:!0})):new Ft(t.va),e.Oa(t.J),e}ce.isActive=function(){return!!this.h&&this.h.isActive(this)};function CT(){}ce=CT.prototype;ce.Ba=function(){};ce.Aa=function(){};ce.za=function(){};ce.ya=function(){};ce.isActive=function(){return!0};ce.Va=function(){};function du(){if(mo&&!(10<=Number(qV)))throw Error("Environmental error: no available transport.")}du.prototype.g=function(t,e){return new tr(t,e)};function tr(t,e){cn.call(this),this.g=new yT(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!$a(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!$a(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Vo(this)}un(tr,cn);tr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;xn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=IT(t,null,t.Y),ih(t)};tr.prototype.close=function(){dm(this.g)};tr.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=rm(t),t=n);e.j.push(new b3(e.fb++,t)),e.H==3&&ih(e)};tr.prototype.N=function(){this.g.h=null,delete this.j,dm(this.g),delete this.g,tr.$.N.call(this)};function PT(t){lm.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}un(PT,lm);function RT(){cm.call(this),this.status=1}un(RT,cm);function Vo(t){this.g=t}un(Vo,CT);Vo.prototype.Ba=function(){yn(this.g,"a")};Vo.prototype.Aa=function(t){yn(this.g,new PT(t))};Vo.prototype.za=function(t){yn(this.g,new RT)};Vo.prototype.ya=function(){yn(this.g,"b")};function M3(){this.blockSize=-1}function pr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}un(pr,M3);pr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Zd(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}pr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Zd(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Zd(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Zd(this,r),i=0;break}}this.h=i,this.i+=e};pr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function vt(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var N3={};function mm(t){return-128<=t&&128>t?WV(t,function(e){return new vt([e|0],0>e?-1:0)}):new vt([t|0],0>t?-1:0)}function Hr(t){if(isNaN(t)||!isFinite(t))return ao;if(0>t)return mn(Hr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=ug;return new vt(e,0)}function DT(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return mn(DT(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Hr(Math.pow(e,8)),r=ao,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Hr(Math.pow(e,s)),r=r.R(s).add(Hr(o))):(r=r.R(n),r=r.add(Hr(o)))}return r}var ug=4294967296,ao=mm(0),hg=mm(1),Aw=mm(16777216);ce=vt.prototype;ce.ea=function(){if(lr(this))return-mn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:ug+r)*e,e*=ug}return t};ce.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Jr(this))return"0";if(lr(this))return"-"+mn(this).toString(t);for(var e=Hr(Math.pow(t,6)),n=this,r="";;){var i=gu(n,e).g;n=pu(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Jr(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};ce.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Jr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function lr(t){return t.h==-1}ce.X=function(t){return t=pu(this,t),lr(t)?-1:Jr(t)?0:1};function mn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new vt(n,~t.h).add(hg)}ce.abs=function(){return lr(this)?mn(this):this};ce.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new vt(n,n[n.length-1]&-2147483648?-1:0)};function pu(t,e){return t.add(mn(e))}ce.R=function(t){if(Jr(this)||Jr(t))return ao;if(lr(this))return lr(t)?mn(this).R(mn(t)):mn(mn(this).R(t));if(lr(t))return mn(this.R(mn(t)));if(0>this.X(Aw)&&0>t.X(Aw))return Hr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,l=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,Mc(n,2*r+2*i),n[2*r+2*i+1]+=s*c,Mc(n,2*r+2*i+1),n[2*r+2*i+1]+=o*l,Mc(n,2*r+2*i+1),n[2*r+2*i+2]+=s*l,Mc(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new vt(n,0)};function Mc(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Sa(t,e){this.g=t,this.h=e}function gu(t,e){if(Jr(e))throw Error("division by zero");if(Jr(t))return new Sa(ao,ao);if(lr(t))return e=gu(mn(t),e),new Sa(mn(e.g),mn(e.h));if(lr(e))return e=gu(t,mn(e)),new Sa(mn(e.g),e.h);if(30<t.g.length){if(lr(t)||lr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=hg,r=e;0>=r.X(t);)n=Sw(n),r=Sw(r);var i=qs(n,1),s=qs(r,1);for(r=qs(r,2),n=qs(n,2);!Jr(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=qs(r,1),n=qs(n,1)}return e=pu(t,i.R(e)),new Sa(i,e)}for(i=ao;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Hr(n),o=s.R(e);lr(o)||0<o.X(t);)n-=r,s=Hr(n),o=s.R(e);Jr(s)&&(s=hg),i=i.add(s),t=pu(t,o)}return new Sa(i,t)}ce.gb=function(t){return gu(this,t).h};ce.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new vt(n,this.h&t.h)};ce.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new vt(n,this.h|t.h)};ce.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new vt(n,this.h^t.h)};function Sw(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new vt(n,t.h)}function qs(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new vt(i,t.h)}du.prototype.createWebChannel=du.prototype.g;tr.prototype.send=tr.prototype.u;tr.prototype.open=tr.prototype.m;tr.prototype.close=tr.prototype.close;Xu.NO_ERROR=0;Xu.TIMEOUT=8;Xu.HTTP_ERROR=6;QE.COMPLETE="complete";XE.EventType=Al;Al.OPEN="a";Al.CLOSE="b";Al.ERROR="c";Al.MESSAGE="d";cn.prototype.listen=cn.prototype.O;Ft.prototype.listenOnce=Ft.prototype.P;Ft.prototype.getLastError=Ft.prototype.Sa;Ft.prototype.getLastErrorCode=Ft.prototype.Ia;Ft.prototype.getStatus=Ft.prototype.da;Ft.prototype.getResponseJson=Ft.prototype.Wa;Ft.prototype.getResponseText=Ft.prototype.ja;Ft.prototype.send=Ft.prototype.ha;Ft.prototype.setWithCredentials=Ft.prototype.Oa;pr.prototype.digest=pr.prototype.l;pr.prototype.reset=pr.prototype.reset;pr.prototype.update=pr.prototype.j;vt.prototype.add=vt.prototype.add;vt.prototype.multiply=vt.prototype.R;vt.prototype.modulo=vt.prototype.gb;vt.prototype.compare=vt.prototype.X;vt.prototype.toNumber=vt.prototype.ea;vt.prototype.toString=vt.prototype.toString;vt.prototype.getBits=vt.prototype.D;vt.fromNumber=Hr;vt.fromString=DT;var L3=function(){return new du},V3=function(){return Qu()},ep=Xu,H3=QE,F3=ds,Ew={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Nc=XE,x3=Ft,U3=pr,lo=vt;const Tw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tn.UNAUTHENTICATED=new Tn(null),Tn.GOOGLE_CREDENTIALS=new Tn("google-credentials-uid"),Tn.FIRST_PARTY=new Tn("first-party-uid"),Tn.MOCK_USER=new Tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ho="10.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs=new Wu("@firebase/firestore");function Ea(){return rs.logLevel}function _e(t,...e){if(rs.logLevel<=Ye.DEBUG){const n=e.map(vm);rs.debug(`Firestore (${Ho}): ${t}`,...n)}}function ni(t,...e){if(rs.logLevel<=Ye.ERROR){const n=e.map(vm);rs.error(`Firestore (${Ho}): ${t}`,...n)}}function vo(t,...e){if(rs.logLevel<=Ye.WARN){const n=e.map(vm);rs.warn(`Firestore (${Ho}): ${t}`,...n)}}function vm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(t="Unexpected state"){const e=`FIRESTORE (${Ho}) INTERNAL ASSERTION FAILED: `+t;throw ni(e),new Error(e)}function It(t,e){t||Pe()}function Ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends yr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class B3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Tn.UNAUTHENTICATED))}shutdown(){}}class W3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class j3{constructor(e){this.t=e,this.currentUser=Tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new bi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new bi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new bi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(It(typeof r.accessToken=="string"),new OT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return It(e===null||typeof e=="string"),new Tn(e)}}class z3{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Tn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class q3{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new z3(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class G3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class K3{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,_e("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(It(typeof n.token=="string"),this.R=n.token,new G3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Y3(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ft(t,e){return t<e?-1:t>e?1:0}function yo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ve(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return $t.fromMillis(Date.now())}static fromDate(e){return $t.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new $t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ft(this.nanoseconds,e.nanoseconds):ft(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new $t(0,0))}static max(){return new Oe(new $t(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,n,r){n===void 0?n=0:n>e.length&&Pe(),r===void 0?r=e.length-n:r>e.length-n&&Pe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return sl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof sl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Tt extends sl{construct(e,n,r){return new Tt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ve(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Tt(n)}static emptyPath(){return new Tt([])}}const Q3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vn extends sl{construct(e,n,r){return new vn(e,n,r)}static isValidIdentifier(e){return Q3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new vn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ve(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new ve(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ve(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new ve(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vn(n)}static emptyPath(){return new vn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(Tt.fromString(e))}static fromName(e){return new Ee(Tt.fromString(e).popFirst(5))}static empty(){return new Ee(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new Tt(e.slice()))}}function X3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Oe.fromTimestamp(r===1e9?new $t(n+1,0):new $t(n,r));return new Ti(i,Ee.empty(),e)}function $3(t){return new Ti(t.readTime,t.key,-1)}class Ti{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ti(Oe.min(),Ee.empty(),-1)}static max(){return new Ti(Oe.max(),Ee.empty(),-1)}}function J3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(t.documentKey,e.documentKey),n!==0?n:ft(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kl(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==Z3)throw t;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.reject(n)}static resolve(e){return new ne((n,r)=>{n(e)})}static reject(e){return new ne((n,r)=>{r(e)})}static waitFor(e){return new ne((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=ne.resolve(!1);for(const r of e)n=n.next(i=>i?ne.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new ne((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let c=0;c<s;c++){const h=c;n(e[h]).next(g=>{o[h]=g,++l,l===s&&r(o)},g=>i(g))}})}static doWhile(e,n){return new ne((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Cl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}ym.ae=-1;function sh(t){return t==null}function mu(t){return t===0&&1/t==-1/0}function tH(t){return typeof t=="number"&&Number.isInteger(t)&&!mu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ps(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function NT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e,n){this.comparator=e,this.root=n||gn.EMPTY}insert(e,n){return new Lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gn.BLACK,null,null))}remove(e){return new Lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lc(this.root,e,this.comparator,!0)}}class Lc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??gn.RED,this.left=i??gn.EMPTY,this.right=s??gn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new gn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return gn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return gn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pe();const e=this.left.check();if(e!==this.right.check())throw Pe();return e+(this.isRed()?0:1)}}gn.EMPTY=null,gn.RED=!0,gn.BLACK=!1;gn.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe()}get value(){throw Pe()}get color(){throw Pe()}get left(){throw Pe()}get right(){throw Pe()}copy(e,n,r,i,s){return this}insert(e,n,r){return new gn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.comparator=e,this.data=new Lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new kw(this.data.getIterator())}getIteratorFrom(e){return new kw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof _n)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new _n(this.comparator);return n.data=e,n}}class kw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.fields=e,e.sort(vn.comparator)}static empty(){return new Jn([])}unionWith(e){let n=new _n(vn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Jn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new LT("Invalid base64 string: "+s):s}}(e);return new Rn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Rn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ft(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rn.EMPTY_BYTE_STRING=new Rn("");const nH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ii(t){if(It(!!t),typeof t=="string"){let e=0;const n=nH.exec(t);if(It(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:qt(t.seconds),nanos:qt(t.nanos)}}function qt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function is(t){return typeof t=="string"?Rn.fromBase64String(t):Rn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function wm(t){const e=t.mapValue.fields.__previous_value__;return _m(e)?wm(e):e}function ol(t){const e=Ii(t.mapValue.fields.__local_write_time__.timestampValue);return new $t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rH{constructor(e,n,r,i,s,o,l,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=h}}class al{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new al("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof al&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ss(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_m(t)?4:iH(t)?9007199254740991:10:Pe()}function zr(t,e){if(t===e)return!0;const n=ss(t);if(n!==ss(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ol(t).isEqual(ol(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ii(i.timestampValue),l=Ii(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return is(i.bytesValue).isEqual(is(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return qt(i.geoPointValue.latitude)===qt(s.geoPointValue.latitude)&&qt(i.geoPointValue.longitude)===qt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return qt(i.integerValue)===qt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=qt(i.doubleValue),l=qt(s.doubleValue);return o===l?mu(o)===mu(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return yo(t.arrayValue.values||[],e.arrayValue.values||[],zr);case 10:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(Iw(o)!==Iw(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!zr(o[c],l[c])))return!1;return!0}(t,e);default:return Pe()}}function ll(t,e){return(t.values||[]).find(n=>zr(n,e))!==void 0}function _o(t,e){if(t===e)return 0;const n=ss(t),r=ss(e);if(n!==r)return ft(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ft(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=qt(s.integerValue||s.doubleValue),c=qt(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return Cw(t.timestampValue,e.timestampValue);case 4:return Cw(ol(t),ol(e));case 5:return ft(t.stringValue,e.stringValue);case 6:return function(s,o){const l=is(s),c=is(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),c=o.split("/");for(let h=0;h<l.length&&h<c.length;h++){const g=ft(l[h],c[h]);if(g!==0)return g}return ft(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=ft(qt(s.latitude),qt(o.latitude));return l!==0?l:ft(qt(s.longitude),qt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const l=s.values||[],c=o.values||[];for(let h=0;h<l.length&&h<c.length;++h){const g=_o(l[h],c[h]);if(g)return g}return ft(l.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Vc.mapValue&&o===Vc.mapValue)return 0;if(s===Vc.mapValue)return 1;if(o===Vc.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),h=o.fields||{},g=Object.keys(h);c.sort(),g.sort();for(let m=0;m<c.length&&m<g.length;++m){const _=ft(c[m],g[m]);if(_!==0)return _;const v=_o(l[c[m]],h[g[m]]);if(v!==0)return v}return ft(c.length,g.length)}(t.mapValue,e.mapValue);default:throw Pe()}}function Cw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ft(t,e);const n=Ii(t),r=Ii(e),i=ft(n.seconds,r.seconds);return i!==0?i:ft(n.nanos,r.nanos)}function wo(t){return fg(t)}function fg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ii(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return is(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=fg(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${fg(n.fields[o])}`;return i+"}"}(t.mapValue):Pe()}function Pw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function dg(t){return!!t&&"integerValue"in t}function bm(t){return!!t&&"arrayValue"in t}function Rw(t){return!!t&&"nullValue"in t}function Dw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qc(t){return!!t&&"mapValue"in t}function Va(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ps(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Va(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Va(t.arrayValue.values[n]);return e}return Object.assign({},t)}function iH(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.value=e}static empty(){return new Gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!qc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Va(n)}setAll(e){let n=vn.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Va(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());qc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return zr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];qc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ps(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Gn(Va(this.value))}}function VT(t){const e=[];return ps(t.fields,(n,r)=>{const i=new vn([n]);if(qc(r)){const s=VT(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new In(e,0,Oe.min(),Oe.min(),Oe.min(),Gn.empty(),0)}static newFoundDocument(e,n,r,i){return new In(e,1,n,Oe.min(),r,i,0)}static newNoDocument(e,n){return new In(e,2,n,Oe.min(),Oe.min(),Gn.empty(),0)}static newUnknownDocument(e,n){return new In(e,3,n,Oe.min(),Oe.min(),Gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof In&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new In(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,n){this.position=e,this.inclusive=n}}function Ow(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Ee.comparator(Ee.fromName(o.referenceValue),n.key):r=_o(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Mw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!zr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n="asc"){this.field=e,this.dir=n}}function sH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{}class Gt extends HT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new aH(e,n,r):n==="array-contains"?new uH(e,r):n==="in"?new hH(e,r):n==="not-in"?new fH(e,r):n==="array-contains-any"?new dH(e,r):new Gt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new lH(e,r):new cH(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(_o(n,this.value)):n!==null&&ss(this.value)===ss(n)&&this.matchesComparison(_o(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gr extends HT{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new gr(e,n)}matches(e){return FT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function FT(t){return t.op==="and"}function xT(t){return oH(t)&&FT(t)}function oH(t){for(const e of t.filters)if(e instanceof gr)return!1;return!0}function pg(t){if(t instanceof Gt)return t.field.canonicalString()+t.op.toString()+wo(t.value);if(xT(t))return t.filters.map(e=>pg(e)).join(",");{const e=t.filters.map(n=>pg(n)).join(",");return`${t.op}(${e})`}}function UT(t,e){return t instanceof Gt?function(r,i){return i instanceof Gt&&r.op===i.op&&r.field.isEqual(i.field)&&zr(r.value,i.value)}(t,e):t instanceof gr?function(r,i){return i instanceof gr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&UT(o,i.filters[l]),!0):!1}(t,e):void Pe()}function BT(t){return t instanceof Gt?function(n){return`${n.field.canonicalString()} ${n.op} ${wo(n.value)}`}(t):t instanceof gr?function(n){return n.op.toString()+" {"+n.getFilters().map(BT).join(" ,")+"}"}(t):"Filter"}class aH extends Gt{constructor(e,n,r){super(e,n,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class lH extends Gt{constructor(e,n){super(e,"in",n),this.keys=WT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class cH extends Gt{constructor(e,n){super(e,"not-in",n),this.keys=WT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function WT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ee.fromName(r.referenceValue))}class uH extends Gt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return bm(n)&&ll(n.arrayValue,this.value)}}class hH extends Gt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ll(this.value.arrayValue,n)}}class fH extends Gt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ll(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ll(this.value.arrayValue,n)}}class dH extends Gt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!bm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ll(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pH{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.le=null}}function Nw(t,e=null,n=[],r=[],i=null,s=null,o=null){return new pH(t,e,n,r,i,s,o)}function Am(t){const e=Ne(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>pg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),sh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>wo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>wo(r)).join(",")),e.le=n}return e.le}function Sm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!sH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!UT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Mw(t.startAt,e.startAt)&&Mw(t.endAt,e.endAt)}function gg(t){return Ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=c,this.he=null,this.Pe=null,this.Ie=null,this.startAt,this.endAt}}function gH(t,e,n,r,i,s,o,l){return new Pl(t,e,n,r,i,s,o,l)}function jT(t){return new Pl(t)}function Lw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function zT(t){return t.collectionGroup!==null}function Ha(t){const e=Ne(t);if(e.he===null){e.he=[];const n=new Set;for(const s of e.explicitOrderBy)e.he.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new _n(vn.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.he.push(new yu(s,r))}),n.has(vn.keyField().canonicalString())||e.he.push(new yu(vn.keyField(),r))}return e.he}function Fr(t){const e=Ne(t);return e.Pe||(e.Pe=mH(e,Ha(t))),e.Pe}function mH(t,e){if(t.limitType==="F")return Nw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new yu(i.field,s)});const n=t.endAt?new vu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new vu(t.startAt.position,t.startAt.inclusive):null;return Nw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function mg(t,e){const n=t.filters.concat([e]);return new Pl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function vg(t,e,n){return new Pl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function oh(t,e){return Sm(Fr(t),Fr(e))&&t.limitType===e.limitType}function qT(t){return`${Am(Fr(t))}|lt:${t.limitType}`}function Zs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>BT(i)).join(", ")}]`),sh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>wo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>wo(i)).join(",")),`Target(${r})`}(Fr(t))}; limitType=${t.limitType})`}function ah(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ee.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ha(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,c){const h=Ow(o,l,c);return o.inclusive?h<=0:h<0}(r.startAt,Ha(r),i)||r.endAt&&!function(o,l,c){const h=Ow(o,l,c);return o.inclusive?h>=0:h>0}(r.endAt,Ha(r),i))}(t,e)}function vH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function GT(t){return(e,n)=>{let r=!1;for(const i of Ha(t)){const s=yH(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function yH(t,e,n){const r=t.field.isKeyField()?Ee.comparator(e.key,n.key):function(s,o,l){const c=o.data.field(s),h=l.data.field(s);return c!==null&&h!==null?_o(c,h):Pe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Pe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ps(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return NT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _H=new Lt(Ee.comparator);function ri(){return _H}const KT=new Lt(Ee.comparator);function Oa(...t){let e=KT;for(const n of t)e=e.insert(n.key,n);return e}function YT(t){let e=KT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Yi(){return Fa()}function QT(){return Fa()}function Fa(){return new Fo(t=>t.toString(),(t,e)=>t.isEqual(e))}const wH=new Lt(Ee.comparator),bH=new _n(Ee.comparator);function We(...t){let e=bH;for(const n of t)e=e.add(n);return e}const AH=new _n(ft);function SH(){return AH}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mu(e)?"-0":e}}function $T(t){return{integerValue:""+t}}function EH(t,e){return tH(e)?$T(e):XT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(){this._=void 0}}function TH(t,e,n){return t instanceof _u?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&_m(s)&&(s=wm(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof cl?ZT(t,e):t instanceof ul?eI(t,e):function(i,s){const o=JT(i,s),l=Vw(o)+Vw(i.Te);return dg(o)&&dg(i.Te)?$T(l):XT(i.serializer,l)}(t,e)}function IH(t,e,n){return t instanceof cl?ZT(t,e):t instanceof ul?eI(t,e):n}function JT(t,e){return t instanceof wu?function(r){return dg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class _u extends lh{}class cl extends lh{constructor(e){super(),this.elements=e}}function ZT(t,e){const n=tI(e);for(const r of t.elements)n.some(i=>zr(i,r))||n.push(r);return{arrayValue:{values:n}}}class ul extends lh{constructor(e){super(),this.elements=e}}function eI(t,e){let n=tI(e);for(const r of t.elements)n=n.filter(i=>!zr(i,r));return{arrayValue:{values:n}}}class wu extends lh{constructor(e,n){super(),this.serializer=e,this.Te=n}}function Vw(t){return qt(t.integerValue||t.doubleValue)}function tI(t){return bm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function kH(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof cl&&i instanceof cl||r instanceof ul&&i instanceof ul?yo(r.elements,i.elements,zr):r instanceof wu&&i instanceof wu?zr(r.Te,i.Te):r instanceof _u&&i instanceof _u}(t.transform,e.transform)}class CH{constructor(e,n){this.version=e,this.transformResults=n}}class xr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new xr}static exists(e){return new xr(void 0,e)}static updateTime(e){return new xr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ch{}function nI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new iI(t.key,xr.none()):new Rl(t.key,t.data,xr.none());{const n=t.data,r=Gn.empty();let i=new _n(vn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Oi(t.key,r,new Jn(i.toArray()),xr.none())}}function PH(t,e,n){t instanceof Rl?function(i,s,o){const l=i.value.clone(),c=Fw(i.fieldTransforms,s,o.transformResults);l.setAll(c),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Oi?function(i,s,o){if(!Gc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=Fw(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(rI(i)),c.setAll(l),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function xa(t,e,n,r){return t instanceof Rl?function(s,o,l,c){if(!Gc(s.precondition,o))return l;const h=s.value.clone(),g=xw(s.fieldTransforms,c,o);return h.setAll(g),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof Oi?function(s,o,l,c){if(!Gc(s.precondition,o))return l;const h=xw(s.fieldTransforms,c,o),g=o.data;return g.setAll(rI(s)),g.setAll(h),o.convertToFoundDocument(o.version,g).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(s,o,l){return Gc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function RH(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=JT(r.transform,i||null);s!=null&&(n===null&&(n=Gn.empty()),n.set(r.field,s))}return n||null}function Hw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&yo(r,i,(s,o)=>kH(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Rl extends ch{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Oi extends ch{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function rI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Fw(t,e,n){const r=new Map;It(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,IH(o,l,n[i]))}return r}function xw(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,TH(s,o,e))}return r}class iI extends ch{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DH extends ch{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OH{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&PH(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=xa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=xa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=QT();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const c=nI(o,l);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(Oe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),We())}isEqual(e){return this.batchId===e.batchId&&yo(this.mutations,e.mutations,(n,r)=>Hw(n,r))&&yo(this.baseMutations,e.baseMutations,(n,r)=>Hw(n,r))}}class Em{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){It(e.mutations.length===r.length);let i=function(){return wH}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Em(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MH{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NH{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt,Ze;function LH(t){switch(t){default:return Pe();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0}}function sI(t){if(t===void 0)return ni("GRPC error has no .code"),te.UNKNOWN;switch(t){case jt.OK:return te.OK;case jt.CANCELLED:return te.CANCELLED;case jt.UNKNOWN:return te.UNKNOWN;case jt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case jt.INTERNAL:return te.INTERNAL;case jt.UNAVAILABLE:return te.UNAVAILABLE;case jt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case jt.NOT_FOUND:return te.NOT_FOUND;case jt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case jt.ABORTED:return te.ABORTED;case jt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case jt.DATA_LOSS:return te.DATA_LOSS;default:return Pe()}}(Ze=jt||(jt={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VH(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HH=new lo([4294967295,4294967295],0);function Uw(t){const e=VH().encode(t),n=new U3;return n.update(e),new Uint8Array(n.digest())}function Bw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new lo([n,r],0),new lo([i,s],0)]}class Tm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ma(`Invalid padding: ${n}`);if(r<0)throw new Ma(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ma(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ma(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=lo.fromNumber(this.Ee)}Ae(e,n,r){let i=e.add(n.multiply(lo.fromNumber(r)));return i.compare(HH)===1&&(i=new lo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ee===0)return!1;const n=Uw(e),[r,i]=Bw(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);if(!this.Re(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Tm(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ee===0)return;const n=Uw(e),[r,i]=Bw(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);this.Ve(o)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ma extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Dl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new uh(Oe.min(),i,new Lt(ft),ri(),We())}}class Dl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Dl(r,n,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,n,r,i){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=i}}class oI{constructor(e,n){this.targetId=e,this.ge=n}}class aI{constructor(e,n,r=Rn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Ww{constructor(){this.pe=0,this.ye=zw(),this.we=Rn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get Ce(){return this.be}ve(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=We(),n=We(),r=We();return this.ye.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Pe()}}),new Dl(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=zw()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1}Le(){this.be=!0,this.Se=!0}}class FH{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ri(),this.Ke=jw(),this.$e=new Lt(ft)}Ue(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.We(n,e.fe):this.Ge(n,e.key,e.fe);for(const n of e.removedTargetIds)this.Ge(n,e.key,e.fe)}ze(e){this.forEachTarget(e,n=>{const r=this.je(n);switch(e.state){case 0:this.He(n)&&r.ve(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.ve(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.He(n)&&(r.Le(),r.ve(e.resumeToken));break;case 4:this.He(n)&&(this.Je(n),r.ve(e.resumeToken));break;default:Pe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.He(i)&&n(i)})}Ye(e){const n=e.targetId,r=e.ge.count,i=this.Ze(n);if(i){const s=i.target;if(gg(s))if(r===0){const o=new Ee(s.path);this.Ge(n,o,In.newNoDocument(o,Oe.min()))}else It(r===1);else{const o=this.Xe(n);if(o!==r){const l=this.et(e),c=l?this.tt(l,e,o):1;if(c!==0){this.Je(n);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.$e=this.$e.insert(n,h)}}}}}et(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=is(r).toUint8Array()}catch(c){if(c instanceof LT)return vo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Tm(o,i,s)}catch(c){return vo(c instanceof Ma?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ee===0?null:l}tt(e,n,r){return n.ge.count===r-this.it(e,n.targetId)?0:2}it(e,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ke.rt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.Ge(n,s,null),i++)}),i}st(e){const n=new Map;this.qe.forEach((s,o)=>{const l=this.Ze(o);if(l){if(s.current&&gg(l.target)){const c=new Ee(l.target.path);this.Qe.get(c)!==null||this.ot(o,c)||this.Ge(o,c,In.newNoDocument(c,e))}s.Ce&&(n.set(o,s.Fe()),s.Me())}});let r=We();this.Ke.forEach((s,o)=>{let l=!0;o.forEachWhile(c=>{const h=this.Ze(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.Qe.forEach((s,o)=>o.setReadTime(e));const i=new uh(e,n,this.$e,this.Qe,r);return this.Qe=ri(),this.Ke=jw(),this.$e=new Lt(ft),i}We(e,n){if(!this.He(e))return;const r=this.ot(e,n.key)?2:0;this.je(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.Ke=this.Ke.insert(n.key,this._t(n.key).add(e))}Ge(e,n,r){if(!this.He(e))return;const i=this.je(e);this.ot(e,n)?i.xe(n,1):i.Oe(n),this.Ke=this.Ke.insert(n,this._t(n).delete(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}Xe(e){const n=this.je(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.je(e).Ne()}je(e){let n=this.qe.get(e);return n||(n=new Ww,this.qe.set(e,n)),n}_t(e){let n=this.Ke.get(e);return n||(n=new _n(ft),this.Ke=this.Ke.insert(e,n)),n}He(e){const n=this.Ze(e)!==null;return n||_e("WatchChangeAggregator","Detected inactive target",e),n}Ze(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.ut(e)}Je(e){this.qe.set(e,new Ww),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.Ge(e,n,null)})}ot(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function jw(){return new Lt(Ee.comparator)}function zw(){return new Lt(Ee.comparator)}const xH=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),UH=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),BH=(()=>({and:"AND",or:"OR"}))();class WH{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function yg(t,e){return t.useProto3Json||sh(e)?e:{value:e}}function bu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function jH(t,e){return bu(t,e.toTimestamp())}function Ur(t){return It(!!t),Oe.fromTimestamp(function(n){const r=Ii(n);return new $t(r.seconds,r.nanos)}(t))}function Im(t,e){return function(r){return new Tt(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function cI(t){const e=Tt.fromString(t);return It(dI(e)),e}function _g(t,e){return Im(t.databaseId,e.path)}function tp(t,e){const n=cI(e);if(n.get(1)!==t.databaseId.projectId)throw new ve(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ve(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ee(uI(n))}function wg(t,e){return Im(t.databaseId,e)}function zH(t){const e=cI(t);return e.length===4?Tt.emptyPath():uI(e)}function bg(t){return new Tt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function uI(t){return It(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function qw(t,e,n){return{name:_g(t,e),fields:n.value.mapValue.fields}}function qH(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Pe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(h,g){return h.useProto3Json?(It(g===void 0||typeof g=="string"),Rn.fromBase64String(g||"")):(It(g===void 0||g instanceof Uint8Array),Rn.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(h){const g=h.code===void 0?te.UNKNOWN:sI(h.code);return new ve(g,h.message||"")}(o);n=new aI(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=tp(t,r.document.name),s=Ur(r.document.updateTime),o=r.document.createTime?Ur(r.document.createTime):Oe.min(),l=new Gn({mapValue:{fields:r.document.fields}}),c=In.newFoundDocument(i,s,o,l),h=r.targetIds||[],g=r.removedTargetIds||[];n=new Kc(h,g,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=tp(t,r.document),s=r.readTime?Ur(r.readTime):Oe.min(),o=In.newNoDocument(i,s),l=r.removedTargetIds||[];n=new Kc([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=tp(t,r.document),s=r.removedTargetIds||[];n=new Kc([],s,i,null)}else{if(!("filter"in e))return Pe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new NH(i,s),l=r.targetId;n=new oI(l,o)}}return n}function GH(t,e){let n;if(e instanceof Rl)n={update:qw(t,e.key,e.value)};else if(e instanceof iI)n={delete:_g(t,e.key)};else if(e instanceof Oi)n={update:qw(t,e.key,e.data),updateMask:t6(e.fieldMask)};else{if(!(e instanceof DH))return Pe();n={verify:_g(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof _u)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof cl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof ul)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof wu)return{fieldPath:o.field.canonicalString(),increment:l.Te};throw Pe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:jH(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Pe()}(t,e.precondition)),n}function KH(t,e){return t&&t.length>0?(It(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Ur(i.updateTime):Ur(s);return o.isEqual(Oe.min())&&(o=Ur(s)),new CH(o,i.transformResults||[])}(n,e))):[]}function YH(t,e){return{documents:[wg(t,e.path)]}}function QH(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=wg(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=wg(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(c.length!==0)return fI(gr.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(c){if(c.length!==0)return c.map(h=>function(m){return{field:eo(m.field),direction:JH(m.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=yg(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n}function XH(t){let e=zH(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){It(r===1);const g=n.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let s=[];n.where&&(s=function(m){const _=hI(m);return _ instanceof gr&&xT(_)?_.getFilters():[_]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(_=>function(S){return new yu(to(S.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(_))}(n.orderBy));let l=null;n.limit&&(l=function(m){let _;return _=typeof m=="object"?m.value:m,sh(_)?null:_}(n.limit));let c=null;n.startAt&&(c=function(m){const _=!!m.before,v=m.values||[];return new vu(v,_)}(n.startAt));let h=null;return n.endAt&&(h=function(m){const _=!m.before,v=m.values||[];return new vu(v,_)}(n.endAt)),gH(e,i,o,s,l,"F",c,h)}function $H(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function hI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=to(n.unaryFilter.field);return Gt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=to(n.unaryFilter.field);return Gt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=to(n.unaryFilter.field);return Gt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=to(n.unaryFilter.field);return Gt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Pe()}}(t):t.fieldFilter!==void 0?function(n){return Gt.create(to(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return gr.create(n.compositeFilter.filters.map(r=>hI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Pe()}}(n.compositeFilter.op))}(t):Pe()}function JH(t){return xH[t]}function ZH(t){return UH[t]}function e6(t){return BH[t]}function eo(t){return{fieldPath:t.canonicalString()}}function to(t){return vn.fromServerFormat(t.fieldPath)}function fI(t){return t instanceof Gt?function(n){if(n.op==="=="){if(Dw(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NAN"}};if(Rw(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Dw(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NAN"}};if(Rw(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eo(n.field),op:ZH(n.op),value:n.value}}}(t):t instanceof gr?function(n){const r=n.getFilters().map(i=>fI(i));return r.length===1?r[0]:{compositeFilter:{op:e6(n.op),filters:r}}}(t):Pe()}function t6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function dI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,n,r,i,s=Oe.min(),o=Oe.min(),l=Rn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new vi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e){this.ct=e}}function r6(t){const e=XH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?vg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(){this._n=new s6}addToCollectionParentIndex(e,n){return this._n.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(Ti.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(Ti.min())}updateCollectionGroup(e,n,r){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class s6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new _n(Tt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new _n(Tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new bo(0)}static Bn(){return new bo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(){this.changes=new Fo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,In.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ne.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&xa(r.mutation,i,Jn.empty(),$t.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,We()).next(()=>r))}getLocalViewOfDocuments(e,n,r=We()){const i=Yi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Oa();return s.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Yi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,We()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=ri();const o=Fa(),l=function(){return Fa()}();return n.forEach((c,h)=>{const g=r.get(h.key);i.has(h.key)&&(g===void 0||g.mutation instanceof Oi)?s=s.insert(h.key,h):g!==void 0?(o.set(h.key,g.mutation.getFieldMask()),xa(g.mutation,h,g.mutation.getFieldMask(),$t.now())):o.set(h.key,Jn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((h,g)=>o.set(h,g)),n.forEach((h,g)=>{var m;return l.set(h,new a6(g,(m=o.get(h))!==null&&m!==void 0?m:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Fa();let i=new Lt((o,l)=>o-l),s=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const h=n.get(c);if(h===null)return;let g=r.get(c)||Jn.empty();g=l.applyToLocalView(h,g),r.set(c,g);const m=(i.get(l.batchId)||We()).add(c);i=i.insert(l.batchId,m)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),h=c.key,g=c.value,m=QT();g.forEach(_=>{if(!s.has(_)){const v=nI(n.get(_),r.get(_));v!==null&&m.set(_,v),s=s.add(_)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,m))}return ne.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Ee.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ne.resolve(Yi());let l=-1,c=s;return o.next(h=>ne.forEach(h,(g,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),s.get(g)?ne.resolve():this.remoteDocumentCache.getEntry(e,g).next(_=>{c=c.insert(g,_)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,c,h,We())).next(g=>({batchId:l,changes:YT(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next(r=>{let i=Oa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Oa();return this.indexManager.getCollectionParents(e,s).next(l=>ne.forEach(l,c=>{const h=function(m,_){return new Pl(_,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(g=>{g.forEach((m,_)=>{o=o.insert(m,_)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,h)=>{const g=h.getKey();o.get(g)===null&&(o=o.insert(g,In.newInvalidDocument(g)))});let l=Oa();return o.forEach((c,h)=>{const g=s.get(c);g!==void 0&&xa(g.mutation,h,Jn.empty(),$t.now()),ah(n,h)&&(l=l.insert(c,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return ne.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ur(i.createTime)}}(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:r6(i.bundledQuery),readTime:Ur(i.readTime)}}(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(){this.overlays=new Lt(Ee.comparator),this.hr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Yi();return ne.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),ne.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),ne.resolve()}getOverlaysForCollection(e,n,r){const i=Yi(),s=n.length+1,o=new Ee(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,h=c.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return ne.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Lt((h,g)=>h-g);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let g=s.get(h.largestBatchId);g===null&&(g=Yi(),s=s.insert(h.largestBatchId,g)),g.set(h.getKey(),h)}}const l=Yi(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((h,g)=>l.set(h,g)),!(l.size()>=i)););return ne.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new MH(n,r));let s=this.hr.get(n);s===void 0&&(s=We(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(){this.Pr=new _n(on.Ir),this.Tr=new _n(on.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new on(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new on(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new Ee(new Tt([])),r=new on(n,e),i=new on(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new Ee(new Tt([])),r=new on(n,e),i=new on(n,e+1);let s=We();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new on(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class on{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return Ee.comparator(e.key,n.key)||ft(e.pr,n.pr)}static Er(e,n){return ft(e.pr,n.pr)||Ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new _n(on.Ir)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new OH(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.wr=this.wr.add(new on(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return ne.resolve(o)}lookupMutationBatch(e,n){return ne.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return ne.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new on(n,0),i=new on(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const l=this.Sr(o.pr);s.push(l)}),ne.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new _n(ft);return n.forEach(i=>{const s=new on(i,0),o=new on(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],l=>{r=r.add(l.pr)})}),ne.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Ee.isDocumentKey(s)||(s=s.child(""));const o=new on(new Ee(s),0);let l=new _n(ft);return this.wr.forEachWhile(c=>{const h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(l=l.add(c.pr)),!0)},o),ne.resolve(this.Dr(l))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){It(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return ne.forEach(n.mutations,i=>{const s=new on(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new on(n,0),i=this.wr.firstAfterOrEqual(r);return ne.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(e){this.vr=e,this.docs=function(){return new Lt(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ne.resolve(r?r.document.mutableCopy():In.newInvalidDocument(n))}getEntries(e,n){let r=ri();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():In.newInvalidDocument(i))}),ne.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ri();const o=n.path,l=new Ee(o.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:h,value:{document:g}}=c.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||J3($3(g),r)<=0||(i.has(g.key)||ah(n,g))&&(s=s.insert(g.key,g.mutableCopy()))}return ne.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Pe()}Fr(e,n){return ne.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new d6(this)}getSize(e){return ne.resolve(this.size)}}class d6 extends o6{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),ne.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(e){this.persistence=e,this.Mr=new Fo(n=>Am(n),Sm),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.Or=0,this.Nr=new km,this.targetCount=0,this.Br=bo.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),ne.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new bo(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.qn(n),ne.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),ne.waitFor(s).next(()=>i)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return ne.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),ne.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),ne.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return ne.resolve(r)}containsKey(e,n){return ne.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(e,n){this.Lr={},this.overlays={},this.kr=new ym(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new p6(this),this.indexManager=new i6,this.remoteDocumentCache=function(i){return new f6(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new n6(n),this.$r=new c6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new u6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new h6(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){_e("MemoryPersistence","Starting transaction:",e);const i=new m6(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return ne.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class m6 extends eH{constructor(e){super(),this.currentSequenceNumber=e}}class Cm{constructor(e){this.persistence=e,this.zr=new km,this.jr=null}static Hr(e){return new Cm(e)}get Jr(){if(this.jr)return this.jr;throw Pe()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),ne.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),ne.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.Jr,r=>{const i=Ee.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,Oe.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return ne.or([()=>ne.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=We(),i=We();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Pm(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=8}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new v6;return this.Ji(e,n,o).next(l=>{if(s.result=l,this.Ui)return this.Yi(e,n,o,l.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Ea()<=Ye.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",Zs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),ne.resolve()):(Ea()<=Ye.DEBUG&&_e("QueryEngine","Query:",Zs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Ea()<=Ye.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",Zs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fr(n))):ne.resolve())}ji(e,n){if(Lw(n))return ne.resolve(null);let r=Fr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=vg(n,null,"F"),r=Fr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=We(...s);return this.zi.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const h=this.Zi(n,l);return this.Xi(n,h,o,c.readTime)?this.ji(e,vg(n,null,"F")):this.es(e,h,n,c)}))})))}Hi(e,n,r,i){return Lw(n)||i.isEqual(Oe.min())?ne.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?ne.resolve(null):(Ea()<=Ye.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Zs(n)),this.es(e,o,n,X3(i,-1)).next(l=>l))})}Zi(e,n){let r=new _n(GT(e));return n.forEach((i,s)=>{ah(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Ea()<=Ye.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",Zs(n)),this.zi.getDocumentsMatchingQuery(e,n,Ti.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Lt(ft),this.rs=new Fo(s=>Am(s),Sm),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new l6(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function w6(t,e,n,r){return new _6(t,e,n,r)}async function pI(t,e){const n=Ne(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let c=We();for(const h of i){o.push(h.batchId);for(const g of h.mutations)c=c.add(g.key)}for(const h of s){l.push(h.batchId);for(const g of h.mutations)c=c.add(g.key)}return n.localDocuments.getDocuments(r,c).next(h=>({us:h,removedBatchIds:o,addedBatchIds:l}))})})}function b6(t,e){const n=Ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(l,c,h,g){const m=h.batch,_=m.keys();let v=ne.resolve();return _.forEach(S=>{v=v.next(()=>g.getEntry(c,S)).next(k=>{const I=h.docVersions.get(S);It(I!==null),k.version.compareTo(I)<0&&(m.applyToRemoteDocument(k,h),k.isValidDocument()&&(k.setReadTime(h.commitVersion),g.addEntry(k)))})}),v.next(()=>l.mutationQueue.removeMutationBatch(c,m))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=We();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(c=c.add(l.batch.mutations[h].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function gI(t){const e=Ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function A6(t,e){const n=Ne(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const l=[];e.targetChanges.forEach((g,m)=>{const _=i.get(m);if(!_)return;l.push(n.Qr.removeMatchingKeys(s,g.removedDocuments,m).next(()=>n.Qr.addMatchingKeys(s,g.addedDocuments,m)));let v=_.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?v=v.withResumeToken(Rn.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):g.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(g.resumeToken,r)),i=i.insert(m,v),function(k,I,R){return k.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=3e8?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(_,v,g)&&l.push(n.Qr.updateTargetData(s,v))});let c=ri(),h=We();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,g))}),l.push(S6(s,o,e.documentUpdates).next(g=>{c=g.cs,h=g.ls})),!r.isEqual(Oe.min())){const g=n.Qr.getLastRemoteSnapshotVersion(s).next(m=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(g)}return ne.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,h)).next(()=>c)}).then(s=>(n.ns=i,s))}function S6(t,e,n){let r=We(),i=We();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ri();return n.forEach((l,c)=>{const h=s.get(l);c.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(Oe.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):_e("LocalStore","Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",c.version)}),{cs:o,ls:i}})}function E6(t,e){const n=Ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function T6(t,e){const n=Ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,ne.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new vi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function Ag(t,e,n){const r=Ne(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Cl(o))throw o;_e("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function Gw(t,e,n){const r=Ne(t);let i=Oe.min(),s=We();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,h,g){const m=Ne(c),_=m.rs.get(g);return _!==void 0?ne.resolve(m.ns.get(_)):m.Qr.getTargetData(h,g)}(r,o,Fr(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,l.targetId).next(c=>{s=c})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:Oe.min(),n?s:We())).next(l=>(I6(r,vH(e),l),{documents:l,hs:s})))}function I6(t,e,n){let r=t.ss.get(e)||Oe.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class Kw{constructor(){this.activeTargetIds=SH()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class k6{constructor(){this.no=new Kw,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Kw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){_e("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){_e("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hc=null;function np(){return Hc===null?Hc=function(){return 268435456+Math.round(2147483648*Math.random())}():Hc++,"0x"+Hc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An="WebChannelConnection";class D6 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){const l=np(),c=this.bo(n,r);_e("RestConnection",`Sending RPC '${n}' ${l}:`,c,i);const h={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(h,s,o),this.Co(n,c,h,i).then(g=>(_e("RestConnection",`Received RPC '${n}' ${l}: `,g),g),g=>{throw vo("RestConnection",`RPC '${n}' ${l} failed with error: `,g,"url: ",c,"request:",i),g})}vo(n,r,i,s,o,l){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ho}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){const i=P6[n];return`${this.fo}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const s=np();return new Promise((o,l)=>{const c=new x3;c.setWithCredentials(!0),c.listenOnce(H3.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case ep.NO_ERROR:const g=c.getResponseJson();_e(An,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(g)),o(g);break;case ep.TIMEOUT:_e(An,`RPC '${e}' ${s} timed out`),l(new ve(te.DEADLINE_EXCEEDED,"Request time out"));break;case ep.HTTP_ERROR:const m=c.getStatus();if(_e(An,`RPC '${e}' ${s} failed with status:`,m,"response text:",c.getResponseText()),m>0){let _=c.getResponseJson();Array.isArray(_)&&(_=_[0]);const v=_==null?void 0:_.error;if(v&&v.status&&v.message){const S=function(I){const R=I.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(R)>=0?R:te.UNKNOWN}(v.status);l(new ve(S,v.message))}else l(new ve(te.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new ve(te.UNAVAILABLE,"Connection failed."));break;default:Pe()}}finally{_e(An,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(i);_e(An,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",h,r,15)})}Fo(e,n,r){const i=np(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=L3(),l=V3(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const g=s.join("");_e(An,`Creating RPC '${e}' stream ${i}: ${g}`,c);const m=o.createWebChannel(g,c);let _=!1,v=!1;const S=new R6({lo:I=>{v?_e(An,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(_||(_e(An,`Opening RPC '${e}' stream ${i} transport.`),m.open(),_=!0),_e(An,`RPC '${e}' stream ${i} sending:`,I),m.send(I))},ho:()=>m.close()}),k=(I,R,M)=>{I.listen(R,V=>{try{M(V)}catch(L){setTimeout(()=>{throw L},0)}})};return k(m,Nc.EventType.OPEN,()=>{v||_e(An,`RPC '${e}' stream ${i} transport opened.`)}),k(m,Nc.EventType.CLOSE,()=>{v||(v=!0,_e(An,`RPC '${e}' stream ${i} transport closed`),S.Vo())}),k(m,Nc.EventType.ERROR,I=>{v||(v=!0,vo(An,`RPC '${e}' stream ${i} transport errored:`,I),S.Vo(new ve(te.UNAVAILABLE,"The operation could not be completed")))}),k(m,Nc.EventType.MESSAGE,I=>{var R;if(!v){const M=I.data[0];It(!!M);const V=M,L=V.error||((R=V[0])===null||R===void 0?void 0:R.error);if(L){_e(An,`RPC '${e}' stream ${i} received error:`,L);const D=L.status;let W=function($){const K=jt[$];if(K!==void 0)return sI(K)}(D),q=L.message;W===void 0&&(W=te.INTERNAL,q="Unknown error status: "+D+" with message "+L.message),v=!0,S.Vo(new ve(W,q)),m.close()}else _e(An,`RPC '${e}' stream ${i} received:`,M),S.mo(M)}}),k(l,F3.STAT_EVENT,I=>{I.stat===Ew.PROXY?_e(An,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===Ew.NOPROXY&&_e(An,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.Ro()},0),S}}function rp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(t){return new WH(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&_e("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,n,r,i,s,o,l,c){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new mI(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(ni(n.toString()),ni("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new ve(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return _e("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(_e("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class O6 extends vI{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=qH(this.serializer,e),r=function(s){if(!("targetChange"in s))return Oe.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Oe.min():o.readTime?Ur(o.readTime):Oe.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=bg(this.serializer),n.addTarget=function(s,o){let l;const c=o.target;if(l=gg(c)?{documents:YH(s,c)}:{query:QH(s,c)},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=lI(s,o.resumeToken);const h=yg(s,o.expectedCount);h!==null&&(l.expectedCount=h)}else if(o.snapshotVersion.compareTo(Oe.min())>0){l.readTime=bu(s,o.snapshotVersion.toTimestamp());const h=yg(s,o.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const r=$H(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=bg(this.serializer),n.removeTarget=e,this.t_(n)}}class M6 extends vI{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(It(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=KH(e.writeResults,e.commitTime),r=Ur(e.commitTime);return this.listener.T_(r,n)}return It(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=bg(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>GH(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new ve(te.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.So(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ve(te.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ve(te.UNKNOWN,s.toString())})}terminate(){this.A_=!0}}class L6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(ni(n),this.g_=!1):_e("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(async()=>{gs(this)&&(_e("RemoteStore","Restarting streams for network reachability change."),await async function(c){const h=Ne(c);h.v_.add(4),await Ol(h),h.x_.set("Unknown"),h.v_.delete(4),await fh(h)}(this))})}),this.x_=new L6(r,i)}}async function fh(t){if(gs(t))for(const e of t.F_)await e(!0)}async function Ol(t){for(const e of t.F_)await e(!1)}function yI(t,e){const n=Ne(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),Om(n)?Dm(n):xo(n).Jo()&&Rm(n,e))}function _I(t,e){const n=Ne(t),r=xo(n);n.C_.delete(e),r.Jo()&&wI(n,e),n.C_.size===0&&(r.Jo()?r.Xo():gs(n)&&n.x_.set("Unknown"))}function Rm(t,e){if(t.O_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xo(t).c_(e)}function wI(t,e){t.O_.Ne(e),xo(t).l_(e)}function Dm(t){t.O_=new FH({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.C_.get(e)||null,rt:()=>t.datastore.serializer.databaseId}),xo(t).start(),t.x_.p_()}function Om(t){return gs(t)&&!xo(t).Ho()&&t.C_.size>0}function gs(t){return Ne(t).v_.size===0}function bI(t){t.O_=void 0}async function H6(t){t.C_.forEach((e,n)=>{Rm(t,e)})}async function F6(t,e){bI(t),Om(t)?(t.x_.S_(e),Dm(t)):t.x_.set("Unknown")}async function x6(t,e,n){if(t.x_.set("Online"),e instanceof aI&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.C_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.C_.delete(l),i.O_.removeTarget(l))}(t,e)}catch(r){_e("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Au(t,r)}else if(e instanceof Kc?t.O_.Ue(e):e instanceof oI?t.O_.Ye(e):t.O_.ze(e),!n.isEqual(Oe.min()))try{const r=await gI(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.O_.st(o);return l.targetChanges.forEach((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const g=s.C_.get(h);g&&s.C_.set(h,g.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,h)=>{const g=s.C_.get(c);if(!g)return;s.C_.set(c,g.withResumeToken(Rn.EMPTY_BYTE_STRING,g.snapshotVersion)),wI(s,c);const m=new vi(g.target,c,h,g.sequenceNumber);Rm(s,m)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){_e("RemoteStore","Failed to raise snapshot:",r),await Au(t,r)}}async function Au(t,e,n){if(!Cl(e))throw e;t.v_.add(1),await Ol(t),t.x_.set("Offline"),n||(n=()=>gI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{_e("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await fh(t)})}function AI(t,e){return e().catch(n=>Au(t,n,e))}async function dh(t){const e=Ne(t),n=ki(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;U6(e);)try{const i=await E6(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,B6(e,i)}catch(i){await Au(e,i)}SI(e)&&EI(e)}function U6(t){return gs(t)&&t.D_.length<10}function B6(t,e){t.D_.push(e);const n=ki(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function SI(t){return gs(t)&&!ki(t).Ho()&&t.D_.length>0}function EI(t){ki(t).start()}async function W6(t){ki(t).d_()}async function j6(t){const e=ki(t);for(const n of t.D_)e.I_(n.mutations)}async function z6(t,e,n){const r=t.D_.shift(),i=Em.from(r,e,n);await AI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await dh(t)}async function q6(t,e){e&&ki(t).P_&&await async function(r,i){if(function(o){return LH(o)&&o!==te.ABORTED}(i.code)){const s=r.D_.shift();ki(r).Zo(),await AI(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await dh(r)}}(t,e),SI(t)&&EI(t)}async function Qw(t,e){const n=Ne(t);n.asyncQueue.verifyOperationInProgress(),_e("RemoteStore","RemoteStore received new credentials");const r=gs(n);n.v_.add(3),await Ol(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await fh(n)}async function G6(t,e){const n=Ne(t);e?(n.v_.delete(2),await fh(n)):e||(n.v_.add(2),await Ol(n),n.x_.set("Unknown"))}function xo(t){return t.N_||(t.N_=function(n,r,i){const s=Ne(n);return s.R_(),new O6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:H6.bind(null,t),To:F6.bind(null,t),u_:x6.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),Om(t)?Dm(t):t.x_.set("Unknown")):(await t.N_.stop(),bI(t))})),t.N_}function ki(t){return t.B_||(t.B_=function(n,r,i){const s=Ne(n);return s.R_(),new M6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:W6.bind(null,t),To:q6.bind(null,t),E_:j6.bind(null,t),T_:z6.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await dh(t)):(await t.B_.stop(),t.D_.length>0&&(_e("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new Mm(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nm(t,e){if(ni("AsyncQueue",`${e}: ${t}`),Cl(t))return new ve(te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ee.comparator(n.key,r.key):(n,r)=>Ee.comparator(n.key,r.key),this.keyedMap=Oa(),this.sortedSet=new Lt(this.comparator)}static emptySet(e){return new co(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof co)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new co;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(){this.L_=new Lt(Ee.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):Pe():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ao{constructor(e,n,r,i,s,o,l,c,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Ao(e,n,co.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&oh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(){this.q_=void 0,this.listeners=[]}}class Y6{constructor(){this.queries=new Fo(e=>qT(e),oh),this.onlineState="Unknown",this.Q_=new Set}}async function Q6(t,e){const n=Ne(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new K6),i)try{s.q_=await n.onListen(r)}catch(o){const l=Nm(o,`Initialization of query '${Zs(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,s),s.listeners.push(e),e.K_(n.onlineState),s.q_&&e.U_(s.q_)&&Lm(n)}async function X6(t,e){const n=Ne(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function $6(t,e){const n=Ne(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.listeners)l.U_(i)&&(r=!0);o.q_=i}}r&&Lm(n)}function J6(t,e,n){const r=Ne(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function Lm(t){t.Q_.forEach(e=>{e.next()})}class Z6{constructor(e,n,r){this.query=e,this.W_=n,this.G_=!1,this.z_=null,this.onlineState="Unknown",this.options=r||{}}U_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ao(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.G_?this.j_(e)&&(this.W_.next(e),n=!0):this.H_(e,this.onlineState)&&(this.J_(e),n=!0),this.z_=e,n}onError(e){this.W_.error(e)}K_(e){this.onlineState=e;let n=!1;return this.z_&&!this.G_&&this.H_(this.z_,e)&&(this.J_(this.z_),n=!0),n}H_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Y_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}j_(e){if(e.docChanges.length>0)return!0;const n=this.z_&&this.z_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}J_(e){e=Ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.G_=!0,this.W_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e){this.key=e}}class II{constructor(e){this.key=e}}class e9{constructor(e,n){this.query=e,this.sa=n,this.oa=null,this.hasCachedResults=!1,this.current=!1,this._a=We(),this.mutatedKeys=We(),this.aa=GT(e),this.ua=new co(this.aa)}get ca(){return this.sa}la(e,n){const r=n?n.ha:new Xw,i=n?n.ua:this.ua;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,m)=>{const _=i.get(g),v=ah(this.query,m)?m:null,S=!!_&&this.mutatedKeys.has(_.key),k=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let I=!1;_&&v?_.data.isEqual(v.data)?S!==k&&(r.track({type:3,doc:v}),I=!0):this.Pa(_,v)||(r.track({type:2,doc:v}),I=!0,(c&&this.aa(v,c)>0||h&&this.aa(v,h)<0)&&(l=!0)):!_&&v?(r.track({type:0,doc:v}),I=!0):_&&!v&&(r.track({type:1,doc:_}),I=!0,(c||h)&&(l=!0)),I&&(v?(o=o.add(v),s=k?s.add(g):s.delete(g)):(o=o.delete(g),s=s.delete(g)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const g=this.query.limitType==="F"?o.last():o.first();o=o.delete(g.key),s=s.delete(g.key),r.track({type:1,doc:g})}return{ua:o,ha:r,Xi:l,mutatedKeys:s}}Pa(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ua;this.ua=e.ua,this.mutatedKeys=e.mutatedKeys;const s=e.ha.k_();s.sort((h,g)=>function(_,v){const S=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe()}};return S(_)-S(v)}(h.type,g.type)||this.aa(h.doc,g.doc)),this.Ia(r);const o=n?this.Ta():[],l=this._a.size===0&&this.current?1:0,c=l!==this.oa;return this.oa=l,s.length!==0||c?{snapshot:new Ao(this.query,e.ua,i,s,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ea:o}:{Ea:o}}K_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ua:this.ua,ha:new Xw,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Ea:[]}}da(e){return!this.sa.has(e)&&!!this.ua.has(e)&&!this.ua.get(e).hasLocalMutations}Ia(e){e&&(e.addedDocuments.forEach(n=>this.sa=this.sa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.sa=this.sa.delete(n)),this.current=e.current)}Ta(){if(!this.current)return[];const e=this._a;this._a=We(),this.ua.forEach(r=>{this.da(r.key)&&(this._a=this._a.add(r.key))});const n=[];return e.forEach(r=>{this._a.has(r)||n.push(new II(r))}),this._a.forEach(r=>{e.has(r)||n.push(new TI(r))}),n}Aa(e){this.sa=e.hs,this._a=We();const n=this.la(e.documents);return this.applyChanges(n,!0)}Ra(){return Ao.fromInitialDocuments(this.query,this.ua,this.mutatedKeys,this.oa===0,this.hasCachedResults)}}class t9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class n9{constructor(e){this.key=e,this.Va=!1}}class r9{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.ma={},this.fa=new Fo(l=>qT(l),oh),this.ga=new Map,this.pa=new Set,this.ya=new Lt(Ee.comparator),this.wa=new Map,this.Sa=new km,this.ba={},this.Da=new Map,this.Ca=bo.Bn(),this.onlineState="Unknown",this.va=void 0}get isPrimaryClient(){return this.va===!0}}async function i9(t,e){const n=p9(t);let r,i;const s=n.fa.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Ra();else{const o=await T6(n.localStore,Fr(e)),l=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await s9(n,e,r,l==="current",o.resumeToken),n.isPrimaryClient&&yI(n.remoteStore,o)}return i}async function s9(t,e,n,r,i){t.Fa=(m,_,v)=>async function(k,I,R,M){let V=I.view.la(R);V.Xi&&(V=await Gw(k.localStore,I.query,!1).then(({documents:W})=>I.view.la(W,V)));const L=M&&M.targetChanges.get(I.targetId),D=I.view.applyChanges(V,k.isPrimaryClient,L);return Jw(k,I.targetId,D.Ea),D.snapshot}(t,m,_,v);const s=await Gw(t.localStore,e,!0),o=new e9(e,s.hs),l=o.la(s.documents),c=Dl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=o.applyChanges(l,t.isPrimaryClient,c);Jw(t,n,h.Ea);const g=new t9(e,n,o);return t.fa.set(e,g),t.ga.has(n)?t.ga.get(n).push(e):t.ga.set(n,[e]),h.snapshot}async function o9(t,e){const n=Ne(t),r=n.fa.get(e),i=n.ga.get(r.targetId);if(i.length>1)return n.ga.set(r.targetId,i.filter(s=>!oh(s,e))),void n.fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Ag(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),_I(n.remoteStore,r.targetId),Sg(n,r.targetId)}).catch(kl)):(Sg(n,r.targetId),await Ag(n.localStore,r.targetId,!0))}async function a9(t,e,n){const r=g9(t);try{const i=await function(o,l){const c=Ne(o),h=$t.now(),g=l.reduce((v,S)=>v.add(S.key),We());let m,_;return c.persistence.runTransaction("Locally write mutations","readwrite",v=>{let S=ri(),k=We();return c.os.getEntries(v,g).next(I=>{S=I,S.forEach((R,M)=>{M.isValidDocument()||(k=k.add(R))})}).next(()=>c.localDocuments.getOverlayedDocuments(v,S)).next(I=>{m=I;const R=[];for(const M of l){const V=RH(M,m.get(M.key).overlayedDocument);V!=null&&R.push(new Oi(M.key,V,VT(V.value.mapValue),xr.exists(!0)))}return c.mutationQueue.addMutationBatch(v,h,R,l)}).next(I=>{_=I;const R=I.applyToLocalDocumentSet(m,k);return c.documentOverlayCache.saveOverlays(v,I.batchId,R)})}).then(()=>({batchId:_.batchId,changes:YT(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,c){let h=o.ba[o.currentUser.toKey()];h||(h=new Lt(ft)),h=h.insert(l,c),o.ba[o.currentUser.toKey()]=h}(r,i.batchId,n),await Ml(r,i.changes),await dh(r.remoteStore)}catch(i){const s=Nm(i,"Failed to persist write");n.reject(s)}}async function kI(t,e){const n=Ne(t);try{const r=await A6(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.wa.get(s);o&&(It(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Va=!0:i.modifiedDocuments.size>0?It(o.Va):i.removedDocuments.size>0&&(It(o.Va),o.Va=!1))}),await Ml(n,r,e)}catch(r){await kl(r)}}function $w(t,e,n){const r=Ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.fa.forEach((s,o)=>{const l=o.view.K_(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const c=Ne(o);c.onlineState=l;let h=!1;c.queries.forEach((g,m)=>{for(const _ of m.listeners)_.K_(l)&&(h=!0)}),h&&Lm(c)}(r.eventManager,e),i.length&&r.ma.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function l9(t,e,n){const r=Ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.wa.get(e),s=i&&i.key;if(s){let o=new Lt(Ee.comparator);o=o.insert(s,In.newNoDocument(s,Oe.min()));const l=We().add(s),c=new uh(Oe.min(),new Map,new Lt(ft),o,l);await kI(r,c),r.ya=r.ya.remove(s),r.wa.delete(e),Vm(r)}else await Ag(r.localStore,e,!1).then(()=>Sg(r,e,n)).catch(kl)}async function c9(t,e){const n=Ne(t),r=e.batch.batchId;try{const i=await b6(n.localStore,e);PI(n,r,null),CI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ml(n,i)}catch(i){await kl(i)}}async function u9(t,e,n){const r=Ne(t);try{const i=await function(o,l){const c=Ne(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let g;return c.mutationQueue.lookupMutationBatch(h,l).next(m=>(It(m!==null),g=m.keys(),c.mutationQueue.removeMutationBatch(h,m))).next(()=>c.mutationQueue.performConsistencyCheck(h)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(h,g,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,g)).next(()=>c.localDocuments.getDocuments(h,g))})}(r.localStore,e);PI(r,e,n),CI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ml(r,i)}catch(i){await kl(i)}}function CI(t,e){(t.Da.get(e)||[]).forEach(n=>{n.resolve()}),t.Da.delete(e)}function PI(t,e,n){const r=Ne(t);let i=r.ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.ba[r.currentUser.toKey()]=i}}function Sg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ga.get(e))t.fa.delete(r),n&&t.ma.Ma(r,n);t.ga.delete(e),t.isPrimaryClient&&t.Sa.Vr(e).forEach(r=>{t.Sa.containsKey(r)||RI(t,r)})}function RI(t,e){t.pa.delete(e.path.canonicalString());const n=t.ya.get(e);n!==null&&(_I(t.remoteStore,n),t.ya=t.ya.remove(e),t.wa.delete(n),Vm(t))}function Jw(t,e,n){for(const r of n)r instanceof TI?(t.Sa.addReference(r.key,e),h9(t,r)):r instanceof II?(_e("SyncEngine","Document no longer in limbo: "+r.key),t.Sa.removeReference(r.key,e),t.Sa.containsKey(r.key)||RI(t,r.key)):Pe()}function h9(t,e){const n=e.key,r=n.path.canonicalString();t.ya.get(n)||t.pa.has(r)||(_e("SyncEngine","New document in limbo: "+n),t.pa.add(r),Vm(t))}function Vm(t){for(;t.pa.size>0&&t.ya.size<t.maxConcurrentLimboResolutions;){const e=t.pa.values().next().value;t.pa.delete(e);const n=new Ee(Tt.fromString(e)),r=t.Ca.next();t.wa.set(r,new n9(n)),t.ya=t.ya.insert(n,r),yI(t.remoteStore,new vi(Fr(jT(n.path)),r,"TargetPurposeLimboResolution",ym.ae))}}async function Ml(t,e,n){const r=Ne(t),i=[],s=[],o=[];r.fa.isEmpty()||(r.fa.forEach((l,c)=>{o.push(r.Fa(c,e,n).then(h=>{if((h||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,h!=null&&h.fromCache?"not-current":"current"),h){i.push(h);const g=Pm.Ki(c.targetId,h);s.push(g)}}))}),await Promise.all(o),r.ma.u_(i),await async function(c,h){const g=Ne(c);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>ne.forEach(h,_=>ne.forEach(_.qi,v=>g.persistence.referenceDelegate.addReference(m,_.targetId,v)).next(()=>ne.forEach(_.Qi,v=>g.persistence.referenceDelegate.removeReference(m,_.targetId,v)))))}catch(m){if(!Cl(m))throw m;_e("LocalStore","Failed to update sequence numbers: "+m)}for(const m of h){const _=m.targetId;if(!m.fromCache){const v=g.ns.get(_),S=v.snapshotVersion,k=v.withLastLimboFreeSnapshotVersion(S);g.ns=g.ns.insert(_,k)}}}(r.localStore,s))}async function f9(t,e){const n=Ne(t);if(!n.currentUser.isEqual(e)){_e("SyncEngine","User change. New user:",e.toKey());const r=await pI(n.localStore,e);n.currentUser=e,function(s,o){s.Da.forEach(l=>{l.forEach(c=>{c.reject(new ve(te.CANCELLED,o))})}),s.Da.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ml(n,r.us)}}function d9(t,e){const n=Ne(t),r=n.wa.get(e);if(r&&r.Va)return We().add(r.key);{let i=We();const s=n.ga.get(e);if(!s)return i;for(const o of s){const l=n.fa.get(o);i=i.unionWith(l.view.ca)}return i}}function p9(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=kI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=d9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=l9.bind(null,e),e.ma.u_=$6.bind(null,e.eventManager),e.ma.Ma=J6.bind(null,e.eventManager),e}function g9(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=c9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=u9.bind(null,e),e}class Zw{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=hh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return w6(this.persistence,new y6,e.initialUser,this.serializer)}createPersistence(e){return new g6(Cm.Hr,this.serializer)}createSharedClientState(e){return new k6}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class m9{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>$w(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=f9.bind(null,this.syncEngine),await G6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Y6}()}createDatastore(e){const n=hh(e.databaseInfo.databaseId),r=function(s){return new D6(s)}(e.databaseInfo);return function(s,o,l,c){return new N6(s,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new V6(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>$w(this.syncEngine,n,0),function(){return Yw.C()?new Yw:new C6}())}createSyncEngine(e,n){return function(i,s,o,l,c,h,g){const m=new r9(i,s,o,l,c,h);return g&&(m.va=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=Ne(n);_e("RemoteStore","RemoteStore shutting down."),r.v_.add(5),await Ol(r),r.M_.shutdown(),r.x_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Na(this.observer.next,e)}error(e){this.observer.error?this.Na(this.observer.error,e):ni("Uncaught Error in snapshot listener:",e.toString())}Ba(){this.muted=!0}Na(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Tn.UNAUTHENTICATED,this.clientId=MT.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{_e("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(_e("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ve(te.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Nm(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ip(t,e){t.asyncQueue.verifyOperationInProgress(),_e("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await pI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function eb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await w9(t);_e("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>Qw(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>Qw(e.remoteStore,s)),t._onlineComponents=e}function _9(t){return t.name==="FirebaseError"?t.code===te.FAILED_PRECONDITION||t.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function w9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){_e("FirestoreClient","Using user provided OfflineComponentProvider");try{await ip(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!_9(n))throw n;vo("Error using user provided cache. Falling back to memory cache: "+n),await ip(t,new Zw)}}else _e("FirestoreClient","Using default OfflineComponentProvider"),await ip(t,new Zw);return t._offlineComponents}async function DI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(_e("FirestoreClient","Using user provided OnlineComponentProvider"),await eb(t,t._uninitializedComponentsProvider._online)):(_e("FirestoreClient","Using default OnlineComponentProvider"),await eb(t,new m9))),t._onlineComponents}function b9(t){return DI(t).then(e=>e.syncEngine)}async function A9(t){const e=await DI(t),n=e.eventManager;return n.onListen=i9.bind(null,e.syncEngine),n.onUnlisten=o9.bind(null,e.syncEngine),n}function S9(t,e,n={}){const r=new bi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,c,h){const g=new v9({next:_=>{o.enqueueAndForget(()=>X6(s,m)),_.fromCache&&c.source==="server"?h.reject(new ve(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(_)},error:_=>h.reject(_)}),m=new Z6(l,g,{includeMetadataChanges:!0,Y_:!0});return Q6(s,m)}(await A9(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(t,e,n){if(!n)throw new ve(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function E9(t,e,n,r){if(e===!0&&r===!0)throw new ve(te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function nb(t){if(!Ee.isDocumentKey(t))throw new ve(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function rb(t){if(Ee.isDocumentKey(t))throw new ve(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ph(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Pe()}function So(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ve(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ph(t);throw new ve(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ve(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}E9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ve(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ve(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ve(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ib({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ve(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ve(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ib(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new B3;switch(r.type){case"firstParty":return new q3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ve(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=tb.get(n);r&&(_e("ComponentProvider","Removing Datastore"),tb.delete(n),r.terminate())}(this),Promise.resolve()}}function T9(t,e,n,r={}){var i;const s=(t=So(t,gh))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=Tn.MOCK_USER;else{l=fL(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new ve(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Tn(h)}t._authCredentials=new W3(new OT(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Uo(this.firestore,e,this._query)}}class Zn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ai(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zn(this.firestore,e,this._key)}}class Ai extends Uo{constructor(e,n,r){super(e,n,jT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zn(this.firestore,null,new Ee(e))}withConverter(e){return new Ai(this.firestore,e,this._path)}}function Hm(t,e,...n){if(t=ln(t),MI("collection","path",e),t instanceof gh){const r=Tt.fromString(e,...n);return rb(r),new Ai(t,null,r)}{if(!(t instanceof Zn||t instanceof Ai))throw new ve(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Tt.fromString(e,...n));return rb(r),new Ai(t.firestore,null,r)}}function I9(t,e,...n){if(t=ln(t),arguments.length===1&&(e=MT.V()),MI("doc","path",e),t instanceof gh){const r=Tt.fromString(e,...n);return nb(r),new Zn(t,null,new Ee(r))}{if(!(t instanceof Zn||t instanceof Ai))throw new ve(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Tt.fromString(e,...n));return nb(r),new Zn(t.firestore,t instanceof Ai?t.converter:null,new Ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(){this.Ya=Promise.resolve(),this.Za=[],this.Xa=!1,this.eu=[],this.tu=null,this.nu=!1,this.ru=!1,this.iu=[],this.jo=new mI(this,"async_queue_retry"),this.su=()=>{const n=rp();n&&_e("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=rp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.su)}get isShuttingDown(){return this.Xa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ou(),this._u(e)}enterRestrictedMode(e){if(!this.Xa){this.Xa=!0,this.ru=e||!1;const n=rp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.su)}}enqueue(e){if(this.ou(),this.Xa)return new Promise(()=>{});const n=new bi;return this._u(()=>this.Xa&&this.ru?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Za.push(e),this.au()))}async au(){if(this.Za.length!==0){try{await this.Za[0](),this.Za.shift(),this.jo.reset()}catch(e){if(!Cl(e))throw e;_e("AsyncQueue","Operation failed with retryable error: "+e)}this.Za.length>0&&this.jo.qo(()=>this.au())}}_u(e){const n=this.Ya.then(()=>(this.nu=!0,e().catch(r=>{this.tu=r,this.nu=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw ni("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.nu=!1,r))));return this.Ya=n,n}enqueueAfterDelay(e,n,r){this.ou(),this.iu.indexOf(e)>-1&&(n=0);const i=Mm.createAndSchedule(this,e,n,r,s=>this.uu(s));return this.eu.push(i),i}ou(){this.tu&&Pe()}verifyOperationInProgress(){}async cu(){let e;do e=this.Ya,await e;while(e!==this.Ya)}lu(e){for(const n of this.eu)if(n.timerId===e)return!0;return!1}hu(e){return this.cu().then(()=>{this.eu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.eu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.cu()})}Pu(e){this.iu.push(e)}uu(e){const n=this.eu.indexOf(e);this.eu.splice(n,1)}}class mh extends gh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new k9}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||LI(this),this._firestoreClient.terminate()}}function C9(t,e){const n=typeof t=="object"?t:Yg(),r=typeof t=="string"?t:e||"(default)",i=fs(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=uL("firestore");s&&T9(i,...s)}return i}function NI(t){return t._firestoreClient||LI(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function LI(t){var e,n,r;const i=t._freezeSettings(),s=function(l,c,h,g){return new rH(l,c,h,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,OI(g.experimentalLongPollingOptions),g.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new y9(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Eo(Rn.fromBase64String(e))}catch(n){throw new ve(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Eo(Rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ft(this._lat,e._lat)||ft(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P9=/^__.*__$/;class R9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Oi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Rl(e,this.data,n,this.fieldTransforms)}}class VI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Oi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function HI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe()}}class Um{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Iu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Tu(){return this.settings.Tu}Eu(e){return new Um(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}du(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Eu({path:r,Au:!1});return i.Ru(e),i}Vu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Eu({path:r,Au:!1});return i.Iu(),i}mu(e){return this.Eu({path:void 0,Au:!0})}fu(e){return Su(e,this.settings.methodName,this.settings.gu||!1,this.path,this.settings.pu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Iu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ru(this.path.get(e))}Ru(e){if(e.length===0)throw this.fu("Document fields must not be empty");if(HI(this.Tu)&&P9.test(e))throw this.fu('Document fields cannot begin and end with "__"')}}class D9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||hh(e)}yu(e,n,r,i=!1){return new Um({Tu:e,methodName:n,pu:r,path:vn.emptyPath(),Au:!1,gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bm(t){const e=t._freezeSettings(),n=hh(t._databaseId);return new D9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function O9(t,e,n,r,i,s={}){const o=t.yu(s.merge||s.mergeFields?2:0,e,n,i);Wm("Data must be an object, but it was:",o,r);const l=FI(r,o);let c,h;if(s.merge)c=new Jn(o.fieldMask),h=o.fieldTransforms;else if(s.mergeFields){const g=[];for(const m of s.mergeFields){const _=Eg(e,m,n);if(!o.contains(_))throw new ve(te.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);UI(g,_)||g.push(_)}c=new Jn(g),h=o.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,h=o.fieldTransforms;return new R9(new Gn(l),c,h)}class yh extends Fm{_toFieldTransform(e){if(e.Tu!==2)throw e.Tu===1?e.fu(`${this._methodName}() can only appear at the top level of your update data`):e.fu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yh}}function M9(t,e,n,r){const i=t.yu(1,e,n);Wm("Data must be an object, but it was:",i,r);const s=[],o=Gn.empty();ps(r,(c,h)=>{const g=jm(e,c,n);h=ln(h);const m=i.Vu(g);if(h instanceof yh)s.push(g);else{const _=Nl(h,m);_!=null&&(s.push(g),o.set(g,_))}});const l=new Jn(s);return new VI(o,l,i.fieldTransforms)}function N9(t,e,n,r,i,s){const o=t.yu(1,e,n),l=[Eg(e,r,n)],c=[i];if(s.length%2!=0)throw new ve(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<s.length;_+=2)l.push(Eg(e,s[_])),c.push(s[_+1]);const h=[],g=Gn.empty();for(let _=l.length-1;_>=0;--_)if(!UI(h,l[_])){const v=l[_];let S=c[_];S=ln(S);const k=o.Vu(v);if(S instanceof yh)h.push(v);else{const I=Nl(S,k);I!=null&&(h.push(v),g.set(v,I))}}const m=new Jn(h);return new VI(g,m,o.fieldTransforms)}function L9(t,e,n,r=!1){return Nl(n,t.yu(r?4:3,e))}function Nl(t,e){if(xI(t=ln(t)))return Wm("Unsupported field value:",e,t),FI(t,e);if(t instanceof Fm)return function(r,i){if(!HI(i.Tu))throw i.fu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.fu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Au&&e.Tu!==4)throw e.fu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let c=Nl(l,i.mu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ln(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return EH(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=$t.fromDate(r);return{timestampValue:bu(i.serializer,s)}}if(r instanceof $t){const s=new $t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bu(i.serializer,s)}}if(r instanceof xm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Eo)return{bytesValue:lI(i.serializer,r._byteString)};if(r instanceof Zn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.fu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Im(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.fu(`Unsupported field value: ${ph(r)}`)}(t,e)}function FI(t,e){const n={};return NT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ps(t,(r,i)=>{const s=Nl(i,e.du(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function xI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $t||t instanceof xm||t instanceof Eo||t instanceof Zn||t instanceof Fm)}function Wm(t,e,n){if(!xI(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=ph(n);throw r==="an object"?e.fu(t+" a custom object"):e.fu(t+" "+r)}}function Eg(t,e,n){if((e=ln(e))instanceof vh)return e._internalPath;if(typeof e=="string")return jm(t,e);throw Su("Field path arguments must be of type string or ",t,!1,void 0,n)}const V9=new RegExp("[~\\*/\\[\\]]");function jm(t,e,n){if(e.search(V9)>=0)throw Su(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new vh(...e.split("."))._internalPath}catch{throw Su(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Su(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new ve(te.INVALID_ARGUMENT,l+t+c)}function UI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Zn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new H9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(zm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class H9 extends BI{data(){return super.data()}}function zm(t,e){return typeof e=="string"?jm(t,e):e instanceof vh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F9(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ve(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qm{}class x9 extends qm{}function WI(t,e,...n){let r=[];e instanceof qm&&r.push(e),r=r.concat(n),function(s){const o=s.filter(c=>c instanceof Gm).length,l=s.filter(c=>c instanceof _h).length;if(o>1||o>0&&l>0)throw new ve(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class _h extends x9{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new _h(e,n,r)}_apply(e){const n=this._parse(e);return zI(e._query,n),new Uo(e.firestore,e.converter,mg(e._query,n))}_parse(e){const n=Bm(e.firestore);return function(s,o,l,c,h,g,m){let _;if(h.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new ve(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){ob(m,g);const v=[];for(const S of m)v.push(sb(c,s,S));_={arrayValue:{values:v}}}else _=sb(c,s,m)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||ob(m,g),_=L9(l,o,m,g==="in"||g==="not-in");return Gt.create(h,g,_)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function jI(t,e,n){const r=e,i=zm("where",t);return _h._create(i,r,n)}class Gm extends qm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Gm(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:gr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const l=s.getFlattenedFilters();for(const c of l)zI(o,c),o=mg(o,c)}(e._query,n),new Uo(e.firestore,e.converter,mg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function sb(t,e,n){if(typeof(n=ln(n))=="string"){if(n==="")throw new ve(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zT(e)&&n.indexOf("/")!==-1)throw new ve(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Tt.fromString(n));if(!Ee.isDocumentKey(r))throw new ve(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Pw(t,new Ee(r))}if(n instanceof Zn)return Pw(t,n._key);throw new ve(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ph(n)}.`)}function ob(t,e){if(!Array.isArray(t)||t.length===0)throw new ve(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zI(t,e){const n=function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ve(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class U9{convertValue(e,n="none"){switch(ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(is(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Pe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ps(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new xm(qt(e.latitude),qt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=wm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ol(e));default:return null}}convertTimestamp(e){const n=Ii(e);return new $t(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Tt.fromString(e);It(dI(r));const i=new al(r.get(1),r.get(3)),s=new Ee(r.popFirst(5));return i.isEqual(n)||ni(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B9(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class W9 extends BI{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Yc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(zm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Yc extends W9{data(e={}){return super.data(e)}}class j9{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Fc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Yc(this._firestore,this._userDataWriter,r.key,r,new Fc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const c=new Yc(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Fc(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const c=new Yc(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Fc(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,g=-1;return l.type!==0&&(h=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),g=o.indexOf(l.doc.key)),{type:z9(l.type),doc:c,oldIndex:h,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function z9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe()}}class q9 extends U9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Eo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Zn(this.firestore,null,n)}}function qI(t){t=So(t,Uo);const e=So(t.firestore,mh),n=NI(e),r=new q9(e);return F9(t._query),S9(n,t._query).then(i=>new j9(e,r,t,i))}function os(t,e,n,...r){t=So(t,Zn);const i=So(t.firestore,mh),s=Bm(i);let o;return o=typeof(e=ln(e))=="string"||e instanceof vh?N9(s,"updateDoc",t._key,e,n,r):M9(s,"updateDoc",t._key,e),GI(i,[o.toMutation(t._key,xr.exists(!0))])}function G9(t,e){const n=So(t.firestore,mh),r=I9(t),i=B9(t.converter,e);return GI(n,[O9(Bm(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,xr.exists(!1))]).then(()=>r)}function GI(t,e){return function(r,i){const s=new bi;return r.asyncQueue.enqueueAndForget(async()=>a9(await b9(r),i,s)),s.promise}(NI(t),e)}(function(e,n=!0){(function(i){Ho=i})(No),jr(new dr("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new mh(new j3(r.getProvider("auth-internal")),new K3(r.getProvider("app-check-internal")),function(h,g){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ve(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new al(h.options.projectId,g)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),cr(Tw,"4.3.0",e),cr(Tw,"4.3.0","esm2017")})();function Km(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ab(t){return t!==void 0&&t.enterprise!==void 0}class K9{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}function KI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Y9=KI,YI=new hs("auth","Firebase",KI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu=new Wu("@firebase/auth");function Q9(t,...e){Eu.logLevel<=Ye.WARN&&Eu.warn(`Auth (${No}): ${t}`,...e)}function Qc(t,...e){Eu.logLevel<=Ye.ERROR&&Eu.error(`Auth (${No}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(t,...e){throw Ym(t,...e)}function Br(t,...e){return Ym(t,...e)}function X9(t,e,n){const r=Object.assign(Object.assign({},Y9()),{[e]:n});return new hs("auth","Firebase",r).create(e,{appName:t.name})}function Ym(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return YI.create(t,...e)}function ke(t,e,...n){if(!t)throw Ym(e,...n)}function Zr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Qc(e),new Error(e)}function ii(t,e){t||Zr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function $9(){return lb()==="http:"||lb()==="https:"}function lb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($9()||AE()||"connection"in navigator)?navigator.onLine:!0}function Z9(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,n){this.shortDelay=e,this.longDelay=n,ii(n>e,"Short delay should be less than long delay!"),this.isMobile=dL()||pL()}get(){return J9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(t,e){ii(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tF=new Ll(3e4,6e4);function ms(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function vs(t,e,n,r,i={}){return XI(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=yl(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),QI.fetch()($I(t,t.config.apiHost,n,l),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))})}async function XI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},eF),e);try{const i=new nF(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw xc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[c,h]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw xc(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw xc(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw xc(t,"user-disabled",o);const g=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw X9(t,g,h);mr(t,g)}}catch(i){if(i instanceof yr)throw i;mr(t,"network-request-failed",{message:String(i)})}}async function Vl(t,e,n,r,i={}){const s=await vs(t,e,n,r,i);return"mfaPendingCredential"in s&&mr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function $I(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Qm(t.config,i):`${t.config.apiScheme}://${i}`}class nF{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Br(this.auth,"network-request-failed")),tF.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function xc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Br(t,e,r);return i.customData._tokenResponse=n,i}async function rF(t,e){return vs(t,"GET","/v2/recaptchaConfig",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iF(t,e){return vs(t,"POST","/v1/accounts:delete",e)}async function sF(t,e){return vs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ua(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function oF(t,e=!1){const n=ln(t),r=await n.getIdToken(e),i=Xm(r);ke(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ua(sp(i.auth_time)),issuedAtTime:Ua(sp(i.iat)),expirationTime:Ua(sp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function sp(t){return Number(t)*1e3}function Xm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Qc("JWT malformed, contained fewer than 3 sections"),null;try{const i=yE(n);return i?JSON.parse(i):(Qc("Failed to decode base64 JWT payload"),null)}catch(i){return Qc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function aF(t){const e=Xm(t);return ke(e,"internal-error"),ke(typeof e.exp<"u","internal-error"),ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof yr&&lF(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function lF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ua(this.lastLoginAt),this.creationTime=Ua(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tu(t){var e;const n=t.auth,r=await t.getIdToken(),i=await hl(t,sF(n,{idToken:r}));ke(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?fF(s.providerUserInfo):[],l=hF(t.providerData,o),c=t.isAnonymous,h=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),g=c?h:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new JI(s.createdAt,s.lastLoginAt),isAnonymous:g};Object.assign(t,m)}async function uF(t){const e=ln(t);await Tu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hF(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function fF(t){return t.map(e=>{var{providerId:n}=e,r=Km(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dF(t,e){const n=await XI(t,{},async()=>{const r=yl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=$I(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",QI.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ke(e.idToken,"internal-error"),ke(typeof e.idToken<"u","internal-error"),ke(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):aF(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ke(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await dF(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new fl;return r&&(ke(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ke(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ke(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fl,this.toJSON())}_performRefresh(){return Zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(t,e){ke(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ji{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Km(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new JI(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await hl(this,this.stsTokenManager.getToken(this.auth,e));return ke(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return oF(this,e)}reload(){return uF(this)}_assign(e){this!==e&&(ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ji(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Tu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await hl(this,iF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,l,c,h,g;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(i=n.email)!==null&&i!==void 0?i:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,S=(o=n.photoURL)!==null&&o!==void 0?o:void 0,k=(l=n.tenantId)!==null&&l!==void 0?l:void 0,I=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,R=(h=n.createdAt)!==null&&h!==void 0?h:void 0,M=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:V,emailVerified:L,isAnonymous:D,providerData:W,stsTokenManager:q}=n;ke(V&&q,e,"internal-error");const Q=fl.fromJSON(this.name,q);ke(typeof V=="string",e,"internal-error"),ui(m,e.name),ui(_,e.name),ke(typeof L=="boolean",e,"internal-error"),ke(typeof D=="boolean",e,"internal-error"),ui(v,e.name),ui(S,e.name),ui(k,e.name),ui(I,e.name),ui(R,e.name),ui(M,e.name);const $=new Ji({uid:V,auth:e,email:_,emailVerified:L,displayName:m,isAnonymous:D,photoURL:S,phoneNumber:v,tenantId:k,stsTokenManager:Q,createdAt:R,lastLoginAt:M});return W&&Array.isArray(W)&&($.providerData=W.map(K=>Object.assign({},K))),I&&($._redirectEventId=I),$}static async _fromIdTokenResponse(e,n,r=!1){const i=new fl;i.updateFromServerResponse(n);const s=new Ji({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Tu(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb=new Map;function ei(t){ii(t instanceof Function,"Expected a class definition");let e=cb.get(t);return e?(ii(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,cb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ZI.type="NONE";const ub=ZI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(t,e,n){return`firebase:${t}:${e}:${n}`}class uo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Xc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Xc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ji._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new uo(ei(ub),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||ei(ub);const o=Xc(r,e.config.apiKey,e.name);let l=null;for(const h of n)try{const g=await h._get(o);if(g){const m=Ji._fromJSON(e,g);h!==s&&(l=m),s=h;break}}catch{}const c=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new uo(s,e,r):(s=c[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(o)}catch{}})),new uo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ek(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ik(e))return"Blackberry";if(sk(e))return"Webos";if($m(e))return"Safari";if((e.includes("chrome/")||tk(e))&&!e.includes("edge/"))return"Chrome";if(rk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ek(t=Pn()){return/firefox\//i.test(t)}function $m(t=Pn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tk(t=Pn()){return/crios\//i.test(t)}function nk(t=Pn()){return/iemobile/i.test(t)}function rk(t=Pn()){return/android/i.test(t)}function ik(t=Pn()){return/blackberry/i.test(t)}function sk(t=Pn()){return/webos/i.test(t)}function wh(t=Pn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function pF(t=Pn()){var e;return wh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function gF(){return gL()&&document.documentMode===10}function ok(t=Pn()){return wh(t)||rk(t)||sk(t)||ik(t)||/windows phone/i.test(t)||nk(t)}function mF(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(t,e=[]){let n;switch(t){case"Browser":n=hb(Pn());break;case"Worker":n=`${hb(Pn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${No}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const c=e(s);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yF(t,e={}){return vs(t,"GET","/v2/passwordPolicy",ms(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _F=6;class wF{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:_F,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fb(this),this.idTokenSubscription=new fb(this),this.beforeStateQueue=new vF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=YI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ei(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await uo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Tu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Z9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?ln(e):null;return n&&ke(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ei(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await yF(this),n=new wF(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new hs("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ei(e)||this._popupRedirectResolver;ke(n,this,"argument-error"),this.redirectPersistenceManager=await uo.create(this,[ei(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ke(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ak(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Q9(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ys(t){return ln(t)}class fb{constructor(e){this.auth=e,this.observer=null,this.addObserver=bL(n=>this.observer=n)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AF(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function lk(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Br("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",AF().appendChild(r)})}function SF(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const EF="https://www.google.com/recaptcha/enterprise.js?render=",TF="recaptcha-enterprise",IF="NO_RECAPTCHA";class kF{constructor(e){this.type=TF,this.auth=ys(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{rF(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const h=new K9(c);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,o(h.siteKey)}}).catch(c=>{l(c)})})}function i(s,o,l){const c=window.grecaptcha;ab(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(h=>{o(h)}).catch(()=>{o(IF)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(l=>{if(!n&&ab(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}lk(EF+l).then(()=>{i(l,s,o)}).catch(c=>{o(c)})}}).catch(l=>{o(l)})})}}async function Iu(t,e,n,r=!1){const i=new kF(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CF(t,e){const n=fs(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Qa(s,e??{}))return i;mr(i,"already-initialized")}return n.initialize({options:e})}function PF(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ei);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function RF(t,e,n){const r=ys(t);ke(r._canInitEmulator,r,"emulator-config-failed"),ke(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=ck(e),{host:o,port:l}=DF(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||OF()}function ck(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function DF(t){const e=ck(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:db(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:db(o)}}}function db(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function OF(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Zr("not implemented")}_getIdTokenResponse(e){return Zr("not implemented")}_linkToIdToken(e,n){return Zr("not implemented")}_getReauthenticationResolver(e){return Zr("not implemented")}}async function MF(t,e){return vs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function op(t,e){return Vl(t,"POST","/v1/accounts:signInWithPassword",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NF(t,e){return Vl(t,"POST","/v1/accounts:signInWithEmailLink",ms(t,e))}async function LF(t,e){return Vl(t,"POST","/v1/accounts:signInWithEmailLink",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl extends Jm{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new dl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new dl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await Iu(e,r,"signInWithPassword");return op(e,i)}else return op(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await Iu(e,r,"signInWithPassword");return op(e,s)}else return Promise.reject(i)});case"emailLink":return NF(e,{email:this._email,oobCode:this._password});default:mr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return MF(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return LF(e,{idToken:n,email:this._email,oobCode:this._password});default:mr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ho(t,e){return Vl(t,"POST","/v1/accounts:signInWithIdp",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VF="http://localhost";class as extends Jm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new as(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):mr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Km(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new as(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ho(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ho(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ho(e,n)}buildRequest(){const e={requestUri:VF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=yl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function FF(t){const e=Ca(Pa(t)).link,n=e?Ca(Pa(e)).deep_link_id:null,r=Ca(Pa(t)).deep_link_id;return(r?Ca(Pa(r)).link:null)||r||n||e||t}class Zm{constructor(e){var n,r,i,s,o,l;const c=Ca(Pa(e)),h=(n=c.apiKey)!==null&&n!==void 0?n:null,g=(r=c.oobCode)!==null&&r!==void 0?r:null,m=HF((i=c.mode)!==null&&i!==void 0?i:null);ke(h&&g&&m,"argument-error"),this.apiKey=h,this.operation=m,this.code=g,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=FF(e);try{return new Zm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(){this.providerId=Bo.PROVIDER_ID}static credential(e,n){return dl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Zm.parseLink(n);return ke(r,"argument-error"),dl._fromEmailAndCode(e,r.code,r.tenantId)}}Bo.PROVIDER_ID="password";Bo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl extends uk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends Hl{constructor(){super("facebook.com")}static credential(e){return as._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fi.credential(e.oauthAccessToken)}catch{return null}}}fi.FACEBOOK_SIGN_IN_METHOD="facebook.com";fi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends Hl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return as._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return di.credential(n,r)}catch{return null}}}di.GOOGLE_SIGN_IN_METHOD="google.com";di.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends Hl{constructor(){super("github.com")}static credential(e){return as._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pi.credential(e.oauthAccessToken)}catch{return null}}}pi.GITHUB_SIGN_IN_METHOD="github.com";pi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends Hl{constructor(){super("twitter.com")}static credential(e,n){return as._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return gi.credential(n,r)}catch{return null}}}gi.TWITTER_SIGN_IN_METHOD="twitter.com";gi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ap(t,e){return Vl(t,"POST","/v1/accounts:signUp",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ji._fromIdTokenResponse(e,r,i),o=pb(r);return new ls({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=pb(r);return new ls({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function pb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku extends yr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ku.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ku(e,n,r,i)}}function hk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ku._fromErrorAndOperation(t,s,e,r):s})}async function xF(t,e,n=!1){const r=await hl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ls._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UF(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await hl(t,hk(r,i,e,t),n);ke(s.idToken,r,"internal-error");const o=Xm(s.idToken);ke(o,r,"internal-error");const{sub:l}=o;return ke(t.uid===l,r,"user-mismatch"),ls._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&mr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fk(t,e,n=!1){const r="signIn",i=await hk(t,r,e),s=await ls._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function BF(t,e){return fk(ys(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dk(t){const e=ys(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function WF(t,e,n){var r;const i=ys(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const h=await Iu(i,s,"signUpPassword");o=ap(i,h)}else o=ap(i,s).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const g=await Iu(i,s,"signUpPassword");return ap(i,g)}throw h});const l=await o.catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&dk(t),h}),c=await ls._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(c.user),c}function jF(t,e,n){return BF(ln(t),Bo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&dk(t),r})}function zF(t,e,n,r){return ln(t).onIdTokenChanged(e,n,r)}function qF(t,e,n){return ln(t).beforeAuthStateChanged(e,n)}const Cu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Cu,"1"),this.storage.removeItem(Cu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GF(){const t=Pn();return $m(t)||wh(t)}const KF=1e3,YF=10;class gk extends pk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=GF()&&mF(),this.fallbackToPolling=ok(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);gF()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,YF):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},KF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}gk.type="LOCAL";const QF=gk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk extends pk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}mk.type="SESSION";const vk=mk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new bh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async h=>h(n.origin,s)),c=await XF(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,c)=>{const h=ev("",20);i.port1.start();const g=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(m){const _=m;if(_.data.eventId===h)switch(_.data.status){case"ack":clearTimeout(g),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(_.data.response);break;default:clearTimeout(g),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(){return window}function JF(t){Wr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yk(){return typeof Wr().WorkerGlobalScope<"u"&&typeof Wr().importScripts=="function"}async function ZF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function e5(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function t5(){return yk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k="firebaseLocalStorageDb",n5=1,Pu="firebaseLocalStorage",wk="fbase_key";class Fl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ah(t,e){return t.transaction([Pu],e?"readwrite":"readonly").objectStore(Pu)}function r5(){const t=indexedDB.deleteDatabase(_k);return new Fl(t).toPromise()}function Ig(){const t=indexedDB.open(_k,n5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Pu,{keyPath:wk})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Pu)?e(r):(r.close(),await r5(),e(await Ig()))})})}async function gb(t,e,n){const r=Ah(t,!0).put({[wk]:e,value:n});return new Fl(r).toPromise()}async function i5(t,e){const n=Ah(t,!1).get(e),r=await new Fl(n).toPromise();return r===void 0?null:r.value}function mb(t,e){const n=Ah(t,!0).delete(e);return new Fl(n).toPromise()}const s5=800,o5=3;class bk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ig(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>o5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bh._getInstance(t5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await ZF(),!this.activeServiceWorker)return;this.sender=new $F(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||e5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ig();return await gb(e,Cu,"1"),await mb(e,Cu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>gb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>i5(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>mb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Ah(i,!1).getAll();return new Fl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),s5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bk.type="LOCAL";const a5=bk;new Ll(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l5(t,e){return e?ei(e):(ke(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv extends Jm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ho(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ho(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function c5(t){return fk(t.auth,new tv(t),t.bypassAuthState)}function u5(t){const{auth:e,user:n}=t;return ke(n,e,"internal-error"),UF(n,new tv(t),t.bypassAuthState)}async function h5(t){const{auth:e,user:n}=t;return ke(n,e,"internal-error"),xF(n,new tv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return c5;case"linkViaPopup":case"linkViaRedirect":return h5;case"reauthViaPopup":case"reauthViaRedirect":return u5;default:mr(this.auth,"internal-error")}}resolve(e){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f5=new Ll(2e3,1e4);class io extends Ak{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,io.currentPopupAction&&io.currentPopupAction.cancel(),io.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ke(e,this.auth,"internal-error"),e}async onExecution(){ii(this.filter.length===1,"Popup operations only handle one event");const e=ev();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Br(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Br(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,io.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Br(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,f5.get())};e()}}io.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d5="pendingRedirect",$c=new Map;class p5 extends Ak{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=$c.get(this.auth._key());if(!e){try{const r=await g5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}$c.set(this.auth._key(),e)}return this.bypassAuthState||$c.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function g5(t,e){const n=y5(e),r=v5(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function m5(t,e){$c.set(t._key(),e)}function v5(t){return ei(t._redirectPersistence)}function y5(t){return Xc(d5,t.config.apiKey,t.name)}async function _5(t,e,n=!1){const r=ys(t),i=l5(r,e),o=await new p5(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w5=10*60*1e3;class b5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!A5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Sk(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Br(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=w5&&this.cachedEventUids.clear(),this.cachedEventUids.has(vb(e))}saveEventToCache(e){this.cachedEventUids.add(vb(e)),this.lastProcessedEventTime=Date.now()}}function vb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Sk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function A5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Sk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S5(t,e={}){return vs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,T5=/^https?/;async function I5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await S5(t);for(const n of e)try{if(k5(n))return}catch{}mr(t,"unauthorized-domain")}function k5(t){const e=Tg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!T5.test(n))return!1;if(E5.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5=new Ll(3e4,6e4);function yb(){const t=Wr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function P5(t){return new Promise((e,n)=>{var r,i,s;function o(){yb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yb(),n(Br(t,"network-request-failed"))},timeout:C5.get()})}if(!((i=(r=Wr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Wr().gapi)===null||s===void 0)&&s.load)o();else{const l=SF("iframefcb");return Wr()[l]=()=>{gapi.load?o():n(Br(t,"network-request-failed"))},lk(`https://apis.google.com/js/api.js?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Jc=null,e})}let Jc=null;function R5(t){return Jc=Jc||P5(t),Jc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5=new Ll(5e3,15e3),O5="__/auth/iframe",M5="emulator/auth/iframe",N5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},L5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function V5(t){const e=t.config;ke(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Qm(e,M5):`https://${t.config.authDomain}/${O5}`,r={apiKey:e.apiKey,appName:t.name,v:No},i=L5.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${yl(r).slice(1)}`}async function H5(t){const e=await R5(t),n=Wr().gapi;return ke(n,t,"internal-error"),e.open({where:document.body,url:V5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:N5,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Br(t,"network-request-failed"),l=Wr().setTimeout(()=>{s(o)},D5.get());function c(){Wr().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},x5=500,U5=600,B5="_blank",W5="http://localhost";class _b{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function j5(t,e,n,r=x5,i=U5){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},F5),{width:r.toString(),height:i.toString(),top:s,left:o}),h=Pn().toLowerCase();n&&(l=tk(h)?B5:n),ek(h)&&(e=e||W5,c.scrollbars="yes");const g=Object.entries(c).reduce((_,[v,S])=>`${_}${v}=${S},`,"");if(pF(h)&&l!=="_self")return z5(e||"",l),new _b(null);const m=window.open(e||"",l,g);ke(m,t,"popup-blocked");try{m.focus()}catch{}return new _b(m)}function z5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5="__/auth/handler",G5="emulator/auth/handler",K5=encodeURIComponent("fac");async function wb(t,e,n,r,i,s){ke(t.config.authDomain,t,"auth-domain-config-required"),ke(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:No,eventId:i};if(e instanceof uk){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",wL(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,m]of Object.entries(s||{}))o[g]=m}if(e instanceof Hl){const g=e.getScopes().filter(m=>m!=="");g.length>0&&(o.scopes=g.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const g of Object.keys(l))l[g]===void 0&&delete l[g];const c=await t._getAppCheckToken(),h=c?`#${K5}=${encodeURIComponent(c)}`:"";return`${Y5(t)}?${yl(l).slice(1)}${h}`}function Y5({config:t}){return t.emulator?Qm(t,G5):`https://${t.authDomain}/${q5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp="webStorageSupport";class Q5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vk,this._completeRedirectFn=_5,this._overrideRedirectResult=m5}async _openPopup(e,n,r,i){var s;ii((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await wb(e,n,r,Tg(),i);return j5(e,o,ev())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await wb(e,n,r,Tg(),i);return JF(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ii(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await H5(e),r=new b5(e);return n.register("authEvent",i=>(ke(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(lp,{type:lp},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[lp];o!==void 0&&n(!!o),mr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=I5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ok()||$m()||wh()}}const X5=Q5;var bb="@firebase/auth",Ab="1.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Z5(t){jr(new dr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;ke(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ak(t)},h=new bF(r,i,s,c);return PF(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),jr(new dr("auth-internal",e=>{const n=ys(e.getProvider("auth").getImmediate());return(r=>new $5(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),cr(bb,Ab,J5(t)),cr(bb,Ab,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex=5*60,tx=bE("authIdTokenMaxAge")||ex;let Sb=null;const nx=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>tx)return;const i=n==null?void 0:n.token;Sb!==i&&(Sb=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Ek(t=Yg()){const e=fs(t,"auth");if(e.isInitialized())return e.getImmediate();const n=CF(t,{popupRedirectResolver:X5,persistence:[a5,QF,vk]}),r=bE("authTokenSyncURL");if(r){const s=nx(r);qF(n,s,()=>s(n.currentUser)),zF(n,o=>s(o))}const i=_E("auth");return i&&RF(n,`http://${i}`),n}Z5("Browser");const rx=(t,e)=>e.some(n=>t instanceof n);let Eb,Tb;function ix(){return Eb||(Eb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sx(){return Tb||(Tb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Tk=new WeakMap,kg=new WeakMap,Ik=new WeakMap,cp=new WeakMap,nv=new WeakMap;function ox(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Si(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Tk.set(n,t)}).catch(()=>{}),nv.set(e,t),e}function ax(t){if(kg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});kg.set(t,e)}let Cg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return kg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ik.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Si(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function lx(t){Cg=t(Cg)}function cx(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(up(this),e,...n);return Ik.set(r,e.sort?e.sort():[e]),Si(r)}:sx().includes(t)?function(...e){return t.apply(up(this),e),Si(Tk.get(this))}:function(...e){return Si(t.apply(up(this),e))}}function ux(t){return typeof t=="function"?cx(t):(t instanceof IDBTransaction&&ax(t),rx(t,ix())?new Proxy(t,Cg):t)}function Si(t){if(t instanceof IDBRequest)return ox(t);if(cp.has(t))return cp.get(t);const e=ux(t);return e!==t&&(cp.set(t,e),nv.set(e,t)),e}const up=t=>nv.get(t);function hx(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Si(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Si(o.result),c.oldVersion,c.newVersion,Si(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),l}const fx=["get","getKey","getAll","getAllKeys","count"],dx=["put","add","delete","clear"],hp=new Map;function Ib(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(hp.get(e))return hp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=dx.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||fx.includes(n)))return;const s=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let h=c.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),i&&c.done]))[0]};return hp.set(e,s),s}lx(t=>({...t,get:(e,n,r)=>Ib(e,n)||t.get(e,n,r),has:(e,n)=>!!Ib(e,n)||t.has(e,n)}));const kk="@firebase/installations",rv="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck=1e4,Pk=`w:${rv}`,Rk="FIS_v2",px="https://firebaseinstallations.googleapis.com/v1",gx=60*60*1e3,mx="installations",vx="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},cs=new hs(mx,vx,yx);function Dk(t){return t instanceof yr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok({projectId:t}){return`${px}/projects/${t}/installations`}function Mk(t){return{token:t.token,requestStatus:2,expiresIn:wx(t.expiresIn),creationTime:Date.now()}}async function Nk(t,e){const r=(await e.json()).error;return cs.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Lk({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function _x(t,{refreshToken:e}){const n=Lk(t);return n.append("Authorization",bx(e)),n}async function Vk(t){const e=await t();return e.status>=500&&e.status<600?t():e}function wx(t){return Number(t.replace("s","000"))}function bx(t){return`${Rk} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ax({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Ok(t),i=Lk(t),s=e.getImmediate({optional:!0});if(s){const h=await s.getHeartbeatsHeader();h&&i.append("x-firebase-client",h)}const o={fid:n,authVersion:Rk,appId:t.appId,sdkVersion:Pk},l={method:"POST",headers:i,body:JSON.stringify(o)},c=await Vk(()=>fetch(r,l));if(c.ok){const h=await c.json();return{fid:h.fid||n,registrationStatus:2,refreshToken:h.refreshToken,authToken:Mk(h.authToken)}}else throw await Nk("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sx(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex=/^[cdef][\w-]{21}$/,Pg="";function Tx(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=Ix(t);return Ex.test(n)?n:Pg}catch{return Pg}}function Ix(t){return Sx(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk=new Map;function xk(t,e){const n=Sh(t);Uk(n,e),kx(n,e)}function Uk(t,e){const n=Fk.get(t);if(n)for(const r of n)r(e)}function kx(t,e){const n=Cx();n&&n.postMessage({key:t,fid:e}),Px()}let Qi=null;function Cx(){return!Qi&&"BroadcastChannel"in self&&(Qi=new BroadcastChannel("[Firebase] FID Change"),Qi.onmessage=t=>{Uk(t.data.key,t.data.fid)}),Qi}function Px(){Fk.size===0&&Qi&&(Qi.close(),Qi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx="firebase-installations-database",Dx=1,us="firebase-installations-store";let fp=null;function iv(){return fp||(fp=hx(Rx,Dx,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(us)}}})),fp}async function Ru(t,e){const n=Sh(t),i=(await iv()).transaction(us,"readwrite"),s=i.objectStore(us),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&xk(t,e.fid),e}async function Bk(t){const e=Sh(t),r=(await iv()).transaction(us,"readwrite");await r.objectStore(us).delete(e),await r.done}async function Eh(t,e){const n=Sh(t),i=(await iv()).transaction(us,"readwrite"),s=i.objectStore(us),o=await s.get(n),l=e(o);return l===void 0?await s.delete(n):await s.put(l,n),await i.done,l&&(!o||o.fid!==l.fid)&&xk(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sv(t){let e;const n=await Eh(t.appConfig,r=>{const i=Ox(r),s=Mx(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Pg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Ox(t){const e=t||{fid:Tx(),registrationStatus:0};return Wk(e)}function Mx(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(cs.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Nx(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Lx(t)}:{installationEntry:e}}async function Nx(t,e){try{const n=await Ax(t,e);return Ru(t.appConfig,n)}catch(n){throw Dk(n)&&n.customData.serverCode===409?await Bk(t.appConfig):await Ru(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Lx(t){let e=await kb(t.appConfig);for(;e.registrationStatus===1;)await Hk(100),e=await kb(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await sv(t);return r||n}return e}function kb(t){return Eh(t,e=>{if(!e)throw cs.create("installation-not-found");return Wk(e)})}function Wk(t){return Vx(t)?{fid:t.fid,registrationStatus:0}:t}function Vx(t){return t.registrationStatus===1&&t.registrationTime+Ck<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hx({appConfig:t,heartbeatServiceProvider:e},n){const r=Fx(t,n),i=_x(t,n),s=e.getImmediate({optional:!0});if(s){const h=await s.getHeartbeatsHeader();h&&i.append("x-firebase-client",h)}const o={installation:{sdkVersion:Pk,appId:t.appId}},l={method:"POST",headers:i,body:JSON.stringify(o)},c=await Vk(()=>fetch(r,l));if(c.ok){const h=await c.json();return Mk(h)}else throw await Nk("Generate Auth Token",c)}function Fx(t,{fid:e}){return`${Ok(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ov(t,e=!1){let n;const r=await Eh(t.appConfig,s=>{if(!jk(s))throw cs.create("not-registered");const o=s.authToken;if(!e&&Bx(o))return s;if(o.requestStatus===1)return n=xx(t,e),s;{if(!navigator.onLine)throw cs.create("app-offline");const l=jx(s);return n=Ux(t,l),l}});return n?await n:r.authToken}async function xx(t,e){let n=await Cb(t.appConfig);for(;n.authToken.requestStatus===1;)await Hk(100),n=await Cb(t.appConfig);const r=n.authToken;return r.requestStatus===0?ov(t,e):r}function Cb(t){return Eh(t,e=>{if(!jk(e))throw cs.create("not-registered");const n=e.authToken;return zx(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Ux(t,e){try{const n=await Hx(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Ru(t.appConfig,r),n}catch(n){if(Dk(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Bk(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Ru(t.appConfig,r)}throw n}}function jk(t){return t!==void 0&&t.registrationStatus===2}function Bx(t){return t.requestStatus===2&&!Wx(t)}function Wx(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+gx}function jx(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function zx(t){return t.requestStatus===1&&t.requestTime+Ck<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qx(t){const e=t,{installationEntry:n,registrationPromise:r}=await sv(e);return r?r.catch(console.error):ov(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gx(t,e=!1){const n=t;return await Kx(n),(await ov(n,e)).token}async function Kx(t){const{registrationPromise:e}=await sv(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(t){if(!t||!t.options)throw dp("App Configuration");if(!t.name)throw dp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw dp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function dp(t){return cs.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk="installations",Qx="installations-internal",Xx=t=>{const e=t.getProvider("app").getImmediate(),n=Yx(e),r=fs(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},$x=t=>{const e=t.getProvider("app").getImmediate(),n=fs(e,zk).getImmediate();return{getId:()=>qx(n),getToken:i=>Gx(n,i)}};function Jx(){jr(new dr(zk,Xx,"PUBLIC")),jr(new dr(Qx,$x,"PRIVATE"))}Jx();cr(kk,rv);cr(kk,rv,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du="analytics",Zx="firebase_id",eU="origin",tU=60*1e3,nU="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",av="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kn=new Wu("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rU={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},er=new hs("analytics","Analytics",rU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iU(t){if(!t.startsWith(av)){const e=er.create("invalid-gtag-resource",{gtagURL:t});return Kn.warn(e.message),""}return t}function qk(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function sU(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function oU(t,e){const n=sU("firebase-js-sdk-policy",{createScriptURL:iU}),r=document.createElement("script"),i=`${av}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function aU(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function lU(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const c=(await qk(n)).find(h=>h.measurementId===i);c&&await e[c.appId]}}catch(l){Kn.error(l)}t("config",i,s)}async function cU(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const l=await qk(n);for(const c of o){const h=l.find(m=>m.measurementId===c),g=h&&e[h.appId];if(g)s.push(g);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){Kn.error(s)}}function uU(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[l,c]=o;await cU(t,e,n,l,c)}else if(s==="config"){const[l,c]=o;await lU(t,e,n,r,l,c)}else if(s==="consent"){const[l]=o;t("consent","update",l)}else if(s==="get"){const[l,c,h]=o;t("get",l,c,h)}else if(s==="set"){const[l]=o;t("set",l)}else t(s,...o)}catch(l){Kn.error(l)}}return i}function hU(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=uU(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function fU(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(av)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dU=30,pU=1e3;class gU{constructor(e={},n=pU){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Gk=new gU;function mU(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function vU(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:mU(r)},s=nU.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let l="";try{const c=await o.json();!((e=c.error)===null||e===void 0)&&e.message&&(l=c.error.message)}catch{}throw er.create("config-fetch-failed",{httpStatus:o.status,responseMessage:l})}return o.json()}async function yU(t,e=Gk,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw er.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw er.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new bU;return setTimeout(async()=>{l.abort()},n!==void 0?n:tU),Kk({appId:r,apiKey:i,measurementId:s},o,l,e)}async function Kk(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=Gk){var s;const{appId:o,measurementId:l}=t;try{await _U(r,e)}catch(c){if(l)return Kn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:l};throw c}try{const c=await vU(t);return i.deleteThrottleMetadata(o),c}catch(c){const h=c;if(!wU(h)){if(i.deleteThrottleMetadata(o),l)return Kn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:o,measurementId:l};throw c}const g=Number((s=h==null?void 0:h.customData)===null||s===void 0?void 0:s.httpStatus)===503?rw(n,i.intervalMillis,dU):rw(n,i.intervalMillis),m={throttleEndTimeMillis:Date.now()+g,backoffCount:n+1};return i.setThrottleMetadata(o,m),Kn.debug(`Calling attemptFetch again in ${g} millis`),Kk(t,m,r,i)}}function _U(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(er.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function wU(t){if(!(t instanceof yr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class bU{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function AU(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SU(){if(SE())try{await EE()}catch(t){return Kn.warn(er.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Kn.warn(er.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function EU(t,e,n,r,i,s,o){var l;const c=yU(t);c.then(v=>{n[v.measurementId]=v.appId,t.options.measurementId&&v.measurementId!==t.options.measurementId&&Kn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${v.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(v=>Kn.error(v)),e.push(c);const h=SU().then(v=>{if(v)return r.getId()}),[g,m]=await Promise.all([c,h]);fU(s)||oU(s,g.measurementId),i("js",new Date);const _=(l=o==null?void 0:o.config)!==null&&l!==void 0?l:{};return _[eU]="firebase",_.update=!0,m!=null&&(_[Zx]=m),i("config",g.measurementId,_),g.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{constructor(e){this.app=e}_delete(){return delete Ba[this.app.options.appId],Promise.resolve()}}let Ba={},Pb=[];const Rb={};let pp="dataLayer",IU="gtag",Db,Yk,Ob=!1;function kU(){const t=[];if(AE()&&t.push("This is a browser extension environment."),mL()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=er.create("invalid-analytics-context",{errorInfo:e});Kn.warn(n.message)}}function CU(t,e,n){kU();const r=t.options.appId;if(!r)throw er.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Kn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw er.create("no-api-key");if(Ba[r]!=null)throw er.create("already-exists",{id:r});if(!Ob){aU(pp);const{wrappedGtag:s,gtagCore:o}=hU(Ba,Pb,Rb,pp,IU);Yk=s,Db=o,Ob=!0}return Ba[r]=EU(t,Pb,Rb,e,Db,pp,n),new TU(t)}function PU(t=Yg()){t=ln(t);const e=fs(t,Du);return e.isInitialized()?e.getImmediate():RU(t)}function RU(t,e={}){const n=fs(t,Du);if(n.isInitialized()){const i=n.getImmediate();if(Qa(e,n.getOptions()))return i;throw er.create("already-initialized")}return n.initialize({options:e})}function DU(t,e,n,r){t=ln(t),AU(Yk,Ba[t.app.options.appId],e,n,r).catch(i=>Kn.error(i))}const Mb="@firebase/analytics",Nb="0.10.0";function OU(){jr(new dr(Du,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return CU(r,i,n)},"PUBLIC")),jr(new dr("analytics-internal",t,"PRIVATE")),cr(Mb,Nb),cr(Mb,Nb,"esm2017");function t(e){try{const n=e.getProvider(Du).getImmediate();return{logEvent:(r,i,s)=>DU(n,r,i,s)}}catch(n){throw er.create("interop-component-reg-failed",{reason:n})}}}OU();const pl={host:"https://api.pokemontcg.io/v2"};var gp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function MU(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var cv={exports:{}},Qk=function(e,n){return function(){for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];return e.apply(n,i)}},NU=Qk,_s=Object.prototype.toString;function uv(t){return _s.call(t)==="[object Array]"}function Rg(t){return typeof t>"u"}function LU(t){return t!==null&&!Rg(t)&&t.constructor!==null&&!Rg(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function VU(t){return _s.call(t)==="[object ArrayBuffer]"}function HU(t){return typeof FormData<"u"&&t instanceof FormData}function FU(t){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&t.buffer instanceof ArrayBuffer,e}function xU(t){return typeof t=="string"}function UU(t){return typeof t=="number"}function Xk(t){return t!==null&&typeof t=="object"}function Zc(t){if(_s.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function BU(t){return _s.call(t)==="[object Date]"}function WU(t){return _s.call(t)==="[object File]"}function jU(t){return _s.call(t)==="[object Blob]"}function $k(t){return _s.call(t)==="[object Function]"}function zU(t){return Xk(t)&&$k(t.pipe)}function qU(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}function GU(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function KU(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function hv(t,e){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),uv(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function Dg(){var t={};function e(i,s){Zc(t[s])&&Zc(i)?t[s]=Dg(t[s],i):Zc(i)?t[s]=Dg({},i):uv(i)?t[s]=i.slice():t[s]=i}for(var n=0,r=arguments.length;n<r;n++)hv(arguments[n],e);return t}function YU(t,e,n){return hv(e,function(i,s){n&&typeof i=="function"?t[s]=NU(i,n):t[s]=i}),t}function QU(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}var nr={isArray:uv,isArrayBuffer:VU,isBuffer:LU,isFormData:HU,isArrayBufferView:FU,isString:xU,isNumber:UU,isObject:Xk,isPlainObject:Zc,isUndefined:Rg,isDate:BU,isFile:WU,isBlob:jU,isFunction:$k,isStream:zU,isURLSearchParams:qU,isStandardBrowserEnv:KU,forEach:hv,merge:Dg,extend:YU,trim:GU,stripBOM:QU},Gs=nr;function Lb(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Jk=function(e,n,r){if(!n)return e;var i;if(r)i=r(n);else if(Gs.isURLSearchParams(n))i=n.toString();else{var s=[];Gs.forEach(n,function(c,h){c===null||typeof c>"u"||(Gs.isArray(c)?h=h+"[]":c=[c],Gs.forEach(c,function(m){Gs.isDate(m)?m=m.toISOString():Gs.isObject(m)&&(m=JSON.stringify(m)),s.push(Lb(h)+"="+Lb(m))}))}),i=s.join("&")}if(i){var o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e},XU=nr;function Th(){this.handlers=[]}Th.prototype.use=function(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1};Th.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};Th.prototype.forEach=function(e){XU.forEach(this.handlers,function(r){r!==null&&e(r)})};var $U=Th,JU=nr,ZU=function(e,n){JU.forEach(e,function(i,s){s!==n&&s.toUpperCase()===n.toUpperCase()&&(e[n]=i,delete e[s])})},Zk=function(e,n,r,i,s){return e.config=n,r&&(e.code=r),e.request=i,e.response=s,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e},mp,Vb;function e2(){if(Vb)return mp;Vb=1;var t=Zk;return mp=function(n,r,i,s,o){var l=new Error(n);return t(l,r,i,s,o)},mp}var vp,Hb;function eB(){if(Hb)return vp;Hb=1;var t=e2();return vp=function(n,r,i){var s=i.config.validateStatus;!i.status||!s||s(i.status)?n(i):r(t("Request failed with status code "+i.status,i.config,null,i.request,i))},vp}var yp,Fb;function tB(){if(Fb)return yp;Fb=1;var t=nr;return yp=t.isStandardBrowserEnv()?function(){return{write:function(r,i,s,o,l,c){var h=[];h.push(r+"="+encodeURIComponent(i)),t.isNumber(s)&&h.push("expires="+new Date(s).toGMTString()),t.isString(o)&&h.push("path="+o),t.isString(l)&&h.push("domain="+l),c===!0&&h.push("secure"),document.cookie=h.join("; ")},read:function(r){var i=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),yp}var _p,xb;function nB(){return xb||(xb=1,_p=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}),_p}var wp,Ub;function rB(){return Ub||(Ub=1,wp=function(e,n){return n?e.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):e}),wp}var bp,Bb;function iB(){if(Bb)return bp;Bb=1;var t=nB(),e=rB();return bp=function(r,i){return r&&!t(i)?e(r,i):i},bp}var Ap,Wb;function sB(){if(Wb)return Ap;Wb=1;var t=nr,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Ap=function(r){var i={},s,o,l;return r&&t.forEach(r.split(`
`),function(h){if(l=h.indexOf(":"),s=t.trim(h.substr(0,l)).toLowerCase(),o=t.trim(h.substr(l+1)),s){if(i[s]&&e.indexOf(s)>=0)return;s==="set-cookie"?i[s]=(i[s]?i[s]:[]).concat([o]):i[s]=i[s]?i[s]+", "+o:o}}),i},Ap}var Sp,jb;function oB(){if(jb)return Sp;jb=1;var t=nr;return Sp=t.isStandardBrowserEnv()?function(){var n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),i;function s(o){var l=o;return n&&(r.setAttribute("href",l),l=r.href),r.setAttribute("href",l),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return i=s(window.location.href),function(l){var c=t.isString(l)?s(l):l;return c.protocol===i.protocol&&c.host===i.host}}():function(){return function(){return!0}}(),Sp}var Ep,zb;function qb(){if(zb)return Ep;zb=1;var t=nr,e=eB(),n=tB(),r=Jk,i=iB(),s=sB(),o=oB(),l=e2();return Ep=function(h){return new Promise(function(m,_){var v=h.data,S=h.headers,k=h.responseType;t.isFormData(v)&&delete S["Content-Type"];var I=new XMLHttpRequest;if(h.auth){var R=h.auth.username||"",M=h.auth.password?unescape(encodeURIComponent(h.auth.password)):"";S.Authorization="Basic "+btoa(R+":"+M)}var V=i(h.baseURL,h.url);I.open(h.method.toUpperCase(),r(V,h.params,h.paramsSerializer),!0),I.timeout=h.timeout;function L(){if(I){var W="getAllResponseHeaders"in I?s(I.getAllResponseHeaders()):null,q=!k||k==="text"||k==="json"?I.responseText:I.response,Q={data:q,status:I.status,statusText:I.statusText,headers:W,config:h,request:I};e(m,_,Q),I=null}}if("onloadend"in I?I.onloadend=L:I.onreadystatechange=function(){!I||I.readyState!==4||I.status===0&&!(I.responseURL&&I.responseURL.indexOf("file:")===0)||setTimeout(L)},I.onabort=function(){I&&(_(l("Request aborted",h,"ECONNABORTED",I)),I=null)},I.onerror=function(){_(l("Network Error",h,null,I)),I=null},I.ontimeout=function(){var q="timeout of "+h.timeout+"ms exceeded";h.timeoutErrorMessage&&(q=h.timeoutErrorMessage),_(l(q,h,h.transitional&&h.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",I)),I=null},t.isStandardBrowserEnv()){var D=(h.withCredentials||o(V))&&h.xsrfCookieName?n.read(h.xsrfCookieName):void 0;D&&(S[h.xsrfHeaderName]=D)}"setRequestHeader"in I&&t.forEach(S,function(q,Q){typeof v>"u"&&Q.toLowerCase()==="content-type"?delete S[Q]:I.setRequestHeader(Q,q)}),t.isUndefined(h.withCredentials)||(I.withCredentials=!!h.withCredentials),k&&k!=="json"&&(I.responseType=h.responseType),typeof h.onDownloadProgress=="function"&&I.addEventListener("progress",h.onDownloadProgress),typeof h.onUploadProgress=="function"&&I.upload&&I.upload.addEventListener("progress",h.onUploadProgress),h.cancelToken&&h.cancelToken.promise.then(function(q){I&&(I.abort(),_(q),I=null)}),v||(v=null),I.send(v)})},Ep}var pn=nr,Gb=ZU,aB=Zk,lB={"Content-Type":"application/x-www-form-urlencoded"};function Kb(t,e){!pn.isUndefined(t)&&pn.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function cB(){var t;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(t=qb()),t}function uB(t,e,n){if(pn.isString(t))try{return(e||JSON.parse)(t),pn.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}var Ih={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:cB(),transformRequest:[function(e,n){return Gb(n,"Accept"),Gb(n,"Content-Type"),pn.isFormData(e)||pn.isArrayBuffer(e)||pn.isBuffer(e)||pn.isStream(e)||pn.isFile(e)||pn.isBlob(e)?e:pn.isArrayBufferView(e)?e.buffer:pn.isURLSearchParams(e)?(Kb(n,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):pn.isObject(e)||n&&n["Content-Type"]==="application/json"?(Kb(n,"application/json"),uB(e)):e}],transformResponse:[function(e){var n=this.transitional,r=n&&n.silentJSONParsing,i=n&&n.forcedJSONParsing,s=!r&&this.responseType==="json";if(s||i&&pn.isString(e)&&e.length)try{return JSON.parse(e)}catch(o){if(s)throw o.name==="SyntaxError"?aB(o,this,"E_JSON_PARSE"):o}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};Ih.headers={common:{Accept:"application/json, text/plain, */*"}};pn.forEach(["delete","get","head"],function(e){Ih.headers[e]={}});pn.forEach(["post","put","patch"],function(e){Ih.headers[e]=pn.merge(lB)});var fv=Ih,hB=nr,fB=fv,dB=function(e,n,r){var i=this||fB;return hB.forEach(r,function(o){e=o.call(i,e,n)}),e},Tp,Yb;function t2(){return Yb||(Yb=1,Tp=function(e){return!!(e&&e.__CANCEL__)}),Tp}var Qb=nr,Ip=dB,pB=t2(),gB=fv;function kp(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var mB=function(e){kp(e),e.headers=e.headers||{},e.data=Ip.call(e,e.data,e.headers,e.transformRequest),e.headers=Qb.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),Qb.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var n=e.adapter||gB.adapter;return n(e).then(function(i){return kp(e),i.data=Ip.call(e,i.data,i.headers,e.transformResponse),i},function(i){return pB(i)||(kp(e),i&&i.response&&(i.response.data=Ip.call(e,i.response.data,i.response.headers,e.transformResponse))),Promise.reject(i)})},Sn=nr,n2=function(e,n){n=n||{};var r={},i=["url","method","data"],s=["headers","auth","proxy","params"],o=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],l=["validateStatus"];function c(_,v){return Sn.isPlainObject(_)&&Sn.isPlainObject(v)?Sn.merge(_,v):Sn.isPlainObject(v)?Sn.merge({},v):Sn.isArray(v)?v.slice():v}function h(_){Sn.isUndefined(n[_])?Sn.isUndefined(e[_])||(r[_]=c(void 0,e[_])):r[_]=c(e[_],n[_])}Sn.forEach(i,function(v){Sn.isUndefined(n[v])||(r[v]=c(void 0,n[v]))}),Sn.forEach(s,h),Sn.forEach(o,function(v){Sn.isUndefined(n[v])?Sn.isUndefined(e[v])||(r[v]=c(void 0,e[v])):r[v]=c(void 0,n[v])}),Sn.forEach(l,function(v){v in n?r[v]=c(e[v],n[v]):v in e&&(r[v]=c(void 0,e[v]))});var g=i.concat(s).concat(o).concat(l),m=Object.keys(e).concat(Object.keys(n)).filter(function(v){return g.indexOf(v)===-1});return Sn.forEach(m,h),r};const vB="axios",yB="0.21.4",_B="Promise based HTTP client for the browser and node.js",wB="index.js",bB={test:"grunt test",start:"node ./sandbox/server.js",build:"NODE_ENV=production grunt build",preversion:"npm test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json",postversion:"git push && git push --tags",examples:"node ./examples/server.js",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",fix:"eslint --fix lib/**/*.js"},AB={type:"git",url:"https://github.com/axios/axios.git"},SB=["xhr","http","ajax","promise","node"],EB="Matt Zabriskie",TB="MIT",IB={url:"https://github.com/axios/axios/issues"},kB="https://axios-http.com",CB={coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},PB={"./lib/adapters/http.js":"./lib/adapters/xhr.js"},RB="dist/axios.min.js",DB="dist/axios.min.js",OB="./index.d.ts",MB={"follow-redirects":"^1.14.0"},NB=[{path:"./dist/axios.min.js",threshold:"5kB"}],LB={name:vB,version:yB,description:_B,main:wB,scripts:bB,repository:AB,keywords:SB,author:EB,license:TB,bugs:IB,homepage:kB,devDependencies:CB,browser:PB,jsdelivr:RB,unpkg:DB,typings:OB,dependencies:MB,bundlesize:NB};var r2=LB,dv={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){dv[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});var Xb={},VB=r2.version.split(".");function i2(t,e){for(var n=e?e.split("."):VB,r=t.split("."),i=0;i<3;i++){if(n[i]>r[i])return!0;if(n[i]<r[i])return!1}return!1}dv.transitional=function(e,n,r){var i=n&&i2(n);function s(o,l){return"[Axios v"+r2.version+"] Transitional option '"+o+"'"+l+(r?". "+r:"")}return function(o,l,c){if(e===!1)throw new Error(s(l," has been removed in "+n));return i&&!Xb[l]&&(Xb[l]=!0,console.warn(s(l," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,l,c):!0}};function HB(t,e,n){if(typeof t!="object")throw new TypeError("options must be an object");for(var r=Object.keys(t),i=r.length;i-- >0;){var s=r[i],o=e[s];if(o){var l=t[s],c=l===void 0||o(l,s,t);if(c!==!0)throw new TypeError("option "+s+" must be "+c);continue}if(n!==!0)throw Error("Unknown option "+s)}}var FB={isOlderVersion:i2,assertOptions:HB,validators:dv},s2=nr,xB=Jk,$b=$U,Jb=mB,kh=n2,o2=FB,Ks=o2.validators;function xl(t){this.defaults=t,this.interceptors={request:new $b,response:new $b}}xl.prototype.request=function(e){typeof e=="string"?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=kh(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var n=e.transitional;n!==void 0&&o2.assertOptions(n,{silentJSONParsing:Ks.transitional(Ks.boolean,"1.0.0"),forcedJSONParsing:Ks.transitional(Ks.boolean,"1.0.0"),clarifyTimeoutError:Ks.transitional(Ks.boolean,"1.0.0")},!1);var r=[],i=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(e)===!1||(i=i&&_.synchronous,r.unshift(_.fulfilled,_.rejected))});var s=[];this.interceptors.response.forEach(function(_){s.push(_.fulfilled,_.rejected)});var o;if(!i){var l=[Jb,void 0];for(Array.prototype.unshift.apply(l,r),l=l.concat(s),o=Promise.resolve(e);l.length;)o=o.then(l.shift(),l.shift());return o}for(var c=e;r.length;){var h=r.shift(),g=r.shift();try{c=h(c)}catch(m){g(m);break}}try{o=Jb(c)}catch(m){return Promise.reject(m)}for(;s.length;)o=o.then(s.shift(),s.shift());return o};xl.prototype.getUri=function(e){return e=kh(this.defaults,e),xB(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};s2.forEach(["delete","get","head","options"],function(e){xl.prototype[e]=function(n,r){return this.request(kh(r||{},{method:e,url:n,data:(r||{}).data}))}});s2.forEach(["post","put","patch"],function(e){xl.prototype[e]=function(n,r,i){return this.request(kh(i||{},{method:e,url:n,data:r}))}});var UB=xl,Cp,Zb;function a2(){if(Zb)return Cp;Zb=1;function t(e){this.message=e}return t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,Cp=t,Cp}var Pp,eA;function BB(){if(eA)return Pp;eA=1;var t=a2();function e(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var r;this.promise=new Promise(function(o){r=o});var i=this;n(function(o){i.reason||(i.reason=new t(o),r(i.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.source=function(){var r,i=new e(function(o){r=o});return{token:i,cancel:r}},Pp=e,Pp}var Rp,tA;function WB(){return tA||(tA=1,Rp=function(e){return function(r){return e.apply(null,r)}}),Rp}var Dp,nA;function jB(){return nA||(nA=1,Dp=function(e){return typeof e=="object"&&e.isAxiosError===!0}),Dp}var rA=nr,zB=Qk,eu=UB,qB=n2,GB=fv;function l2(t){var e=new eu(t),n=zB(eu.prototype.request,e);return rA.extend(n,eu.prototype,e),rA.extend(n,e),n}var vr=l2(GB);vr.Axios=eu;vr.create=function(e){return l2(qB(vr.defaults,e))};vr.Cancel=a2();vr.CancelToken=BB();vr.isCancel=t2();vr.all=function(e){return Promise.all(e)};vr.spread=WB();vr.isAxiosError=jB();cv.exports=vr;cv.exports.default=vr;var KB=cv.exports,YB=KB;const c2=lv(YB);var QB=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[n]=i;for(n in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,n);if(o.value!==i||o.enumerable!==!0)return!1}return!0},iA=typeof Symbol<"u"&&Symbol,XB=QB,$B=function(){return typeof iA!="function"||typeof Symbol!="function"||typeof iA("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:XB()},sA={foo:{}},JB=Object,ZB=function(){return{__proto__:sA}.foo===sA.foo&&!({__proto__:null}instanceof JB)},e7="Function.prototype.bind called on incompatible ",Op=Array.prototype.slice,t7=Object.prototype.toString,n7="[object Function]",r7=function(e){var n=this;if(typeof n!="function"||t7.call(n)!==n7)throw new TypeError(e7+n);for(var r=Op.call(arguments,1),i,s=function(){if(this instanceof i){var g=n.apply(this,r.concat(Op.call(arguments)));return Object(g)===g?g:this}else return n.apply(e,r.concat(Op.call(arguments)))},o=Math.max(0,n.length-r.length),l=[],c=0;c<o;c++)l.push("$"+c);if(i=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(s),n.prototype){var h=function(){};h.prototype=n.prototype,i.prototype=new h,h.prototype=null}return i},i7=r7,pv=Function.prototype.bind||i7,s7=pv,o7=s7.call(Function.call,Object.prototype.hasOwnProperty),Be,To=SyntaxError,u2=Function,fo=TypeError,Mp=function(t){try{return u2('"use strict"; return ('+t+").constructor;")()}catch{}},Zi=Object.getOwnPropertyDescriptor;if(Zi)try{Zi({},"")}catch{Zi=null}var Np=function(){throw new fo},a7=Zi?function(){try{return arguments.callee,Np}catch{try{return Zi(arguments,"callee").get}catch{return Np}}}():Np,Ys=$B(),l7=ZB(),sn=Object.getPrototypeOf||(l7?function(t){return t.__proto__}:null),no={},c7=typeof Uint8Array>"u"||!sn?Be:sn(Uint8Array),es={"%AggregateError%":typeof AggregateError>"u"?Be:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Be:ArrayBuffer,"%ArrayIteratorPrototype%":Ys&&sn?sn([][Symbol.iterator]()):Be,"%AsyncFromSyncIteratorPrototype%":Be,"%AsyncFunction%":no,"%AsyncGenerator%":no,"%AsyncGeneratorFunction%":no,"%AsyncIteratorPrototype%":no,"%Atomics%":typeof Atomics>"u"?Be:Atomics,"%BigInt%":typeof BigInt>"u"?Be:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Be:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Be:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Be:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Be:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Be:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Be:FinalizationRegistry,"%Function%":u2,"%GeneratorFunction%":no,"%Int8Array%":typeof Int8Array>"u"?Be:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Be:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Be:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Ys&&sn?sn(sn([][Symbol.iterator]())):Be,"%JSON%":typeof JSON=="object"?JSON:Be,"%Map%":typeof Map>"u"?Be:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Ys||!sn?Be:sn(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Be:Promise,"%Proxy%":typeof Proxy>"u"?Be:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Be:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Be:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Ys||!sn?Be:sn(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Be:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Ys&&sn?sn(""[Symbol.iterator]()):Be,"%Symbol%":Ys?Symbol:Be,"%SyntaxError%":To,"%ThrowTypeError%":a7,"%TypedArray%":c7,"%TypeError%":fo,"%Uint8Array%":typeof Uint8Array>"u"?Be:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Be:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Be:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Be:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Be:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Be:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Be:WeakSet};if(sn)try{null.error}catch(t){var u7=sn(sn(t));es["%Error.prototype%"]=u7}var h7=function t(e){var n;if(e==="%AsyncFunction%")n=Mp("async function () {}");else if(e==="%GeneratorFunction%")n=Mp("function* () {}");else if(e==="%AsyncGeneratorFunction%")n=Mp("async function* () {}");else if(e==="%AsyncGenerator%"){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&sn&&(n=sn(i.prototype))}return es[e]=n,n},oA={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Ul=pv,Ou=o7,f7=Ul.call(Function.call,Array.prototype.concat),d7=Ul.call(Function.apply,Array.prototype.splice),aA=Ul.call(Function.call,String.prototype.replace),Mu=Ul.call(Function.call,String.prototype.slice),p7=Ul.call(Function.call,RegExp.prototype.exec),g7=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,m7=/\\(\\)?/g,v7=function(e){var n=Mu(e,0,1),r=Mu(e,-1);if(n==="%"&&r!=="%")throw new To("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&n!=="%")throw new To("invalid intrinsic syntax, expected opening `%`");var i=[];return aA(e,g7,function(s,o,l,c){i[i.length]=l?aA(c,m7,"$1"):o||s}),i},y7=function(e,n){var r=e,i;if(Ou(oA,r)&&(i=oA[r],r="%"+i[0]+"%"),Ou(es,r)){var s=es[r];if(s===no&&(s=h7(r)),typeof s>"u"&&!n)throw new fo("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:s}}throw new To("intrinsic "+e+" does not exist!")},gv=function(e,n){if(typeof e!="string"||e.length===0)throw new fo("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new fo('"allowMissing" argument must be a boolean');if(p7(/^%?[^%]*%?$/,e)===null)throw new To("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=v7(e),i=r.length>0?r[0]:"",s=y7("%"+i+"%",n),o=s.name,l=s.value,c=!1,h=s.alias;h&&(i=h[0],d7(r,f7([0,1],h)));for(var g=1,m=!0;g<r.length;g+=1){var _=r[g],v=Mu(_,0,1),S=Mu(_,-1);if((v==='"'||v==="'"||v==="`"||S==='"'||S==="'"||S==="`")&&v!==S)throw new To("property names with quotes must have matching quotes");if((_==="constructor"||!m)&&(c=!0),i+="."+_,o="%"+i+"%",Ou(es,o))l=es[o];else if(l!=null){if(!(_ in l)){if(!n)throw new fo("base intrinsic for "+e+" exists, but the property is not available.");return}if(Zi&&g+1>=r.length){var k=Zi(l,_);m=!!k,m&&"get"in k&&!("originalValue"in k.get)?l=k.get:l=l[_]}else m=Ou(l,_),l=l[_];m&&!c&&(es[o]=l)}}return l},h2={exports:{}};(function(t){var e=pv,n=gv,r=n("%Function.prototype.apply%"),i=n("%Function.prototype.call%"),s=n("%Reflect.apply%",!0)||e.call(i,r),o=n("%Object.getOwnPropertyDescriptor%",!0),l=n("%Object.defineProperty%",!0),c=n("%Math.max%");if(l)try{l({},"a",{value:1})}catch{l=null}t.exports=function(m){var _=s(e,i,arguments);if(o&&l){var v=o(_,"length");v.configurable&&l(_,"length",{value:1+c(0,m.length-(arguments.length-1))})}return _};var h=function(){return s(e,r,arguments)};l?l(t.exports,"apply",{value:h}):t.exports.apply=h})(h2);var _7=h2.exports,f2=gv,d2=_7,w7=d2(f2("String.prototype.indexOf")),b7=function(e,n){var r=f2(e,!!n);return typeof r=="function"&&w7(e,".prototype.")>-1?d2(r):r};const A7={},S7=Object.freeze(Object.defineProperty({__proto__:null,default:A7},Symbol.toStringTag,{value:"Module"})),E7=MU(S7);var mv=typeof Map=="function"&&Map.prototype,Lp=Object.getOwnPropertyDescriptor&&mv?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Nu=mv&&Lp&&typeof Lp.get=="function"?Lp.get:null,lA=mv&&Map.prototype.forEach,vv=typeof Set=="function"&&Set.prototype,Vp=Object.getOwnPropertyDescriptor&&vv?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Lu=vv&&Vp&&typeof Vp.get=="function"?Vp.get:null,cA=vv&&Set.prototype.forEach,T7=typeof WeakMap=="function"&&WeakMap.prototype,Wa=T7?WeakMap.prototype.has:null,I7=typeof WeakSet=="function"&&WeakSet.prototype,ja=I7?WeakSet.prototype.has:null,k7=typeof WeakRef=="function"&&WeakRef.prototype,uA=k7?WeakRef.prototype.deref:null,C7=Boolean.prototype.valueOf,P7=Object.prototype.toString,R7=Function.prototype.toString,D7=String.prototype.match,yv=String.prototype.slice,yi=String.prototype.replace,O7=String.prototype.toUpperCase,hA=String.prototype.toLowerCase,p2=RegExp.prototype.test,fA=Array.prototype.concat,Nr=Array.prototype.join,M7=Array.prototype.slice,dA=Math.floor,Og=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Hp=Object.getOwnPropertySymbols,Mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Io=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Dn=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Io||"symbol")?Symbol.toStringTag:null,g2=Object.prototype.propertyIsEnumerable,pA=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function gA(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||p2.call(/e/,e))return e;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var r=t<0?-dA(-t):dA(t);if(r!==t){var i=String(r),s=yv.call(e,i.length+1);return yi.call(i,n,"$&_")+"."+yi.call(yi.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return yi.call(e,n,"$&_")}var Ng=E7,mA=Ng.custom,vA=v2(mA)?mA:null,N7=function t(e,n,r,i){var s=n||{};if(hi(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(hi(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=hi(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(hi(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(hi(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var l=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return _2(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return l?gA(e,c):c}if(typeof e=="bigint"){var h=String(e)+"n";return l?gA(e,h):h}var g=typeof s.depth>"u"?5:s.depth;if(typeof r>"u"&&(r=0),r>=g&&g>0&&typeof e=="object")return Lg(e)?"[Array]":"[Object]";var m=J7(s,r);if(typeof i>"u")i=[];else if(y2(i,e)>=0)return"[Circular]";function _(ye,rt,ie){if(rt&&(i=M7.call(i),i.push(rt)),ie){var Te={depth:s.depth};return hi(s,"quoteStyle")&&(Te.quoteStyle=s.quoteStyle),t(ye,Te,r+1,i)}return t(ye,s,r+1,i)}if(typeof e=="function"&&!yA(e)){var v=j7(e),S=Uc(e,_);return"[Function"+(v?": "+v:" (anonymous)")+"]"+(S.length>0?" { "+Nr.call(S,", ")+" }":"")}if(v2(e)){var k=Io?yi.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Mg.call(e);return typeof e=="object"&&!Io?Ta(k):k}if(Q7(e)){for(var I="<"+hA.call(String(e.nodeName)),R=e.attributes||[],M=0;M<R.length;M++)I+=" "+R[M].name+"="+m2(L7(R[M].value),"double",s);return I+=">",e.childNodes&&e.childNodes.length&&(I+="..."),I+="</"+hA.call(String(e.nodeName))+">",I}if(Lg(e)){if(e.length===0)return"[]";var V=Uc(e,_);return m&&!$7(V)?"["+Vg(V,m)+"]":"[ "+Nr.call(V,", ")+" ]"}if(H7(e)){var L=Uc(e,_);return!("cause"in Error.prototype)&&"cause"in e&&!g2.call(e,"cause")?"{ ["+String(e)+"] "+Nr.call(fA.call("[cause]: "+_(e.cause),L),", ")+" }":L.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Nr.call(L,", ")+" }"}if(typeof e=="object"&&o){if(vA&&typeof e[vA]=="function"&&Ng)return Ng(e,{depth:g-r});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(z7(e)){var D=[];return lA&&lA.call(e,function(ye,rt){D.push(_(rt,e,!0)+" => "+_(ye,e))}),_A("Map",Nu.call(e),D,m)}if(K7(e)){var W=[];return cA&&cA.call(e,function(ye){W.push(_(ye,e))}),_A("Set",Lu.call(e),W,m)}if(q7(e))return Fp("WeakMap");if(Y7(e))return Fp("WeakSet");if(G7(e))return Fp("WeakRef");if(x7(e))return Ta(_(Number(e)));if(B7(e))return Ta(_(Og.call(e)));if(U7(e))return Ta(C7.call(e));if(F7(e))return Ta(_(String(e)));if(!V7(e)&&!yA(e)){var q=Uc(e,_),Q=pA?pA(e)===Object.prototype:e instanceof Object||e.constructor===Object,$=e instanceof Object?"":"null prototype",K=!Q&&Dn&&Object(e)===e&&Dn in e?yv.call(Mi(e),8,-1):$?"Object":"",we=Q||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",ue=we+(K||$?"["+Nr.call(fA.call([],K||[],$||[]),": ")+"] ":"");return q.length===0?ue+"{}":m?ue+"{"+Vg(q,m)+"}":ue+"{ "+Nr.call(q,", ")+" }"}return String(e)};function m2(t,e,n){var r=(n.quoteStyle||e)==="double"?'"':"'";return r+t+r}function L7(t){return yi.call(String(t),/"/g,"&quot;")}function Lg(t){return Mi(t)==="[object Array]"&&(!Dn||!(typeof t=="object"&&Dn in t))}function V7(t){return Mi(t)==="[object Date]"&&(!Dn||!(typeof t=="object"&&Dn in t))}function yA(t){return Mi(t)==="[object RegExp]"&&(!Dn||!(typeof t=="object"&&Dn in t))}function H7(t){return Mi(t)==="[object Error]"&&(!Dn||!(typeof t=="object"&&Dn in t))}function F7(t){return Mi(t)==="[object String]"&&(!Dn||!(typeof t=="object"&&Dn in t))}function x7(t){return Mi(t)==="[object Number]"&&(!Dn||!(typeof t=="object"&&Dn in t))}function U7(t){return Mi(t)==="[object Boolean]"&&(!Dn||!(typeof t=="object"&&Dn in t))}function v2(t){if(Io)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!Mg)return!1;try{return Mg.call(t),!0}catch{}return!1}function B7(t){if(!t||typeof t!="object"||!Og)return!1;try{return Og.call(t),!0}catch{}return!1}var W7=Object.prototype.hasOwnProperty||function(t){return t in this};function hi(t,e){return W7.call(t,e)}function Mi(t){return P7.call(t)}function j7(t){if(t.name)return t.name;var e=D7.call(R7.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function y2(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function z7(t){if(!Nu||!t||typeof t!="object")return!1;try{Nu.call(t);try{Lu.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function q7(t){if(!Wa||!t||typeof t!="object")return!1;try{Wa.call(t,Wa);try{ja.call(t,ja)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function G7(t){if(!uA||!t||typeof t!="object")return!1;try{return uA.call(t),!0}catch{}return!1}function K7(t){if(!Lu||!t||typeof t!="object")return!1;try{Lu.call(t);try{Nu.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function Y7(t){if(!ja||!t||typeof t!="object")return!1;try{ja.call(t,ja);try{Wa.call(t,Wa)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function Q7(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function _2(t,e){if(t.length>e.maxStringLength){var n=t.length-e.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return _2(yv.call(t,0,e.maxStringLength),e)+r}var i=yi.call(yi.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,X7);return m2(i,"single",e)}function X7(t){var e=t.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return n?"\\"+n:"\\x"+(e<16?"0":"")+O7.call(e.toString(16))}function Ta(t){return"Object("+t+")"}function Fp(t){return t+" { ? }"}function _A(t,e,n,r){var i=r?Vg(n,r):Nr.call(n,", ");return t+" ("+e+") {"+i+"}"}function $7(t){for(var e=0;e<t.length;e++)if(y2(t[e],`
`)>=0)return!1;return!0}function J7(t,e){var n;if(t.indent==="	")n="	";else if(typeof t.indent=="number"&&t.indent>0)n=Nr.call(Array(t.indent+1)," ");else return null;return{base:n,prev:Nr.call(Array(e+1),n)}}function Vg(t,e){if(t.length===0)return"";var n=`
`+e.prev+e.base;return n+Nr.call(t,","+n)+`
`+e.prev}function Uc(t,e){var n=Lg(t),r=[];if(n){r.length=t.length;for(var i=0;i<t.length;i++)r[i]=hi(t,i)?e(t[i],t):""}var s=typeof Hp=="function"?Hp(t):[],o;if(Io){o={};for(var l=0;l<s.length;l++)o["$"+s[l]]=s[l]}for(var c in t)hi(t,c)&&(n&&String(Number(c))===c&&c<t.length||Io&&o["$"+c]instanceof Symbol||(p2.call(/[^\w$]/,c)?r.push(e(c,t)+": "+e(t[c],t)):r.push(c+": "+e(t[c],t))));if(typeof Hp=="function")for(var h=0;h<s.length;h++)g2.call(t,s[h])&&r.push("["+e(s[h])+"]: "+e(t[s[h]],t));return r}var _v=gv,Wo=b7,Z7=N7,eW=_v("%TypeError%"),Bc=_v("%WeakMap%",!0),Wc=_v("%Map%",!0),tW=Wo("WeakMap.prototype.get",!0),nW=Wo("WeakMap.prototype.set",!0),rW=Wo("WeakMap.prototype.has",!0),iW=Wo("Map.prototype.get",!0),sW=Wo("Map.prototype.set",!0),oW=Wo("Map.prototype.has",!0),wv=function(t,e){for(var n=t,r;(r=n.next)!==null;n=r)if(r.key===e)return n.next=r.next,r.next=t.next,t.next=r,r},aW=function(t,e){var n=wv(t,e);return n&&n.value},lW=function(t,e,n){var r=wv(t,e);r?r.value=n:t.next={key:e,next:t.next,value:n}},cW=function(t,e){return!!wv(t,e)},uW=function(){var e,n,r,i={assert:function(s){if(!i.has(s))throw new eW("Side channel does not contain "+Z7(s))},get:function(s){if(Bc&&s&&(typeof s=="object"||typeof s=="function")){if(e)return tW(e,s)}else if(Wc){if(n)return iW(n,s)}else if(r)return aW(r,s)},has:function(s){if(Bc&&s&&(typeof s=="object"||typeof s=="function")){if(e)return rW(e,s)}else if(Wc){if(n)return oW(n,s)}else if(r)return cW(r,s);return!1},set:function(s,o){Bc&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new Bc),nW(e,s,o)):Wc?(n||(n=new Wc),sW(n,s,o)):(r||(r={key:{},next:null}),lW(r,s,o))}};return i},hW=String.prototype.replace,fW=/%20/g,xp={RFC1738:"RFC1738",RFC3986:"RFC3986"},bv={default:xp.RFC3986,formatters:{RFC1738:function(t){return hW.call(t,fW,"+")},RFC3986:function(t){return String(t)}},RFC1738:xp.RFC1738,RFC3986:xp.RFC3986},dW=bv,Up=Object.prototype.hasOwnProperty,ji=Array.isArray,Mr=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),pW=function(e){for(;e.length>1;){var n=e.pop(),r=n.obj[n.prop];if(ji(r)){for(var i=[],s=0;s<r.length;++s)typeof r[s]<"u"&&i.push(r[s]);n.obj[n.prop]=i}}},w2=function(e,n){for(var r=n&&n.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(r[i]=e[i]);return r},gW=function t(e,n,r){if(!n)return e;if(typeof n!="object"){if(ji(e))e.push(n);else if(e&&typeof e=="object")(r&&(r.plainObjects||r.allowPrototypes)||!Up.call(Object.prototype,n))&&(e[n]=!0);else return[e,n];return e}if(!e||typeof e!="object")return[e].concat(n);var i=e;return ji(e)&&!ji(n)&&(i=w2(e,r)),ji(e)&&ji(n)?(n.forEach(function(s,o){if(Up.call(e,o)){var l=e[o];l&&typeof l=="object"&&s&&typeof s=="object"?e[o]=t(l,s,r):e.push(s)}else e[o]=s}),e):Object.keys(n).reduce(function(s,o){var l=n[o];return Up.call(s,o)?s[o]=t(s[o],l,r):s[o]=l,s},i)},mW=function(e,n){return Object.keys(n).reduce(function(r,i){return r[i]=n[i],r},e)},vW=function(t,e,n){var r=t.replace(/\+/g," ");if(n==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},yW=function(e,n,r,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),r==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(g){return"%26%23"+parseInt(g.slice(2),16)+"%3B"});for(var l="",c=0;c<o.length;++c){var h=o.charCodeAt(c);if(h===45||h===46||h===95||h===126||h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||s===dW.RFC1738&&(h===40||h===41)){l+=o.charAt(c);continue}if(h<128){l=l+Mr[h];continue}if(h<2048){l=l+(Mr[192|h>>6]+Mr[128|h&63]);continue}if(h<55296||h>=57344){l=l+(Mr[224|h>>12]+Mr[128|h>>6&63]+Mr[128|h&63]);continue}c+=1,h=65536+((h&1023)<<10|o.charCodeAt(c)&1023),l+=Mr[240|h>>18]+Mr[128|h>>12&63]+Mr[128|h>>6&63]+Mr[128|h&63]}return l},_W=function(e){for(var n=[{obj:{o:e},prop:"o"}],r=[],i=0;i<n.length;++i)for(var s=n[i],o=s.obj[s.prop],l=Object.keys(o),c=0;c<l.length;++c){var h=l[c],g=o[h];typeof g=="object"&&g!==null&&r.indexOf(g)===-1&&(n.push({obj:o,prop:h}),r.push(g))}return pW(n),e},wW=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},bW=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},AW=function(e,n){return[].concat(e,n)},SW=function(e,n){if(ji(e)){for(var r=[],i=0;i<e.length;i+=1)r.push(n(e[i]));return r}return n(e)},b2={arrayToObject:w2,assign:mW,combine:AW,compact:_W,decode:vW,encode:yW,isBuffer:bW,isRegExp:wW,maybeMap:SW,merge:gW},A2=uW,tu=b2,za=bv,EW=Object.prototype.hasOwnProperty,wA={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,n){return e+"["+n+"]"},repeat:function(e){return e}},Qr=Array.isArray,TW=Array.prototype.push,S2=function(t,e){TW.apply(t,Qr(e)?e:[e])},IW=Date.prototype.toISOString,bA=za.default,En={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:tu.encode,encodeValuesOnly:!1,format:bA,formatter:za.formatters[bA],indices:!1,serializeDate:function(e){return IW.call(e)},skipNulls:!1,strictNullHandling:!1},kW=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Bp={},CW=function t(e,n,r,i,s,o,l,c,h,g,m,_,v,S,k,I){for(var R=e,M=I,V=0,L=!1;(M=M.get(Bp))!==void 0&&!L;){var D=M.get(e);if(V+=1,typeof D<"u"){if(D===V)throw new RangeError("Cyclic object value");L=!0}typeof M.get(Bp)>"u"&&(V=0)}if(typeof c=="function"?R=c(n,R):R instanceof Date?R=m(R):r==="comma"&&Qr(R)&&(R=tu.maybeMap(R,function(Te){return Te instanceof Date?m(Te):Te})),R===null){if(s)return l&&!S?l(n,En.encoder,k,"key",_):n;R=""}if(kW(R)||tu.isBuffer(R)){if(l){var W=S?n:l(n,En.encoder,k,"key",_);return[v(W)+"="+v(l(R,En.encoder,k,"value",_))]}return[v(n)+"="+v(String(R))]}var q=[];if(typeof R>"u")return q;var Q;if(r==="comma"&&Qr(R))S&&l&&(R=tu.maybeMap(R,l)),Q=[{value:R.length>0?R.join(",")||null:void 0}];else if(Qr(c))Q=c;else{var $=Object.keys(R);Q=h?$.sort(h):$}for(var K=i&&Qr(R)&&R.length===1?n+"[]":n,we=0;we<Q.length;++we){var ue=Q[we],ye=typeof ue=="object"&&typeof ue.value<"u"?ue.value:R[ue];if(!(o&&ye===null)){var rt=Qr(R)?typeof r=="function"?r(K,ue):K:K+(g?"."+ue:"["+ue+"]");I.set(e,V);var ie=A2();ie.set(Bp,I),S2(q,t(ye,rt,r,i,s,o,r==="comma"&&S&&Qr(R)?null:l,c,h,g,m,_,v,S,k,ie))}}return q},PW=function(e){if(!e)return En;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=e.charset||En.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=za.default;if(typeof e.format<"u"){if(!EW.call(za.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var i=za.formatters[r],s=En.filter;return(typeof e.filter=="function"||Qr(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:En.addQueryPrefix,allowDots:typeof e.allowDots>"u"?En.allowDots:!!e.allowDots,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:En.charsetSentinel,delimiter:typeof e.delimiter>"u"?En.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:En.encode,encoder:typeof e.encoder=="function"?e.encoder:En.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:En.encodeValuesOnly,filter:s,format:r,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:En.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:En.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:En.strictNullHandling}},RW=function(t,e){var n=t,r=PW(e),i,s;typeof r.filter=="function"?(s=r.filter,n=s("",n)):Qr(r.filter)&&(s=r.filter,i=s);var o=[];if(typeof n!="object"||n===null)return"";var l;e&&e.arrayFormat in wA?l=e.arrayFormat:e&&"indices"in e?l=e.indices?"indices":"repeat":l="indices";var c=wA[l];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var h=c==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);for(var g=A2(),m=0;m<i.length;++m){var _=i[m];r.skipNulls&&n[_]===null||S2(o,CW(n[_],_,c,h,r.strictNullHandling,r.skipNulls,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,g))}var v=o.join(r.delimiter),S=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?S+="utf8=%26%2310003%3B&":S+="utf8=%E2%9C%93&"),v.length>0?S+v:""},ko=b2,Hg=Object.prototype.hasOwnProperty,DW=Array.isArray,rn={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:ko.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},OW=function(t){return t.replace(/&#(\d+);/g,function(e,n){return String.fromCharCode(parseInt(n,10))})},E2=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},MW="utf8=%26%2310003%3B",NW="utf8=%E2%9C%93",LW=function(e,n){var r={__proto__:null},i=n.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=n.parameterLimit===1/0?void 0:n.parameterLimit,o=i.split(n.delimiter,s),l=-1,c,h=n.charset;if(n.charsetSentinel)for(c=0;c<o.length;++c)o[c].indexOf("utf8=")===0&&(o[c]===NW?h="utf-8":o[c]===MW&&(h="iso-8859-1"),l=c,c=o.length);for(c=0;c<o.length;++c)if(c!==l){var g=o[c],m=g.indexOf("]="),_=m===-1?g.indexOf("="):m+1,v,S;_===-1?(v=n.decoder(g,rn.decoder,h,"key"),S=n.strictNullHandling?null:""):(v=n.decoder(g.slice(0,_),rn.decoder,h,"key"),S=ko.maybeMap(E2(g.slice(_+1),n),function(k){return n.decoder(k,rn.decoder,h,"value")})),S&&n.interpretNumericEntities&&h==="iso-8859-1"&&(S=OW(S)),g.indexOf("[]=")>-1&&(S=DW(S)?[S]:S),Hg.call(r,v)?r[v]=ko.combine(r[v],S):r[v]=S}return r},VW=function(t,e,n,r){for(var i=r?e:E2(e,n),s=t.length-1;s>=0;--s){var o,l=t[s];if(l==="[]"&&n.parseArrays)o=[].concat(i);else{o=n.plainObjects?Object.create(null):{};var c=l.charAt(0)==="["&&l.charAt(l.length-1)==="]"?l.slice(1,-1):l,h=parseInt(c,10);!n.parseArrays&&c===""?o={0:i}:!isNaN(h)&&l!==c&&String(h)===c&&h>=0&&n.parseArrays&&h<=n.arrayLimit?(o=[],o[h]=i):c!=="__proto__"&&(o[c]=i)}i=o}return i},HW=function(e,n,r,i){if(e){var s=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,l=/(\[[^[\]]*])/g,c=r.depth>0&&o.exec(s),h=c?s.slice(0,c.index):s,g=[];if(h){if(!r.plainObjects&&Hg.call(Object.prototype,h)&&!r.allowPrototypes)return;g.push(h)}for(var m=0;r.depth>0&&(c=l.exec(s))!==null&&m<r.depth;){if(m+=1,!r.plainObjects&&Hg.call(Object.prototype,c[1].slice(1,-1))&&!r.allowPrototypes)return;g.push(c[1])}return c&&g.push("["+s.slice(c.index)+"]"),VW(g,n,r,i)}},FW=function(e){if(!e)return rn;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=typeof e.charset>"u"?rn.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?rn.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:rn.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:rn.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:rn.arrayLimit,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:rn.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:rn.comma,decoder:typeof e.decoder=="function"?e.decoder:rn.decoder,delimiter:typeof e.delimiter=="string"||ko.isRegExp(e.delimiter)?e.delimiter:rn.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:rn.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:rn.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:rn.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:rn.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:rn.strictNullHandling}},xW=function(t,e){var n=FW(e);if(t===""||t===null||typeof t>"u")return n.plainObjects?Object.create(null):{};for(var r=typeof t=="string"?LW(t,n):t,i=n.plainObjects?Object.create(null):{},s=Object.keys(r),o=0;o<s.length;++o){var l=s[o],c=HW(l,r[l],n,typeof t=="string");i=ko.merge(i,c,n)}return n.allowSparse===!0?i:ko.compact(i)},UW=RW,BW=xW,WW=bv,jW={formats:WW,parse:BW,stringify:UW};const zW=lv(jW);function Vu(){return Vu=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vu.apply(this,arguments)}var T2=function(){var e={headers:{}};return pl.apiKey&&(e.headers["X-Api-Key"]=pl.apiKey),e},AA=function(e,n){return c2.get(pl.host+"/"+e+(n&&"?"+zW.stringify(n)),T2()).then(function(r){return r.data})};const Qs=function(t){return{find:function(n){return c2(pl.host+"/"+t+"/"+n,T2()).then(function(r){return r.data.data})},where:function(n){return AA(t,n)},all:function(n,r){n===void 0&&(n={}),r===void 0&&(r=[]);var i=function s(o,l){var c=l.page?l.page+1:1;return AA(o,Vu({},l,{page:c})).then(function(h){var g;return(g=r).push.apply(g,h.data),!h.totalCount||h.pageSize*h.page>=h.totalCount?r:s(o,Vu({},l,{page:c}))}).catch(function(h){return console.error(h)})};return i(t,n)}}};var qW=function(e){var n=e.apiKey;pl.apiKey=n};const Hu={configure:qW,card:Qs("cards"),set:Qs("sets"),type:Qs("types"),subtype:Qs("subtypes"),rarity:Qs("rarities"),supertype:Qs("supertypes")},gl=[{code:"base*",label:"Base"},{code:"bw*",label:"Black & White"},{code:"dp*",label:"Diamond & Pearl"},{code:"ecard*",label:"E-card"},{code:"ex*",label:"EX"},{code:"gym*",label:"Gym"},{code:"*hgss*",label:"HeartGold & SoulSilver"},{code:"np*",label:"NP"},{code:"neo*",label:"Neo"},{code:"pop*",label:"POP"},{code:"pl*",label:"Platinum"},{code:"sv*",label:"Scarlet & Violet"},{code:"sm*",label:"Sun & Moon"},{code:"swsh*",label:"Sword & Shield"},{code:"xy*",label:"XY"}],Fg=()=>window.innerWidth<768,I2=async()=>{Hu.configure({apiKey:"35c2a827-0d26-4c7a-898e-9cab6a3e629a"});const t=gl[Math.floor(Math.random()*gl.length)];let e=Math.floor(Math.random()*1017),n;try{const o=await(await fetch(`https://pokeapi.co/api/v2/pokemon/${e}`)).json();o&&(e=o.name)}catch(s){console.error(s)}const i=(await Hu.card.where({q:`( ${t.code?`set.id:${t.code}`:""} name:"*${e}*" )`,select:"id,name,number,supertype,subtypes,rarity,images,types,set,hp,attacks,weaknesses,resistances,retreatCost,cardmarket",orderBy:"-set.releaseDate,-number",pageSize:1e3})).data||[];if(i.length===0)return null;{let s=i[Math.floor(Math.random()*i.length)];(s.rarity==="Common"||s.rarity==="Uncommon")&&(s.isReverse=!!Math.round(Math.random())),s.set=s.set.id,n=s}if(n)return n},k2=async()=>{const t=[];for(;t.length<3;){const e=await I2();e&&t.push(e)}return t},GW={apiKey:"AIzaSyA8qt1Ut-HO470UlmCMvyziMaMQthCBg2o",authDomain:"pokedex-e9f84.firebaseapp.com",projectId:"pokedex-e9f84",storageBucket:"pokedex-e9f84.appspot.com",messagingSenderId:"313642448232",appId:"1:313642448232:web:8143800177a8f5fe5d12dd",measurementId:"G-H4YLX3ZFDG"},C2=kE(GW),Av=C9(C2);PU(C2);const KW=async(t,e)=>{const n=Ek();return jF(n,t,e).then(r=>({userData:r.user,errorCode:null,errorMessage:null})).catch(r=>{const i=r.code,s=r.message;return{userData:null,errorCode:i,errorMessage:s}})},YW=async(t,e,n)=>{const r=await k2(),i=Ek();return WF(i,t,e).then(async s=>{const o=s.user;return await QW({email:o.email,uid:o.uid,nickname:n,photoURL:"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",collection:r,team:[],friends:[],friendRequests:[],money:300}),{userData:o,errorCode:null,errorMessage:null}}).catch(s=>{const o=s.code,l=s.message;return{userData:null,errorCode:o,errorMessage:l}})},Ci=async t=>{const e=WI(Hm(Av,"users"),jI("uid","==",t)),r=(await qI(e)).docs[0];if(r)return r.ref},QW=async t=>{try{const e=await G9(Hm(Av,"users"),t)}catch(e){console.error("Error adding document: ",e)}},Yn=async t=>{let e;const n=WI(Hm(Av,"users"),jI("uid","==",t));return(await qI(n)).forEach(i=>{i.data().uid&&(e=i.data())}),e},ml=async(t,e)=>{const n=await Ci(t);n&&await os(n,e)},XW=async(t,e)=>{const n=await Ci(t),r=await Ci(e);if(!r)return new Error("Friend not found");const i=await Yn(e),s=i.friendRequests?[...i.friendRequests,t]:[t];n&&r&&await os(r,{friendRequests:s})},$W=async(t,e)=>{const n=await Ci(t),r=await Ci(e);if(!r)return new Error("Friend not found");const i=await Yn(e),s=await Yn(t),o=s.friendRequests?s.friendRequests.filter(h=>h!==e):[],l=s.friends?[...s.friends,e]:[e],c=i.friends?[...i.friends,t]:[t];n&&r&&(await os(n,{friendRequests:o,friends:l}),await os(r,{friends:c}))},JW=async(t,e)=>{const n=await Ci(t);if(!n)return new Error("User not found");const r=await Yn(t),i=r.friendRequests?r.friendRequests.filter(s=>s!==e):[];n&&await os(n,{friendRequests:i})},ZW=async(t,e)=>{const n=await Ci(t),r=await Ci(e);if(!r)return new Error("Friend not found");const i=await Yn(e),s=await Yn(t),o=s.friends?s.friends.filter(c=>c!==e):[],l=i.friends?i.friends.filter(c=>c!==t):[];n&&r&&(await os(n,{friends:o}),await os(r,{friends:l}))};function SA(t){let e,n;return{c(){e=C("p"),n=me(t[2])},m(r,i){x(r,e,i),T(e,n)},p(r,i){i&4&&Ce(n,r[2])},d(r){r&&H(e)}}}function e8(t){let e,n,r,i,s,o,l,c,h,g,m,_,v,S,k=t[2]&&SA(t);return{c(){e=C("main"),n=C("h1"),n.textContent="Log in",r=B(),i=C("input"),s=B(),o=C("input"),l=B(),c=C("div"),h=C("button"),h.textContent="Login",g=B(),m=C("button"),m.textContent="Sign up",_=B(),k&&k.c(),b(n,"class","svelte-1dkjwsa"),b(i,"type","email"),b(i,"placeholder","Email"),b(i,"class","svelte-1dkjwsa"),b(o,"type","password"),b(o,"placeholder","Password"),b(o,"class","svelte-1dkjwsa"),b(h,"class","svelte-1dkjwsa"),b(m,"class","svelte-1dkjwsa"),b(c,"class","auth-buttons svelte-1dkjwsa"),b(e,"class","svelte-1dkjwsa")},m(I,R){x(I,e,R),T(e,n),T(e,r),T(e,i),zn(i,t[0]),T(e,s),T(e,o),zn(o,t[1]),T(e,l),T(e,c),T(c,h),T(c,g),T(c,m),T(e,_),k&&k.m(e,null),v||(S=[le(i,"input",t[5]),le(o,"input",t[6]),le(h,"click",t[7]),le(m,"click",t[8])],v=!0)},p(I,[R]){R&1&&i.value!==I[0]&&zn(i,I[0]),R&2&&o.value!==I[1]&&zn(o,I[1]),I[2]?k?k.p(I,R):(k=SA(I),k.c(),k.m(e,null)):k&&(k.d(1),k=null)},i:z,o:z,d(I){I&&H(e),k&&k.d(),v=!1,Kt(S)}}}function t8(t,e,n){let r,i="",s="",o="";async function l(){const _=await KW(i,s),{userData:v,errorMessage:S}=_;if(v){console.log(v,"userData");const{email:k,uid:I}=v,R=JSON.stringify({email:k,uid:I});sessionStorage.setItem("user",R),window.location.href="/showCase"}else n(2,o=S)}function c(){i=this.value,n(0,i)}function h(){s=this.value,n(1,s)}const g=()=>l(),m=()=>window.location.href="/signup";return t.$$.update=()=>{t.$$.dirty&16&&r&&(window.location.href="/showCase")},n(4,r=sessionStorage.getItem("user")),[i,s,o,l,r,c,h,g,m]}class n8 extends tt{constructor(e){super(),et(this,e,t8,e8,Ue,{})}}function EA(t){let e,n;return{c(){e=C("p"),n=me(t[2])},m(r,i){x(r,e,i),T(e,n)},p(r,i){i&4&&Ce(n,r[2])},d(r){r&&H(e)}}}function r8(t){let e,n,r,i,s,o,l,c,h,g,m,_,v,S,k,I,R=t[2]&&EA(t);return{c(){e=C("main"),n=C("h1"),n.textContent="Sign Up",r=B(),i=C("input"),s=B(),o=C("input"),l=B(),c=C("input"),h=B(),g=C("div"),m=C("button"),m.textContent="Back",_=B(),v=C("button"),v.textContent="Confirm",S=B(),R&&R.c(),b(n,"class","svelte-k4ei78"),b(i,"type","email"),b(i,"placeholder","Email"),b(i,"class","svelte-k4ei78"),b(o,"type","text"),b(o,"placeholder","Nickname"),b(o,"class","svelte-k4ei78"),b(c,"type","password"),b(c,"placeholder","Password"),b(c,"class","svelte-k4ei78"),b(m,"class","svelte-k4ei78"),b(v,"class","svelte-k4ei78"),b(g,"class","signup-buttons svelte-k4ei78"),b(e,"class","svelte-k4ei78")},m(M,V){x(M,e,V),T(e,n),T(e,r),T(e,i),zn(i,t[0]),T(e,s),T(e,o),zn(o,t[3]),T(e,l),T(e,c),zn(c,t[1]),T(e,h),T(e,g),T(g,m),T(g,_),T(g,v),T(g,S),R&&R.m(g,null),k||(I=[le(i,"input",t[5]),le(o,"input",t[6]),le(c,"input",t[7]),le(m,"click",t[8]),le(v,"click",t[9])],k=!0)},p(M,[V]){V&1&&i.value!==M[0]&&zn(i,M[0]),V&8&&o.value!==M[3]&&zn(o,M[3]),V&2&&c.value!==M[1]&&zn(c,M[1]),M[2]?R?R.p(M,V):(R=EA(M),R.c(),R.m(g,null)):R&&(R.d(1),R=null)},i:z,o:z,d(M){M&&H(e),R&&R.d(),k=!1,Kt(I)}}}function i8(t,e,n){let r="",i="",s="",o="";async function l(){const v=await YW(r,i,o),{userData:S,errorMessage:k}=v;S?window.location.href="/":n(2,s=k)}function c(){r=this.value,n(0,r)}function h(){o=this.value,n(3,o)}function g(){i=this.value,n(1,i)}return[r,i,s,o,l,c,h,g,()=>window.location.href="/",()=>l()]}class s8 extends tt{constructor(e){super(),et(this,e,i8,r8,Ue,{})}}const Na=qi(void 0);function o8(t){let e,n;const r=t[4].default,i=Ro(r,t,t[3],null);return{c(){e=C("div"),i&&i.c(),b(e,"class","card-grid svelte-1yq6rbs"),zt(e,"active",t[1])},m(s,o){x(s,e,o),i&&i.m(e,null),t[5](e),n=!0},p(s,[o]){i&&i.p&&(!n||o&8)&&Oo(i,r,s,s[3],n?Do(r,s[3],o,null):Mo(s[3]),null),(!n||o&2)&&zt(e,"active",s[1])},i(s){n||(j(i,s),n=!0)},o(s){G(i,s),n=!1},d(s){s&&H(e),i&&i.d(s),t[5](null)}}}function a8(t,e,n){let r,i;jn(t,Na,h=>n(2,i=h));let{$$slots:s={},$$scope:o}=e,l;function c(h){dt[h?"unshift":"push"](()=>{l=h,n(0,l)})}return t.$$set=h=>{"$$scope"in h&&n(3,o=h.$$scope)},t.$$.update=()=>{t.$$.dirty&5&&n(1,r=l&&l.contains(i))},[l,r,i,o,s,c]}class Ch extends tt{constructor(e){super(),et(this,e,a8,o8,Ue,{})}}const TA={bug:"/assets/images/types/bug.png",dark:"/assets/images/types/dark.png",dragon:"/assets/images/types/dragon.png",electric:"/assets/images/types/electric.png",fairy:"/assets/images/types/fairy.png",fighting:"/assets/images/types/fighting.png",fire:"/assets/images/types/fire.png",flying:"/assets/images/types/flying.png",ghost:"/assets/images/types/ghost.png",grass:"/assets/images/types/grass.png",ground:"/assets/images/types/ground.png",ice:"/assets/images/types/ice.png",normal:"/assets/images/types/normal.png",poison:"/assets/images/types/poison.png",psychic:"/assets/images/types/psychic.png",rock:"/assets/images/types/rock.png",steel:"/assets/images/types/steel.png",water:"/assets/images/types/water.png"};function IA(t,e,n){const r=t.slice();return r[11]=e[n],r[13]=n,r}function l8(t){return{c:z,m:z,p:z,d:z}}function c8(t){let e,n=t[14]&&kA(t);return{c(){n&&n.c(),e=He()},m(r,i){n&&n.m(r,i),x(r,e,i)},p(r,i){r[14]?n?n.p(r,i):(n=kA(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(r){r&&H(e),n&&n.d(r)}}}function kA(t){let e,n,r,i,s,o,l=t[14].name+"",c,h,g;function m(..._){return t[6](t[14],..._)}return{c(){e=C("div"),n=C("img"),s=B(),o=C("p"),c=me(l),he(n.src,r=t[14].image)||b(n,"src",r),b(n,"alt",i=t[14].name),b(o,"class","svelte-97xrlx"),b(e,"class","evolution1 svelte-97xrlx")},m(_,v){x(_,e,v),T(e,n),T(e,s),T(e,o),T(o,c),h||(g=le(e,"click",m),h=!0)},p(_,v){t=_,v&2&&!he(n.src,r=t[14].image)&&b(n,"src",r),v&2&&i!==(i=t[14].name)&&b(n,"alt",i),v&2&&l!==(l=t[14].name+"")&&Ce(c,l)},d(_){_&&H(e),h=!1,g()}}}function u8(t){return{c:z,m:z,p:z,d:z}}function h8(t){return{c:z,m:z,p:z,d:z}}function f8(t){let e,n=t[10]&&CA(t);return{c(){n&&n.c(),e=He()},m(r,i){n&&n.m(r,i),x(r,e,i)},p(r,i){r[10]?n?n.p(r,i):(n=CA(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(r){r&&H(e),n&&n.d(r)}}}function CA(t){let e,n,r,i,s=De(t[10]),o=[];for(let l=0;l<s.length;l+=1)o[l]=PA(IA(t,s,l));return{c(){e=Xr("svg"),n=Xr("line"),r=B(),i=C("div");for(let l=0;l<o.length;l+=1)o[l].c();b(n,"x1","0"),b(n,"y1","70"),b(n,"x2","350"),b(n,"y2","70"),b(n,"stroke","white"),b(e,"class","svelte-97xrlx"),b(i,"class","evolution2 svelte-97xrlx")},m(l,c){x(l,e,c),T(e,n),x(l,r,c),x(l,i,c);for(let h=0;h<o.length;h+=1)o[h]&&o[h].m(i,null)},p(l,c){if(c&5){s=De(l[10]);let h;for(h=0;h<s.length;h+=1){const g=IA(l,s,h);o[h]?o[h].p(g,c):(o[h]=PA(g),o[h].c(),o[h].m(i,null))}for(;h<o.length;h+=1)o[h].d(1);o.length=s.length}},d(l){l&&(H(e),H(r),H(i)),Jt(o,l)}}}function PA(t){let e,n,r,i,s,o,l=t[11].name+"",c,h,g,m;function _(...v){return t[7](t[11],...v)}return{c(){e=C("div"),n=C("img"),s=B(),o=C("p"),c=me(l),h=B(),he(n.src,r=t[11].image)||b(n,"src",r),b(n,"alt",i=t[11].name),b(o,"class","svelte-97xrlx"),b(e,"class","evolution2-iteration-"+t[13]+" evolution2-item svelte-97xrlx")},m(v,S){x(v,e,S),T(e,n),T(e,s),T(e,o),T(o,c),T(e,h),g||(m=le(e,"click",_),g=!0)},p(v,S){t=v,S&4&&!he(n.src,r=t[11].image)&&b(n,"src",r),S&4&&i!==(i=t[11].name)&&b(n,"alt",i),S&4&&l!==(l=t[11].name+"")&&Ce(c,l)},d(v){v&&H(e),g=!1,m()}}}function d8(t){return{c:z,m:z,p:z,d:z}}function p8(t){return{c:z,m:z,p:z,d:z}}function g8(t){let e,n=t[9]&&RA(t);return{c(){n&&n.c(),e=He()},m(r,i){n&&n.m(r,i),x(r,e,i)},p(r,i){r[9]?n?n.p(r,i):(n=RA(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(r){r&&H(e),n&&n.d(r)}}}function RA(t){let e,n,r,i,s,o,l,c,h,g=t[9].name+"",m,_,v;function S(...k){return t[8](t[9],...k)}return{c(){e=Xr("svg"),n=Xr("line"),r=B(),i=C("div"),s=C("img"),c=B(),h=C("p"),m=me(g),b(n,"x1","0"),b(n,"y1","70"),b(n,"x2","350"),b(n,"y2","70"),b(n,"stroke","white"),b(e,"class","svelte-97xrlx"),he(s.src,o=t[9].image)||b(s,"src",o),b(s,"alt",l=t[9].name),b(h,"class","svelte-97xrlx"),b(i,"class","evolution3 svelte-97xrlx")},m(k,I){x(k,e,I),T(e,n),x(k,r,I),x(k,i,I),T(i,s),T(i,c),T(i,h),T(h,m),_||(v=le(i,"click",S),_=!0)},p(k,I){t=k,I&8&&!he(s.src,o=t[9].image)&&b(s,"src",o),I&8&&l!==(l=t[9].name)&&b(s,"alt",l),I&8&&g!==(g=t[9].name+"")&&Ce(m,g)},d(k){k&&(H(e),H(r),H(i)),_=!1,v()}}}function m8(t){return{c:z,m:z,p:z,d:z}}function v8(t){let e,n,r,i,s,o,l,c,h,g={ctx:t,current:null,token:null,hasCatch:!1,pending:u8,then:c8,catch:l8,value:14};qn(s=t[1],g);let m={ctx:t,current:null,token:null,hasCatch:!1,pending:d8,then:f8,catch:h8,value:10};qn(l=t[2],m);let _={ctx:t,current:null,token:null,hasCatch:!1,pending:m8,then:g8,catch:p8,value:9};return qn(h=t[3],_),{c(){e=C("div"),n=C("h3"),n.textContent="Evolution chain",r=B(),i=C("div"),g.block.c(),o=B(),m.block.c(),c=B(),_.block.c(),b(n,"class","svelte-97xrlx"),b(i,"class","evolutions svelte-97xrlx"),b(e,"class","evolution-chain svelte-97xrlx")},m(v,S){x(v,e,S),T(e,n),T(e,r),T(e,i),g.block.m(i,g.anchor=null),g.mount=()=>i,g.anchor=o,T(i,o),m.block.m(i,m.anchor=null),m.mount=()=>i,m.anchor=c,T(i,c),_.block.m(i,_.anchor=null),_.mount=()=>i,_.anchor=null},p(v,[S]){t=v,g.ctx=t,S&2&&s!==(s=t[1])&&qn(s,g)||Xi(g,t,S),m.ctx=t,S&4&&l!==(l=t[2])&&qn(l,m)||Xi(m,t,S),_.ctx=t,S&8&&h!==(h=t[3])&&qn(h,_)||Xi(_,t,S)},i:z,o:z,d(v){v&&H(e),g.block.d(),g.token=null,g=null,m.block.d(),m.token=null,m=null,_.block.d(),_.token=null,_=null}}}function y8(t,e,n){let{evolutionChainData:r}=e,{triggerSearch:i}=e,s=r,o=null,l=null,c=null;const h=(_,v)=>{i(v,_.name)},g=(_,v)=>{i(v,_.name)},m=(_,v)=>{i(v,_.name)};return t.$$set=_=>{"evolutionChainData"in _&&n(4,r=_.evolutionChainData),"triggerSearch"in _&&n(0,i=_.triggerSearch)},t.$$.update=()=>{var _,v;if(t.$$.dirty&48&&r){if(s!==r&&(n(5,s=r),n(1,o=null),n(2,l=null),n(3,c=null)),n(1,o=fetch(r.chain.species.url).then(S=>S.json()).then(S=>{const{id:k,name:I}=S;return{id:k,name:I,image:`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${k}.png`}}).catch(S=>console.log(S))),r.chain.evolves_to.length>0){const S=[];r.chain.evolves_to.forEach(async k=>{n(2,l=await fetch(k.species.url).then(I=>I.json()).then(I=>{const{id:R,name:M}=I;if(S.push({id:R,name:M,image:`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${R}.png`}),S.length===r.chain.evolves_to.length)return S}).catch(I=>console.log(I)))})}n(3,c=fetch((v=(_=r.chain.evolves_to[0])==null?void 0:_.evolves_to[0])==null?void 0:v.species.url).then(S=>S.json()).then(S=>{const{id:k,name:I}=S;return{id:k,name:I,image:`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${k}.png`}}).catch(S=>console.log(S)))}},[i,o,l,c,r,s,h,g,m]}class _8 extends tt{constructor(e){super(),et(this,e,y8,v8,Ue,{evolutionChainData:4,triggerSearch:0})}}function w8(t){let e,n=[{width:t[1]},{height:t[1]},{"stroke-width":"0"},{class:t[2]},t[0].a,t[4],{xmlns:"http://www.w3.org/2000/svg"}],r={};for(let i=0;i<n.length;i+=1)r=go(r,n[i]);return{c(){e=Xr("svg"),z1(e,r)},m(i,s){x(i,e,s),e.innerHTML=t[3]},p(i,[s]){s&8&&(e.innerHTML=i[3]),z1(e,r=ou(n,[s&2&&{width:i[1]},s&2&&{height:i[1]},{"stroke-width":"0"},s&4&&{class:i[2]},s&1&&i[0].a,s&16&&i[4],{xmlns:"http://www.w3.org/2000/svg"}]))},i:z,o:z,d(i){i&&H(e)}}}function b8(t,e,n){let{src:r}=e,{size:i="1em"}=e,{color:s=void 0}=e,{title:o=void 0}=e,{className:l=""}=e,c,h;return t.$$set=g=>{"src"in g&&n(0,r=g.src),"size"in g&&n(1,i=g.size),"color"in g&&n(5,s=g.color),"title"in g&&n(6,o=g.title),"className"in g&&n(2,l=g.className)},t.$$.update=()=>{t.$$.dirty&33&&(n(4,h={}),s&&(r.a.stroke!=="none"&&n(4,h.stroke=s,h),r.a.fill!=="none"&&n(4,h.fill=s,h))),t.$$.dirty&65&&n(3,c=(o?`<title>${o}</title>`:"")+r.c)},[r,i,l,c,h,s,o]}class Co extends tt{constructor(e){super(),et(this,e,b8,w8,Ue,{src:0,size:1,color:5,title:6,className:2})}}const A8={a:{viewBox:"0 0 512 512"},c:'<path d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"></path>'};function S8(t){let e,n;const r=t[2].default,i=Ro(r,t,t[1],null);return{c(){e=C("dialog"),i&&i.c(),b(e,"class","dialog-content svelte-1fx7vnu")},m(s,o){x(s,e,o),i&&i.m(e,null),t[3](e),n=!0},p(s,[o]){i&&i.p&&(!n||o&2)&&Oo(i,r,s,s[1],n?Do(r,s[1],o,null):Mo(s[1]),null)},i(s){n||(j(i,s),n=!0)},o(s){G(i,s),n=!1},d(s){s&&H(e),i&&i.d(s),t[3](null)}}}function E8(t,e,n){let{$$slots:r={},$$scope:i}=e,{dialog:s}=e;function o(l){dt[l?"unshift":"push"](()=>{s=l,n(0,s)})}return t.$$set=l=>{"dialog"in l&&n(0,s=l.dialog),"$$scope"in l&&n(1,i=l.$$scope)},[s,i,r,o]}class T8 extends tt{constructor(e){super(),et(this,e,E8,S8,Ue,{dialog:0})}}function DA(t,e,n){const r=t.slice();return r[15]=e[n],r}function OA(t,e,n){const r=t.slice();return r[19]=e[n],r}function MA(t,e,n){const r=t.slice();return r[22]=e[n],r}function I8(t){let e;return{c(){e=C("span"),b(e,"class","loader svelte-qhednx")},m(n,r){x(n,e,r)},p:z,i:z,o:z,d(n){n&&H(e)}}}function k8(t){let e,n;return{c(){e=C("div"),n=me(t[2])},m(r,i){x(r,e,i),T(e,n)},p(r,i){i&4&&Ce(n,r[2])},i:z,o:z,d(r){r&&H(e)}}}function C8(t){let e,n,r=t[1].name.toUpperCase()+"",i,s,o=t[1].id+"",l,c,h,g,m,_,v,S,k,I,R,M,V,L,D,W,q,Q,$,K,we,ue,ye,rt,ie,Te,J,Fe,Yt,pt,Ot,Me,je,Ie,de,Ve,ze,xt,Bt,mt,at,kt,it,st,On=t[1].weight/10+"",Mn,Un,ur,Zt,en,rr,bt,Ut=t[1].height*10+"",xe,ir,$e,Qt,Mt,Ct,re,lt=t[1].base_experience+"",nt,At,Le,sr,hn,_r,Hi,wn,Nn,qe,Xt,Ln,Je;function ws(pe){t[10](pe)}let bs={triggerSearch:t[4]};t[0]!==void 0&&(bs.evolutionChainData=t[0]),J=new _8({props:bs}),dt.push(()=>Dt(J,"evolutionChainData",ws));function Bl(pe,ct){return pe[1].description?R8:P8}let or=Bl(t),Qn=or(t),wr=De(t[1].stats),fn=[];for(let pe=0;pe<wr.length;pe+=1)fn[pe]=NA(MA(t,wr,pe));let Vt=t[1].abilities.length&&LA(t),si=De(t[1].types),tn=[];for(let pe=0;pe<si.length;pe+=1)tn[pe]=FA(DA(t,si,pe));return{c(){e=C("div"),n=C("h3"),i=me(r),s=me(" #"),l=me(o),c=B(),h=C("div"),g=C("div"),m=C("div"),_=C("img"),k=B(),I=C("img"),V=B(),L=C("img"),q=B(),Q=C("img"),we=B(),ue=C("div"),ye=C("img"),Te=B(),ae(J.$$.fragment),Yt=B(),pt=C("div"),Ot=C("div"),Me=C("div"),je=C("div"),je.innerHTML='<strong class="svelte-qhednx">Description</strong>',Ie=B(),de=C("div"),Qn.c(),Ve=B(),ze=C("div"),xt=C("div"),xt.innerHTML='<strong class="svelte-qhednx">General info</strong>',Bt=B(),mt=C("div"),at=C("div"),kt=C("strong"),kt.textContent="Weight:",it=B(),st=C("p"),Mn=me(On),Un=me(" kgs"),ur=B(),Zt=C("div"),en=C("strong"),en.textContent="Height:",rr=B(),bt=C("p"),xe=me(Ut),ir=me(" cms"),$e=B(),Qt=C("div"),Mt=C("strong"),Mt.textContent="Base experience:",Ct=B(),re=C("p"),nt=me(lt),At=B(),Le=C("div"),sr=C("div"),sr.innerHTML='<strong class="svelte-qhednx">Stats</strong>',hn=B(),_r=C("div");for(let pe=0;pe<fn.length;pe+=1)fn[pe].c();Hi=B(),Vt&&Vt.c(),wn=B(),Nn=C("div"),qe=C("div"),qe.innerHTML='<strong class="svelte-qhednx">Types</strong>',Xt=B(),Ln=C("div");for(let pe=0;pe<tn.length;pe+=1)tn[pe].c();b(e,"class","pokedex-number svelte-qhednx"),he(_.src,v=t[1].sprites.front_default)||b(_,"src",v),b(_,"alt",S=t[1].name),he(I.src,R=t[1].sprites.back_default)||b(I,"src",R),b(I,"alt",M=t[1].name),he(L.src,D=t[1].sprites.front_shiny)||b(L,"src",D),b(L,"alt",W=t[1].name),he(Q.src,$=t[1].sprites.back_shiny)||b(Q,"src",$),b(Q,"alt",K=t[1].name),b(m,"class","sprites-images svelte-qhednx"),he(ye.src,rt=t[1].sprites.other["official-artwork"].front_default)||b(ye,"src",rt),b(ye,"alt",ie=t[1].name),b(ue,"class","main-image svelte-qhednx"),b(g,"class","pokemonData-images svelte-qhednx"),b(je,"class","description-header"),b(de,"class","description-body"),b(Me,"class","pokemonData-description svelte-qhednx"),b(xt,"class","info-header"),b(kt,"class","svelte-qhednx"),b(st,"class","svelte-qhednx"),b(at,"class","info-weight"),b(en,"class","svelte-qhednx"),b(bt,"class","svelte-qhednx"),b(Zt,"class","info-height"),b(Mt,"class","svelte-qhednx"),b(re,"class","svelte-qhednx"),b(Qt,"class","info-base-experience"),b(mt,"class","info-body"),b(ze,"class","main-info svelte-qhednx"),b(Ot,"class","top-info svelte-qhednx"),b(sr,"class","stats-header"),b(_r,"class","stats-body"),b(Le,"class","pokemonData-stats svelte-qhednx"),b(qe,"class","types-header"),b(Ln,"class","types-body"),b(Nn,"class","pokemonData-types svelte-qhednx"),b(pt,"class","pokemonData-info svelte-qhednx"),b(h,"class","pokemonData-content svelte-qhednx")},m(pe,ct){x(pe,e,ct),T(e,n),T(n,i),T(n,s),T(n,l),x(pe,c,ct),x(pe,h,ct),T(h,g),T(g,m),T(m,_),T(m,k),T(m,I),T(m,V),T(m,L),T(m,q),T(m,Q),T(g,we),T(g,ue),T(ue,ye),T(g,Te),se(J,g,null),T(h,Yt),T(h,pt),T(pt,Ot),T(Ot,Me),T(Me,je),T(Me,Ie),T(Me,de),Qn.m(de,null),T(Ot,Ve),T(Ot,ze),T(ze,xt),T(ze,Bt),T(ze,mt),T(mt,at),T(at,kt),T(at,it),T(at,st),T(st,Mn),T(st,Un),T(mt,ur),T(mt,Zt),T(Zt,en),T(Zt,rr),T(Zt,bt),T(bt,xe),T(bt,ir),T(mt,$e),T(mt,Qt),T(Qt,Mt),T(Qt,Ct),T(Qt,re),T(re,nt),T(pt,At),T(pt,Le),T(Le,sr),T(Le,hn),T(Le,_r);for(let Vn=0;Vn<fn.length;Vn+=1)fn[Vn]&&fn[Vn].m(_r,null);T(pt,Hi),Vt&&Vt.m(pt,null),T(pt,wn),T(pt,Nn),T(Nn,qe),T(Nn,Xt),T(Nn,Ln);for(let Vn=0;Vn<tn.length;Vn+=1)tn[Vn]&&tn[Vn].m(Ln,null);Je=!0},p(pe,ct){(!Je||ct&2)&&r!==(r=pe[1].name.toUpperCase()+"")&&Ce(i,r),(!Je||ct&2)&&o!==(o=pe[1].id+"")&&Ce(l,o),(!Je||ct&2&&!he(_.src,v=pe[1].sprites.front_default))&&b(_,"src",v),(!Je||ct&2&&S!==(S=pe[1].name))&&b(_,"alt",S),(!Je||ct&2&&!he(I.src,R=pe[1].sprites.back_default))&&b(I,"src",R),(!Je||ct&2&&M!==(M=pe[1].name))&&b(I,"alt",M),(!Je||ct&2&&!he(L.src,D=pe[1].sprites.front_shiny))&&b(L,"src",D),(!Je||ct&2&&W!==(W=pe[1].name))&&b(L,"alt",W),(!Je||ct&2&&!he(Q.src,$=pe[1].sprites.back_shiny))&&b(Q,"src",$),(!Je||ct&2&&K!==(K=pe[1].name))&&b(Q,"alt",K),(!Je||ct&2&&!he(ye.src,rt=pe[1].sprites.other["official-artwork"].front_default))&&b(ye,"src",rt),(!Je||ct&2&&ie!==(ie=pe[1].name))&&b(ye,"alt",ie);const Vn={};if(ct&16&&(Vn.triggerSearch=pe[4]),!Fe&&ct&1&&(Fe=!0,Vn.evolutionChainData=pe[0],Rt(()=>Fe=!1)),J.$set(Vn),or===(or=Bl(pe))&&Qn?Qn.p(pe,ct):(Qn.d(1),Qn=or(pe),Qn&&(Qn.c(),Qn.m(de,null))),(!Je||ct&2)&&On!==(On=pe[1].weight/10+"")&&Ce(Mn,On),(!Je||ct&2)&&Ut!==(Ut=pe[1].height*10+"")&&Ce(xe,Ut),(!Je||ct&2)&&lt!==(lt=pe[1].base_experience+"")&&Ce(nt,lt),ct&2){wr=De(pe[1].stats);let wt;for(wt=0;wt<wr.length;wt+=1){const Fi=MA(pe,wr,wt);fn[wt]?fn[wt].p(Fi,ct):(fn[wt]=NA(Fi),fn[wt].c(),fn[wt].m(_r,null))}for(;wt<fn.length;wt+=1)fn[wt].d(1);fn.length=wr.length}if(pe[1].abilities.length?Vt?(Vt.p(pe,ct),ct&2&&j(Vt,1)):(Vt=LA(pe),Vt.c(),j(Vt,1),Vt.m(pt,wn)):Vt&&(Qe(),G(Vt,1,1,()=>{Vt=null}),Xe()),ct&2){si=De(pe[1].types);let wt;for(wt=0;wt<si.length;wt+=1){const Fi=DA(pe,si,wt);tn[wt]?tn[wt].p(Fi,ct):(tn[wt]=FA(Fi),tn[wt].c(),tn[wt].m(Ln,null))}for(;wt<tn.length;wt+=1)tn[wt].d(1);tn.length=si.length}},i(pe){Je||(j(J.$$.fragment,pe),j(Vt),Je=!0)},o(pe){G(J.$$.fragment,pe),G(Vt),Je=!1},d(pe){pe&&(H(e),H(c),H(h)),oe(J),Qn.d(),Jt(fn,pe),Vt&&Vt.d(),Jt(tn,pe)}}}function P8(t){let e;return{c(){e=C("p"),e.textContent="No description available",b(e,"class","svelte-qhednx")},m(n,r){x(n,e,r)},p:z,d(n){n&&H(e)}}}function R8(t){let e,n=t[1].description+"",r;return{c(){e=C("p"),r=me(n),b(e,"class","svelte-qhednx")},m(i,s){x(i,e,s),T(e,r)},p(i,s){s&2&&n!==(n=i[1].description+"")&&Ce(r,n)},d(i){i&&H(e)}}}function NA(t){let e,n,r=t[22].stat.name.toUpperCase()+"",i,s,o,l,c=t[22].base_stat+"",h,g;return{c(){e=C("div"),n=C("strong"),i=me(r),s=me(":"),o=B(),l=C("p"),h=me(c),g=B(),b(n,"class","svelte-qhednx"),b(l,"class","svelte-qhednx"),b(e,"class","stats-item")},m(m,_){x(m,e,_),T(e,n),T(n,i),T(n,s),T(e,o),T(e,l),T(l,h),T(e,g)},p(m,_){_&2&&r!==(r=m[22].stat.name.toUpperCase()+"")&&Ce(i,r),_&2&&c!==(c=m[22].base_stat+"")&&Ce(h,c)},d(m){m&&H(e)}}}function LA(t){let e,n,r,i={ctx:t,current:null,token:null,hasCatch:!1,pending:M8,then:O8,catch:D8,value:18,blocks:[,,,]};return qn(n=t[9](t[1].abilities),i),{c(){e=He(),i.block.c()},m(s,o){x(s,e,o),i.block.m(s,i.anchor=o),i.mount=()=>e.parentNode,i.anchor=e,r=!0},p(s,o){t=s,i.ctx=t,o&2&&n!==(n=t[9](t[1].abilities))&&qn(n,i)||Xi(i,t,o)},i(s){r||(j(i.block),r=!0)},o(s){for(let o=0;o<3;o+=1){const l=i.blocks[o];G(l)}r=!1},d(s){s&&H(e),i.block.d(s),i.token=null,i=null}}}function D8(t){return{c:z,m:z,p:z,i:z,o:z,d:z}}function O8(t){let e,n,r,i,s=[],o=new Map,l,c=De(t[18]);const h=g=>g[19].ability.name;for(let g=0;g<c.length;g+=1){let m=OA(t,c,g),_=h(m);o.set(_,s[g]=HA(_,m))}return{c(){e=C("div"),n=C("div"),n.innerHTML='<strong class="svelte-qhednx">Abilities</strong>',r=B(),i=C("div");for(let g=0;g<s.length;g+=1)s[g].c();b(n,"class","abilities-header"),b(i,"class","abilities-body"),b(e,"class","pokemonData-abilities svelte-qhednx")},m(g,m){x(g,e,m),T(e,n),T(e,r),T(e,i);for(let _=0;_<s.length;_+=1)s[_]&&s[_].m(i,null);l=!0},p(g,m){m&770&&(c=De(g[18]),Qe(),s=Bu(s,m,h,1,g,c,o,i,qg,HA,null,OA),Xe())},i(g){if(!l){for(let m=0;m<c.length;m+=1)j(s[m]);l=!0}},o(g){for(let m=0;m<s.length;m+=1)G(s[m]);l=!1},d(g){g&&H(e);for(let m=0;m<s.length;m+=1)s[m].d()}}}function VA(t){let e,n,r,i,s;n=new Co({props:{src:A8}});function o(){return t[11](t[19])}return{c(){e=C("div"),ae(n.$$.fragment),b(e,"class","dialog-info svelte-qhednx")},m(l,c){x(l,e,c),se(n,e,null),r=!0,i||(s=le(e,"click",o),i=!0)},p(l,c){t=l},i(l){r||(j(n.$$.fragment,l),r=!0)},o(l){G(n.$$.fragment,l),r=!1},d(l){l&&H(e),oe(n),i=!1,s()}}}function HA(t,e){let n,r,i=e[19].ability.name.charAt(0).toUpperCase()+e[19].ability.name.slice(1)+"",s,o,l=e[19].is_hidden?"*":"",c,h,g,m,_=e[19].description&&VA(e);return{key:t,first:null,c(){n=C("div"),r=C("strong"),s=me(i),o=B(),c=me(l),h=B(),_&&_.c(),g=B(),b(r,"class","svelte-qhednx"),b(n,"class","ability-item svelte-qhednx"),this.first=n},m(v,S){x(v,n,S),T(n,r),T(r,s),T(n,o),T(n,c),T(n,h),_&&_.m(n,null),T(n,g),m=!0},p(v,S){e=v,(!m||S&2)&&i!==(i=e[19].ability.name.charAt(0).toUpperCase()+e[19].ability.name.slice(1)+"")&&Ce(s,i),(!m||S&2)&&l!==(l=e[19].is_hidden?"*":"")&&Ce(c,l),e[19].description?_?(_.p(e,S),S&2&&j(_,1)):(_=VA(e),_.c(),j(_,1),_.m(n,g)):_&&(Qe(),G(_,1,1,()=>{_=null}),Xe())},i(v){m||(j(_),m=!0)},o(v){G(_),m=!1},d(v){v&&H(n),_&&_.d()}}}function M8(t){return{c:z,m:z,p:z,i:z,o:z,d:z}}function FA(t){let e,n,r,i,s,o,l=t[15].type.name.toUpperCase()+"",c,h;return{c(){e=C("div"),n=C("img"),s=B(),o=C("strong"),c=me(l),h=B(),he(n.src,r=`${TA[t[15].type.name]}`)||b(n,"src",r),b(n,"alt",i=t[15].type.name),b(o,"class","svelte-qhednx"),b(e,"class","type")},m(g,m){x(g,e,m),T(e,n),T(e,s),T(e,o),T(o,c),T(o,h)},p(g,m){m&2&&!he(n.src,r=`${TA[g[15].type.name]}`)&&b(n,"src",r),m&2&&i!==(i=g[15].type.name)&&b(n,"alt",i),m&2&&l!==(l=g[15].type.name.toUpperCase()+"")&&Ce(c,l)},d(g){g&&H(e)}}}function xA(t){let e,n,r;function i(o){t[13](o)}let s={$$slots:{default:[N8]},$$scope:{ctx:t}};return t[5]!==void 0&&(s.dialog=t[5]),e=new T8({props:s}),dt.push(()=>Dt(e,"dialog",i)),e.$on("close",t[14]),{c(){ae(e.$$.fragment)},m(o,l){se(e,o,l),r=!0},p(o,l){const c={};l&33554624&&(c.$$scope={dirty:l,ctx:o}),!n&&l&32&&(n=!0,c.dialog=o[5],Rt(()=>n=!1)),e.$set(c)},i(o){r||(j(e.$$.fragment,o),r=!0)},o(o){G(e.$$.fragment,o),r=!1},d(o){oe(e,o)}}}function N8(t){let e,n,r,i,s;return{c(){e=me(t[6]),n=B(),r=C("button"),r.textContent="Got it!",b(r,"class","dialog-button svelte-qhednx")},m(o,l){x(o,e,l),x(o,n,l),x(o,r,l),i||(s=le(r,"click",t[12]),i=!0)},p(o,l){l&64&&Ce(e,o[6])},d(o){o&&(H(e),H(n),H(r)),i=!1,s()}}}function L8(t){let e,n,r,i,s;const o=[C8,k8,I8],l=[];function c(g,m){return g[1]?0:g[2]&&!g[3]?1:g[3]?2:-1}~(n=c(t))&&(r=l[n]=o[n](t));let h=t[7]&&xA(t);return{c(){e=C("div"),r&&r.c(),i=B(),h&&h.c(),b(e,"class","pokedex-container svelte-qhednx")},m(g,m){x(g,e,m),~n&&l[n].m(e,null),T(e,i),h&&h.m(e,null),s=!0},p(g,[m]){let _=n;n=c(g),n===_?~n&&l[n].p(g,m):(r&&(Qe(),G(l[_],1,1,()=>{l[_]=null}),Xe()),~n?(r=l[n],r?r.p(g,m):(r=l[n]=o[n](g),r.c()),j(r,1),r.m(e,i)):r=null),g[7]?h?(h.p(g,m),m&128&&j(h,1)):(h=xA(g),h.c(),j(h,1),h.m(e,null)):h&&(Qe(),G(h,1,1,()=>{h=null}),Xe())},i(g){s||(j(r),j(h),s=!0)},o(g){G(r),G(h),s=!1},d(g){g&&H(e),~n&&l[n].d(),h&&h.d()}}}function V8(t,e,n){let r,i,s=!1,{pokemonData:o}=e,{error:l}=e,{loading:c}=e,{triggerSearch:h}=e,{evolutionChainData:g}=e;const m=M=>{n(6,i=M),n(7,s=!0),setTimeout(()=>{i&&r.showModal()},300)},_=async M=>{if(M.length){const V=M.map(async L=>{const D=await fetch(L.ability.url);if(!D.ok)throw new Error(`Failed to fetch ability data for ${L.ability.name}`);const W=await D.json();return L.description=W.effect_entries.find(q=>q.language.name==="en").effect,L});try{return await Promise.all(V)}catch(L){console.error(L)}}return Promise.resolve([])};function v(M){g=M,n(0,g)}const S=M=>m(M.description),k=()=>{n(7,s=!1)};function I(M){r=M,n(5,r)}function R(M){zp.call(this,t,M)}return t.$$set=M=>{"pokemonData"in M&&n(1,o=M.pokemonData),"error"in M&&n(2,l=M.error),"loading"in M&&n(3,c=M.loading),"triggerSearch"in M&&n(4,h=M.triggerSearch),"evolutionChainData"in M&&n(0,g=M.evolutionChainData)},[g,o,l,c,h,r,i,s,m,_,v,S,k,I,R]}class H8 extends tt{constructor(e){super(),et(this,e,V8,L8,Ue,{pokemonData:1,error:2,loading:3,triggerSearch:4,evolutionChainData:0})}}const F8=["swsh12pt5gg-GG35","swsh12pt5gg-GG36","swsh12pt5gg-GG37","swsh12pt5gg-GG38","swsh12pt5gg-GG39","swsh12pt5gg-GG40","swsh12pt5gg-GG41","swsh12pt5gg-GG42","swsh12pt5gg-GG43","swsh12pt5gg-GG44","swsh12pt5gg-GG45","swsh12pt5gg-GG46","swsh12pt5gg-GG47","swsh12pt5gg-GG48","swsh12pt5gg-GG49","swsh12pt5gg-GG50","swsh12pt5gg-GG51","swsh12pt5gg-GG52","swsh12pt5gg-GG53","swsh12pt5gg-GG54","swsh12pt5gg-GG55","swsh12pt5gg-GG56","swsh12-177","swsh12-181","swsh12-184","swsh12-186","swsh12tg-TG12","swsh12tg-TG13","swsh12tg-TG14","swsh12tg-TG15","swsh12tg-TG16","swsh12tg-TG17","swsh12tg-TG18","swsh12tg-TG19","swsh12tg-TG20","swsh12tg-TG21","swsh12tg-TG22","swsh11-177","swsh11-180","swsh11-186","swsh11tg-TG12","swsh11tg-TG13","swsh11tg-TG14","swsh11tg-TG15","swsh11tg-TG16","swsh11tg-TG17","swsh11tg-TG18","swsh11tg-TG19","swsh11tg-TG20","swsh11tg-TG21","swsh11tg-TG22","pgo-72","pgo-74","swsh10-161","swsh10-163","swsh10-167","swsh10-172","swsh10-175","swsh10-177","swsh10tg-TG13","swsh10tg-TG14","swsh10tg-TG15","swsh10tg-TG16","swsh10tg-TG17","swsh10tg-TG18","swsh10tg-TG19","swsh10tg-TG20","swsh10tg-TG21","swsh10tg-TG22","swsh10tg-TG23","swsh9-154","swsh9-156","swsh9-162","swsh9-166","swsh9tg-TG13","swsh9tg-TG14","swsh9tg-TG15","swsh9tg-TG16","swsh9tg-TG17","swsh9tg-TG18","swsh9tg-TG19","swsh9tg-TG20","swsh9tg-TG21","swsh9tg-TG22","swsh9tg-TG23","swsh8-245","swsh8-251","swsh8-252","swsh8-255","swsh8-257","swsh8-266","swsh8-269","swsh8-270","swsh8-271","swsh7-167","swsh7-175","swsh7-180","swsh7-182","swsh7-184","swsh7-186","swsh7-189","swsh7-192","swsh7-194","swsh7-196","swsh7-198","swsh7-205","swsh7-209","swsh7-212","swsh7-215","swsh7-218","swsh7-220","swsh6-164","swsh6-166","swsh6-168","swsh6-170","swsh6-172","swsh6-174","swsh6-177","swsh6-179","swsh6-183","swsh6-185","swsh6-201","swsh6-203","swsh6-205","swsh5-146","swsh5-151","swsh5-153","swsh5-155","swsh5-168","swsh5-170","swshp-SWSH179","swshp-SWSH180","swshp-SWSH181","swshp-SWSH182","swshp-SWSH183","swshp-SWSH184","swshp-SWSH204","swshp-SWSH260","swshp-SWSH261","swshp-SWSH262"],x8={"swshp-SWSH001":{style:"SwHolo",etch:"Holo"},"swshp-SWSH002":{style:"SwHolo",etch:"Holo"},"swshp-SWSH003":{style:"SwHolo",etch:"Holo"},"swshp-SWSH004":{style:"SunPillar",etch:"Holo"},"swshp-SWSH005":{style:"SunPillar",etch:"Etched"},"swshp-SWSH006":{style:"SwHolo",etch:"Holo"},"swshp-SWSH007":{style:"SwHolo",etch:"Holo"},"swshp-SWSH008":{style:"SwHolo",etch:"Holo"},"swshp-SWSH009":{style:"SwHolo",etch:"Holo"},"swshp-SWSH010":{style:"Cosmos",etch:"Holo"},"swshp-SWSH011":{style:"Cosmos",etch:"Holo"},"swshp-SWSH012":{style:"Cosmos",etch:"Holo"},"swshp-SWSH013":{style:"Cosmos",etch:"Holo"},"swshp-SWSH014":{style:"SunPillar",etch:"Holo"},"swshp-SWSH015":{style:"SunPillar",etch:"Holo"},"swshp-SWSH016":{style:"SunPillar",etch:"Holo"},"swshp-SWSH017":{style:"SunPillar",etch:"Holo"},"swshp-SWSH018":{style:"SunPillar",etch:"Holo"},"swshp-SWSH019":{style:"SunPillar",etch:"Holo"},"swshp-SWSH020":{style:"FlatSilver",etch:"Holo"},"swshp-SWSH021":{style:"SunPillar",etch:"Holo"},"swshp-SWSH022":{style:"SwHolo",etch:"Holo"},"swshp-SWSH023":{style:"SwHolo",etch:"Holo"},"swshp-SWSH024":{style:"SwHolo",etch:"Holo"},"swshp-SWSH025":{style:"SwHolo",etch:"Holo"},"swshp-SWSH026":{style:"Cosmos",etch:"Holo"},"swshp-SWSH027":{style:"Cosmos",etch:"Holo"},"swshp-SWSH028":{style:"Cosmos",etch:"Holo"},"swshp-SWSH029":{style:"Cosmos",etch:"Holo"},"swshp-SWSH030":{style:"SunPillar",etch:"Holo"},"swshp-SWSH031":{style:"Cosmos",etch:"Holo"},"swshp-SWSH032":{style:"Cosmos",etch:"Holo"},"swshp-SWSH033":{style:"Cosmos",etch:"Holo"},"swshp-SWSH034":{style:"Cosmos",etch:"Holo"},"swshp-SWSH035":{style:"SwHolo",etch:"Holo"},"swshp-SWSH036":{style:"SwHolo",etch:"Holo"},"swshp-SWSH037":{style:"SwHolo",etch:"Holo"},"swshp-SWSH038":{style:"SwHolo",etch:"Holo"},"swshp-SWSH039":{style:"Cosmos",etch:"Holo"},"swshp-SWSH040":{style:"Cosmos",etch:"Holo"},"swshp-SWSH041":{style:"Cosmos",etch:"Holo"},"swshp-SWSH042":{style:"Cosmos",etch:"Holo"},"swshp-SWSH043":{style:"SunPillar",etch:"Holo"},"swshp-SWSH044":{style:"SunPillar",etch:"Etched"},"swshp-SWSH045":{style:"SunPillar",etch:"Etched"},"swshp-SWSH046":{style:"Cosmos",etch:"Holo"},"swshp-SWSH047":{style:"Cosmos",etch:"Holo"},"swshp-SWSH048":{style:"Cosmos",etch:"Holo"},"swshp-SWSH049":{style:"SunPillar",etch:"Holo"},"swshp-SWSH050":{style:"SunPillar",etch:"Etched"},"swshp-SWSH051":{style:"Cosmos",etch:"Holo"},"swshp-SWSH052":{style:"Cosmos",etch:"Holo"},"swshp-SWSH053":{style:"Cosmos",etch:"Holo"},"swshp-SWSH054":{style:"Cosmos",etch:"Holo"},"swshp-SWSH055":{style:"SunPillar",etch:"Holo"},"swshp-SWSH056":{style:"SunPillar",etch:"Holo"},"swshp-SWSH057":{style:"SunPillar",etch:"Holo"},"swshp-SWSH058":{style:"Cosmos",etch:"Holo"},"swshp-SWSH059":{style:"Cosmos",etch:"Holo"},"swshp-SWSH060":{style:"Cosmos",etch:"Holo"},"swshp-SWSH061":{style:"SunPillar",etch:"Holo"},"swshp-SWSH062":{style:"SunPillar",etch:"Etched"},"swshp-SWSH063":{style:"SunPillar",etch:"Holo"},"swshp-SWSH064":{style:"SunPillar",etch:"Holo"},"swshp-SWSH065":{style:"SunPillar",etch:"Holo"},"swshp-SWSH066":{style:"SwHolo",etch:"Holo"},"swshp-SWSH067":{style:"SwHolo",etch:"Holo"},"swshp-SWSH068":{style:"SwHolo",etch:"Holo"},"swshp-SWSH069":{style:"SwHolo",etch:"Holo"},"swshp-SWSH070":{style:"Cosmos",etch:"Holo"},"swshp-SWSH071":{style:"Cosmos",etch:"Holo"},"swshp-SWSH072":{style:"Cosmos",etch:"Holo"},"swshp-SWSH073":{style:"Cosmos",etch:"Holo"},"swshp-SWSH076":{style:"SwSecret",etch:"Etched"},"swshp-SWSH077":{style:"SwSecret",etch:"Etched"},"swshp-SWSH078":{style:"SunPillar",etch:"Holo"},"swshp-SWSH079":{style:"Cosmos",etch:"Holo"},"swshp-SWSH080":{style:"Cosmos",etch:"Holo"},"swshp-SWSH081":{style:"Cosmos",etch:"Holo"},"swshp-SWSH082":{style:"Cosmos",etch:"Holo"},"swshp-SWSH083":{style:"SunPillar",etch:"Holo"},"swshp-SWSH084":{style:"SunPillar",etch:"Etched"},"swshp-SWSH085":{style:"SunPillar",etch:"Etched"},"swshp-SWSH086":{style:"SunPillar",etch:"Etched"},"swshp-SWSH087":{style:"SunPillar",etch:"Etched"},"swshp-SWSH088":{style:"SwHolo",etch:"Holo"},"swshp-SWSH089":{style:"SwHolo",etch:"Holo"},"swshp-SWSH090":{style:"SwHolo",etch:"Holo"},"swshp-SWSH091":{style:"SwHolo",etch:"Holo"},"swshp-SWSH092":{style:"Cosmos",etch:"Holo"},"swshp-SWSH093":{style:"Cosmos",etch:"Holo"},"swshp-SWSH094":{style:"Cosmos",etch:"Holo"},"swshp-SWSH095":{style:"Cosmos",etch:"Holo"},"swshp-SWSH096":{style:"SunPillar",etch:"Etched"},"swshp-SWSH097":{style:"SwSecret",etch:"Etched"},"swshp-SWSH098":{style:"SunPillar",etch:"Etched"},"swshp-SWSH099":{style:"SwSecret",etch:"Etched"},"swshp-SWSH100":{style:"SunPillar",etch:"Holo"},"swshp-SWSH101":{style:"SunPillar",etch:"Holo"},"swshp-SWSH102":{style:"SunPillar",etch:"Etched"},"swshp-SWSH103":{style:"SunPillar",etch:"Etched"},"swshp-SWSH104":{style:"SunPillar",etch:"Holo"},"swshp-SWSH105":{style:"SunPillar",etch:"Holo"},"swshp-SWSH106":{style:"SunPillar",etch:"Holo"},"swshp-SWSH107":{style:"SunPillar",etch:"Holo"},"swshp-SWSH108":{style:"SunPillar",etch:"Holo"},"swshp-SWSH109":{style:"SunPillar",etch:"Holo"},"swshp-SWSH110":{style:"SunPillar",etch:"Holo"},"swshp-SWSH111":{style:"SunPillar",etch:"Holo"},"swshp-SWSH112":{style:"SwHolo",etch:"Holo"},"swshp-SWSH113":{style:"SwHolo",etch:"Holo"},"swshp-SWSH114":{style:"SwHolo",etch:"Holo"},"swshp-SWSH115":{style:"SwHolo",etch:"Holo"},"swshp-SWSH116":{style:"Cosmos",etch:"Holo"},"swshp-SWSH117":{style:"Cosmos",etch:"Holo"},"swshp-SWSH118":{style:"Cosmos",etch:"Holo"},"swshp-SWSH119":{style:"Cosmos",etch:"Holo"},"swshp-SWSH120":{style:"Cosmos",etch:"Holo"},"swshp-SWSH121":{style:"SunPillar",etch:"Etched"},"swshp-SWSH122":{style:"SwHolo",etch:"Holo"},"swshp-SWSH123":{style:"SwHolo",etch:"Holo"},"swshp-SWSH124":{style:"SwHolo",etch:"Holo"},"swshp-SWSH125":{style:"SwHolo",etch:"Holo"},"swshp-SWSH126":{style:"Cosmos",etch:"Holo"},"swshp-SWSH127":{style:"Cosmos",etch:"Holo"},"swshp-SWSH128":{style:"Cosmos",etch:"Holo"},"swshp-SWSH129":{style:"Cosmos",etch:"Holo"},"swshp-SWSH130":{style:"SunPillar",etch:"Holo"},"swshp-SWSH131":{style:"SunPillar",etch:"Holo"},"swshp-SWSH132":{style:"Cosmos",etch:"Holo"},"swshp-SWSH133":{style:"SunPillar",etch:"Holo"},"swshp-SWSH134":{style:"SunPillar",etch:"Holo"},"swshp-SWSH135":{style:"Cosmos",etch:"Holo"},"swshp-SWSH136":{style:"Cosmos",etch:"Holo"},"swshp-SWSH137":{style:"Cosmos",etch:"Holo"},"swshp-SWSH138":{style:"Cosmos",etch:"Holo"},"swshp-SWSH139":{style:"SunPillar",etch:"Holo"},"swshp-SWSH140":{style:"SunPillar",etch:"Holo"},"swshp-SWSH141":{style:"SunPillar",etch:"Holo"},"swshp-SWSH142":{style:"SunPillar",etch:"Holo"},"swshp-SWSH143":{style:"SunPillar",etch:"Holo"},"swshp-SWSH144":{style:"Cosmos",etch:"Holo"},"swshp-SWSH145":{style:"SwSecret",etch:"Etched"},"swshp-SWSH146":{style:"SwSecret",etch:"Etched"},"swshp-SWSH147":{style:"SunPillar",etch:"Holo"},"swshp-SWSH148":{style:"SunPillar",etch:"Holo"},"swshp-SWSH149":{style:"SunPillar",etch:"Holo"},"swshp-SWSH150":{style:"SunPillar",etch:"Holo"},"swshp-SWSH151":{style:"SunPillar",etch:"Holo"},"swshp-SWSH152":{style:"SunPillar",etch:"Etched"},"swshp-SWSH153":{style:"Cosmos",etch:"Holo"},"swshp-SWSH154":{style:"SunPillar",etch:"Holo"},"swshp-SWSH155":{style:"SunPillar",etch:"Holo"},"swshp-SWSH156":{style:"SunPillar",etch:"Holo"},"swshp-SWSH157":{style:"SunPillar",etch:"Holo"},"swshp-SWSH158":{style:"SunPillar",etch:"Holo"},"swshp-SWSH159":{style:"SunPillar",etch:"Holo"},"swshp-SWSH160":{style:"SunPillar",etch:"Holo"},"swshp-SWSH161":{style:"SunPillar",etch:"Holo"},"swshp-SWSH162":{style:"SunPillar",etch:"Holo"},"swshp-SWSH163":{style:"SunPillar",etch:"Holo"},"swshp-SWSH164":{style:"SunPillar",etch:"Holo"},"swshp-SWSH165":{style:"SunPillar",etch:"Holo"},"swshp-SWSH166":{style:"SunPillar",etch:"Holo"},"swshp-SWSH167":{style:"None",etch:"None"},"swshp-SWSH168":{style:"SwHolo",etch:"Holo"},"swshp-SWSH169":{style:"SwHolo",etch:"Holo"},"swshp-SWSH170":{style:"SwHolo",etch:"Holo"},"swshp-SWSH171":{style:"SwHolo",etch:"Holo"},"swshp-SWSH172":{style:"Cosmos",etch:"Holo"},"swshp-SWSH173":{style:"Cosmos",etch:"Holo"},"swshp-SWSH174":{style:"Cosmos",etch:"Holo"},"swshp-SWSH175":{style:"Cosmos",etch:"Holo"},"swshp-SWSH176":{style:"SunPillar",etch:"Holo"},"swshp-SWSH178":{style:"SwHolo",etch:"Holo"},"swshp-SWSH179":{style:"SunPillar",etch:"Etched"},"swshp-SWSH180":{style:"SwSecret",etch:"Etched"},"swshp-SWSH181":{style:"SunPillar",etch:"Etched"},"swshp-SWSH182":{style:"SwSecret",etch:"Etched"},"swshp-SWSH183":{style:"SunPillar",etch:"Etched"},"swshp-SWSH184":{style:"SwSecret",etch:"Etched"},"swshp-SWSH185":{style:"SwHolo",etch:"Holo"},"swshp-SWSH186":{style:"SwHolo",etch:"Holo"},"swshp-SWSH187":{style:"SwHolo",etch:"Holo"},"swshp-SWSH188":{style:"SwHolo",etch:"Holo"},"swshp-SWSH189":{style:"Cosmos",etch:"Holo"},"swshp-SWSH190":{style:"Cosmos",etch:"Holo"},"swshp-SWSH191":{style:"Cosmos",etch:"Holo"},"swshp-SWSH192":{style:"Cosmos",etch:"Holo"},"swshp-SWSH193":{style:"None",etch:"None"},"swshp-SWSH194":{style:"SunPillar",etch:"Holo"},"swshp-SWSH195":{style:"SunPillar",etch:"Etched"},"swshp-SWSH196":{style:"SunPillar",etch:"Holo"},"swshp-SWSH197":{style:"SunPillar",etch:"Etched"},"swshp-SWSH198":{style:"SunPillar",etch:"Holo"},"swshp-SWSH199":{style:"SunPillar",etch:"Holo"},"swshp-SWSH200":{style:"SunPillar",etch:"Holo"},"swshp-SWSH201":{style:"SunPillar",etch:"Holo"},"swshp-SWSH202":{style:"SunPillar",etch:"Holo"},"swshp-SWSH203":{style:"SunPillar",etch:"Holo"},"swshp-SWSH204":{style:"SunPillar",etch:"Holo"},"swshp-SWSH205":{style:"SwHolo",etch:"Holo"},"swshp-SWSH206":{style:"SwHolo",etch:"Holo"},"swshp-SWSH207":{style:"SwHolo",etch:"Holo"},"swshp-SWSH208":{style:"SwHolo",etch:"Holo"},"swshp-SWSH209":{style:"Cosmos",etch:"Holo"},"swshp-SWSH210":{style:"Cosmos",etch:"Holo"},"swshp-SWSH211":{style:"Cosmos",etch:"Holo"},"swshp-SWSH212":{style:"Cosmos",etch:"Holo"},"swshp-SWSH213":{style:"SunPillar",etch:"Etched"},"swshp-SWSH214":{style:"SunPillar",etch:"Etched"},"swshp-SWSH215":{style:"SunPillar",etch:"Holo"},"swshp-SWSH216":{style:"SunPillar",etch:"Holo"},"swshp-SWSH217":{style:"SunPillar",etch:"Holo"},"swshp-SWSH218":{style:"SunPillar",etch:"Holo"},"swshp-SWSH219":{style:"SunPillar",etch:"Holo"},"swshp-SWSH220":{style:"Cosmos",etch:"Holo"},"swshp-SWSH221":{style:"Cosmos",etch:"Holo"},"swshp-SWSH222":{style:"Cosmos",etch:"Holo"},"swshp-SWSH223":{style:"SunPillar",etch:"Holo"},"swshp-SWSH224":{style:"SunPillar",etch:"Holo"},"swshp-SWSH225":{style:"SunPillar",etch:"Holo"},"swshp-SWSH226":{style:"SunPillar",etch:"Etched"},"swshp-SWSH227":{style:"SunPillar",etch:"Etched"},"swshp-SWSH228":{style:"SunPillar",etch:"Etched"},"swshp-SWSH229":{style:"SunPillar",etch:"Etched"},"swshp-SWSH230":{style:"RadiantHolo",etch:"Etched"},"swshp-SWSH231":{style:"Cosmos",etch:"Holo"},"swshp-SWSH232":{style:"Cosmos",etch:"Holo"},"swshp-SWSH233":{style:"Cosmos",etch:"Holo"},"swshp-SWSH234":{style:"Cosmos",etch:"Holo"},"swshp-SWSH235":{style:"SunPillar",etch:"Etched"},"swshp-SWSH236":{style:"SunPillar",etch:"Etched"},"swshp-SWSH237":{style:"SunPillar",etch:"Holo"},"swshp-SWSH238":{style:"SunPillar",etch:"Holo"},"swshp-SWSH239":{style:"SunPillar",etch:"Holo"},"swshp-SWSH240":{style:"SwHolo",etch:"Holo"},"swshp-SWSH241":{style:"SwHolo",etch:"Holo"},"swshp-SWSH242":{style:"SwHolo",etch:"Holo"},"swshp-SWSH243":{style:"SwHolo",etch:"Holo"},"swshp-SWSH244":{style:"Cosmos",etch:"Holo"},"swshp-SWSH245":{style:"Cosmos",etch:"Holo"},"swshp-SWSH246":{style:"Cosmos",etch:"Holo"},"swshp-SWSH247":{style:"Cosmos",etch:"Holo"},"swshp-SWSH248":{style:"SunPillar",etch:"Etched"},"swshp-SWSH249":{style:"SunPillar",etch:"Etched"},"swshp-SWSH250":{style:"SunPillar",etch:"Holo"},"swshp-SWSH252":{style:"SunPillar",etch:"Holo"},"swshp-SWSH253":{style:"SunPillar",etch:"Etched"},"swshp-SWSH254":{style:"SunPillar",etch:"Etched"},"swshp-SWSH255":{style:"SunPillar",etch:"Etched"},"swshp-SWSH256":{style:"SunPillar",etch:"Etched"},"swshp-SWSH257":{style:"SunPillar",etch:"Holo"},"swshp-SWSH258":{style:"SunPillar",etch:"Holo"},"swshp-SWSH259":{style:"SunPillar",etch:"Holo"},"swshp-SWSH260":{style:"SunPillar",etch:"Etched"},"swshp-SWSH261":{style:"SunPillar",etch:"Etched"},"swshp-SWSH262":{style:"SunPillar",etch:"Etched"},"swshp-SWSH263":{style:"SunPillar",etch:"Holo"},"swshp-SWSH264":{style:"SunPillar",etch:"Etched"},"swshp-SWSH265":{style:"SunPillar",etch:"Etched"},"swshp-SWSH266":{style:"SunPillar",etch:"Holo"},"swshp-SWSH267":{style:"SunPillar",etch:"Etched"},"swshp-SWSH268":{style:"SunPillar",etch:"Etched"},"swshp-SWSH269":{style:"SwHolo",etch:"Holo"},"swshp-SWSH270":{style:"SwHolo",etch:"Holo"},"swshp-SWSH271":{style:"SwHolo",etch:"Holo"},"swshp-SWSH272":{style:"SwHolo",etch:"Holo"},"swshp-SWSH273":{style:"Cosmos",etch:"Holo"},"swshp-SWSH274":{style:"Cosmos",etch:"Holo"},"swshp-SWSH275":{style:"Cosmos",etch:"Holo"},"swshp-SWSH276":{style:"Cosmos",etch:"Holo"},"swshp-SWSH277":{style:"Cosmos",etch:"Holo"},"swshp-SWSH278":{style:"Cosmos",etch:"Holo"},"swshp-SWSH279":{style:"Cosmos",etch:"Holo"},"swshp-SWSH280":{style:"SunPillar",etch:"Holo"},"swshp-SWSH281":{style:"SunPillar",etch:"Holo"},"swshp-SWSH291":{style:"SunPillar",etch:"Etched"},"swshp-SWSH294":{style:"SunPillar",etch:"Holo"},"swshp-SWSH295":{style:"SunPillar",etch:"Holo"},"swshp-SWSH296":{style:"Rainbow",etch:"Holo"},"swshp-SWSH297":{style:"SunPillar",etch:"Etched"},"swshp-SWSH298":{style:"SunPillar",etch:"Etched"}};function UA(t){return Object.prototype.toString.call(t)==="[object Date]"}function xg(t,e,n,r){if(typeof n=="number"||UA(n)){const i=r-n,s=(n-e)/(t.dt||1/60),o=t.opts.stiffness*i,l=t.opts.damping*s,c=(o-l)*t.inv_mass,h=(s+c)*t.dt;return Math.abs(h)<t.opts.precision&&Math.abs(i)<t.opts.precision?r:(t.settled=!1,UA(n)?new Date(n.getTime()+h):n+h)}else{if(Array.isArray(n))return n.map((i,s)=>xg(t,e[s],n[s],r[s]));if(typeof n=="object"){const i={};for(const s in n)i[s]=xg(t,e[s],n[s],r[s]);return i}else throw new Error(`Cannot spring ${typeof n} values`)}}function Xs(t,e={}){const n=qi(t),{stiffness:r=.15,damping:i=.8,precision:s=.01}=e;let o,l,c,h=t,g=t,m=1,_=0,v=!1;function S(I,R={}){g=I;const M=c={};return t==null||R.hard||k.stiffness>=1&&k.damping>=1?(v=!0,o=nu(),h=I,n.set(t=g),Promise.resolve()):(R.soft&&(_=1/((R.soft===!0?.5:+R.soft)*60),m=0),l||(o=nu(),v=!1,l=jg(V=>{if(v)return v=!1,l=null,!1;m=Math.min(m+_,1);const L={inv_mass:m,opts:k,settled:!0,dt:(V-o)*60/1e3},D=xg(L,h,t,g);return o=V,h=t,n.set(t=D),L.settled&&(l=null),!L.settled})),new Promise(V=>{l.promise.then(()=>{M===c&&V()})}))}const k={set:S,update:(I,R)=>S(I(g,t),R),subscribe:n.subscribe,stiffness:r,damping:i,precision:s};return k}function U8(t){const e=t-1;return e*e*e+1}const Ph=function(t){return t?{alpha:t.alpha,beta:t.beta,gamma:t.gamma}:{alpha:0,beta:0,gamma:0}},BA=t=>{const e=Ph(t);return{absolute:e,relative:{alpha:e.alpha-qa.alpha,beta:e.beta-qa.beta,gamma:e.gamma-qa.gamma}}};let Ug=!0,qa=Ph();const B8=()=>{Ug=!0,qa=Ph()},W8=gE(BA(),function(e){const n=function(r){Ug&&(Ug=!1,qa=Ph(r));const i=BA(r);e(i)};return window.addEventListener("deviceorientation",n,!0),function(){window.removeEventListener("deviceorientation",n,!0)}}),fr=(t,e=3)=>parseFloat(t.toFixed(e)),Ia=(t,e=0,n=100)=>Math.min(Math.max(t,e),n),$s=(t,e,n,r,i)=>fr(r+(i-r)*(t-e)/(n-e));const{window:j8}=m4;function z8(t){let e,n,r,i,s,o,l,c,h,g,m,_,v,S,k,I,R,M,V;return{c(){e=C("div"),n=C("div"),r=C("button"),i=C("img"),o=B(),l=C("div"),c=C("img"),m=B(),_=C("div"),v=B(),S=C("div"),b(i,"class","card__back"),he(i.src,s=t[19])||b(i,"src",s),b(i,"alt","The back of a Pokemon Card, a Pokeball in the center with Pokemon logo above and below"),b(i,"loading","lazy"),b(i,"width","660"),b(i,"height","921"),he(c.src,h=t[10])||b(c,"src",h),b(c,"alt",g="Front design of the "+t[5]+" Pokemon Card, with the stats and info around the edge"),b(c,"loading","lazy"),b(c,"width","660"),b(c,"height","921"),b(_,"class","card__shine"),b(S,"class","card__glare"),b(l,"class","card__front"),b(l,"style",k=t[28]+t[17]),b(r,"class","card__rotator"),b(r,"aria-label",I="Expand the Pokemon Card; "+t[5]+"."),b(r,"tabindex","0"),b(n,"class","card__translater"),b(e,"class",R="card "+t[1]+" / interactive / svelte-ann5al"),b(e,"data-number",t[0]),b(e,"data-set",t[6]),b(e,"data-subtypes",t[2]),b(e,"data-supertype",t[3]),b(e,"data-rarity",t[4]),b(e,"data-trainer-gallery",t[9]),b(e,"style",t[18]),zt(e,"active",t[11]),zt(e,"interacting",t[12]),zt(e,"loading",t[13]),zt(e,"masked",!!t[7])},m(L,D){x(L,e,D),T(e,n),T(n,r),T(r,i),T(r,o),T(r,l),T(l,c),T(l,m),T(l,_),T(l,v),T(l,S),t[43](e),M||(V=[le(j8,"scroll",t[27]),le(c,"load",t[29]),le(r,"click",t[25]),le(r,"pointermove",t[23]),le(r,"mouseout",t[24]),le(r,"blur",t[26])],M=!0)},p(L,D){D[0]&1024&&!he(c.src,h=L[10])&&b(c,"src",h),D[0]&32&&g!==(g="Front design of the "+L[5]+" Pokemon Card, with the stats and info around the edge")&&b(c,"alt",g),D[0]&131072&&k!==(k=L[28]+L[17])&&b(l,"style",k),D[0]&32&&I!==(I="Expand the Pokemon Card; "+L[5]+".")&&b(r,"aria-label",I),D[0]&2&&R!==(R="card "+L[1]+" / interactive / svelte-ann5al")&&b(e,"class",R),D[0]&1&&b(e,"data-number",L[0]),D[0]&64&&b(e,"data-set",L[6]),D[0]&4&&b(e,"data-subtypes",L[2]),D[0]&8&&b(e,"data-supertype",L[3]),D[0]&16&&b(e,"data-rarity",L[4]),D[0]&512&&b(e,"data-trainer-gallery",L[9]),D[0]&262144&&b(e,"style",L[18]),D[0]&2050&&zt(e,"active",L[11]),D[0]&4098&&zt(e,"interacting",L[12]),D[0]&8194&&zt(e,"loading",L[13]),D[0]&130&&zt(e,"masked",!!L[7])},i:z,o:z,d(L){L&&H(e),t[43](null),M=!1,Kt(V)}}}function q8(t,e,n){let r,i,s,o,l,c,h,g,m;jn(t,W8,re=>n(35,i=re)),jn(t,Na,re=>n(36,s=re));let{id:_=""}=e,{name:v=""}=e,{number:S=""}=e,{set:k=""}=e,{types:I=""}=e,{subtypes:R="basic"}=e,{supertype:M="pokémon"}=e,{rarity:V="common"}=e,{img:L=""}=e,{back:D="https://tcg.pokemon.com/assets/img/global/tcg-card-back-2x.jpg"}=e,{foil:W=""}=e,{mask:q=""}=e,{showcase:Q=!1}=e;const $={x:Math.random(),y:Math.random()},K={x:Math.floor($.x*734),y:Math.floor($.y*1280)};let we=!1,ue=D,ye="",rt=L.startsWith("http")?"":"https://images.pokemontcg.io/",ie,Te,J=!1,Fe=!1,Yt=!0,pt=!0,Ot=document.visibilityState==="visible";const Me={stiffness:.066,damping:.25},je={stiffness:.033,damping:.45};let Ie=Xs({x:0,y:0},Me);jn(t,Ie,re=>n(41,g=re));let de=Xs({x:50,y:50,o:0},Me);jn(t,de,re=>n(42,m=re));let Ve=Xs({x:50,y:50},Me);jn(t,Ve,re=>n(39,c=re));let ze=Xs({x:0,y:0},je);jn(t,ze,re=>n(40,h=re));let xt=Xs({x:0,y:0},je);jn(t,xt,re=>n(37,o=re));let Bt=Xs(1,je);jn(t,Bt,re=>n(38,l=re));let mt,at,kt,it=Q;const st=()=>{it&&(clearTimeout(kt),clearTimeout(at),clearInterval(mt),it=!1)},On=re=>{if(st(),!Ot||s&&s!==ie)return n(12,Fe=!1);n(12,Fe=!0),re.type==="touchmove"&&(re.clientX=re.touches[0].clientX,re.clientY=re.touches[0].clientY);const nt=re.target.getBoundingClientRect(),At={x:re.clientX-nt.left,y:re.clientY-nt.top},Le={x:Ia(fr(100/nt.width*At.x)),y:Ia(fr(100/nt.height*At.y))},sr={x:Le.x-50,y:Le.y-50};Qt({x:$s(Le.x,0,100,37,63),y:$s(Le.y,0,100,33,67)},{x:fr(-(sr.x/3.5)),y:fr(sr.y/2)},{x:fr(Le.x),y:fr(Le.y),o:1})},Mn=(re,lt=500)=>{setTimeout(function(){n(12,Fe=!1),n(14,Ie.stiffness=.01,Ie),n(14,Ie.damping=.06,Ie),Ie.set({x:0,y:0},{soft:1}),n(15,de.stiffness=.01,de),n(15,de.damping=.06,de),de.set({x:50,y:50,o:0},{soft:1}),n(16,Ve.stiffness=.01,Ve),n(16,Ve.damping=.06,Ve),Ve.set({x:50,y:50},{soft:1})},lt)},Un=re=>{s&&s===ie?Hd(Na,s=void 0,s):(Hd(Na,s=ie,s),B8())},ur=re=>{Mn(),Hd(Na,s=void 0,s)},Zt=re=>{clearTimeout(Te),Te=setTimeout(()=>{s&&s===ie&&en()},300)},en=()=>{const re=ie.getBoundingClientRect(),lt=document.documentElement,nt={x:fr(lt.clientWidth/2-re.x-re.width/2),y:fr(lt.clientHeight/2-re.y-re.height/2)};xt.set({x:nt.x,y:nt.y})},rr=()=>{const re=ie.getBoundingClientRect();let lt=100,nt=window.innerWidth/re.width*.9,At=window.innerHeight/re.height*.9,Le=1.75;en(),Yt&&(lt=1e3,ze.set({x:360,y:0})),Yt=!1,Bt.set(Math.min(nt,At,Le)),Mn(null,lt)},bt=()=>{Bt.set(1,{soft:!0}),xt.set({x:0,y:0},{soft:!0}),ze.set({x:0,y:0},{soft:!0}),Mn(null,100)},Ut=()=>{Mn(null,0),Bt.set(1,{hard:!0}),xt.set({x:0,y:0},{hard:!0}),ze.set({x:0,y:0},{hard:!0}),Ie.set({x:0,y:0},{hard:!0})};let xe="";const ir=`
    --seedx: ${$.x};
    --seedy: ${$.y};
    --cosmosbg: ${K.x}px ${K.y}px;
  `,$e=re=>{const lt=re.relative.gamma,nt=re.relative.beta,At={x:16,y:18},Le={x:Ia(lt,-At.x,At.x),y:Ia(nt,-At.y,At.y)};Qt({x:$s(Le.x,-At.x,At.x,37,63),y:$s(Le.y,-At.y,At.y,33,67)},{x:fr(Le.x*-1),y:fr(Le.y)},{x:$s(Le.x,-At.x,At.x,0,100),y:$s(Le.y,-At.y,At.y,0,100),o:1})},Qt=(re,lt,nt)=>{n(16,Ve.stiffness=Me.stiffness,Ve),n(16,Ve.damping=Me.damping,Ve),n(14,Ie.stiffness=Me.stiffness,Ie),n(14,Ie.damping=Me.damping,Ie),n(15,de.stiffness=Me.stiffness,de),n(15,de.damping=Me.damping,de),Ve.set(re),Ie.set(lt),de.set(nt)};document.addEventListener("visibilitychange",re=>{Ot=document.visibilityState==="visible",st(),Ut()});const Mt=re=>{n(13,pt=!1),(q||W)&&n(17,xe=`
    --mask: url(${q});
    --foil: url(${W});
      `)};Pi(()=>{if(n(10,ye=rt+L),Q&&Ot){let nt=0;at=setTimeout(()=>{if(n(12,Fe=!0),n(11,J=!0),n(14,Ie.stiffness=.02,Ie),n(14,Ie.damping=.5,Ie),n(15,de.stiffness=.02,de),n(15,de.damping=.5,de),n(16,Ve.stiffness=.02,Ve),n(16,Ve.damping=.5,Ve),Ot)mt=setInterval(function(){nt+=.05,Ie.set({x:Math.sin(nt)*25,y:Math.cos(nt)*25}),de.set({x:55+Math.sin(nt)*55,y:55+Math.cos(nt)*55,o:.8}),Ve.set({x:20+Math.sin(nt)*20,y:20+Math.cos(nt)*20})},20),kt=setTimeout(()=>{clearInterval(mt),Mn(null,0)},4e3);else{n(12,Fe=!1),n(11,J=!1);return}},2e3)}});function Ct(re){dt[re?"unshift":"push"](()=>{ie=re,n(8,ie)})}return t.$$set=re=>{"id"in re&&n(30,_=re.id),"name"in re&&n(5,v=re.name),"number"in re&&n(0,S=re.number),"set"in re&&n(6,k=re.set),"types"in re&&n(1,I=re.types),"subtypes"in re&&n(2,R=re.subtypes),"supertype"in re&&n(3,M=re.supertype),"rarity"in re&&n(4,V=re.rarity),"img"in re&&n(31,L=re.img),"back"in re&&n(32,D=re.back),"foil"in re&&n(33,W=re.foil),"mask"in re&&n(7,q=re.mask),"showcase"in re&&n(34,Q=re.showcase)},t.$$.update=()=>{t.$$.dirty[0]&256|t.$$.dirty[1]&32&&(s&&s===ie?(rr(),n(11,J=!0)):(bt(),n(11,J=!1))),t.$$.dirty[1]&4032&&n(18,r=`
    --pointer-x: ${m.x}%;
    --pointer-y: ${m.y}%;
    --pointer-from-center: ${Ia(Math.sqrt((m.y-50)*(m.y-50)+(m.x-50)*(m.x-50))/50,0,1)};
    --pointer-from-top: ${m.y/100};
    --pointer-from-left: ${m.x/100};
    --card-opacity: ${m.o};
    --rotate-x: ${g.x+h.x}deg;
    --rotate-y: ${g.y+h.y}deg;
    --background-x: ${c.x}%;
    --background-y: ${c.y}%;
    --card-scale: ${l};
    --translate-x: ${o.x}px;
    --translate-y: ${o.y}px;
	`),t.$$.dirty[0]&1073741855&&(n(4,V=V.toLowerCase()),n(3,M=M.toLowerCase()),n(0,S=S.toLowerCase()),n(9,we=!!S.match(/^[tg]g/i)||_==="swshp-SWSH076"||_==="swshp-SWSH077"),Array.isArray(I)&&n(1,I=I.join(" ").toLowerCase()),Array.isArray(R)&&n(2,R=R.join(" ").toLowerCase())),t.$$.dirty[0]&256|t.$$.dirty[1]&48&&s&&s===ie&&(n(12,Fe=!0),$e(i))},[S,I,R,M,V,v,k,q,ie,we,ye,J,Fe,pt,Ie,de,Ve,xe,r,ue,ze,xt,Bt,On,Mn,Un,ur,Zt,ir,Mt,_,L,D,W,Q,i,s,o,l,c,h,g,m,Ct]}class G8 extends tt{constructor(e){super(),et(this,e,q8,z8,Ue,{id:30,name:5,number:0,set:6,types:1,subtypes:2,supertype:3,rarity:4,img:31,back:32,foil:33,mask:7,showcase:34},null,[-1,-1,-1])}}function K8(t){let e,n;const r=[t[0]];let i={};for(let s=0;s<r.length;s+=1)i=go(i,r[s]);return e=new G8({props:i}),{c(){ae(e.$$.fragment)},m(s,o){se(e,s,o),n=!0},p(s,[o]){const l=o&1?ou(r,[ka(s[0])]):{};e.$set(l)},i(s){n||(j(e.$$.fragment,s),n=!0)},o(s){G(e.$$.fragment,s),n=!1},d(s){oe(e,s)}}}function Nt(t){return typeof t<"u"&&t!==null}function Y8(t,e,n){let{id:r=void 0}=e,{name:i=void 0}=e,{number:s=void 0}=e,{set:o=void 0}=e,{types:l=void 0}=e,{subtypes:c=void 0}=e,{supertype:h=void 0}=e,{rarity:g=void 0}=e,{isReverse:m=!1}=e,{img:_=void 0}=e,{back:v=void 0}=e,{foil:S=void 0}=e,{mask:k=void 0}=e,{showcase:I=!1}=e;const R=Nt(s)&&s.toLowerCase().startsWith("sv"),M=Nt(s)&&!!s.match(/^[tg]g/i),V=Nt(r)&&F8.includes(r)&&!R&&!M,L=Nt(o)&&o==="swshp";m&&(g=g+" Reverse Holo"),M&&(Nt(g)&&g.startsWith("Trainer Gallery")&&(g=g.replace(/Trainer Gallery\s*/,"")),Nt(g)&&g.includes("Rare Holo V")&&Nt(c)&&c.includes("VMAX")&&(g="Rare Holo VMAX"),Nt(g)&&g.includes("Rare Holo V")&&Nt(c)&&c.includes("VSTAR")&&(g="Rare Holo VSTAR")),L&&(r==="swshp-SWSH076"||r==="swshp-SWSH077"?g="Rare Secret":Nt(c)&&c.includes("V")?g="Rare Holo V":Nt(c)&&c.includes("V-UNION")?g="Rare Holo VUNION":Nt(c)&&c.includes("VMAX")?g="Rare Holo VMAX":Nt(c)&&c.includes("VSTAR")?g="Rare Holo VSTAR":Nt(c)&&c.includes("Radiant")&&(g="Radiant Rare"));function D(){return Nt(_)?_:Nt(o)&&Nt(s)?`https://images.pokemontcg.io/${o.toLowerCase()}/${s}_hires.png`:""}function W(K,we="masks"){let ue="holo",ye="reverse",rt="webp";if(Nt(K))return K===!1?"":K;if(!Nt(g)||!Nt(c)||!Nt(h)||!Nt(o)||!Nt(s))return"";const ie=g.toLowerCase(),Te=s.toString().toLowerCase().replace("swsh","").padStart(3,"0"),J=o.toString().toLowerCase().replace(/(tg|gg|sv)/,"");if(ie==="rare holo"&&(ye="swholo"),ie==="rare holo cosmos"&&(ye="cosmos"),ie==="radiant rare"&&(ue="etched",ye="radiantholo"),(ie==="rare holo v"||ie==="rare holo vunion"||ie==="basic v")&&(ue="holo",ye="sunpillar"),(ie==="rare holo vmax"||ie==="rare ultra"||ie==="rare holo vstar")&&(ue="etched",ye="sunpillar"),(ie==="amazing rare"||ie==="rare rainbow"||ie==="rare secret")&&(ue="etched",ye="swsecret"),R&&(ue="etched",ye="sunpillar",(ie==="rare shiny v"||ie==="rare holo v"&&Te.startsWith("sv"))&&n(1,g="Rare Shiny V"),(ie==="rare shiny vmax"||ie==="rare holo vmax"&&Te.startsWith("sv"))&&(ye="swsecret",n(1,g="Rare Shiny VMAX"))),M&&(ue="holo",ye="rainbow",(ie.includes("rare holo v")||ie.includes("rare ultra"))&&(ue="etched",ye="sunpillar"),ie.includes("rare secret")&&(ue="etched",ye="swsecret")),V&&(ue="etched",c.includes("VMAX")?(ye="swsecret",n(1,g="Rare Rainbow Alt")):ye="sunpillar"),L){let Fe=x8[r];Fe&&(ye=Fe.style.toLowerCase(),ue=Fe.etch.toLowerCase(),ye==="swholo"?n(1,g="Rare Holo"):ye==="cosmos"&&n(1,g="Rare Holo Cosmos"))}return`foils/${J}/${we}/upscaled/${Te}_foil_${ue}_${ye}_2x.${rt}`}function q(){return W(S,"foils")}function Q(){return W(k,"masks")}const $={img:D(),back:v,foil:q(),mask:Q(),id:r,name:i,number:s,set:o,types:l,subtypes:c,supertype:h,rarity:g,showcase:I};return t.$$set=K=>{"id"in K&&n(2,r=K.id),"name"in K&&n(3,i=K.name),"number"in K&&n(4,s=K.number),"set"in K&&n(5,o=K.set),"types"in K&&n(6,l=K.types),"subtypes"in K&&n(7,c=K.subtypes),"supertype"in K&&n(8,h=K.supertype),"rarity"in K&&n(1,g=K.rarity),"isReverse"in K&&n(9,m=K.isReverse),"img"in K&&n(10,_=K.img),"back"in K&&n(11,v=K.back),"foil"in K&&n(12,S=K.foil),"mask"in K&&n(13,k=K.mask),"showcase"in K&&n(14,I=K.showcase)},[$,g,r,i,s,o,l,c,h,m,_,v,S,k,I]}class Rh extends tt{constructor(e){super(),et(this,e,Y8,K8,Ue,{id:2,name:3,number:4,set:5,types:6,subtypes:7,supertype:8,rarity:1,isReverse:9,img:10,back:11,foil:12,mask:13,showcase:14})}}function Q8(t){let e,n;return e=new Rh({props:{id:"basep-16",name:"Computer Error",set:"basep",number:"16",img:"https://images.pokemontcg.io/basep/16_hires.png",supertype:"Trainer",subtypes:"Rocket's Secret Machine",rarity:"Promo",isReverse:!1}}),{c(){ae(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p:z,i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function X8(t){let e,n;return e=new Ch({props:{$$slots:{default:[Q8]},$$scope:{ctx:t}}}),{c(){ae(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p(r,[i]){const s={};i&1&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}let Sv=class extends tt{constructor(e){super(),et(this,e,null,X8,Ue,{})}};function WA(t,{delay:e=0,duration:n=400,easing:r=U8,x:i=0,y:s=0,opacity:o=0}={}){const l=getComputedStyle(t),c=+l.opacity,h=l.transform==="none"?"":l.transform,g=c*(1-o),[m,_]=j1(i),[v,S]=j1(s);return{delay:e,duration:n,easing:r,css:(k,I)=>`
			transform: ${h} translate(${(1-k)*m}${_}, ${(1-k)*v}${S});
			opacity: ${c-g*I}`}}function $8(t){let e,n,r,i,s,o,l,c,h;return{c(){e=C("li"),n=C("div"),r=C("img"),s=B(),o=C("strong"),l=me(t[0]),he(r.src,i=t[2])||b(r,"src",i),b(o,"class","svelte-svbz3w"),b(n,"class","svelte-svbz3w"),b(e,"class","tab-item svelte-svbz3w"),zt(e,"active",t[1])},m(g,m){x(g,e,m),T(e,n),T(n,r),T(n,s),T(n,o),T(o,l),c||(h=[le(n,"keypress",t[4]),le(e,"click",t[3])],c=!0)},p(g,[m]){m&4&&!he(r.src,i=g[2])&&b(r,"src",i),m&1&&Ce(l,g[0]),m&2&&zt(e,"active",g[1])},i:z,o:z,d(g){g&&H(e),c=!1,Kt(h)}}}function J8(t,e,n){let{label:r,isActive:i,icon:s}=e;function o(c){zp.call(this,t,c)}function l(c){zp.call(this,t,c)}return t.$$set=c=>{"label"in c&&n(0,r=c.label),"isActive"in c&&n(1,i=c.isActive),"icon"in c&&n(2,s=c.icon)},[r,i,s,o,l]}class Z8 extends tt{constructor(e){super(),et(this,e,J8,$8,Ue,{label:0,isActive:1,icon:2})}}function jA(t,e,n){const r=t.slice();return r[5]=e[n].label,r[6]=e[n].icon,r[8]=n,r}function zA(t){let e,n,r=De(t[2]),i=[];for(let o=0;o<r.length;o+=1)i[o]=qA(jA(t,r,o));const s=o=>G(i[o],1,1,()=>{i[o]=null});return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=He()},m(o,l){for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(o,l);x(o,e,l),n=!0},p(o,l){if(l&13){r=De(o[2]);let c;for(c=0;c<r.length;c+=1){const h=jA(o,r,c);i[c]?(i[c].p(h,l),j(i[c],1)):(i[c]=qA(h),i[c].c(),j(i[c],1),i[c].m(e.parentNode,e))}for(Qe(),c=r.length;c<i.length;c+=1)s(c);Xe()}},i(o){if(!n){for(let l=0;l<r.length;l+=1)j(i[l]);n=!0}},o(o){i=i.filter(Boolean);for(let l=0;l<i.length;l+=1)G(i[l]);n=!1},d(o){o&&H(e),Jt(i,o)}}}function qA(t){let e,n;function r(){return t[4](t[8])}return e=new Z8({props:{label:t[5],icon:t[6],isActive:t[0]===t[8]}}),e.$on("click",r),{c(){ae(e.$$.fragment)},m(i,s){se(e,i,s),n=!0},p(i,s){t=i;const o={};s&4&&(o.label=t[5]),s&4&&(o.icon=t[6]),s&1&&(o.isActive=t[0]===t[8]),e.$set(o)},i(i){n||(j(e.$$.fragment,i),n=!0)},o(i){G(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function ej(t){let e,n,r=Array.isArray(t[2]),i,s=r&&zA(t);return{c(){e=C("div"),n=C("ul"),s&&s.c(),b(n,"class","tabs-box svelte-1pklidg"),b(n,"id",t[1]),b(e,"class","tabs svelte-1pklidg")},m(o,l){x(o,e,l),T(e,n),s&&s.m(n,null),i=!0},p(o,[l]){l&4&&(r=Array.isArray(o[2])),r?s?(s.p(o,l),l&4&&j(s,1)):(s=zA(o),s.c(),j(s,1),s.m(n,null)):s&&(Qe(),G(s,1,1,()=>{s=null}),Xe()),(!i||l&2)&&b(n,"id",o[1])},i(o){i||(j(s),i=!0)},o(o){G(s),i=!1},d(o){o&&H(e),s&&s.d()}}}function tj(t,e,n){let{id:r=""}=e,{items:i=[]}=e,{activeTab:s=0}=e;const o=c=>{n(0,s=c)},l=c=>{o(c)};return t.$$set=c=>{"id"in c&&n(1,r=c.id),"items"in c&&n(2,i=c.items),"activeTab"in c&&n(0,s=c.activeTab)},[s,r,i,o,l]}class nj extends tt{constructor(e){super(),et(this,e,tj,ej,Ue,{id:1,items:2,activeTab:0})}}function GA(t,e,n){const r=t.slice();return r[6]=e[n],r[8]=n,r}function rj(t){let e,n,r,i,s,o,l=De(t[1]),c=[];for(let h=0;h<l.length;h+=1)c[h]=KA(GA(t,l,h));return{c(){e=C("div"),n=C("h3"),n.textContent="LEVEL MOVES",r=B(),i=C("table"),s=C("tr"),s.innerHTML='<th class="svelte-dzfq6q">Move</th> <th class="svelte-dzfq6q">Level</th>',o=B();for(let h=0;h<c.length;h+=1)c[h].c();b(s,"class","svelte-dzfq6q"),b(i,"class","pokemon-level-movements-content svelte-dzfq6q"),b(e,"class","pokemon-level-movements svelte-dzfq6q")},m(h,g){x(h,e,g),T(e,n),T(e,r),T(e,i),T(i,s),T(i,o);for(let m=0;m<c.length;m+=1)c[m]&&c[m].m(i,null)},p(h,g){if(g&3){l=De(h[1]);let m;for(m=0;m<l.length;m+=1){const _=GA(h,l,m);c[m]?c[m].p(_,g):(c[m]=KA(_),c[m].c(),c[m].m(i,null))}for(;m<c.length;m+=1)c[m].d(1);c.length=l.length}},d(h){h&&H(e),Jt(c,h)}}}function KA(t){let e,n,r,i,s;return{c(){e=C("tr"),n=C("th"),n.textContent=`${t[6].name}`,r=B(),i=C("th"),i.textContent=`${t[6].level}`,s=B(),b(n,"class","svelte-dzfq6q"),b(i,"class","svelte-dzfq6q"),an(e,"background-color",t[0](t[8])),b(e,"class","pokemon-level-movement svelte-dzfq6q")},m(o,l){x(o,e,l),T(e,n),T(e,r),T(e,i),T(e,s)},p:z,d(o){o&&H(e)}}}function ij(t){let e,n=t[1].length>0&&rj(t);return{c(){n&&n.c(),e=He()},m(r,i){n&&n.m(r,i),x(r,e,i)},p(r,[i]){r[1].length>0&&n.p(r,i)},i:z,o:z,d(r){r&&H(e),n&&n.d(r)}}}function sj(t,e,n){let{data:r}=e,{selectedGame:i}=e,{mainColor:s}=e,{secondaryColor:o}=e;const l=h=>h%2===0?s:o;let c=[];return t.$$set=h=>{"data"in h&&n(2,r=h.data),"selectedGame"in h&&n(3,i=h.selectedGame),"mainColor"in h&&n(4,s=h.mainColor),"secondaryColor"in h&&n(5,o=h.secondaryColor)},t.$$.update=()=>{t.$$.dirty&12&&(r==null||r.map(h=>{var g,m;(g=h.version_group_details)!=null&&g.map(_=>_.version_group.name).includes(i)&&c.push({name:h.move.name,level:(m=h.version_group_details)==null?void 0:m[0].level_learned_at})}))},[l,c,r,i,s,o]}class oj extends tt{constructor(e){super(),et(this,e,sj,ij,Ue,{data:2,selectedGame:3,mainColor:4,secondaryColor:5})}}function YA(t,e,n){const r=t.slice();return r[6]=e[n],r[8]=n,r}function aj(t){let e,n,r,i,s,o,l=De(t[0]),c=[];for(let h=0;h<l.length;h+=1)c[h]=QA(YA(t,l,h));return{c(){e=C("div"),n=C("h3"),n.textContent="MACHINE MOVES",r=B(),i=C("table"),s=C("tr"),s.innerHTML='<th class="svelte-1a9n473">Move</th>',o=B();for(let h=0;h<c.length;h+=1)c[h].c();b(s,"class","svelte-1a9n473"),b(i,"class","pokemon-machine-movements-content svelte-1a9n473"),b(e,"class","pokemon-machine-movements svelte-1a9n473")},m(h,g){x(h,e,g),T(e,n),T(e,r),T(e,i),T(i,s),T(i,o);for(let m=0;m<c.length;m+=1)c[m]&&c[m].m(i,null)},p(h,g){if(g&3){l=De(h[0]);let m;for(m=0;m<l.length;m+=1){const _=YA(h,l,m);c[m]?c[m].p(_,g):(c[m]=QA(_),c[m].c(),c[m].m(i,null))}for(;m<c.length;m+=1)c[m].d(1);c.length=l.length}},d(h){h&&H(e),Jt(c,h)}}}function QA(t){let e,n,r;return{c(){e=C("tr"),n=C("th"),n.textContent=`${t[6].name}`,r=B(),b(n,"class","svelte-1a9n473"),an(e,"background-color",t[1](t[8])),b(e,"class","pokemon-machine-movement svelte-1a9n473")},m(i,s){x(i,e,s),T(e,n),T(e,r)},p:z,d(i){i&&H(e)}}}function lj(t){let e,n=t[0].length>0&&aj(t);return{c(){n&&n.c(),e=He()},m(r,i){n&&n.m(r,i),x(r,e,i)},p(r,[i]){r[0].length>0&&n.p(r,i)},i:z,o:z,d(r){r&&H(e),n&&n.d(r)}}}function cj(t,e,n){let{data:r}=e,{selectedGame:i}=e,{mainColor:s}=e,{secondaryColor:o}=e,l=[];const c=h=>h%2===0?s:o;return t.$$set=h=>{"data"in h&&n(2,r=h.data),"selectedGame"in h&&n(3,i=h.selectedGame),"mainColor"in h&&n(4,s=h.mainColor),"secondaryColor"in h&&n(5,o=h.secondaryColor)},t.$$.update=()=>{t.$$.dirty&12&&(r==null||r.map(h=>{var g;(g=h.version_group_details)!=null&&g.map(m=>m.version_group.name).includes(i)&&l.push({name:h.move.name})}))},[l,c,r,i,s,o]}class uj extends tt{constructor(e){super(),et(this,e,cj,lj,Ue,{data:2,selectedGame:3,mainColor:4,secondaryColor:5})}}function XA(t,e,n){const r=t.slice();return r[6]=e[n],r[8]=n,r}function hj(t){let e,n,r,i,s,o,l=De(t[0]),c=[];for(let h=0;h<l.length;h+=1)c[h]=$A(XA(t,l,h));return{c(){e=C("div"),n=C("h3"),n.textContent="TUTOR MOVES",r=B(),i=C("table"),s=C("tr"),s.innerHTML='<th class="svelte-wtrjes">Move</th>',o=B();for(let h=0;h<c.length;h+=1)c[h].c();b(s,"class","svelte-wtrjes"),b(i,"class","pokemon-tutor-movements-content svelte-wtrjes"),b(e,"class","pokemon-tutor-movements svelte-wtrjes")},m(h,g){x(h,e,g),T(e,n),T(e,r),T(e,i),T(i,s),T(i,o);for(let m=0;m<c.length;m+=1)c[m]&&c[m].m(i,null)},p(h,g){if(g&3){l=De(h[0]);let m;for(m=0;m<l.length;m+=1){const _=XA(h,l,m);c[m]?c[m].p(_,g):(c[m]=$A(_),c[m].c(),c[m].m(i,null))}for(;m<c.length;m+=1)c[m].d(1);c.length=l.length}},d(h){h&&H(e),Jt(c,h)}}}function $A(t){let e,n,r;return{c(){e=C("tr"),n=C("th"),n.textContent=`${t[6].name}`,r=B(),b(n,"class","svelte-wtrjes"),an(e,"background-color",t[1](t[8])),b(e,"class","pokemon-tutor-movement svelte-wtrjes")},m(i,s){x(i,e,s),T(e,n),T(e,r)},p:z,d(i){i&&H(e)}}}function fj(t){let e,n=t[0].length>0&&hj(t);return{c(){n&&n.c(),e=He()},m(r,i){n&&n.m(r,i),x(r,e,i)},p(r,[i]){r[0].length>0&&n.p(r,i)},i:z,o:z,d(r){r&&H(e),n&&n.d(r)}}}function dj(t,e,n){let{data:r}=e,{selectedGame:i}=e,{mainColor:s}=e,{secondaryColor:o}=e,l=[];const c=h=>h%2===0?s:o;return t.$$set=h=>{"data"in h&&n(2,r=h.data),"selectedGame"in h&&n(3,i=h.selectedGame),"mainColor"in h&&n(4,s=h.mainColor),"secondaryColor"in h&&n(5,o=h.secondaryColor)},t.$$.update=()=>{t.$$.dirty&12&&(r==null||r.map(h=>{var g;(g=h.version_group_details)!=null&&g.map(m=>m.version_group.name).includes(i)&&l.push({name:h.move.name})}))},[l,c,r,i,s,o]}class pj extends tt{constructor(e){super(),et(this,e,dj,fj,Ue,{data:2,selectedGame:3,mainColor:4,secondaryColor:5})}}const gj={a:{viewBox:"0 0 512 512"},c:'<title></title><path d="M48,256c0,114.87,93.13,208,208,208s208-93.13,208-208S370.87,48,256,48,48,141.13,48,256Zm224-80.09L208.42,240H358v32H208.42L272,336.09,249.3,358.63,147.46,256,249.3,153.37Z"></path>'},Ke={alphaSaphire:"#26649C",black:"#444444",black2:"#424B50",blue:"#1111FF",brilliantDiamond:"#44BAE5",crystal:"#4FD9FF",diamond:"#AAAAFF",emerald:"#00A000",fireRed:"#FF7327",gold:"#DAA520",green:"#11BB11",heartgold:"#B69E00",leafGreen:"#00DD00",legendsArceus:"#36597B",letsGoEevee:"#D4924B",letsGoPikachu:"#F5DA26",moon:"#5599CA",omegaRuby:"#AB2813",pearl:"#FFAAAA",platinum:"#999999",red:"#FF1111",ruby:"#A00000",sapphire:"#0000A0",scarlet:"#F34134",shield:"#BF004F",shiningPearl:"#DA7D99",silver:"#C0C0C0",soulsilver:"#C0C0E1",sun:"#F1912B",sword:"#00A1E9",ultraMoon:"#226DB5",ultraSun:"#E95B2B",violet:"#8334B7",white:"#E1E1E1",white2:"#E3CED0",x:"#025DA6",xd:"#604E82",y:"#EA1A3E",yellow:"#FFD733"};function JA(t,e,n){const r=t.slice();return r[11]=e[n],r}function mj(t){let e,n,r,i,s,o,l,c,h,g,m,_,v,S;s=new Co({props:{color:t[4](t[3]).mainColor,src:gj}});const k=[wj,_j,yj],I=[];function R(M,V){return M[0]?0:M[1]&&!M[2]?1:M[2]?2:-1}return~(g=R(t))&&(m=I[g]=k[g](t)),{c(){e=C("div"),n=C("div"),r=C("div"),i=C("div"),ae(s.$$.fragment),o=B(),l=C("h2"),c=me(t[3]),h=B(),m&&m.c(),b(i,"class","back-icon svelte-ue2sw0"),an(l,"color",t[4](t[3]).mainColor),b(l,"class","svelte-ue2sw0"),b(r,"class","movements-header svelte-ue2sw0"),b(n,"class","game-movements svelte-ue2sw0"),b(e,"class","movements-container svelte-ue2sw0")},m(M,V){x(M,e,V),T(e,n),T(n,r),T(r,i),se(s,i,null),T(r,o),T(r,l),T(l,c),T(n,h),~g&&I[g].m(n,null),_=!0,v||(S=le(i,"click",t[10]),v=!0)},p(M,V){const L={};V&24&&(L.color=M[4](M[3]).mainColor),s.$set(L),(!_||V&8)&&Ce(c,M[3]),(!_||V&24)&&an(l,"color",M[4](M[3]).mainColor);let D=g;g=R(M),g===D?~g&&I[g].p(M,V):(m&&(Qe(),G(I[D],1,1,()=>{I[D]=null}),Xe()),~g?(m=I[g],m?m.p(M,V):(m=I[g]=k[g](M),m.c()),j(m,1),m.m(n,null)):m=null)},i(M){_||(j(s.$$.fragment,M),j(m),_=!0)},o(M){G(s.$$.fragment,M),G(m),_=!1},d(M){M&&H(e),oe(s),~g&&I[g].d(),v=!1,S()}}}function vj(t){let e,n=De(t[8]),r=[];for(let i=0;i<n.length;i+=1)r[i]=nS(JA(t,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=He()},m(i,s){for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(i,s);x(i,e,s)},p(i,s){if(s&280){n=De(i[8]);let o;for(o=0;o<n.length;o+=1){const l=JA(i,n,o);r[o]?r[o].p(l,s):(r[o]=nS(l),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},i:z,o:z,d(i){i&&H(e),Jt(r,i)}}}function yj(t){let e;return{c(){e=C("span"),b(e,"class","loader svelte-ue2sw0")},m(n,r){x(n,e,r)},p:z,i:z,o:z,d(n){n&&H(e)}}}function _j(t){let e,n;return{c(){e=C("div"),n=me(t[1])},m(r,i){x(r,e,i),T(e,n)},p(r,i){i&2&&Ce(n,r[1])},i:z,o:z,d(r){r&&H(e)}}}function wj(t){var c,h,g;let e,n,r,i,s=((c=t[7])==null?void 0:c.length)>0&&ZA(t),o=((h=t[6])==null?void 0:h.length)>0&&eS(t),l=((g=t[5])==null?void 0:g.length)>0&&tS(t);return{c(){e=C("div"),s&&s.c(),n=B(),o&&o.c(),r=B(),l&&l.c(),b(e,"class","movements-tables svelte-ue2sw0")},m(m,_){x(m,e,_),s&&s.m(e,null),T(e,n),o&&o.m(e,null),T(e,r),l&&l.m(e,null),i=!0},p(m,_){var v,S,k;((v=m[7])==null?void 0:v.length)>0?s?(s.p(m,_),_&128&&j(s,1)):(s=ZA(m),s.c(),j(s,1),s.m(e,n)):s&&(Qe(),G(s,1,1,()=>{s=null}),Xe()),((S=m[6])==null?void 0:S.length)>0?o?(o.p(m,_),_&64&&j(o,1)):(o=eS(m),o.c(),j(o,1),o.m(e,r)):o&&(Qe(),G(o,1,1,()=>{o=null}),Xe()),((k=m[5])==null?void 0:k.length)>0?l?(l.p(m,_),_&32&&j(l,1)):(l=tS(m),l.c(),j(l,1),l.m(e,null)):l&&(Qe(),G(l,1,1,()=>{l=null}),Xe())},i(m){i||(j(s),j(o),j(l),i=!0)},o(m){G(s),G(o),G(l),i=!1},d(m){m&&H(e),s&&s.d(),o&&o.d(),l&&l.d()}}}function ZA(t){let e,n;return e=new oj({props:{data:t[7],selectedGame:t[3],mainColor:t[4](t[3]).mainColor,secondaryColor:t[4](t[3]).secondaryColor}}),{c(){ae(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p(r,i){const s={};i&128&&(s.data=r[7]),i&8&&(s.selectedGame=r[3]),i&24&&(s.mainColor=r[4](r[3]).mainColor),i&24&&(s.secondaryColor=r[4](r[3]).secondaryColor),e.$set(s)},i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function eS(t){let e,n;return e=new uj({props:{data:t[6],selectedGame:t[3],mainColor:t[4](t[3]).mainColor,secondaryColor:t[4](t[3]).secondaryColor}}),{c(){ae(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p(r,i){const s={};i&64&&(s.data=r[6]),i&8&&(s.selectedGame=r[3]),i&24&&(s.mainColor=r[4](r[3]).mainColor),i&24&&(s.secondaryColor=r[4](r[3]).secondaryColor),e.$set(s)},i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function tS(t){let e,n;return e=new pj({props:{data:t[5],selectedGame:t[3],mainColor:t[4](t[3]).mainColor,secondaryColor:t[4](t[3]).secondaryColor}}),{c(){ae(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p(r,i){const s={};i&32&&(s.data=r[5]),i&8&&(s.selectedGame=r[3]),i&24&&(s.mainColor=r[4](r[3]).mainColor),i&24&&(s.secondaryColor=r[4](r[3]).secondaryColor),e.$set(s)},i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function nS(t){let e,n=t[11]+"",r,i,s;function o(){return t[9](t[11])}return{c(){e=C("div"),r=me(n),an(e,"background","linear-gradient(90deg, "+t[4](t[11]).selectedColor+")"),b(e,"class","game svelte-ue2sw0")},m(l,c){x(l,e,c),T(e,r),i||(s=le(e,"click",o),i=!0)},p(l,c){t=l,c&16&&an(e,"background","linear-gradient(90deg, "+t[4](t[11]).selectedColor+")")},d(l){l&&H(e),i=!1,s()}}}function bj(t){let e,n,r,i;const s=[vj,mj],o=[];function l(c,h){return c[3]?1:0}return n=l(t),r=o[n]=s[n](t),{c(){e=C("div"),r.c(),b(e,"class","games-container svelte-ue2sw0")},m(c,h){x(c,e,h),o[n].m(e,null),i=!0},p(c,[h]){let g=n;n=l(c),n===g?o[n].p(c,h):(Qe(),G(o[g],1,1,()=>{o[g]=null}),Xe(),r=o[n],r?r.p(c,h):(r=o[n]=s[n](c),r.c()),j(r,1),r.m(e,null))},i(c){i||(j(r),i=!0)},o(c){G(r),i=!1},d(c){c&&H(e),o[n].d()}}}function Aj(t,e,n){let r,i,s,o,{pokemonData:l}=e,{error:c}=e,{loading:h}=e;const g=[];let m=null;const _=S=>{n(3,m=S)},v=()=>n(3,m=null);return t.$$set=S=>{"pokemonData"in S&&n(0,l=S.pokemonData),"error"in S&&n(1,c=S.error),"loading"in S&&n(2,h=S.loading)},t.$$.update=()=>{t.$$.dirty&1&&(l==null||l.moves.forEach(S=>{var k,I,R,M,V,L,D,W,q;((k=S.version_group_details)==null?void 0:k[0].level_learned_at)>0&&!g.includes((I=S.version_group_details)==null?void 0:I[0].version_group.name)&&g.push((R=S.version_group_details)==null?void 0:R[0].version_group.name),((M=S.version_group_details)==null?void 0:M[0].move_learn_method.name)==="machine"&&!g.includes((V=S.version_group_details)==null?void 0:V[0].version_group.name)&&g.push((L=S.version_group_details)==null?void 0:L[0].version_group.name),((D=S.version_group_details)==null?void 0:D[0].move_learn_method.name)==="tutor"&&!g.includes((W=S.version_group_details)==null?void 0:W[0].version_group.name)&&g.push((q=S.version_group_details)==null?void 0:q[0].version_group.name)})),t.$$.dirty&1&&n(7,r=l==null?void 0:l.moves.filter(S=>{var k;return((k=S.version_group_details)==null?void 0:k[0].level_learned_at)>0}).sort((S,k)=>{var I,R;return((I=S.version_group_details)==null?void 0:I[0].level_learned_at)-((R=k.version_group_details)==null?void 0:R[0].level_learned_at)})),t.$$.dirty&1&&n(6,i=l==null?void 0:l.moves.filter(S=>{var k;return((k=S.version_group_details)==null?void 0:k[0].move_learn_method.name)==="machine"})),t.$$.dirty&1&&n(5,s=l==null?void 0:l.moves.filter(S=>{var k;return((k=S.version_group_details)==null?void 0:k[0].move_learn_method.name)==="tutor"}))},n(4,o=S=>{let k=null,I=null,R=null,M=null;if(S!=null&&S.includes("lets-go-pikachu-lets-go-eevee"))k=`${Ke.letsGoPikachu}, ${Ke.letsGoEevee}`,R=`${Ke.letsGoPikachu}`,I=`${Ke.letsGoEevee}, ${Ke.letsGoPikachu}`,M=`${Ke.letsGoEevee}`;else if(S!=null&&S.includes("omega-ruby-alpha-sapphire"))k=`${Ke.omegaRuby}, ${Ke.alphaSaphire}`,R=`${Ke.omegaRuby}`,I=`${Ke.alphaSaphire}, ${Ke.omegaRuby}`,M=`${Ke.alphaSaphire}`;else if(S!=null&&S.includes("black-2-white-2"))k=`${Ke.black2}, ${Ke.white2}`,R=`${Ke.black2}`,I=`${Ke.white2}, ${Ke.black2}`,M=`${Ke.white2}`;else if(S!=null&&S.includes("ultra-sun-ultra-moon"))k=`${Ke.ultraSun}, ${Ke.ultraMoon}`,R=`${Ke.ultraSun}`,I=`${Ke.ultraMoon}, ${Ke.ultraSun}`,M=`${Ke.ultraMoon}`;else if(S!=null&&S.includes("-")){const[V,L]=S.split("-");k=`${Ke[V]}, ${Ke[L]}`,R=`${Ke[V]}`,I=`${Ke[L]}, ${Ke[V]}`,M=`${Ke[L]}`}else k=`${Ke[S]}, ${Ke[S]}`,R=`${Ke[S]}`,I=`${Ke[S]}, ${Ke[S]}`,M="#ccbbbb";return{selectedColor:k,hoverColor:I,mainColor:R,secondaryColor:M}}),[l,c,h,m,o,s,i,r,g,_,v]}class Sj extends tt{constructor(e){super(),et(this,e,Aj,bj,Ue,{pokemonData:0,error:1,loading:2})}}const po={POKEDEX:1,MOVES:2,TCG:3},P2=[{id:po.POKEDEX,label:"POKEDEX"},{id:po.MOVES,label:"MOVES"},{id:po.TCG,label:"TCG"}];function Ej(t){let e,n,r,i,s,o,l,c,h,g;return{c(){e=C("section"),n=C("form"),r=C("input"),i=B(),s=Xr("svg"),o=Xr("path"),l=Xr("path"),c=Xr("path"),b(r,"type","search"),b(r,"pattern","^[a-zA-Z0-9 -.]*$"),b(r,"name","search"),b(r,"id","search"),b(r,"placeholder","Pikachu"),b(r,"class","svelte-11hr1dc"),b(n,"id","example-form"),b(n,"class","svelte-11hr1dc"),b(o,"stroke","none"),b(o,"d","M0 0h24v24H0z"),b(o,"fill","none"),b(l,"d","M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"),b(c,"d","M21 21l-6 -6"),b(s,"xmlns","http://www.w3.org/2000/svg"),b(s,"class","icon icon-tabler icon-tabler-search svelte-11hr1dc"),b(s,"width","24"),b(s,"height","24"),b(s,"viewBox","0 0 24 24"),b(s,"stroke-width","1.25"),b(s,"stroke","currentColor"),b(s,"fill","none"),b(s,"stroke-linecap","round"),b(s,"stroke-linejoin","round"),b(e,"class","search-area svelte-11hr1dc")},m(m,_){x(m,e,_),T(e,n),T(n,r),zn(r,t[0]),T(e,i),T(e,s),T(s,o),T(s,l),T(s,c),h||(g=[le(r,"input",t[2]),le(n,"submit",t[3]),le(s,"click",t[4]),le(s,"keydown",t[5])],h=!0)},p(m,[_]){_&1&&r.value!==m[0]&&zn(r,m[0])},i:z,o:z,d(m){m&&H(e),h=!1,Kt(g)}}}function Tj(t,e,n){let{query:r}=e,{triggerSearch:i}=e;function s(){r=this.value,n(0,r)}const o=h=>i(h),l=h=>i(h),c=h=>i(h);return t.$$set=h=>{"query"in h&&n(0,r=h.query),"triggerSearch"in h&&n(1,i=h.triggerSearch)},[r,i,s,o,l,c]}class Ij extends tt{constructor(e){super(),et(this,e,Tj,Ej,Ue,{query:0,triggerSearch:1})}}function kj(t){let e,n,r,i;return{c(){e=C("div"),n=C("a"),r=C("img"),b(r,"class","pokedex-title"),he(r.src,i="/assets/images/logos/title.png")||b(r,"src",i),b(r,"alt","title"),b(n,"href",t[0]),b(e,"class","title-images svelte-rkiuis")},m(s,o){x(s,e,o),T(e,n),T(n,r)},p:z,i:z,o:z,d(s){s&&H(e)}}}function Cj(t){return[sessionStorage.getItem("user")?"/showCase":"/"]}class Pj extends tt{constructor(e){super(),et(this,e,Cj,kj,Ue,{})}}function Rj(t){let e;return{c(){e=C("div"),e.innerHTML='<img class="pokedex-title" src="/assets/gifs/pokeball.gif" alt="pokeball"/> <h3>Search for a Pokemon or pokedex number</h3>',b(e,"class","no-data svelte-1mrxuf9")},m(n,r){x(n,e,r)},p:z,i:z,o:z,d(n){n&&H(e)}}}class Dj extends tt{constructor(e){super(),et(this,e,null,Rj,Ue,{})}}function Oj(t,e,n){const r=t.slice();return r[6]=e[n],r}function rS(t,e,n){const r=t.slice();return r[6]=e[n],r}function Mj(t){let e,n,r,i,s=De(gl),o=[];for(let l=0;l<s.length;l+=1)o[l]=iS(rS(t,s,l));return{c(){e=C("div"),n=C("div"),n.textContent="Series",r=B(),i=C("div");for(let l=0;l<o.length;l+=1)o[l].c();b(n,"class","filter-header svelte-1h3yl4s"),b(i,"class","filters svelte-1h3yl4s"),b(e,"class","tcg-filters svelte-1h3yl4s")},m(l,c){x(l,e,c),T(e,n),T(e,r),T(e,i);for(let h=0;h<o.length;h+=1)o[h]&&o[h].m(i,null)},p(l,c){if(c&3){s=De(gl);let h;for(h=0;h<s.length;h+=1){const g=rS(l,s,h);o[h]?o[h].p(g,c):(o[h]=iS(g),o[h].c(),o[h].m(i,null))}for(;h<o.length;h+=1)o[h].d(1);o.length=s.length}},d(l){l&&H(e),Jt(o,l)}}}function Nj(t){let e,n,r;function i(){return t[3](t[6])}return{c(){e=C("div"),e.textContent=`${t[6].label}`,b(e,"class","filter svelte-1h3yl4s")},m(s,o){x(s,e,o),n||(r=le(e,"click",i),n=!0)},p(s,o){t=s},d(s){s&&H(e),n=!1,r()}}}function Lj(t){let e,n,r;return{c(){e=C("div"),e.textContent=`${t[6].label}`,b(e,"class","filter active svelte-1h3yl4s")},m(i,s){x(i,e,s),n||(r=le(e,"click",t[2]),n=!0)},p:z,d(i){i&&H(e),n=!1,r()}}}function iS(t){let e;function n(s,o){return s[6].code===s[0]?Lj:Nj}let r=n(t),i=r(t);return{c(){i.c(),e=He()},m(s,o){i.m(s,o),x(s,e,o)},p(s,o){r===(r=n(s))&&i?i.p(s,o):(i.d(1),i=r(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){s&&H(e),i.d(s)}}}function Vj(t){let e,n,r,i,s,o,l,c,h=De(gl),g=[];for(let m=0;m<h.length;m+=1)g[m]=Hj(Oj(t,h,m));return{c(){e=C("div"),n=C("div"),n.textContent="Series",r=B(),i=C("div"),s=C("select"),o=C("option"),o.textContent="All";for(let m=0;m<g.length;m+=1)g[m].c();b(n,"class","filter-header svelte-1h3yl4s"),o.__value="",zn(o,o.__value),b(s,"class","filter svelte-1h3yl4s"),t[0]===void 0&&Ei(()=>t[4].call(s)),b(i,"class","filters svelte-1h3yl4s"),b(e,"class","tcg-filters svelte-1h3yl4s")},m(m,_){x(m,e,_),T(e,n),T(e,r),T(e,i),T(i,s),T(s,o);for(let v=0;v<g.length;v+=1)g[v]&&g[v].m(s,null);q1(s,t[0],!0),l||(c=[le(s,"change",t[4]),le(s,"change",t[5])],l=!0)},p(m,_){_&1&&q1(s,m[0])},d(m){m&&H(e),Jt(g,m),l=!1,Kt(c)}}}function Hj(t){let e;return{c(){e=C("option"),e.textContent=`${t[6].label}`,e.__value=t[6].code,zn(e,e.__value)},m(n,r){x(n,e,r)},p:z,d(n){n&&H(e)}}}function Fj(t){let e=!Fg(),n,r=Fg(),i,s=e&&Mj(t),o=r&&Vj(t);return{c(){s&&s.c(),n=B(),o&&o.c(),i=He()},m(l,c){s&&s.m(l,c),x(l,n,c),o&&o.m(l,c),x(l,i,c)},p(l,[c]){e&&s.p(l,c),r&&o.p(l,c)},i:z,o:z,d(l){l&&(H(n),H(i)),s&&s.d(l),o&&o.d(l)}}}function xj(t,e,n){let{currentFilter:r=""}=e,{loadQuery:i=()=>{}}=e;const s=async()=>{n(0,r=""),await i()},o=async h=>{n(0,r=h.code),await i()};function l(){r=w4(this),n(0,r)}const c=async()=>{await i()};return t.$$set=h=>{"currentFilter"in h&&n(0,r=h.currentFilter),"loadQuery"in h&&n(1,i=h.loadQuery)},[r,i,s,o,l,c]}class Uj extends tt{constructor(e){super(),et(this,e,xj,Fj,Ue,{currentFilter:0,loadQuery:1})}}function sS(t,e,n){const r=t.slice();return r[29]=e[n],r[31]=n,r}function Bj(t){let e,n;return e=new Dj({}),{c(){ae(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p:z,i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function Wj(t){let e;return{c(){e=C("span"),b(e,"class","loader svelte-1j96g6u")},m(n,r){x(n,e,r)},p:z,i:z,o:z,d(n){n&&H(e)}}}function jj(t){let e,n;return e=new Sv({}),{c(){ae(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p:z,i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function zj(t){let e,n,r,i=t[12].id,s,o;function l(g){t[17](g)}let c={items:P2};t[1]!==void 0&&(c.activeTab=t[1]),e=new nj({props:c}),dt.push(()=>Dt(e,"activeTab",l));let h=uS(t);return{c(){ae(e.$$.fragment),r=B(),h.c(),s=He()},m(g,m){se(e,g,m),x(g,r,m),h.m(g,m),x(g,s,m),o=!0},p(g,m){const _={};!n&&m[0]&2&&(n=!0,_.activeTab=g[1],Rt(()=>n=!1)),e.$set(_),m[0]&4096&&Ue(i,i=g[12].id)?(Qe(),G(h,1,1,z),Xe(),h=uS(g),h.c(),j(h,1),h.m(s.parentNode,s)):h.p(g,m)},i(g){o||(j(e.$$.fragment,g),j(h),o=!0)},o(g){G(e.$$.fragment,g),G(h),o=!1},d(g){g&&(H(r),H(s)),oe(e,g),h.d(g)}}}function qj(t){let e,n,r,i,s,o,l;function c(v){t[20](v)}let h={loadQuery:t[14]};t[5]!==void 0&&(h.currentFilter=t[5]),e=new Uj({props:h}),dt.push(()=>Dt(e,"currentFilter",c));let g=t[13]&&t[6]&&oS(),m=t[13]&&t[7].length&&!t[6]&&aS(t),_=t[8]&&!t[6]&&t[0].length&&cS();return{c(){ae(e.$$.fragment),r=B(),g&&g.c(),i=B(),m&&m.c(),s=B(),_&&_.c(),o=He()},m(v,S){se(e,v,S),x(v,r,S),g&&g.m(v,S),x(v,i,S),m&&m.m(v,S),x(v,s,S),_&&_.m(v,S),x(v,o,S),l=!0},p(v,S){const k={};!n&&S[0]&32&&(n=!0,k.currentFilter=v[5],Rt(()=>n=!1)),e.$set(k),v[13]&&v[6]?g||(g=oS(),g.c(),g.m(i.parentNode,i)):g&&(g.d(1),g=null),v[13]&&v[7].length&&!v[6]?m?(m.p(v,S),S[0]&8384&&j(m,1)):(m=aS(v),m.c(),j(m,1),m.m(s.parentNode,s)):m&&(Qe(),G(m,1,1,()=>{m=null}),Xe()),v[8]&&!v[6]&&v[0].length?_?S[0]&321&&j(_,1):(_=cS(),_.c(),j(_,1),_.m(o.parentNode,o)):_&&(Qe(),G(_,1,1,()=>{_=null}),Xe())},i(v){l||(j(e.$$.fragment,v),j(m),j(_),l=!0)},o(v){G(e.$$.fragment,v),G(m),G(_),l=!1},d(v){v&&(H(r),H(i),H(s),H(o)),oe(e,v),g&&g.d(v),m&&m.d(v),_&&_.d(v)}}}function Gj(t){let e,n,r;function i(o){t[19](o)}let s={error:t[3],loading:t[4]};return t[9]!==void 0&&(s.pokemonData=t[9]),e=new Sj({props:s}),dt.push(()=>Dt(e,"pokemonData",i)),{c(){ae(e.$$.fragment)},m(o,l){se(e,o,l),r=!0},p(o,l){const c={};l[0]&8&&(c.error=o[3]),l[0]&16&&(c.loading=o[4]),!n&&l[0]&512&&(n=!0,c.pokemonData=o[9],Rt(()=>n=!1)),e.$set(c)},i(o){r||(j(e.$$.fragment,o),r=!0)},o(o){G(e.$$.fragment,o),r=!1},d(o){oe(e,o)}}}function Kj(t){let e,n,r,i;const s=[Jj,$j,Xj,Qj],o=[];function l(c,h){return c[0]&&c[9]?0:c[3]?1:c[4]?2:!c[4]&&!c[9]?3:-1}return~(e=l(t))&&(n=o[e]=s[e](t)),{c(){n&&n.c(),r=He()},m(c,h){~e&&o[e].m(c,h),x(c,r,h),i=!0},p(c,h){let g=e;e=l(c),e===g?~e&&o[e].p(c,h):(n&&(Qe(),G(o[g],1,1,()=>{o[g]=null}),Xe()),~e?(n=o[e],n?n.p(c,h):(n=o[e]=s[e](c),n.c()),j(n,1),n.m(r.parentNode,r)):n=null)},i(c){i||(j(n),i=!0)},o(c){G(n),i=!1},d(c){c&&H(r),~e&&o[e].d(c)}}}function oS(t){let e,n,r;return{c(){e=C("h3"),e.textContent="Fetching Cards...",n=B(),r=C("span"),b(r,"class","loader svelte-1j96g6u")},m(i,s){x(i,e,s),x(i,n,s),x(i,r,s)},d(i){i&&(H(e),H(n),H(r))}}}function aS(t){let e,n;return e=new Ch({props:{$$slots:{default:[Yj]},$$scope:{ctx:t}}}),{c(){ae(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p(r,i){const s={};i[0]&128|i[1]&2&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function lS(t,e){let n,r,i;return r=new Rh({props:{id:e[29].id,name:e[29].name,set:e[29].set,number:e[29].number,types:e[29].types,supertype:e[29].supertype,subtypes:e[29].subtypes,rarity:e[29].rarity,isReverse:e[29].isReverse}}),{key:t,first:null,c(){n=He(),ae(r.$$.fragment),this.first=n},m(s,o){x(s,n,o),se(r,s,o),i=!0},p(s,o){e=s;const l={};o[0]&128&&(l.id=e[29].id),o[0]&128&&(l.name=e[29].name),o[0]&128&&(l.set=e[29].set),o[0]&128&&(l.number=e[29].number),o[0]&128&&(l.types=e[29].types),o[0]&128&&(l.supertype=e[29].supertype),o[0]&128&&(l.subtypes=e[29].subtypes),o[0]&128&&(l.rarity=e[29].rarity),o[0]&128&&(l.isReverse=e[29].isReverse),r.$set(l)},i(s){i||(j(r.$$.fragment,s),i=!0)},o(s){G(r.$$.fragment,s),i=!1},d(s){s&&H(n),oe(r,s)}}}function Yj(t){let e=[],n=new Map,r,i,s=De(t[7]);const o=l=>l[29].id;for(let l=0;l<s.length;l+=1){let c=sS(t,s,l),h=o(c);n.set(h,e[l]=lS(h,c))}return{c(){for(let l=0;l<e.length;l+=1)e[l].c();r=He()},m(l,c){for(let h=0;h<e.length;h+=1)e[h]&&e[h].m(l,c);x(l,r,c),i=!0},p(l,c){c[0]&128&&(s=De(l[7]),Qe(),e=Bu(e,c,o,1,l,s,n,r.parentNode,qg,lS,r,sS),Xe())},i(l){if(!i){for(let c=0;c<s.length;c+=1)j(e[c]);i=!0}},o(l){for(let c=0;c<e.length;c+=1)G(e[c]);i=!1},d(l){l&&H(r);for(let c=0;c<e.length;c+=1)e[c].d(l)}}}function cS(t){let e,n;return e=new Sv({}),{c(){ae(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function Qj(t){let e;return{c(){e=C("h3"),e.textContent="Search for a Pokemon or pokedex number"},m(n,r){x(n,e,r)},p:z,i:z,o:z,d(n){n&&H(e)}}}function Xj(t){let e,n,r;return{c(){e=C("h3"),e.textContent="Fetching Pokemon...",n=B(),r=C("span"),b(r,"class","loader svelte-1j96g6u")},m(i,s){x(i,e,s),x(i,n,s),x(i,r,s)},p:z,i:z,o:z,d(i){i&&(H(e),H(n),H(r))}}}function $j(t){let e,n;return e=new Sv({}),{c(){ae(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p:z,i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function Jj(t){let e,n,r;function i(o){t[18](o)}let s={triggerSearch:t[15],pokemonData:t[9],error:t[3],loading:t[4]};return t[10]!==void 0&&(s.evolutionChainData=t[10]),e=new H8({props:s}),dt.push(()=>Dt(e,"evolutionChainData",i)),{c(){ae(e.$$.fragment)},m(o,l){se(e,o,l),r=!0},p(o,l){const c={};l[0]&512&&(c.pokemonData=o[9]),l[0]&8&&(c.error=o[3]),l[0]&16&&(c.loading=o[4]),!n&&l[0]&1024&&(n=!0,c.evolutionChainData=o[10],Rt(()=>n=!1)),e.$set(c)},i(o){r||(j(e.$$.fragment,o),r=!0)},o(o){G(e.$$.fragment,o),r=!1},d(o){oe(e,o)}}}function uS(t){let e,n,r,i,s,o;const l=[Kj,Gj,qj],c=[];function h(g,m){return g[12].id===po.POKEDEX?0:g[12].id===po.MOVES?1:g[12].id===po.TCG?2:-1}return~(n=h(t))&&(r=c[n]=l[n](t)),{c(){e=C("div"),r&&r.c(),b(e,"class","slide-wrapper svelte-1j96g6u"),an(e,"--back",t[12].back)},m(g,m){x(g,e,m),~n&&c[n].m(e,null),t[21](e),o=!0},p(g,m){t=g;let _=n;n=h(t),n===_?~n&&c[n].p(t,m):(r&&(Qe(),G(c[_],1,1,()=>{c[_]=null}),Xe()),~n?(r=c[n],r?r.p(t,m):(r=c[n]=l[n](t),r.c()),j(r,1),r.m(e,null)):r=null),(!o||m[0]&4096)&&an(e,"--back",t[12].back)},i(g){o||(j(r),g&&Ei(()=>{o&&(s&&s.end(1),i=hE(e,WA,{x:t[11].in,duration:500,opacity:1}),i.start())}),o=!0)},o(g){G(r),i&&i.invalidate(),g&&(s=fE(e,WA,{x:t[11].out,duration:500,opacity:1})),o=!1},d(g){g&&H(e),~n&&c[n].d(),t[21](null),g&&s&&s.end()}}}function Zj(t){let e,n,r,i,s,o,l,c,h;e=new Pj({});function g(k){t[16](k)}let m={triggerSearch:t[15]};t[0]!==void 0&&(m.query=t[0]),r=new Ij({props:m}),dt.push(()=>Dt(r,"query",g));const _=[zj,jj,Wj,Bj],v=[];function S(k,I){return k[9]||k[7].length>0?0:k[3]&&!k[6]?1:k[6]?2:3}return o=S(t),l=v[o]=_[o](t),{c(){ae(e.$$.fragment),n=B(),ae(r.$$.fragment),s=B(),l.c(),c=He()},m(k,I){se(e,k,I),x(k,n,I),se(r,k,I),x(k,s,I),v[o].m(k,I),x(k,c,I),h=!0},p(k,I){const R={};!i&&I[0]&1&&(i=!0,R.query=k[0],Rt(()=>i=!1)),r.$set(R);let M=o;o=S(k),o===M?v[o].p(k,I):(Qe(),G(v[M],1,1,()=>{v[M]=null}),Xe(),l=v[o],l?l.p(k,I):(l=v[o]=_[o](k),l.c()),j(l,1),l.m(c.parentNode,c))},i(k){h||(j(e.$$.fragment,k),j(r.$$.fragment,k),j(l),h=!0)},o(k){G(e.$$.fragment,k),G(r.$$.fragment,k),G(l),h=!1},d(k){k&&(H(n),H(s),H(c)),oe(e,k),oe(r,k),v[o].d(k)}}}function ez(t,e,n){let r,i,s="",o="",l=null,c=!1,h="",g=!1,m,_=[],v=!1,S=null,k=null;const I=()=>{n(0,s=""),o="",n(3,l=null),n(4,c=!1),n(6,g=!1),m=null,n(7,_=[]),n(8,v=!1),n(9,S=null),n(10,k=null)};Hu.configure({apiKey:"35c2a827-0d26-4c7a-898e-9cab6a3e629a"});const R=async()=>{o=s,!(!r||s.length===0)&&(n(6,g=!0),clearTimeout(m),m=setTimeout(()=>{console.log(h,"currentFilter"),console.log(s,"query"),Hu.card.where({q:`( ${h?`set.id:${h}`:""} name:"*${s}*" )`,select:"id,name,number,supertype,subtypes,rarity,images,types,set",orderBy:"-set.releaseDate,-number",pageSize:1e3}).then(ie=>{const Te=ie.data||[];console.log(Te,"cards"),n(7,_=[]),n(8,v=!1);let J=Te.slice(0,1e3).map(Fe=>((Fe.rarity==="Common"||Fe.rarity==="Uncommon")&&(Fe.isReverse=!!Math.round(Math.random())),Fe.set=Fe.set.id,Fe));n(7,_=[...J]),_.length||n(8,v=!0),n(6,g=!1)}).catch(()=>{n(7,_=[]),n(6,g=!1),n(8,v=!0)})},666))},M=async()=>{n(4,c=!0);try{const ie=await fetch(`https://pokeapi.co/api/v2/pokemon/${s.toLowerCase()}`);if(n(9,S=await ie.json()),n(3,l=null),S){n(0,s=S.name);const J=await(await fetch(S.species.url)).json(),Fe=await fetch(J.evolution_chain.url);n(10,k=await Fe.json());const Ot=(await(await fetch(`https://pokeapi.co/api/v2/pokemon-species/${S.id}`)).json()).flavor_text_entries.find(Me=>Me.language.name==="en");n(9,S.description=Ot.flavor_text,S)}}catch{n(3,l="Pokemon not found"),n(9,S=null)}n(4,c=!1)};let V=0,L=0,D,W;function q(){if(V===L)return;const ie=D.offsetWidth,Te=V>L?1:-1;n(11,W={in:ie*Te,out:ie*-Te})}const Q=async(ie,Te=null)=>{ie.preventDefault(),Te&&n(0,s=Te),o!==s&&(await R(),await M())};function $(ie){s=ie,n(0,s)}function K(ie){V=ie,n(1,V)}function we(ie){k=ie,n(10,k)}function ue(ie){S=ie,n(9,S)}function ye(ie){h=ie,n(5,h)}function rt(ie){dt[ie?"unshift":"push"](()=>{D=ie,n(2,D)})}return t.$$.update=()=>{t.$$.dirty[0]&1&&n(13,r=s.length>0),t.$$.dirty[0]&1&&s.length===0&&I(),t.$$.dirty[0]&6&&D&&(q(),L=V),t.$$.dirty[0]&2&&n(12,i=P2[V]),t.$$.dirty[0]&4},[s,V,D,l,c,h,g,_,v,S,k,W,i,r,R,Q,$,K,we,ue,ye,rt]}class tz extends tt{constructor(e){super(),et(this,e,ez,Zj,Ue,{},null,[-1,-1])}}const nz={a:{viewBox:"0 0 24 24",fill:"none"},c:'<path d="M8 5H6C4.89543 5 4 5.89543 4 7V19C4 20.1046 4.89543 21 6 21H16C17.1046 21 18 20.1046 18 19V18M8 5C8 6.10457 8.89543 7 10 7H12C13.1046 7 14 6.10457 14 5M8 5C8 3.89543 8.89543 3 10 3H12C13.1046 3 14 3.89543 14 5M14 5H16C17.1046 5 18 5.89543 18 7V10M20 14H10M10 14L13 11M10 14L13 17" stroke="#4A5568" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>'},rz={a:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},c:'<path d="M16.972 6.251c-.967-.538-2.185-.188-2.72.777l-3.713 6.682-2.125-2.125c-.781-.781-2.047-.781-2.828 0-.781.781-.781 2.047 0 2.828l4 4c.378.379.888.587 1.414.587l.277-.02c.621-.087 1.166-.46 1.471-1.009l5-9c.537-.966.189-2.183-.776-2.72z"></path>'},iz={a:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},c:'<path d="M12 4c-4.419 0-8 3.582-8 8s3.581 8 8 8 8-3.582 8-8-3.581-8-8-8zm3.707 10.293c.391.391.391 1.023 0 1.414-.195.195-.451.293-.707.293s-.512-.098-.707-.293l-2.293-2.293-2.293 2.293c-.195.195-.451.293-.707.293s-.512-.098-.707-.293c-.391-.391-.391-1.023 0-1.414l2.293-2.293-2.293-2.293c-.391-.391-.391-1.023 0-1.414s1.023-.391 1.414 0l2.293 2.293 2.293-2.293c.391-.391 1.023-.391 1.414 0s.391 1.023 0 1.414l-2.293 2.293 2.293 2.293z"></path>'},sz={a:{viewBox:"0 0 24 24"},c:`<g><path fill="none" d="M0 0h24v24H0z"></path>
<path d="M4 8h16v13a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V8zm3-3V3a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v2h5v2H2V5h5zm2-1v1h6V4H9zm0 8v6h2v-6H9zm4 0v6h2v-6h-2z"></path></g>`};function hS(t,e,n){const r=t.slice();return r[17]=e[n],r}function fS(t,e,n){const r=t.slice();return r[17]=e[n],r}function dS(t){let e,n,r,i,s,o,l=t[0].nickname+"",c,h,g,m,_=t[0].email+"",v,S,k,I,R,M,V,L=t[0].money+"",D,W,q,Q,$,K,we,ue,ye,rt,ie,Te,J,Fe,Yt,pt,Ot,Me,je,Ie,de,Ve,ze,xt,Bt,mt=t[0].uid+"",at,kt,it,st,On,Mn,Un,ur,Zt,en,rr,bt,Ut,xe,ir,$e,Qt,Mt,Ct,re,lt,nt,At,Le=t[1]&&pS(t);ze=new Co({props:{src:nz}});const sr=[az,oz],hn=[];function _r(qe,Xt){return qe[0].friends.length===0?0:1}Ut=_r(t),xe=hn[Ut]=sr[Ut](t);const Hi=[fz,hz],wn=[];function Nn(qe,Xt){return qe[0].friendRequests.length===0?0:1}return Ct=Nn(t),re=wn[Ct]=Hi[Ct](t),{c(){e=C("div"),n=C("div"),r=C("img"),s=B(),o=C("h1"),c=me(l),h=B(),g=C("h2"),m=me("("),v=me(_),S=me(")"),k=B(),I=C("div"),R=C("img"),V=B(),D=me(L),W=B(),q=C("div"),Q=C("div"),$=C("div"),K=C("h2"),K.textContent="Update profile",we=B(),ue=C("form"),ye=C("input"),rt=B(),Le&&Le.c(),ie=B(),Te=C("label"),J=C("input"),Fe=me(`
                            Upload avatar`),Yt=B(),pt=C("button"),pt.textContent="Save",Ot=B(),Me=C("div"),je=C("div"),Ie=C("h2"),Ie.textContent="Friend code",de=B(),Ve=C("div"),ae(ze.$$.fragment),xt=B(),Bt=C("p"),at=me(mt),kt=B(),it=C("h2"),it.textContent="Add friend",st=B(),On=C("input"),Mn=B(),Un=C("button"),Un.textContent="Add friend",ur=B(),Zt=C("div"),en=C("div"),rr=C("h2"),rr.textContent="Friends",bt=B(),xe.c(),ir=B(),$e=C("div"),Qt=C("h2"),Qt.textContent="Friend requests",Mt=B(),re.c(),b(r,"class","user-photo svelte-1756tbu"),he(r.src,i="data:image/png;base64, "+t[0].photoURL)||b(r,"src",i),b(r,"alt","user profile picture"),b(n,"class","profile-frame svelte-1756tbu"),b(o,"class","user-name svelte-1756tbu"),b(g,"class","user-email svelte-1756tbu"),b(R,"class","coin svelte-1756tbu"),he(R.src,M="/assets/images/logos/pokecoin.png")||b(R,"src",M),b(I,"class","currency svelte-1756tbu"),b(K,"class","update-profile-title svelte-1756tbu"),b(ye,"class","nickname-input svelte-1756tbu"),b(ye,"type","text"),b(ye,"name","nickname"),b(ye,"placeholder","Nickname"),b(J,"id","photo-input"),b(J,"type","file"),b(J,"accept","image/*"),b(J,"class","svelte-1756tbu"),b(Te,"class","custom-file-upload svelte-1756tbu"),b(pt,"type","submit"),b(pt,"class","svelte-1756tbu"),b(ue,"class","svelte-1756tbu"),b($,"class","update-profile-container svelte-1756tbu"),b(Ie,"class","friend-code-title svelte-1756tbu"),b(Ve,"class","friend-code-copy-icon svelte-1756tbu"),b(je,"class","friend-code-title-copy svelte-1756tbu"),b(Bt,"class","friend-code svelte-1756tbu"),b(Bt,"id","friend-code"),b(it,"class","friend-input-title svelte-1756tbu"),b(On,"class","friend-input svelte-1756tbu"),b(On,"type","text"),b(On,"name","add a friend"),b(On,"placeholder","Add a friend"),b(Un,"class","svelte-1756tbu"),b(Me,"class","friend-code-container svelte-1756tbu"),b(Q,"class","profile-content svelte-1756tbu"),b(rr,"class","friend-code-title svelte-1756tbu"),b(en,"class","friends-container svelte-1756tbu"),b(Qt,"class","friend-code-title svelte-1756tbu"),b($e,"class","friend-requests-container svelte-1756tbu"),b(Zt,"class","friends-and-requests-container svelte-1756tbu"),b(q,"class","update-profile-and-fcode-container svelte-1756tbu"),b(e,"class","profile-info svelte-1756tbu")},m(qe,Xt){x(qe,e,Xt),T(e,n),T(n,r),T(e,s),T(e,o),T(o,c),T(e,h),T(e,g),T(g,m),T(g,v),T(g,S),T(e,k),T(e,I),T(I,R),T(I,V),T(I,D),T(e,W),T(e,q),T(q,Q),T(Q,$),T($,K),T($,we),T($,ue),T(ue,ye),T(ue,rt),Le&&Le.m(ue,null),T(ue,ie),T(ue,Te),T(Te,J),T(Te,Fe),T(ue,Yt),T(ue,pt),T(Q,Ot),T(Q,Me),T(Me,je),T(je,Ie),T(je,de),T(je,Ve),se(ze,Ve,null),T(Me,xt),T(Me,Bt),T(Bt,at),T(Me,kt),T(Me,it),T(Me,st),T(Me,On),T(Me,Mn),T(Me,Un),T(q,ur),T(q,Zt),T(Zt,en),T(en,rr),T(en,bt),hn[Ut].m(en,null),T(Zt,ir),T(Zt,$e),T($e,Qt),T($e,Mt),wn[Ct].m($e,null),lt=!0,nt||(At=[le(J,"change",t[3]),le(ue,"submit",t[10]),le(Ve,"click",t[11]),le(Un,"click",t[12])],nt=!0)},p(qe,Xt){(!lt||Xt&1&&!he(r.src,i="data:image/png;base64, "+qe[0].photoURL))&&b(r,"src",i),(!lt||Xt&1)&&l!==(l=qe[0].nickname+"")&&Ce(c,l),(!lt||Xt&1)&&_!==(_=qe[0].email+"")&&Ce(v,_),(!lt||Xt&1)&&L!==(L=qe[0].money+"")&&Ce(D,L),qe[1]?Le?Le.p(qe,Xt):(Le=pS(qe),Le.c(),Le.m(ue,ie)):Le&&(Le.d(1),Le=null),(!lt||Xt&1)&&mt!==(mt=qe[0].uid+"")&&Ce(at,mt);let Ln=Ut;Ut=_r(qe),Ut===Ln?hn[Ut].p(qe,Xt):(Qe(),G(hn[Ln],1,1,()=>{hn[Ln]=null}),Xe(),xe=hn[Ut],xe?xe.p(qe,Xt):(xe=hn[Ut]=sr[Ut](qe),xe.c()),j(xe,1),xe.m(en,null));let Je=Ct;Ct=Nn(qe),Ct===Je?wn[Ct].p(qe,Xt):(Qe(),G(wn[Je],1,1,()=>{wn[Je]=null}),Xe(),re=wn[Ct],re?re.p(qe,Xt):(re=wn[Ct]=Hi[Ct](qe),re.c()),j(re,1),re.m($e,null))},i(qe){lt||(j(ze.$$.fragment,qe),j(xe),j(re),lt=!0)},o(qe){G(ze.$$.fragment,qe),G(xe),G(re),lt=!1},d(qe){qe&&H(e),Le&&Le.d(),oe(ze),hn[Ut].d(),wn[Ct].d(),nt=!1,Kt(At)}}}function pS(t){let e,n;return{c(){e=C("img"),b(e,"class","user-photo-uploaded svelte-1756tbu"),he(e.src,n="data:image/png;base64, "+t[1])||b(e,"src",n),b(e,"alt","user profile picture")},m(r,i){x(r,e,i)},p(r,i){i&2&&!he(e.src,n="data:image/png;base64, "+r[1])&&b(e,"src",n)},d(r){r&&H(e)}}}function oz(t){let e,n,r,i={ctx:t,current:null,token:null,hasCatch:!1,pending:uz,then:cz,catch:lz,value:16,blocks:[,,,]};return qn(n=t[6](t[0].friends),i),{c(){e=He(),i.block.c()},m(s,o){x(s,e,o),i.block.m(s,i.anchor=o),i.mount=()=>e.parentNode,i.anchor=e,r=!0},p(s,o){t=s,i.ctx=t,o&1&&n!==(n=t[6](t[0].friends))&&qn(n,i)||Xi(i,t,o)},i(s){r||(j(i.block),r=!0)},o(s){for(let o=0;o<3;o+=1){const l=i.blocks[o];G(l)}r=!1},d(s){s&&H(e),i.block.d(s),i.token=null,i=null}}}function az(t){let e;return{c(){e=C("p"),e.textContent="You have no friends yet",b(e,"class","friend-code svelte-1756tbu")},m(n,r){x(n,e,r)},p:z,i:z,o:z,d(n){n&&H(e)}}}function lz(t){return{c:z,m:z,p:z,i:z,o:z,d:z}}function cz(t){let e,n,r=De(t[16]),i=[];for(let o=0;o<r.length;o+=1)i[o]=gS(fS(t,r,o));const s=o=>G(i[o],1,1,()=>{i[o]=null});return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=He()},m(o,l){for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(o,l);x(o,e,l),n=!0},p(o,l){if(l&577){r=De(o[16]);let c;for(c=0;c<r.length;c+=1){const h=fS(o,r,c);i[c]?(i[c].p(h,l),j(i[c],1)):(i[c]=gS(h),i[c].c(),j(i[c],1),i[c].m(e.parentNode,e))}for(Qe(),c=r.length;c<i.length;c+=1)s(c);Xe()}},i(o){if(!n){for(let l=0;l<r.length;l+=1)j(i[l]);n=!0}},o(o){i=i.filter(Boolean);for(let l=0;l<i.length;l+=1)G(i[l]);n=!1},d(o){o&&H(e),Jt(i,o)}}}function gS(t){let e,n,r,i,s,o,l=t[17].nickname+"",c,h,g,m,_,v,S,k,I;_=new Co({props:{src:sz}});function R(){return t[13](t[17])}return{c(){e=C("div"),n=C("div"),r=C("img"),s=B(),o=C("p"),c=me(l),h=B(),g=C("div"),m=C("div"),ae(_.$$.fragment),v=B(),b(r,"class","friend-img svelte-1756tbu"),he(r.src,i="data:image/png;base64, "+t[17].photoURL)||b(r,"src",i),b(o,"class","friend-request-name svelte-1756tbu"),b(n,"class","friend-request-data svelte-1756tbu"),b(m,"class","friend-delete svelte-1756tbu"),b(g,"class","friend-request-buttons svelte-1756tbu"),b(e,"class","friend-request svelte-1756tbu")},m(M,V){x(M,e,V),T(e,n),T(n,r),T(n,s),T(n,o),T(o,c),T(e,h),T(e,g),T(g,m),se(_,m,null),T(e,v),S=!0,k||(I=le(m,"click",R),k=!0)},p(M,V){t=M,(!S||V&1&&!he(r.src,i="data:image/png;base64, "+t[17].photoURL))&&b(r,"src",i),(!S||V&1)&&l!==(l=t[17].nickname+"")&&Ce(c,l)},i(M){S||(j(_.$$.fragment,M),S=!0)},o(M){G(_.$$.fragment,M),S=!1},d(M){M&&H(e),oe(_),k=!1,I()}}}function uz(t){return{c:z,m:z,p:z,i:z,o:z,d:z}}function hz(t){let e,n,r,i={ctx:t,current:null,token:null,hasCatch:!1,pending:gz,then:pz,catch:dz,value:16,blocks:[,,,]};return qn(n=t[6](t[0].friendRequests),i),{c(){e=He(),i.block.c()},m(s,o){x(s,e,o),i.block.m(s,i.anchor=o),i.mount=()=>e.parentNode,i.anchor=e,r=!0},p(s,o){t=s,i.ctx=t,o&1&&n!==(n=t[6](t[0].friendRequests))&&qn(n,i)||Xi(i,t,o)},i(s){r||(j(i.block),r=!0)},o(s){for(let o=0;o<3;o+=1){const l=i.blocks[o];G(l)}r=!1},d(s){s&&H(e),i.block.d(s),i.token=null,i=null}}}function fz(t){let e;return{c(){e=C("p"),e.textContent="You have no friend requests",b(e,"class","friend-code svelte-1756tbu")},m(n,r){x(n,e,r)},p:z,i:z,o:z,d(n){n&&H(e)}}}function dz(t){return{c:z,m:z,p:z,i:z,o:z,d:z}}function pz(t){let e,n,r=De(t[16]),i=[];for(let o=0;o<r.length;o+=1)i[o]=mS(hS(t,r,o));const s=o=>G(i[o],1,1,()=>{i[o]=null});return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=He()},m(o,l){for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(o,l);x(o,e,l),n=!0},p(o,l){if(l&449){r=De(o[16]);let c;for(c=0;c<r.length;c+=1){const h=hS(o,r,c);i[c]?(i[c].p(h,l),j(i[c],1)):(i[c]=mS(h),i[c].c(),j(i[c],1),i[c].m(e.parentNode,e))}for(Qe(),c=r.length;c<i.length;c+=1)s(c);Xe()}},i(o){if(!n){for(let l=0;l<r.length;l+=1)j(i[l]);n=!0}},o(o){i=i.filter(Boolean);for(let l=0;l<i.length;l+=1)G(i[l]);n=!1},d(o){o&&H(e),Jt(i,o)}}}function mS(t){let e,n,r,i,s,o,l=t[17].nickname+"",c,h,g,m,_,v,S,k,I,R,M,V;_=new Co({props:{src:rz}});function L(){return t[14](t[17])}k=new Co({props:{src:iz}});function D(){return t[15](t[17])}return{c(){e=C("div"),n=C("div"),r=C("img"),s=B(),o=C("p"),c=me(l),h=B(),g=C("div"),m=C("div"),ae(_.$$.fragment),v=B(),S=C("div"),ae(k.$$.fragment),I=B(),b(r,"class","friend-img svelte-1756tbu"),he(r.src,i="data:image/png;base64, "+t[17].photoURL)||b(r,"src",i),b(o,"class","friend-request-name svelte-1756tbu"),b(n,"class","friend-request-data svelte-1756tbu"),b(m,"class","friend-request-accept svelte-1756tbu"),b(S,"class","friend-request-reject svelte-1756tbu"),b(g,"class","friend-request-buttons svelte-1756tbu"),b(e,"class","friend-request svelte-1756tbu")},m(W,q){x(W,e,q),T(e,n),T(n,r),T(n,s),T(n,o),T(o,c),T(e,h),T(e,g),T(g,m),se(_,m,null),T(g,v),T(g,S),se(k,S,null),T(e,I),R=!0,M||(V=[le(m,"click",L),le(S,"click",D)],M=!0)},p(W,q){t=W,(!R||q&1&&!he(r.src,i="data:image/png;base64, "+t[17].photoURL))&&b(r,"src",i),(!R||q&1)&&l!==(l=t[17].nickname+"")&&Ce(c,l)},i(W){R||(j(_.$$.fragment,W),j(k.$$.fragment,W),R=!0)},o(W){G(_.$$.fragment,W),G(k.$$.fragment,W),R=!1},d(W){W&&H(e),oe(_),oe(k),M=!1,Kt(V)}}}function gz(t){return{c:z,m:z,p:z,i:z,o:z,d:z}}function mz(t){let e,n,r=t[0]&&dS(t);return{c(){r&&r.c(),e=He()},m(i,s){r&&r.m(i,s),x(i,e,s),n=!0},p(i,[s]){i[0]?r?(r.p(i,s),s&1&&j(r,1)):(r=dS(i),r.c(),j(r,1),r.m(e.parentNode,e)):r&&(Qe(),G(r,1,1,()=>{r=null}),Xe())},i(i){n||(j(r),n=!0)},o(i){G(r),n=!1},d(i){i&&H(e),r&&r.d(i)}}}function vz(t,e,n){let r,i=null;Pi(async()=>{const V=sessionStorage.getItem("user");await Yn(JSON.parse(V).uid).then(L=>{L&&n(0,r=L)})});const s=async V=>{V.preventDefault();let L;if(V.target.nickname.value===""&&i===null){alert("Please enter a nickname or upload a profile picture");return}i===null?L={nickname:V.target.nickname.value}:V.target.nickname.value===""?L={photoURL:i}:L={nickname:V.target.nickname.value,photoURL:i},await ml(r.uid,L),window.location.reload()},o=async V=>{const L=V.target.files[0];if(L)if(L.size>701486)alert("File is too big! Please select a file smaller than 0.7MB.");else{const D=new FileReader;D.onload=W=>{n(1,i=W.target.result.split(",")[1])},D.readAsDataURL(L)}},l=async()=>{const V=document.getElementById("friend-code").textContent;try{await navigator.clipboard.writeText(V),alert("Copied to clipboard")}catch(L){console.error("Unable to copy text: "+L)}},c=async()=>{if(document.querySelector(".friend-input").value===""){alert("Please enter a friend code");return}if(document.querySelector(".friend-input").value===r.uid){alert("You cannot add yourself as a friend");return}const V=await XW(r.uid,document.querySelector(".friend-input").value);if(V){alert(V),document.querySelector(".friend-input").value="";return}alert("Friend request sent"),document.querySelector(".friend-input").value=""},h=async V=>{if(V.length){const L=V.map(async D=>{console.log(D,"friendRequest");const W=await Yn(D);if(console.log(W,"response"),W)return{uid:D,nickname:W.nickname,photoURL:W.photoURL}});try{return await Promise.all(L)}catch(D){console.error(D)}}return Promise.resolve([])},g=async(V,L)=>{await $W(V,L),alert("Friend request accepted"),window.location.reload()},m=async(V,L)=>{await JW(V,L),alert("Friend request rejected"),window.location.reload()},_=async(V,L)=>{await ZW(V,L),alert("Friend removed"),window.location.reload()};return[r,i,s,o,l,c,h,g,m,_,V=>s(V),()=>l(),()=>c(),V=>_(r.uid,V.uid),V=>g(r.uid,V.uid),V=>m(r.uid,V.uid)]}class yz extends tt{constructor(e){super(),et(this,e,vz,mz,Ue,{})}}function _z(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}else return Array.from(t)}var Ev=!1;if(typeof window<"u"){var vS={get passive(){Ev=!0}};window.addEventListener("testPassive",null,vS),window.removeEventListener("testPassive",null,vS)}var Fu=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1),ts=[],xu=!1,R2=-1,Ga=void 0,zi=void 0,Ka=void 0,D2=function(e){return ts.some(function(n){return!!(n.options.allowTouchMove&&n.options.allowTouchMove(e))})},Uu=function(e){var n=e||window.event;return D2(n.target)||n.touches.length>1?!0:(n.preventDefault&&n.preventDefault(),!1)},wz=function(e){if(Ka===void 0){var n=!!e&&e.reserveScrollBarGap===!0,r=window.innerWidth-document.documentElement.clientWidth;if(n&&r>0){var i=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right"),10);Ka=document.body.style.paddingRight,document.body.style.paddingRight=i+r+"px"}}Ga===void 0&&(Ga=document.body.style.overflow,document.body.style.overflow="hidden")},bz=function(){Ka!==void 0&&(document.body.style.paddingRight=Ka,Ka=void 0),Ga!==void 0&&(document.body.style.overflow=Ga,Ga=void 0)},Az=function(){return window.requestAnimationFrame(function(){if(zi===void 0){zi={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left};var e=window,n=e.scrollY,r=e.scrollX,i=e.innerHeight;document.body.style.position="fixed",document.body.style.top=-n,document.body.style.left=-r,setTimeout(function(){return window.requestAnimationFrame(function(){var s=i-window.innerHeight;s&&n>=i&&(document.body.style.top=-(n+s))})},300)}})},Sz=function(){if(zi!==void 0){var e=-parseInt(document.body.style.top,10),n=-parseInt(document.body.style.left,10);document.body.style.position=zi.position,document.body.style.top=zi.top,document.body.style.left=zi.left,window.scrollTo(n,e),zi=void 0}},Ez=function(e){return e?e.scrollHeight-e.scrollTop<=e.clientHeight:!1},Tz=function(e,n){var r=e.targetTouches[0].clientY-R2;return D2(e.target)?!1:n&&n.scrollTop===0&&r>0||Ez(n)&&r<0?Uu(e):(e.stopPropagation(),!0)},Iz=function(e,n){if(!e){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(!ts.some(function(i){return i.targetElement===e})){var r={targetElement:e,options:n||{}};ts=[].concat(_z(ts),[r]),Fu?Az():wz(n),Fu&&(e.ontouchstart=function(i){i.targetTouches.length===1&&(R2=i.targetTouches[0].clientY)},e.ontouchmove=function(i){i.targetTouches.length===1&&Tz(i,e)},xu||(document.addEventListener("touchmove",Uu,Ev?{passive:!1}:void 0),xu=!0))}},kz=function(e){if(!e){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}ts=ts.filter(function(n){return n.targetElement!==e}),Fu&&(e.ontouchstart=null,e.ontouchmove=null,xu&&ts.length===0&&(document.removeEventListener("touchmove",Uu,Ev?{passive:!1}:void 0),xu=!1)),Fu?Sz():bz()},Bg={exports:{}};(function(t,e){(function(n,r){r(e)})(gp,function(n){function r(a,f){var u=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);f&&(d=d.filter(function(p){return Object.getOwnPropertyDescriptor(a,p).enumerable})),u.push.apply(u,d)}return u}function i(a){for(var f=1;f<arguments.length;f++){var u=arguments[f]!=null?arguments[f]:{};f%2?r(Object(u),!0).forEach(function(d){c(a,d,u[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(u)):r(Object(u)).forEach(function(d){Object.defineProperty(a,d,Object.getOwnPropertyDescriptor(u,d))})}return a}function s(a,f){if(!(a instanceof f))throw new TypeError("Cannot call a class as a function")}function o(a,f){for(var u=0;u<f.length;u++){var d=f[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,R(d.key),d)}}function l(a,f,u){return f&&o(a.prototype,f),u&&o(a,u),Object.defineProperty(a,"prototype",{writable:!1}),a}function c(a,f,u){return(f=R(f))in a?Object.defineProperty(a,f,{value:u,enumerable:!0,configurable:!0,writable:!0}):a[f]=u,a}function h(a,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(f&&f.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),f&&m(a,f)}function g(a){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(f){return f.__proto__||Object.getPrototypeOf(f)},g(a)}function m(a,f){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(u,d){return u.__proto__=d,u},m(a,f)}function _(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function v(a){var f=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,d=g(a);if(f){var p=g(this).constructor;u=Reflect.construct(d,arguments,p)}else u=d.apply(this,arguments);return function(y,w){if(w&&(typeof w=="object"||typeof w=="function"))return w;if(w!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _(y)}(this,u)}}function S(){return S=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(a,f,u){var d=function(y,w){for(;!Object.prototype.hasOwnProperty.call(y,w)&&(y=g(y))!==null;);return y}(a,f);if(d){var p=Object.getOwnPropertyDescriptor(d,f);return p.get?p.get.call(arguments.length<3?a:u):p.value}},S.apply(this,arguments)}function k(a,f){return function(u){if(Array.isArray(u))return u}(a)||function(u,d){var p=u==null?null:typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(p!=null){var y,w,A,E,P=[],O=!0,N=!1;try{if(A=(p=p.call(u)).next,d===0){if(Object(p)!==p)return;O=!1}else for(;!(O=(y=A.call(p)).done)&&(P.push(y.value),P.length!==d);O=!0);}catch(U){N=!0,w=U}finally{try{if(!O&&p.return!=null&&(E=p.return(),Object(E)!==E))return}finally{if(N)throw w}}return P}}(a,f)||function(u,d){if(u){if(typeof u=="string")return I(u,d);var p=Object.prototype.toString.call(u).slice(8,-1);if(p==="Object"&&u.constructor&&(p=u.constructor.name),p==="Map"||p==="Set")return Array.from(u);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return I(u,d)}}(a,f)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function I(a,f){(f==null||f>a.length)&&(f=a.length);for(var u=0,d=new Array(f);u<f;u++)d[u]=a[u];return d}function R(a){var f=function(u,d){if(typeof u!="object"||u===null)return u;var p=u[Symbol.toPrimitive];if(p!==void 0){var y=p.call(u,d||"default");if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(d==="string"?String:Number)(u)}(a,"string");return typeof f=="symbol"?f:String(f)}var M=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof gp<"u"?gp:typeof self<"u"?self:{};function V(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var L=V(function(a){return a===void 0}),D=function(){function a(f){s(this,a),c(this,"container",null),c(this,"constraintPosition",function(u){return u}),this.container=f}return l(a,[{key:"supported",get:function(){return!1}},{key:"startEvent",get:function(){return this.isResizable()?"resize:start":this.isSortable()?"sort:start":"drag:start"}},{key:"moveEvent",get:function(){return this.isResizable()?"resize:change":this.isSortable()?"sort:move":"drag:move"}},{key:"stopEvent",get:function(){return this.isResizable()?"resize:stop":this.isSortable()?"sort:stop":"drag:stop"}},{key:"isDraggable",value:function(){return this.container&&!L(this.container.dragging)}},{key:"isSortable",value:function(){return this.container&&!L(this.container.items)}},{key:"isResizable",value:function(){return this.container&&!L(this.container.resizing)}},{key:"attach",value:function(){this.supported&&(this.container.on(this.startEvent,this.onDragStart),this.container.on(this.moveEvent,this.onDragMove),this.container.on(this.stopEvent,this.onDragStop))}},{key:"detach",value:function(){this.supported&&(this.container.off(this.startEvent,this.onDragStart),this.container.off(this.moveEvent,this.onDragMove),this.container.off(this.stopEvent,this.onDragStop))}},{key:"onDragStart",value:function(f){}},{key:"onDragMove",value:function(f){}},{key:"onDragStop",value:function(f){}}]),a}();function W(a){return a&&a.ownerDocument||document}function q(a,f){a.classList?a.classList.add(f):function(u,d){return u.classList?!!d&&u.classList.contains(d):(" "+(u.className.baseVal||u.className)+" ").indexOf(" "+d+" ")!==-1}(a,f)||(typeof a.className=="string"?a.className=a.className+" "+f:a.setAttribute("class",(a.className&&a.className.baseVal||"")+" "+f))}var Q=!(typeof window>"u"||!window.document||!window.document.createElement),$=!1,K=!1;try{var we={get passive(){return $=!0},get once(){return K=$=!0}};Q&&(window.addEventListener("test",we,we),window.removeEventListener("test",we,!0))}catch{}function ue(a,f){return function(u){var d=W(u);return d&&d.defaultView||window}(a).getComputedStyle(a,f)}var ye=/([A-Z])/g,rt=/^ms-/;function ie(a){return function(f){return f.replace(ye,"-$1").toLowerCase()}(a).replace(rt,"-ms-")}var Te=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function J(a,f){var u="",d="";if(typeof f=="string")return a.style.getPropertyValue(ie(f))||ue(a).getPropertyValue(ie(f));Object.keys(f).forEach(function(p){var y=f[p];y||y===0?function(w){return!(!w||!Te.test(w))}(p)?d+=p+"("+y+") ":u+=ie(p)+": "+y+";":a.style.removeProperty(ie(p))}),d&&(u+="transform: "+d+";"),a.style.cssText+=";"+u}function Fe(a,f,u,d){return function(p,y,w,A){if(A&&typeof A!="boolean"&&!K){var E=A.once,P=A.capture,O=w;!K&&E&&(O=w.__once||function N(U){this.removeEventListener(y,N,P),w.call(this,U)},w.__once=O),p.addEventListener(y,O,$?A:P)}p.addEventListener(y,w,A)}(a,f,u,d),function(){(function(p,y,w,A){var E=A&&typeof A!="boolean"?A.capture:A;p.removeEventListener(y,w,E),w.__once&&p.removeEventListener(y,w.__once,E)})(a,f,u,d)}}var Yt=new Date().getTime(),pt,Ot=function(a){var f=new Date().getTime(),u=Math.max(0,16-(f-Yt)),d=setTimeout(a,u);return Yt=f,d},Me=function(a,f){return a+(a?f[0].toUpperCase()+f.substr(1):f)+"AnimationFrame"};function je(a,f){if(!pt){var u=document.body,d=u.matches||u.matchesSelector||u.webkitMatchesSelector||u.mozMatchesSelector||u.msMatchesSelector;pt=function(p,y){return d.call(p,y)}}return pt(a,f)}function Ie(a,f,u){a.closest&&!u&&a.closest(f);var d=a;do{if(je(d,f))return d;d=d.parentElement}while(d&&d!==u&&d.nodeType===document.ELEMENT_NODE);return null}function de(a,f){return a.contains?a.contains(f):a.compareDocumentPosition?a===f||!!(16&a.compareDocumentPosition(f)):void 0}Q&&["","webkit","moz","o","ms"].some(function(a){var f=Me(a,"request");return f in window&&(Me(a,"cancel"),Ot=function(u){return window[f](u)}),!!Ot}),Function.prototype.bind.call(Function.prototype.call,[].slice);var Ve=Function.prototype.bind.call(Function.prototype.call,[].slice);function ze(a,f){return Ve(a.querySelectorAll(f))}function xt(a){return"nodeType"in a&&a.nodeType===document.DOCUMENT_NODE}function Bt(a){return"window"in a&&a.window===a?a:xt(a)&&a.defaultView||!1}function mt(a){var f=a==="pageXOffset"?"scrollLeft":"scrollTop";return function(u,d){var p=Bt(u);if(d===void 0)return p?p[a]:u[f];p?p.scrollTo(p[a],d):u[f]=d}}var at=mt("pageXOffset"),kt=mt("pageYOffset");function it(a){var f=W(a),u={top:0,left:0,height:0,width:0},d=f&&f.documentElement;return d&&de(d,a)?(a.getBoundingClientRect!==void 0&&(u=a.getBoundingClientRect()),u={top:u.top+kt(d)-(d.clientTop||0),left:u.left+at(d)-(d.clientLeft||0),width:u.width,height:u.height}):u}function st(a,f){var u=Bt(a);return u?u.innerHeight:f?a.clientHeight:it(a).height}var On=/^(?:input|select|textarea|button)$/i,Mn=function(a){return!!a&&"offsetParent"in a};function Un(a){for(var f=W(a),u=a&&a.offsetParent;Mn(u)&&u.nodeName!=="HTML"&&J(u,"position")==="static";)u=u.offsetParent;return u||f.documentElement}function ur(){return ur=Object.assign?Object.assign.bind():function(a){for(var f=1;f<arguments.length;f++){var u=arguments[f];for(var d in u)Object.prototype.hasOwnProperty.call(u,d)&&(a[d]=u[d])}return a},ur.apply(this,arguments)}function Zt(a,f){var u,d={top:0,left:0};if(J(a,"position")==="fixed")u=a.getBoundingClientRect();else{var p=f||Un(a);u=it(a),function(P){return P.nodeName&&P.nodeName.toLowerCase()}(p)!=="html"&&(d=it(p));var y=String(J(p,"borderTopWidth")||0);d.top+=parseInt(y,10)-kt(p)||0;var w=String(J(p,"borderLeftWidth")||0);d.left+=parseInt(w,10)-at(p)||0}var A=String(J(a,"marginTop")||0),E=String(J(a,"marginLeft")||0);return ur({},u,{top:u.top-d.top-(parseInt(A,10)||0),left:u.left-d.left-(parseInt(E,10)||0)})}function en(a){return a&&a.parentNode?(a.parentNode.removeChild(a),a):null}function rr(a,f){return a.replace(new RegExp("(^|\\s)"+f+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function bt(a,f){a.classList?a.classList.remove(f):typeof a.className=="string"?a.className=rr(a.className,f):a.setAttribute("class",rr(a.className&&a.className.baseVal||"",f))}function Ut(a,f){var u=J(a,"position"),d=u==="absolute",p=a.ownerDocument;if(u==="fixed")return p||document;for(;(a=a.parentNode)&&!xt(a);){var y=d&&J(a,"position")==="static",w=(J(a,"overflow")||"")+(J(a,"overflow-y")||"")+J(a,"overflow-x");if(!y&&/(auto|scroll)/.test(w)&&(f||st(a)<a.scrollHeight))return a}return p||document}function xe(a,f){var u=Bt(a);return u?u.innerWidth:f?a.clientWidth:it(a).width}var ir=function(a){return a&&a.Math==Math&&a},$e=ir(typeof globalThis=="object"&&globalThis)||ir(typeof window=="object"&&window)||ir(typeof self=="object"&&self)||ir(typeof M=="object"&&M)||function(){return this}()||Function("return this")(),Qt={},Mt=function(a){try{return!!a()}catch{return!0}},Ct=!Mt(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),re={},lt={}.propertyIsEnumerable,nt=Object.getOwnPropertyDescriptor,At=nt&&!lt.call({1:2},1);re.f=At?function(a){var f=nt(this,a);return!!f&&f.enumerable}:lt;var Le=function(a,f){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:f}},sr={}.toString,hn=function(a){return sr.call(a).slice(8,-1)},_r=hn,Hi="".split,wn=Mt(function(){return!Object("z").propertyIsEnumerable(0)})?function(a){return _r(a)=="String"?Hi.call(a,""):Object(a)}:Object,Nn=function(a){if(a==null)throw TypeError("Can't call method on "+a);return a},qe=wn,Xt=Nn,Ln=function(a){return qe(Xt(a))},Je=function(a){return typeof a=="object"?a!==null:typeof a=="function"},ws=Je,bs=function(a,f){if(!ws(a))return a;var u,d;if(f&&typeof(u=a.toString)=="function"&&!ws(d=u.call(a))||typeof(u=a.valueOf)=="function"&&!ws(d=u.call(a))||!f&&typeof(u=a.toString)=="function"&&!ws(d=u.call(a)))return d;throw TypeError("Can't convert object to primitive value")},Bl={}.hasOwnProperty,or=function(a,f){return Bl.call(a,f)},Qn=Je,wr=$e.document,fn=Qn(wr)&&Qn(wr.createElement),Vt=function(a){return fn?wr.createElement(a):{}},si=Vt,tn=!Ct&&!Mt(function(){return Object.defineProperty(si("div"),"a",{get:function(){return 7}}).a!=7}),pe=Ct,ct=re,Vn=Le,wt=Ln,Fi=bs,M2=or,N2=tn,Tv=Object.getOwnPropertyDescriptor;Qt.f=pe?Tv:function(a,f){if(a=wt(a),f=Fi(f,!0),N2)try{return Tv(a,f)}catch{}if(M2(a,f))return Vn(!ct.f.call(a,f),a[f])};var oi={},L2=Je,br=function(a){if(!L2(a))throw TypeError(String(a)+" is not an object");return a},V2=Ct,H2=tn,Iv=br,F2=bs,kv=Object.defineProperty;oi.f=V2?kv:function(a,f,u){if(Iv(a),f=F2(f,!0),Iv(u),H2)try{return kv(a,f,u)}catch{}if("get"in u||"set"in u)throw TypeError("Accessors not supported");return"value"in u&&(a[f]=u.value),a};var x2=oi,U2=Le,As=Ct?function(a,f,u){return x2.f(a,f,U2(1,u))}:function(a,f,u){return a[f]=u,a},Cv={exports:{}},Pv=$e,B2=As,Dh=function(a,f){try{B2(Pv,a,f)}catch{Pv[a]=f}return f},W2=Dh,Rv="__core-js_shared__",Oh=$e[Rv]||W2(Rv,{}),Mh=Oh,j2=Function.toString;typeof Mh.inspectSource!="function"&&(Mh.inspectSource=function(a){return j2.call(a)});var Nh=Mh.inspectSource,z2=Nh,Dv=$e.WeakMap,q2=typeof Dv=="function"&&/native code/.test(z2(Dv)),Ov={exports:{}},Mv=Oh;(Ov.exports=function(a,f){return Mv[a]||(Mv[a]=f!==void 0?f:{})})("versions",[]).push({version:"3.10.1",mode:"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"});var Wl,jo,jl,Lh=Ov.exports,G2=0,K2=Math.random(),Nv=function(a){return"Symbol("+String(a===void 0?"":a)+")_"+(++G2+K2).toString(36)},Y2=Nv,Lv=Lh("keys"),Vv=function(a){return Lv[a]||(Lv[a]=Y2(a))},Vh={},Q2=q2,X2=Je,$2=As,Hv=or,Fv=Oh,J2=Vv,Z2=Vh,eC=$e.WeakMap;if(Q2){var Ss=Fv.state||(Fv.state=new eC),tC=Ss.get,nC=Ss.has,rC=Ss.set;Wl=function(a,f){return f.facade=a,rC.call(Ss,a,f),f},jo=function(a){return tC.call(Ss,a)||{}},jl=function(a){return nC.call(Ss,a)}}else{var zo=J2("state");Z2[zo]=!0,Wl=function(a,f){return f.facade=a,$2(a,zo,f),f},jo=function(a){return Hv(a,zo)?a[zo]:{}},jl=function(a){return Hv(a,zo)}}var Hh={set:Wl,get:jo,has:jl,enforce:function(a){return jl(a)?jo(a):Wl(a,{})},getterFor:function(a){return function(f){var u;if(!X2(f)||(u=jo(f)).type!==a)throw TypeError("Incompatible receiver, "+a+" required");return u}}},iC=$e,xv=As,sC=or,oC=Dh,aC=Nh,lC=Hh.get,cC=Hh.enforce,uC=String(String).split("String");(Cv.exports=function(a,f,u,d){var p,y=!!d&&!!d.unsafe,w=!!d&&!!d.enumerable,A=!!d&&!!d.noTargetGet;typeof u=="function"&&(typeof f!="string"||sC(u,"name")||xv(u,"name",f),(p=cC(u)).source||(p.source=uC.join(typeof f=="string"?f:""))),a!==iC?(y?!A&&a[f]&&(w=!0):delete a[f],w?a[f]=u:xv(a,f,u)):w?a[f]=u:oC(f,u)})(Function.prototype,"toString",function(){return typeof this=="function"&&lC(this).source||aC(this)});var qo=Cv.exports,Fh=$e,xh=$e,Uv=function(a){return typeof a=="function"?a:void 0},Go=function(a,f){return arguments.length<2?Uv(Fh[a])||Uv(xh[a]):Fh[a]&&Fh[a][f]||xh[a]&&xh[a][f]},Bv={},hC=Math.ceil,fC=Math.floor,Uh=function(a){return isNaN(a=+a)?0:(a>0?fC:hC)(a)},dC=Uh,pC=Math.min,Es=function(a){return a>0?pC(dC(a),9007199254740991):0},gC=Uh,mC=Math.max,vC=Math.min,Wv=function(a,f){var u=gC(a);return u<0?mC(u+f,0):vC(u,f)},yC=Ln,_C=Es,wC=Wv,jv=function(a){return function(f,u,d){var p,y=yC(f),w=_C(y.length),A=wC(d,w);if(a&&u!=u){for(;w>A;)if((p=y[A++])!=p)return!0}else for(;w>A;A++)if((a||A in y)&&y[A]===u)return a||A||0;return!a&&-1}},zv={includes:jv(!0),indexOf:jv(!1)},Bh=or,bC=Ln,AC=zv.indexOf,SC=Vh,qv=function(a,f){var u,d=bC(a),p=0,y=[];for(u in d)!Bh(SC,u)&&Bh(d,u)&&y.push(u);for(;f.length>p;)Bh(d,u=f[p++])&&(~AC(y,u)||y.push(u));return y},Wh=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],EC=qv,TC=Wh.concat("length","prototype");Bv.f=Object.getOwnPropertyNames||function(a){return EC(a,TC)};var Gv={};Gv.f=Object.getOwnPropertySymbols;var Ts,zl,IC=Bv,kC=Gv,CC=br,PC=Go("Reflect","ownKeys")||function(a){var f=IC.f(CC(a)),u=kC.f;return u?f.concat(u(a)):f},RC=or,DC=PC,OC=Qt,MC=oi,NC=Mt,LC=/#|\.prototype\./,Ko=function(a,f){var u=HC[VC(a)];return u==xC||u!=FC&&(typeof f=="function"?NC(f):!!f)},VC=Ko.normalize=function(a){return String(a).replace(LC,".").toLowerCase()},HC=Ko.data={},FC=Ko.NATIVE="N",xC=Ko.POLYFILL="P",Kv=Ko,jh=$e,UC=Qt.f,BC=As,WC=qo,jC=Dh,zC=function(a,f){for(var u=DC(f),d=MC.f,p=OC.f,y=0;y<u.length;y++){var w=u[y];RC(a,w)||d(a,w,p(f,w))}},qC=Kv,nn=function(a,f){var u,d,p,y,w,A=a.target,E=a.global,P=a.stat;if(u=E?jh:P?jh[A]||jC(A,{}):(jh[A]||{}).prototype)for(d in f){if(y=f[d],p=a.noTargetGet?(w=UC(u,d))&&w.value:u[d],!qC(E?d:A+(P?".":"#")+d,a.forced)&&p!==void 0){if(typeof y==typeof p)continue;zC(y,p)}(a.sham||p&&p.sham)&&BC(y,"sham",!0),WC(u,d,y,a)}},Is=function(a){if(typeof a!="function")throw TypeError(String(a)+" is not a function");return a},GC=Is,zh=function(a,f,u){if(GC(a),f===void 0)return a;switch(u){case 0:return function(){return a.call(f)};case 1:return function(d){return a.call(f,d)};case 2:return function(d,p){return a.call(f,d,p)};case 3:return function(d,p,y){return a.call(f,d,p,y)}}return function(){return a.apply(f,arguments)}},KC=Nn,qh=function(a){return Object(KC(a))},YC=hn,ql=Array.isArray||function(a){return YC(a)=="Array"},Gl=hn($e.process)=="process",Kl=Go("navigator","userAgent")||"",Gh=Kl,Yv=$e.process,Qv=Yv&&Yv.versions,Xv=Qv&&Qv.v8;Xv?zl=(Ts=Xv.split("."))[0]+Ts[1]:Gh&&(!(Ts=Gh.match(/Edge\/(\d+)/))||Ts[1]>=74)&&(Ts=Gh.match(/Chrome\/(\d+)/))&&(zl=Ts[1]);var Yl=zl&&+zl,QC=Gl,Kh=Yl,XC=Mt,$v=!!Object.getOwnPropertySymbols&&!XC(function(){return!Symbol.sham&&(QC?Kh===38:Kh>37&&Kh<41)}),$C=$v&&!Symbol.sham&&typeof Symbol.iterator=="symbol",JC=$e,Jv=or,ZC=Nv,Zv=$v,eP=$C,Yo=Lh("wks"),Qo=JC.Symbol,tP=eP?Qo:Qo&&Qo.withoutSetter||ZC,Hn=function(a){return Jv(Yo,a)&&(Zv||typeof Yo[a]=="string")||(Zv&&Jv(Qo,a)?Yo[a]=Qo[a]:Yo[a]=tP("Symbol."+a)),Yo[a]},nP=Je,ey=ql,rP=Hn("species"),ty=function(a,f){var u;return ey(a)&&(typeof(u=a.constructor)!="function"||u!==Array&&!ey(u.prototype)?nP(u)&&(u=u[rP])===null&&(u=void 0):u=void 0),new(u===void 0?Array:u)(f===0?0:f)},iP=zh,sP=wn,oP=qh,aP=Es,lP=ty,ny=[].push,ai=function(a){var f=a==1,u=a==2,d=a==3,p=a==4,y=a==6,w=a==7,A=a==5||y;return function(E,P,O,N){for(var U,F,Y=oP(E),X=sP(Y),Z=iP(P,O,3),ee=aP(X.length),ge=0,Se=N||lP,be=f?Se(E,ee):u||w?Se(E,0):void 0;ee>ge;ge++)if((A||ge in X)&&(F=Z(U=X[ge],ge,Y),a))if(f)be[ge]=F;else if(F)switch(a){case 3:return!0;case 5:return U;case 6:return ge;case 2:ny.call(be,U)}else switch(a){case 4:return!1;case 7:ny.call(be,U)}return y?-1:d||p?p:be}},Xo={forEach:ai(0),map:ai(1),filter:ai(2),some:ai(3),every:ai(4),find:ai(5),findIndex:ai(6),filterOut:ai(7)},cP=Mt,uP=Yl,hP=Hn("species"),Ql=function(a){return uP>=51||!cP(function(){var f=[];return(f.constructor={})[hP]=function(){return{foo:1}},f[a](Boolean).foo!==1})},fP=Xo.filter;nn({target:"Array",proto:!0,forced:!Ql("filter")},{filter:function(a){return fP(this,a,arguments.length>1?arguments[1]:void 0)}});var ry={};ry[Hn("toStringTag")]="z";var Yh=String(ry)==="[object z]",dP=Yh,Xl=hn,pP=Hn("toStringTag"),gP=Xl(function(){return arguments}())=="Arguments",iy=dP?Xl:function(a){var f,u,d;return a===void 0?"Undefined":a===null?"Null":typeof(u=function(p,y){try{return p[y]}catch{}}(f=Object(a),pP))=="string"?u:gP?Xl(f):(d=Xl(f))=="Object"&&typeof f.callee=="function"?"Arguments":d},mP=iy,vP=Yh?{}.toString:function(){return"[object "+mP(this)+"]"};Yh||qo(Object.prototype,"toString",vP,{unsafe:!0});var yP=Mt,$o=function(a,f){var u=[][a];return!!u&&yP(function(){u.call(null,f||function(){throw 1},1)})},_P=Xo.forEach,Qh=$o("forEach")?[].forEach:function(a){return _P(this,a,arguments.length>1?arguments[1]:void 0)};nn({target:"Array",proto:!0,forced:[].forEach!=Qh},{forEach:Qh});var wP=$e,bP={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Xh=Qh,AP=As;for(var SP in bP){var sy=wP[SP],$l=sy&&sy.prototype;if($l&&$l.forEach!==Xh)try{AP($l,"forEach",Xh)}catch{$l.forEach=Xh}}var EP=$e.Promise,TP=qo,IP=oi.f,kP=or,oy=Hn("toStringTag"),CP=Go,PP=oi,RP=Ct,ay=Hn("species"),ly={},DP=ly,OP=Hn("iterator"),MP=Array.prototype,NP=iy,LP=ly,VP=Hn("iterator"),HP=br,FP=br,xP=function(a){return a!==void 0&&(DP.Array===a||MP[OP]===a)},UP=Es,BP=zh,WP=function(a){if(a!=null)return a[VP]||a["@@iterator"]||LP[NP(a)]},cy=function(a){var f=a.return;if(f!==void 0)return HP(f.call(a)).value},Jo=function(a,f){this.stopped=a,this.result=f},uy=Hn("iterator"),hy=!1;try{var jP=0,fy={next:function(){return{done:!!jP++}},return:function(){hy=!0}};fy[uy]=function(){return this},Array.from(fy,function(){throw 2})}catch{}var ks,dy,$h,py=br,zP=Is,qP=Hn("species"),gy=Go("document","documentElement"),my=/(?:iphone|ipod|ipad).*applewebkit/i.test(Kl),Ar=$e,GP=Mt,KP=zh,vy=gy,yy=Vt,YP=my,QP=Gl,Jl=Ar.location,Jh=Ar.setImmediate,Zh=Ar.clearImmediate,XP=Ar.process,_y=Ar.MessageChannel,ef=Ar.Dispatch,tf=0,Zo={},wy="onreadystatechange",nf=function(a){if(Zo.hasOwnProperty(a)){var f=Zo[a];delete Zo[a],f()}},rf=function(a){return function(){nf(a)}},by=function(a){nf(a.data)},Ay=function(a){Ar.postMessage(a+"",Jl.protocol+"//"+Jl.host)};Jh&&Zh||(Jh=function(a){for(var f=[],u=1;arguments.length>u;)f.push(arguments[u++]);return Zo[++tf]=function(){(typeof a=="function"?a:Function(a)).apply(void 0,f)},ks(tf),tf},Zh=function(a){delete Zo[a]},QP?ks=function(a){XP.nextTick(rf(a))}:ef&&ef.now?ks=function(a){ef.now(rf(a))}:_y&&!YP?($h=(dy=new _y).port2,dy.port1.onmessage=by,ks=KP($h.postMessage,$h,1)):Ar.addEventListener&&typeof postMessage=="function"&&!Ar.importScripts&&Jl&&Jl.protocol!=="file:"&&!GP(Ay)?(ks=Ay,Ar.addEventListener("message",by,!1)):ks=wy in yy("script")?function(a){vy.appendChild(yy("script"))[wy]=function(){vy.removeChild(this),nf(a)}}:function(a){setTimeout(rf(a),0)});var ea,xi,ta,na,sf,of,af,Sy,Ey={set:Jh,clear:Zh},$P=/web0s(?!.*chrome)/i.test(Kl),Ui=$e,JP=Qt.f,ZP=Ey.set,eR=my,tR=$P,lf=Gl,Ty=Ui.MutationObserver||Ui.WebKitMutationObserver,Iy=Ui.document,ky=Ui.process,cf=Ui.Promise,Cy=JP(Ui,"queueMicrotask"),Py=Cy&&Cy.value;Py||(ea=function(){var a,f;for(lf&&(a=ky.domain)&&a.exit();xi;){f=xi.fn,xi=xi.next;try{f()}catch(u){throw xi?na():ta=void 0,u}}ta=void 0,a&&a.enter()},eR||lf||tR||!Ty||!Iy?cf&&cf.resolve?(af=cf.resolve(void 0),Sy=af.then,na=function(){Sy.call(af,ea)}):na=lf?function(){ky.nextTick(ea)}:function(){ZP.call(Ui,ea)}:(sf=!0,of=Iy.createTextNode(""),new Ty(ea).observe(of,{characterData:!0}),na=function(){of.data=sf=!sf}));var nR=Py||function(a){var f={fn:a,next:void 0};ta&&(ta.next=f),xi||(xi=f,na()),ta=f},uf={},Ry=Is,rR=function(a){var f,u;this.promise=new a(function(d,p){if(f!==void 0||u!==void 0)throw TypeError("Bad Promise constructor");f=d,u=p}),this.resolve=Ry(f),this.reject=Ry(u)};uf.f=function(a){return new rR(a)};var hf,Dy,Oy,My,iR=br,sR=Je,oR=uf,aR=$e,ra=nn,qr=$e,Ny=Go,Zl=EP,lR=qo,cR=function(a,f,u){for(var d in f)TP(a,d,f[d],u);return a},uR=function(a,f,u){a&&!kP(a=u?a:a.prototype,oy)&&IP(a,oy,{configurable:!0,value:f})},hR=function(a){var f=CP(a),u=PP.f;RP&&f&&!f[ay]&&u(f,ay,{configurable:!0,get:function(){return this}})},fR=Je,ff=Is,dR=function(a,f,u){if(!(a instanceof f))throw TypeError("Incorrect "+(u?u+" ":"")+"invocation");return a},pR=Nh,Ly=function(a,f,u){var d,p,y,w,A,E,P,O=u&&u.that,N=!(!u||!u.AS_ENTRIES),U=!(!u||!u.IS_ITERATOR),F=!(!u||!u.INTERRUPTED),Y=BP(f,O,1+N+F),X=function(ee){return d&&cy(d),new Jo(!0,ee)},Z=function(ee){return N?(FP(ee),F?Y(ee[0],ee[1],X):Y(ee[0],ee[1])):F?Y(ee,X):Y(ee)};if(U)d=a;else{if(typeof(p=WP(a))!="function")throw TypeError("Target is not iterable");if(xP(p)){for(y=0,w=UP(a.length);w>y;y++)if((A=Z(a[y]))&&A instanceof Jo)return A;return new Jo(!1)}d=p.call(a)}for(E=d.next;!(P=E.call(d)).done;){try{A=Z(P.value)}catch(ee){throw cy(d),ee}if(typeof A=="object"&&A&&A instanceof Jo)return A}return new Jo(!1)},gR=function(a,f){if(!f&&!hy)return!1;var u=!1;try{var d={};d[uy]=function(){return{next:function(){return{done:u=!0}}}},a(d)}catch{}return u},mR=function(a,f){var u,d=py(a).constructor;return d===void 0||(u=py(d)[qP])==null?f:zP(u)},Vy=Ey.set,Hy=nR,Fy=function(a,f){if(iR(a),sR(f)&&f.constructor===a)return f;var u=oR.f(a);return(0,u.resolve)(f),u.promise},vR=function(a,f){var u=aR.console;u&&u.error&&(arguments.length===1?u.error(a):u.error(a,f))},xy=uf,df=function(a){try{return{error:!1,value:a()}}catch(f){return{error:!0,value:f}}},pf=Hh,yR=Kv,ia=Gl,Uy=Yl,_R=Hn("species"),Sr="Promise",By=pf.get,wR=pf.set,bR=pf.getterFor(Sr),Bn=Zl,Wy=qr.TypeError,gf=qr.document,mf=qr.process,jy=Ny("fetch"),Cs=xy.f,AR=Cs,SR=!!(gf&&gf.createEvent&&qr.dispatchEvent),zy=typeof PromiseRejectionEvent=="function",qy="unhandledrejection",sa=yR(Sr,function(){if(pR(Bn)===String(Bn)&&(Uy===66||!ia&&!zy))return!0;if(Uy>=51&&/native code/.test(Bn))return!1;var a=Bn.resolve(1),f=function(u){u(function(){},function(){})};return(a.constructor={})[_R]=f,!(a.then(function(){})instanceof f)}),ER=sa||!gR(function(a){Bn.all(a).catch(function(){})}),Gy=function(a){var f;return!(!fR(a)||typeof(f=a.then)!="function")&&f},vf=function(a,f){if(!a.notified){a.notified=!0;var u=a.reactions;Hy(function(){for(var d=a.value,p=a.state==1,y=0;u.length>y;){var w,A,E,P=u[y++],O=p?P.ok:P.fail,N=P.resolve,U=P.reject,F=P.domain;try{O?(p||(a.rejection===2&&IR(a),a.rejection=1),O===!0?w=d:(F&&F.enter(),w=O(d),F&&(F.exit(),E=!0)),w===P.promise?U(Wy("Promise-chain cycle")):(A=Gy(w))?A.call(w,N,U):N(w)):U(d)}catch(Y){F&&!E&&F.exit(),U(Y)}}a.reactions=[],a.notified=!1,f&&!a.rejection&&TR(a)})}},Ky=function(a,f,u){var d,p;SR?((d=gf.createEvent("Event")).promise=f,d.reason=u,d.initEvent(a,!1,!0),qr.dispatchEvent(d)):d={promise:f,reason:u},!zy&&(p=qr["on"+a])?p(d):a===qy&&vR("Unhandled promise rejection",u)},TR=function(a){Vy.call(qr,function(){var f,u=a.facade,d=a.value;if(Yy(a)&&(f=df(function(){ia?mf.emit("unhandledRejection",d,u):Ky(qy,u,d)}),a.rejection=ia||Yy(a)?2:1,f.error))throw f.value})},Yy=function(a){return a.rejection!==1&&!a.parent},IR=function(a){Vy.call(qr,function(){var f=a.facade;ia?mf.emit("rejectionHandled",f):Ky("rejectionhandled",f,a.value)})},Ps=function(a,f,u){return function(d){a(f,d,u)}},Rs=function(a,f,u){a.done||(a.done=!0,u&&(a=u),a.value=f,a.state=2,vf(a,!0))},yf=function(a,f,u){if(!a.done){a.done=!0,u&&(a=u);try{if(a.facade===f)throw Wy("Promise can't be resolved itself");var d=Gy(f);d?Hy(function(){var p={done:!1};try{d.call(f,Ps(yf,p,a),Ps(Rs,p,a))}catch(y){Rs(p,y,a)}}):(a.value=f,a.state=1,vf(a,!1))}catch(p){Rs({done:!1},p,a)}}};sa&&(Bn=function(a){dR(this,Bn,Sr),ff(a),hf.call(this);var f=By(this);try{a(Ps(yf,f),Ps(Rs,f))}catch(u){Rs(f,u)}},(hf=function(a){wR(this,{type:Sr,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=cR(Bn.prototype,{then:function(a,f){var u=bR(this),d=Cs(mR(this,Bn));return d.ok=typeof a!="function"||a,d.fail=typeof f=="function"&&f,d.domain=ia?mf.domain:void 0,u.parent=!0,u.reactions.push(d),u.state!=0&&vf(u,!1),d.promise},catch:function(a){return this.then(void 0,a)}}),Dy=function(){var a=new hf,f=By(a);this.promise=a,this.resolve=Ps(yf,f),this.reject=Ps(Rs,f)},xy.f=Cs=function(a){return a===Bn||a===Oy?new Dy(a):AR(a)},typeof Zl=="function"&&(My=Zl.prototype.then,lR(Zl.prototype,"then",function(a,f){var u=this;return new Bn(function(d,p){My.call(u,d,p)}).then(a,f)},{unsafe:!0}),typeof jy=="function"&&ra({global:!0,enumerable:!0,forced:!0},{fetch:function(a){return Fy(Bn,jy.apply(qr,arguments))}}))),ra({global:!0,wrap:!0,forced:sa},{Promise:Bn}),uR(Bn,Sr,!1),hR(Sr),Oy=Ny(Sr),ra({target:Sr,stat:!0,forced:sa},{reject:function(a){var f=Cs(this);return f.reject.call(void 0,a),f.promise}}),ra({target:Sr,stat:!0,forced:sa},{resolve:function(a){return Fy(this,a)}}),ra({target:Sr,stat:!0,forced:ER},{all:function(a){var f=this,u=Cs(f),d=u.resolve,p=u.reject,y=df(function(){var w=ff(f.resolve),A=[],E=0,P=1;Ly(a,function(O){var N=E++,U=!1;A.push(void 0),P++,w.call(f,O).then(function(F){U||(U=!0,A[N]=F,--P||d(A))},p)}),--P||d(A)});return y.error&&p(y.value),u.promise},race:function(a){var f=this,u=Cs(f),d=u.reject,p=df(function(){var y=ff(f.resolve);Ly(a,function(w){y.call(f,w).then(u.resolve,d)})});return p.error&&d(p.value),u.promise}});var kR=Is,CR=Je,Qy=[].slice,_f={},PR=Function.bind||function(a){var f=kR(this),u=Qy.call(arguments,1),d=function(){var p=u.concat(Qy.call(arguments));return this instanceof d?function(y,w,A){if(!(w in _f)){for(var E=[],P=0;P<w;P++)E[P]="a["+P+"]";_f[w]=Function("C,a","return new C("+E.join(",")+")")}return _f[w](y,A)}(f,p.length,p):f.apply(a,p)};return CR(f.prototype)&&(d.prototype=f.prototype),d};nn({target:"Function",proto:!0},{bind:PR});var RR=bs,DR=oi,OR=Le,Xy=function(a,f,u){var d=RR(f);d in a?DR.f(a,d,OR(0,u)):a[d]=u},MR=nn,NR=Je,$y=ql,Jy=Wv,LR=Es,VR=Ln,HR=Xy,FR=Hn,xR=Ql("slice"),UR=FR("species"),BR=[].slice,WR=Math.max;MR({target:"Array",proto:!0,forced:!xR},{slice:function(a,f){var u,d,p,y=VR(this),w=LR(y.length),A=Jy(a,w),E=Jy(f===void 0?w:f,w);if($y(y)&&(typeof(u=y.constructor)!="function"||u!==Array&&!$y(u.prototype)?NR(u)&&(u=u[UR])===null&&(u=void 0):u=void 0,u===Array||u===void 0))return BR.call(y,A,E);for(d=new(u===void 0?Array:u)(WR(E-A,0)),p=0;A<E;A++,p++)A in y&&HR(d,p,y[A]);return d.length=p,d}});var jR=br,wf={},Zy=Mt;function e_(a,f){return RegExp(a,f)}wf.UNSUPPORTED_Y=Zy(function(){var a=e_("a","y");return a.lastIndex=2,a.exec("abcd")!=null}),wf.BROKEN_CARET=Zy(function(){var a=e_("^r","gy");return a.lastIndex=2,a.exec("str")!=null});var bf,Af,zR=function(){var a=jR(this),f="";return a.global&&(f+="g"),a.ignoreCase&&(f+="i"),a.multiline&&(f+="m"),a.dotAll&&(f+="s"),a.unicode&&(f+="u"),a.sticky&&(f+="y"),f},t_=wf,qR=Lh,ec=RegExp.prototype.exec,GR=qR("native-string-replace",String.prototype.replace),n_=ec,Sf=(bf=/a/,Af=/b*/g,ec.call(bf,"a"),ec.call(Af,"a"),bf.lastIndex!==0||Af.lastIndex!==0),r_=t_.UNSUPPORTED_Y||t_.BROKEN_CARET,Ef=/()??/.exec("")[1]!==void 0;(Sf||Ef||r_)&&(n_=function(a){var f,u,d,p,y=this,w=r_&&y.sticky,A=zR.call(y),E=y.source,P=0,O=a;return w&&((A=A.replace("y","")).indexOf("g")===-1&&(A+="g"),O=String(a).slice(y.lastIndex),y.lastIndex>0&&(!y.multiline||y.multiline&&a[y.lastIndex-1]!==`
`)&&(E="(?: "+E+")",O=" "+O,P++),u=new RegExp("^(?:"+E+")",A)),Ef&&(u=new RegExp("^"+E+"$(?!\\s)",A)),Sf&&(f=y.lastIndex),d=ec.call(w?u:y,O),w?d?(d.input=d.input.slice(P),d[0]=d[0].slice(P),d.index=y.lastIndex,y.lastIndex+=d[0].length):y.lastIndex=0:Sf&&d&&(y.lastIndex=y.global?d.index+d[0].length:f),Ef&&d&&d.length>1&&GR.call(d[0],u,function(){for(p=1;p<arguments.length-2;p++)arguments[p]===void 0&&(d[p]=void 0)}),d});var Tf=n_;nn({target:"RegExp",proto:!0,forced:/./.exec!==Tf},{exec:Tf});var tc=`	
\v\f\r                　\u2028\u2029\uFEFF`,KR=Nn,nc="["+tc+"]",YR=RegExp("^"+nc+nc+"*"),QR=RegExp(nc+nc+"*$"),If=function(a){return function(f){var u=String(KR(f));return 1&a&&(u=u.replace(YR,"")),2&a&&(u=u.replace(QR,"")),u}},kf={start:If(1),end:If(2),trim:If(3)},XR=kf.trim,$R=tc,Cf=$e.parseFloat,i_=1/Cf($R+"-0")!=-1/0?function(a){var f=XR(String(a)),u=Cf(f);return u===0&&f.charAt(0)=="-"?-0:u}:Cf;nn({global:!0,forced:parseFloat!=i_},{parseFloat:i_});var JR=kf.trim,s_=tc,rc=$e.parseInt,ZR=/^[+-]?0[Xx]/,o_=rc(s_+"08")!==8||rc(s_+"0x16")!==22?function(a,f){var u=JR(String(a));return rc(u,f>>>0||(ZR.test(u)?16:10))}:rc;nn({global:!0,forced:parseInt!=o_},{parseInt:o_});var eD=nn,tD=Mt,nD=ql,rD=Je,iD=qh,sD=Es,a_=Xy,oD=ty,aD=Ql,lD=Yl,l_=Hn("isConcatSpreadable"),c_=9007199254740991,u_="Maximum allowed index exceeded",cD=lD>=51||!tD(function(){var a=[];return a[l_]=!1,a.concat()[0]!==a}),uD=aD("concat"),hD=function(a){if(!rD(a))return!1;var f=a[l_];return f!==void 0?!!f:nD(a)};eD({target:"Array",proto:!0,forced:!cD||!uD},{concat:function(a){var f,u,d,p,y,w=iD(this),A=oD(w,0),E=0;for(f=-1,d=arguments.length;f<d;f++)if(hD(y=f===-1?w:arguments[f])){if(E+(p=sD(y.length))>c_)throw TypeError(u_);for(u=0;u<p;u++,E++)u in y&&a_(A,E,y[u])}else{if(E>=c_)throw TypeError(u_);a_(A,E++,y)}return A.length=E,A}});var fD=nn,dD=Ln,pD=[].join,gD=wn!=Object,mD=$o("join",",");fD({target:"Array",proto:!0,forced:gD||!mD},{join:function(a){return pD.call(dD(this),a===void 0?",":a)}});var vD=function(){function a(u){var d=this;this._insertTag=function(p){var y;y=d.tags.length===0?d.insertionPoint?d.insertionPoint.nextSibling:d.prepend?d.container.firstChild:d.before:d.tags[d.tags.length-1].nextSibling,d.container.insertBefore(p,y),d.tags.push(p)},this.isSpeedy=u.speedy===void 0||u.speedy,this.tags=[],this.ctr=0,this.nonce=u.nonce,this.key=u.key,this.container=u.container,this.prepend=u.prepend,this.insertionPoint=u.insertionPoint,this.before=null}var f=a.prototype;return f.hydrate=function(u){u.forEach(this._insertTag)},f.insert=function(u){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(y){var w=document.createElement("style");return w.setAttribute("data-emotion",y.key),y.nonce!==void 0&&w.setAttribute("nonce",y.nonce),w.appendChild(document.createTextNode("")),w.setAttribute("data-s",""),w}(this));var d=this.tags[this.tags.length-1];if(this.isSpeedy){var p=function(y){if(y.sheet)return y.sheet;for(var w=0;w<document.styleSheets.length;w++)if(document.styleSheets[w].ownerNode===y)return document.styleSheets[w]}(d);try{p.insertRule(u,p.cssRules.length)}catch{}}else d.appendChild(document.createTextNode(u));this.ctr++},f.flush=function(){this.tags.forEach(function(u){return u.parentNode&&u.parentNode.removeChild(u)}),this.tags=[],this.ctr=0},a}(),bn="-ms-",h_="-moz-",ut="-webkit-",f_="comm",Pf="rule",Rf="decl",d_="@keyframes",yD=Math.abs,ic=String.fromCharCode,_D=Object.assign;function p_(a){return a.trim()}function ht(a,f,u){return a.replace(f,u)}function Df(a,f){return a.indexOf(f)}function dn(a,f){return 0|a.charCodeAt(f)}function oa(a,f,u){return a.slice(f,u)}function Er(a){return a.length}function Of(a){return a.length}function sc(a,f){return f.push(a),a}var oc=1,Ds=1,g_=0,Wn=0,Wt=0,Os="";function ac(a,f,u,d,p,y,w){return{value:a,root:f,parent:u,type:d,props:p,children:y,line:oc,column:Ds,length:w,return:""}}function aa(a,f){return _D(ac("",null,null,"",null,null,0),a,{length:-a.length},f)}function wD(){return Wt=Wn>0?dn(Os,--Wn):0,Ds--,Wt===10&&(Ds=1,oc--),Wt}function Xn(){return Wt=Wn<g_?dn(Os,Wn++):0,Ds++,Wt===10&&(Ds=1,oc++),Wt}function Tr(){return dn(Os,Wn)}function lc(){return Wn}function la(a,f){return oa(Os,a,f)}function ca(a){switch(a){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function m_(a){return oc=Ds=1,g_=Er(Os=a),Wn=0,[]}function v_(a){return Os="",a}function cc(a){return p_(la(Wn-1,Mf(a===91?a+2:a===40?a+1:a)))}function bD(a){for(;(Wt=Tr())&&Wt<33;)Xn();return ca(a)>2||ca(Wt)>3?"":" "}function AD(a,f){for(;--f&&Xn()&&!(Wt<48||Wt>102||Wt>57&&Wt<65||Wt>70&&Wt<97););return la(a,lc()+(f<6&&Tr()==32&&Xn()==32))}function Mf(a){for(;Xn();)switch(Wt){case a:return Wn;case 34:case 39:a!==34&&a!==39&&Mf(Wt);break;case 40:a===41&&Mf(a);break;case 92:Xn()}return Wn}function SD(a,f){for(;Xn()&&a+Wt!==57&&(a+Wt!==84||Tr()!==47););return"/*"+la(f,Wn-1)+"*"+ic(a===47?a:Xn())}function ED(a){for(;!ca(Tr());)Xn();return la(a,Wn)}function TD(a){return v_(uc("",null,null,null,[""],a=m_(a),0,[0],a))}function uc(a,f,u,d,p,y,w,A,E){for(var P=0,O=0,N=w,U=0,F=0,Y=0,X=1,Z=1,ee=1,ge=0,Se="",be=p,ot=y,Ge=d,fe=Se;Z;)switch(Y=ge,ge=Xn()){case 40:if(Y!=108&&dn(fe,N-1)==58){Df(fe+=ht(cc(ge),"&","&\f"),"&\f")!=-1&&(ee=-1);break}case 34:case 39:case 91:fe+=cc(ge);break;case 9:case 10:case 13:case 32:fe+=bD(Y);break;case 92:fe+=AD(lc()-1,7);continue;case 47:switch(Tr()){case 42:case 47:sc(ID(SD(Xn(),lc()),f,u),E);break;default:fe+="/"}break;case 123*X:A[P++]=Er(fe)*ee;case 125*X:case 59:case 0:switch(ge){case 0:case 125:Z=0;case 59+O:ee==-1&&(fe=ht(fe,/\f/g,"")),F>0&&Er(fe)-N&&sc(F>32?__(fe+";",d,u,N-1):__(ht(fe," ","")+";",d,u,N-2),E);break;case 59:fe+=";";default:if(sc(Ge=y_(fe,f,u,P,O,p,A,Se,be=[],ot=[],N),y),ge===123)if(O===0)uc(fe,f,Ge,Ge,be,y,N,A,ot);else switch(U===99&&dn(fe,3)===110?100:U){case 100:case 108:case 109:case 115:uc(a,Ge,Ge,d&&sc(y_(a,Ge,Ge,0,0,p,A,Se,p,be=[],N),ot),p,ot,N,A,d?be:ot);break;default:uc(fe,Ge,Ge,Ge,[""],ot,0,A,ot)}}P=O=F=0,X=ee=1,Se=fe="",N=w;break;case 58:N=1+Er(fe),F=Y;default:if(X<1){if(ge==123)--X;else if(ge==125&&X++==0&&wD()==125)continue}switch(fe+=ic(ge),ge*X){case 38:ee=O>0?1:(fe+="\f",-1);break;case 44:A[P++]=(Er(fe)-1)*ee,ee=1;break;case 64:Tr()===45&&(fe+=cc(Xn())),U=Tr(),O=N=Er(Se=fe+=ED(lc())),ge++;break;case 45:Y===45&&Er(fe)==2&&(X=0)}}return y}function y_(a,f,u,d,p,y,w,A,E,P,O){for(var N=p-1,U=p===0?y:[""],F=Of(U),Y=0,X=0,Z=0;Y<d;++Y)for(var ee=0,ge=oa(a,N+1,N=yD(X=w[Y])),Se=a;ee<F;++ee)(Se=p_(X>0?U[ee]+" "+ge:ht(ge,/&\f/g,U[ee])))&&(E[Z++]=Se);return ac(a,f,u,p===0?Pf:A,E,P,O)}function ID(a,f,u){return ac(a,f,u,f_,ic(Wt),oa(a,2,-2),0)}function __(a,f,u,d){return ac(a,f,u,Rf,oa(a,0,d),oa(a,d+1,-1),d)}function Ms(a,f){for(var u="",d=Of(a),p=0;p<d;p++)u+=f(a[p],p,a,f)||"";return u}function kD(a,f,u,d){switch(a.type){case"@layer":if(a.children.length)break;case"@import":case Rf:return a.return=a.return||a.value;case f_:return"";case d_:return a.return=a.value+"{"+Ms(a.children,d)+"}";case Pf:a.value=a.props.join(",")}return Er(u=Ms(a.children,d))?a.return=a.value+"{"+u+"}":""}function CD(a){var f=Object.create(null);return function(u){return f[u]===void 0&&(f[u]=a(u)),f[u]}}var PD=function(a,f,u){for(var d=0,p=0;d=p,p=Tr(),d===38&&p===12&&(f[u]=1),!ca(p);)Xn();return la(a,Wn)},RD=function(a,f){return v_(function(u,d){var p=-1,y=44;do switch(ca(y)){case 0:y===38&&Tr()===12&&(d[p]=1),u[p]+=PD(Wn-1,d,p);break;case 2:u[p]+=cc(y);break;case 4:if(y===44){u[++p]=Tr()===58?"&\f":"",d[p]=u[p].length;break}default:u[p]+=ic(y)}while(y=Xn());return u}(m_(a),f))},w_=new WeakMap,DD=function(a){if(a.type==="rule"&&a.parent&&!(a.length<1)){for(var f=a.value,u=a.parent,d=a.column===u.column&&a.line===u.line;u.type!=="rule";)if(!(u=u.parent))return;if((a.props.length!==1||f.charCodeAt(0)===58||w_.get(u))&&!d){w_.set(a,!0);for(var p=[],y=RD(f,p),w=u.props,A=0,E=0;A<y.length;A++)for(var P=0;P<w.length;P++,E++)a.props[E]=p[A]?y[A].replace(/&\f/g,w[P]):w[P]+" "+y[A]}}},OD=function(a){if(a.type==="decl"){var f=a.value;f.charCodeAt(0)===108&&f.charCodeAt(2)===98&&(a.return="",a.value="")}};function b_(a,f){switch(function(u,d){return 45^dn(u,0)?(((d<<2^dn(u,0))<<2^dn(u,1))<<2^dn(u,2))<<2^dn(u,3):0}(a,f)){case 5103:return ut+"print-"+a+a;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ut+a+a;case 5349:case 4246:case 4810:case 6968:case 2756:return ut+a+h_+a+bn+a+a;case 6828:case 4268:return ut+a+bn+a+a;case 6165:return ut+a+bn+"flex-"+a+a;case 5187:return ut+a+ht(a,/(\w+).+(:[^]+)/,ut+"box-$1$2"+bn+"flex-$1$2")+a;case 5443:return ut+a+bn+"flex-item-"+ht(a,/flex-|-self/,"")+a;case 4675:return ut+a+bn+"flex-line-pack"+ht(a,/align-content|flex-|-self/,"")+a;case 5548:return ut+a+bn+ht(a,"shrink","negative")+a;case 5292:return ut+a+bn+ht(a,"basis","preferred-size")+a;case 6060:return ut+"box-"+ht(a,"-grow","")+ut+a+bn+ht(a,"grow","positive")+a;case 4554:return ut+ht(a,/([^-])(transform)/g,"$1"+ut+"$2")+a;case 6187:return ht(ht(ht(a,/(zoom-|grab)/,ut+"$1"),/(image-set)/,ut+"$1"),a,"")+a;case 5495:case 3959:return ht(a,/(image-set\([^]*)/,ut+"$1$`$1");case 4968:return ht(ht(a,/(.+:)(flex-)?(.*)/,ut+"box-pack:$3"+bn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ut+a+a;case 4095:case 3583:case 4068:case 2532:return ht(a,/(.+)-inline(.+)/,ut+"$1$2")+a;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Er(a)-1-f>6)switch(dn(a,f+1)){case 109:if(dn(a,f+4)!==45)break;case 102:return ht(a,/(.+:)(.+)-([^]+)/,"$1"+ut+"$2-$3$1"+h_+(dn(a,f+3)==108?"$3":"$2-$3"))+a;case 115:return~Df(a,"stretch")?b_(ht(a,"stretch","fill-available"),f)+a:a}break;case 4949:if(dn(a,f+1)!==115)break;case 6444:switch(dn(a,Er(a)-3-(~Df(a,"!important")&&10))){case 107:return ht(a,":",":"+ut)+a;case 101:return ht(a,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ut+(dn(a,14)===45?"inline-":"")+"box$3$1"+ut+"$2$3$1"+bn+"$2box$3")+a}break;case 5936:switch(dn(a,f+11)){case 114:return ut+a+bn+ht(a,/[svh]\w+-[tblr]{2}/,"tb")+a;case 108:return ut+a+bn+ht(a,/[svh]\w+-[tblr]{2}/,"tb-rl")+a;case 45:return ut+a+bn+ht(a,/[svh]\w+-[tblr]{2}/,"lr")+a}return ut+a+bn+a+a}return a}var MD=[function(a,f,u,d){if(a.length>-1&&!a.return)switch(a.type){case Rf:a.return=b_(a.value,a.length);break;case d_:return Ms([aa(a,{value:ht(a.value,"@","@"+ut)})],d);case Pf:if(a.length)return function(p,y){return p.map(y).join("")}(a.props,function(p){switch(function(y,w){return(y=w.exec(y))?y[0]:y}(p,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ms([aa(a,{props:[ht(p,/:(read-\w+)/,":-moz-$1")]})],d);case"::placeholder":return Ms([aa(a,{props:[ht(p,/:(plac\w+)/,":"+ut+"input-$1")]}),aa(a,{props:[ht(p,/:(plac\w+)/,":-moz-$1")]}),aa(a,{props:[ht(p,/:(plac\w+)/,bn+"input-$1")]})],d)}return""})}}],ND=function(a){var f=a.key;if(f==="css"){var u=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(u,function(F){F.getAttribute("data-emotion").indexOf(" ")!==-1&&(document.head.appendChild(F),F.setAttribute("data-s",""))})}var d,p,y=a.stylisPlugins||MD,w={},A=[];d=a.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+f+' "]'),function(F){for(var Y=F.getAttribute("data-emotion").split(" "),X=1;X<Y.length;X++)w[Y[X]]=!0;A.push(F)});var E,P,O=[kD,(P=function(F){E.insert(F)},function(F){F.root||(F=F.return)&&P(F)})],N=function(F){var Y=Of(F);return function(X,Z,ee,ge){for(var Se="",be=0;be<Y;be++)Se+=F[be](X,Z,ee,ge)||"";return Se}}([DD,OD].concat(y,O));p=function(F,Y,X,Z){E=X,Ms(TD(F?F+"{"+Y.styles+"}":Y.styles),N),Z&&(U.inserted[Y.name]=!0)};var U={key:f,sheet:new vD({key:f,container:d,nonce:a.nonce,speedy:a.speedy,prepend:a.prepend,insertionPoint:a.insertionPoint}),nonce:a.nonce,inserted:w,registered:{},insert:p};return U.sheet.hydrate(A),U},LD={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},VD=/[A-Z]|^ms/g,HD=/_EMO_([^_]+?)_([^]*?)_EMO_/g,A_=function(a){return a.charCodeAt(1)===45},S_=function(a){return a!=null&&typeof a!="boolean"},Nf=CD(function(a){return A_(a)?a:a.replace(VD,"-$&").toLowerCase()}),E_=function(a,f){switch(a){case"animation":case"animationName":if(typeof f=="string")return f.replace(HD,function(u,d,p){return Ir={name:d,styles:p,next:Ir},d})}return LD[a]===1||A_(a)||typeof f!="number"||f===0?f:f+"px"};function ua(a,f,u){if(u==null)return"";if(u.__emotion_styles!==void 0)return u;switch(typeof u){case"boolean":return"";case"object":if(u.anim===1)return Ir={name:u.name,styles:u.styles,next:Ir},u.name;if(u.styles!==void 0){var d=u.next;if(d!==void 0)for(;d!==void 0;)Ir={name:d.name,styles:d.styles,next:Ir},d=d.next;return u.styles+";"}return function(A,E,P){var O="";if(Array.isArray(P))for(var N=0;N<P.length;N++)O+=ua(A,E,P[N])+";";else for(var U in P){var F=P[U];if(typeof F!="object")E!=null&&E[F]!==void 0?O+=U+"{"+E[F]+"}":S_(F)&&(O+=Nf(U)+":"+E_(U,F)+";");else if(!Array.isArray(F)||typeof F[0]!="string"||E!=null&&E[F[0]]!==void 0){var Y=ua(A,E,F);switch(U){case"animation":case"animationName":O+=Nf(U)+":"+Y+";";break;default:O+=U+"{"+Y+"}"}}else for(var X=0;X<F.length;X++)S_(F[X])&&(O+=Nf(U)+":"+E_(U,F[X])+";")}return O}(a,f,u);case"function":if(a!==void 0){var p=Ir,y=u(a);return Ir=p,ua(a,f,y)}}if(f==null)return u;var w=f[u];return w!==void 0?w:u}var Ir,T_=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Lf=function(a,f,u){if(a.length===1&&typeof a[0]=="object"&&a[0]!==null&&a[0].styles!==void 0)return a[0];var d=!0,p="";Ir=void 0;var y=a[0];y==null||y.raw===void 0?(d=!1,p+=ua(u,f,y)):p+=y[0];for(var w=1;w<a.length;w++)p+=ua(u,f,a[w]),d&&(p+=y[w]);T_.lastIndex=0;for(var A,E="";(A=T_.exec(p))!==null;)E+="-"+A[1];var P=function(O){for(var N,U=0,F=0,Y=O.length;Y>=4;++F,Y-=4)N=1540483477*(65535&(N=255&O.charCodeAt(F)|(255&O.charCodeAt(++F))<<8|(255&O.charCodeAt(++F))<<16|(255&O.charCodeAt(++F))<<24))+(59797*(N>>>16)<<16),U=1540483477*(65535&(N^=N>>>24))+(59797*(N>>>16)<<16)^1540483477*(65535&U)+(59797*(U>>>16)<<16);switch(Y){case 3:U^=(255&O.charCodeAt(F+2))<<16;case 2:U^=(255&O.charCodeAt(F+1))<<8;case 1:U=1540483477*(65535&(U^=255&O.charCodeAt(F)))+(59797*(U>>>16)<<16)}return(((U=1540483477*(65535&(U^=U>>>13))+(59797*(U>>>16)<<16))^U>>>15)>>>0).toString(36)}(p)+E;return{name:P,styles:p,next:Ir}};function I_(a,f,u){var d="";return u.split(" ").forEach(function(p){a[p]!==void 0?f.push(a[p]+";"):d+=p+" "}),d}function k_(a,f){if(a.inserted[f.name]===void 0)return a.insert("",f,a.sheet,!0)}function C_(a,f,u){var d=[],p=I_(a,d,u);return d.length<2?u:p+f(d)}var FD=function a(f){for(var u="",d=0;d<f.length;d++){var p=f[d];if(p!=null){var y=void 0;switch(typeof p){case"boolean":break;case"object":if(Array.isArray(p))y=a(p);else for(var w in y="",p)p[w]&&w&&(y&&(y+=" "),y+=w);break;default:y=p}y&&(u&&(u+=" "),u+=y)}}return u},xD=function(a){var f=ND(a);f.sheet.speedy=function(d){this.isSpeedy=d},f.compat=!0;var u=function(){for(var d=arguments.length,p=new Array(d),y=0;y<d;y++)p[y]=arguments[y];var w=Lf(p,f.registered,void 0);return function(A,E,P){(function(U,F,Y){var X=U.key+"-"+F.name;Y===!1&&U.registered[X]===void 0&&(U.registered[X]=F.styles)})(A,E,P);var O=A.key+"-"+E.name;if(A.inserted[E.name]===void 0){var N=E;do A.insert(E===N?"."+O:"",N,A.sheet,!0),N=N.next;while(N!==void 0)}}(f,w,!1),f.key+"-"+w.name};return{css:u,cx:function(){for(var d=arguments.length,p=new Array(d),y=0;y<d;y++)p[y]=arguments[y];return C_(f.registered,u,FD(p))},injectGlobal:function(){for(var d=arguments.length,p=new Array(d),y=0;y<d;y++)p[y]=arguments[y];var w=Lf(p,f.registered);k_(f,w)},keyframes:function(){for(var d=arguments.length,p=new Array(d),y=0;y<d;y++)p[y]=arguments[y];var w=Lf(p,f.registered),A="animation-"+w.name;return k_(f,{name:w.name,styles:"@keyframes "+A+"{"+w.styles+"}"}),A},hydrate:function(d){d.forEach(function(p){f.inserted[p]=!0})},flush:function(){f.registered={},f.inserted={},f.sheet.flush()},sheet:f.sheet,cache:f,getRegisteredStyles:I_.bind(null,f.registered),merge:C_.bind(null,f.registered,u)}}({key:"css"}),UD=xD.injectGlobal,BD=function(a,f){for(var u=-1,d=a==null?0:a.length;++u<d&&f(a[u],u,a)!==!1;);return a},WD=function(a){return function(f,u,d){for(var p=-1,y=Object(f),w=d(f),A=w.length;A--;){var E=w[a?A:++p];if(u(y[E],E,y)===!1)break}return f}},jD=WD(),zD=function(a,f){for(var u=-1,d=Array(a);++u<a;)d[u]=f(u);return d},P_=typeof M=="object"&&M&&M.Object===Object&&M,qD=P_,GD=typeof self=="object"&&self&&self.Object===Object&&self,Vf=qD||GD||Function("return this")(),ha=Vf.Symbol,R_=ha,D_=Object.prototype,KD=D_.hasOwnProperty,YD=D_.toString,fa=R_?R_.toStringTag:void 0,QD=function(a){var f=KD.call(a,fa),u=a[fa];try{a[fa]=void 0;var d=!0}catch{}var p=YD.call(a);return d&&(f?a[fa]=u:delete a[fa]),p},XD=Object.prototype.toString,$D=QD,JD=function(a){return XD.call(a)},O_=ha?ha.toStringTag:void 0,Ns=function(a){return a==null?a===void 0?"[object Undefined]":"[object Null]":O_&&O_ in Object(a)?$D(a):JD(a)},Ls=function(a){return a!=null&&typeof a=="object"},ZD=Ns,eO=Ls,M_=function(a){return eO(a)&&ZD(a)=="[object Arguments]"},tO=Ls,N_=Object.prototype,nO=N_.hasOwnProperty,rO=N_.propertyIsEnumerable,iO=M_(function(){return arguments}())?M_:function(a){return tO(a)&&nO.call(a,"callee")&&!rO.call(a,"callee")},sO=iO,hc=Array.isArray,Hf={exports:{}},oO=function(){return!1};(function(a,f){var u=Vf,d=oO,p=f&&!f.nodeType&&f,y=p&&a&&!a.nodeType&&a,w=y&&y.exports===p?u.Buffer:void 0,A=(w?w.isBuffer:void 0)||d;a.exports=A})(Hf,Hf.exports);var aO=Hf.exports,lO=/^(?:0|[1-9]\d*)$/,cO=function(a,f){var u=typeof a;return!!(f=f??9007199254740991)&&(u=="number"||u!="symbol"&&lO.test(a))&&a>-1&&a%1==0&&a<f},L_=function(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=9007199254740991},uO=Ns,hO=L_,fO=Ls,St={};St["[object Float32Array]"]=St["[object Float64Array]"]=St["[object Int8Array]"]=St["[object Int16Array]"]=St["[object Int32Array]"]=St["[object Uint8Array]"]=St["[object Uint8ClampedArray]"]=St["[object Uint16Array]"]=St["[object Uint32Array]"]=!0,St["[object Arguments]"]=St["[object Array]"]=St["[object ArrayBuffer]"]=St["[object Boolean]"]=St["[object DataView]"]=St["[object Date]"]=St["[object Error]"]=St["[object Function]"]=St["[object Map]"]=St["[object Number]"]=St["[object Object]"]=St["[object RegExp]"]=St["[object Set]"]=St["[object String]"]=St["[object WeakMap]"]=!1;var dO=function(a){return fO(a)&&hO(a.length)&&!!St[uO(a)]},pO=function(a){return function(f){return a(f)}},Ff={exports:{}};(function(a,f){var u=P_,d=f&&!f.nodeType&&f,p=d&&a&&!a.nodeType&&a,y=p&&p.exports===d&&u.process,w=function(){try{var A=p&&p.require&&p.require("util").types;return A||y&&y.binding&&y.binding("util")}catch{}}();a.exports=w})(Ff,Ff.exports);var V_=Ff.exports,gO=dO,mO=pO,H_=V_&&V_.isTypedArray,vO=H_?mO(H_):gO,yO=zD,_O=sO,wO=hc,bO=aO,AO=cO,SO=vO,EO=Object.prototype.hasOwnProperty,TO=function(a,f){var u=wO(a),d=!u&&_O(a),p=!u&&!d&&bO(a),y=!u&&!d&&!p&&SO(a),w=u||d||p||y,A=w?yO(a.length,String):[],E=A.length;for(var P in a)!f&&!EO.call(a,P)||w&&(P=="length"||p&&(P=="offset"||P=="parent")||y&&(P=="buffer"||P=="byteLength"||P=="byteOffset")||AO(P,E))||A.push(P);return A},IO=Object.prototype,kO=function(a){var f=a&&a.constructor;return a===(typeof f=="function"&&f.prototype||IO)},F_=function(a,f){return function(u){return a(f(u))}},CO=F_(Object.keys,Object),PO=kO,RO=CO,DO=Object.prototype.hasOwnProperty,OO=function(a){if(!PO(a))return RO(a);var f=[];for(var u in Object(a))DO.call(a,u)&&u!="constructor"&&f.push(u);return f},MO=Ns,NO=function(a){var f=typeof a;return a!=null&&(f=="object"||f=="function")},x_=function(a){if(!NO(a))return!1;var f=MO(a);return f=="[object Function]"||f=="[object GeneratorFunction]"||f=="[object AsyncFunction]"||f=="[object Proxy]"},Gr=V(x_),LO=x_,VO=L_,U_=function(a){return a!=null&&VO(a.length)&&!LO(a)},HO=TO,FO=OO,xO=U_,UO=jD,BO=function(a){return xO(a)?HO(a):FO(a)},WO=U_,jO=function(a,f){return function(u,d){if(u==null)return u;if(!WO(u))return a(u,d);for(var p=u.length,y=f?p:-1,w=Object(u);(f?y--:++y<p)&&d(w[y],y,w)!==!1;);return u}},zO=jO(function(a,f){return a&&UO(a,f,BO)}),qO=function(a){return a},GO=BD,KO=zO,YO=function(a){return typeof a=="function"?a:qO},QO=hc,da=V(function(a,f){return(QO(a)?GO:KO)(a,YO(f))}),XO=F_(Object.getPrototypeOf,Object),$O=Ns,JO=XO,ZO=Ls,eM=Function.prototype,tM=Object.prototype,B_=eM.toString,nM=tM.hasOwnProperty,rM=B_.call(Object),pa=V(function(a){if(!ZO(a)||$O(a)!="[object Object]")return!1;var f=JO(a);if(f===null)return!0;var u=nM.call(f,"constructor")&&f.constructor;return typeof u=="function"&&u instanceof u&&B_.call(u)==rM}),iM=function(a,f,u,d){var p=-1,y=a==null?0:a.length;for(d&&y&&(u=a[++p]);++p<y;)u=f(u,a[p],p,a);return u},sM=function(a){return function(f){return a==null?void 0:a[f]}}({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),oM=function(a,f){for(var u=-1,d=a==null?0:a.length,p=Array(d);++u<d;)p[u]=f(a[u],u,a);return p},aM=Ns,lM=Ls,cM=oM,uM=hc,hM=function(a){return typeof a=="symbol"||lM(a)&&aM(a)=="[object Symbol]"},W_=ha?ha.prototype:void 0,j_=W_?W_.toString:void 0,fM=function a(f){if(typeof f=="string")return f;if(uM(f))return cM(f,a)+"";if(hM(f))return j_?j_.call(f):"";var u=f+"";return u=="0"&&1/f==-1/0?"-0":u},dM=fM,z_=function(a){return a==null?"":dM(a)},pM=sM,gM=z_,mM=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,vM=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g"),yM=function(a){return(a=gM(a))&&a.replace(mM,pM).replace(vM,"")},_M=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,wM=function(a){return a.match(_M)||[]},bM=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,AM=function(a){return bM.test(a)},q_="\\ud800-\\udfff",G_="\\u2700-\\u27bf",K_="a-z\\xdf-\\xf6\\xf8-\\xff",Y_="A-Z\\xc0-\\xd6\\xd8-\\xde",Q_="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",X_="["+Q_+"]",$_="\\d+",SM="["+G_+"]",J_="["+K_+"]",Z_="[^"+q_+Q_+$_+G_+K_+Y_+"]",e0="(?:\\ud83c[\\udde6-\\uddff]){2}",t0="[\\ud800-\\udbff][\\udc00-\\udfff]",Vs="["+Y_+"]",n0="(?:"+J_+"|"+Z_+")",EM="(?:"+Vs+"|"+Z_+")",r0="(?:['’](?:d|ll|m|re|s|t|ve))?",i0="(?:['’](?:D|LL|M|RE|S|T|VE))?",s0="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",o0="[\\ufe0e\\ufe0f]?",TM=o0+s0+("(?:\\u200d(?:"+["[^"+q_+"]",e0,t0].join("|")+")"+o0+s0+")*"),IM="(?:"+[SM,e0,t0].join("|")+")"+TM,kM=RegExp([Vs+"?"+J_+"+"+r0+"(?="+[X_,Vs,"$"].join("|")+")",EM+"+"+i0+"(?="+[X_,Vs+n0,"$"].join("|")+")",Vs+"?"+n0+"+"+r0,Vs+"+"+i0,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",$_,IM].join("|"),"g"),CM=wM,PM=AM,RM=z_,DM=function(a){return a.match(kM)||[]},OM=iM,MM=yM,NM=function(a,f,u){return a=RM(a),(f=u?void 0:f)===void 0?PM(a)?DM(a):CM(a):a.match(f)||[]},LM=RegExp("['’]","g"),VM=function(a){return function(f){return OM(NM(MM(f).replace(LM,"")),a,"")}}(function(a,f,u){return a+(u?"-":"")+f.toLowerCase()}),HM=V(VM),kr=function(){function a(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};s(this,a),c(this,"data",null),c(this,"canceled",!1),this.data=f}return l(a,[{key:"type",get:function(){return this.constructor.type}},{key:"cancelable",get:function(){return this.constructor.cancelable}},{key:"cancel",value:function(){this.cancelable&&(this.canceled=!0)}}]),a}();c(kr,"type","event"),c(kr,"cancelable",!1);var fc=function(a){h(u,a);var f=v(u);function u(){return s(this,u),f.apply(this,arguments)}return l(u,[{key:"pageX",get:function(){return this.data.pageX||null}},{key:"pageY",get:function(){return this.data.pageY||null}},{key:"target",get:function(){return this.data.target||null},set:function(d){this.data.target=d}},{key:"caller",get:function(){return this.data.caller||null}},{key:"originalEvent",get:function(){return this.data.originalEvent||null}},{key:"preventDefault",value:function(){var d;(d=this.originalEvent)===null||d===void 0||d.preventDefault()}},{key:"stopPropagation",value:function(){var d;(d=this.originalEvent)===null||d===void 0||d.stopPropagation()}}]),u}(kr),xf=function(a){h(u,a);var f=v(u);function u(){return s(this,u),f.apply(this,arguments)}return l(u)}(fc);c(xf,"type","mouse:down"),c(xf,"cancelable",!0);var Uf=function(a){h(u,a);var f=v(u);function u(){return s(this,u),f.apply(this,arguments)}return l(u)}(fc);c(Uf,"type","mouse:start"),c(Uf,"cancelable",!0);var a0=function(a){h(u,a);var f=v(u);function u(){return s(this,u),f.apply(this,arguments)}return l(u)}(fc);c(a0,"type","mouse:move");var Bf=function(a){h(u,a);var f=v(u);function u(){return s(this,u),f.apply(this,arguments)}return l(u)}(fc);c(Bf,"type","mouse:stop");var FM=Function.prototype.bind.call(Function.prototype.call,[].slice),l0=function(a){a&&(a.previousDisplay?J(a,{display:a.previousDisplay}):a.style.display="")},Wf=function(a){a&&J(a,"display")!=="none"&&(a.previousDisplay=J(a,"display")||null,a.style.display="none")},c0=function(a){return a?Fe(a,"onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(f){return f.preventDefault()}):null},Hs=function(a){for(var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,u=a,d=[];u&&u.parentNode&&u.parentNode!==document&&(!f||!je(u.parentNode,f));)d.push(u.parentNode),u=u.parentNode;return d},u0=function(a){for(var f=0,u=a;u&&u.previousElementSibling;)u=u.previousElementSibling,f++;return f},Cr=function(a,f){return a!==f&&de(a,f)},h0=function(a,f){return a&&f&&f.parentNode&&f.parentNode.insertBefore(a,f),a},jf=function(a,f){return a&&f&&f.parentNode&&(f.nextSibling?f.parentNode.insertBefore(a,f.nextSibling):f.parentNode.appendChild(a)),a},zf=function(a){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,p=document.createElement(a);return pa(f)&&da(f,function(y,w){(function(A,E,P){if(A){if(P===void 0)return A.getAttribute(E);P||P===""?A.setAttribute(E,String(P)):A.removeAttribute(E)}})(p,w,y)}),u&&u.nodeType===1&&u.appendChild(p),d&&(p.innerHTML=d),p},ga=function(a){return new Bf({target:a,originalEvent:xM("mouseup",a)})},xM=function(a,f){var u={button:0,bubbles:!0,cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,clientX:1,clientY:1,screenX:0,screenY:0,view:document.defaultView,target:f,relatedTarget:document.documentElement};return new MouseEvent("mouseup",u)},f0=function(a,f){if(a){var u=document.createEvent("HTMLEvents");u.initEvent(f,!1,!0),a.dispatchEvent(u)}},UM=function(a){var f=function(u){u===void 0&&(u=W());try{var d=u.activeElement;return d&&d.nodeName?d:null}catch{return u.body}}();Cr(f,a.target)||f===document.body||f0(f,"blur")},d0=function(a){return/(left|right)/.test(J(a,"float")||/(inline|table-cell)/.test(J(a,"display")))},p0=function(a){for(var f=[],u=[J(a,"borderTop"),J(a,"borderRight"),J(a,"borderBottom"),J(a,"borderLeft")],d=[J(a,"paddingTop"),J(a,"paddingRight"),J(a,"paddingBottom"),J(a,"paddingLeft")],p=0;p<4;p++)f[p]=(parseFloat(u[p])||0)+(parseFloat(d[p])||0);return{width:f[1]+f[3],height:f[0]+f[2]}},g0=function(a){var f=J(a,"position");/^(?:r|a|f)/.test(f)||J(a,{position:"relative"})},m0=function(a){var f=J(a,"position");/^(?:fixed|absolute)/.test(f)||J(a,{position:"absolute"})},gt=function(a,f){return parseInt(J(a,f),10)||0},BM=function(a){var f=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],u=J(a,"position"),d=u==="absolute";if(u==="fixed")return document;var p=f?/(auto|scroll|hidden)/:/(auto|scroll)/,y=Hs(a).filter(function(w){return(!d||J(w,"position")!=="static")&&p.test(J(w,"overflow")+J(w,"overflowX")+J(w,"overflowY"))});return y.length>0?y[0]:document},ar=function(a){var f=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return a===document||a===document.documentElement||f&&a===document.body},qf=null;qf||(qf=new(l(function a(){var f=this;s(this,a),c(this,"draggable",null),c(this,"droppables",{}),c(this,"getDroppables",function(u){return f.droppables[u]||[]}),c(this,"addDroppable",function(u,d){u&&d&&(f.droppables[d]||(f.droppables[d]=[]),f.droppables[d].push(u))}),c(this,"removeDroppable",function(u,d){u&&f.droppables[d]&&(f.droppables[d]=f.droppables[d].filter(function(p){return p!==u}))}),c(this,"prepareOffsets",function(u,d){var p=d.type;f.draggable=u,f.getDroppables(u.scope).forEach(function(y){y.refreshVisibility(),y.visible&&y.accept(u)&&(p==="mouse:start"&&y.activate(d),y.refreshProportions())})}),c(this,"onDragMove",function(u,d){f.getDroppables(u.scope).forEach(function(p){var y=p.intersect(u,d);if(y&&!p.isOver||!y&&p.isOver){var w,A=p.element,E=p.options,P=E.greedy,O=E.scope;if(P){var N=Hs(A).filter(function(U){return U[p.dataProperty]&&U[p.dataProperty].options.scope===O});N.length>0&&((w=N[0][p.dataProperty]).greedyChild=y,y&&w.out(d))}y?p.over(d):p.out(d),w&&!y&&w.over(d)}})}),c(this,"onDragStop",function(u,d){f.prepareOffsets(u,d)}),c(this,"drop",function(u,d){var p=null;return f.getDroppables(u.scope).forEach(function(y){y.intersect(u,d)&&(p=y.drop(d)||p),y.accept(u)&&y.deactivate(d)}),f.draggable=null,p})})));var Ht=qf,v0=function(a){h(u,a);var f=v(u);function u(d){var p;return s(this,u),c(_(p=f.call(this,d)),"scrollParent",null),c(_(p),"scrollParentOffset",null),c(_(p),"onDragStart",function(y){if(p.scroll){var w=p.container.helperAttrs;p.scrollParent||(p.scrollParent=w.scrollParent),ar(p.scrollParent,!1)||(p.scrollParentOffset=it(p.scrollParent))}}),c(_(p),"onDragMove",function(y){if(p.scroll){var w=!1,A=y.sensorEvent,E=_(p),P=E.scrollParent,O=E.scrollParentOffset,N=p.container.helperSize,U=p.container.offset.click,F=p.container.options,Y=F.axis,X=F.scrollSensitivity,Z=F.scrollSpeed,ee=A.pageX-U.left-(ar(p.scrollParent,!1)?at(document):0),ge=A.pageY-U.top-(ar(p.scrollParent,!1)?kt(document):0);ar(p.scrollParent,!1)?(Y&&Y==="y"||(ee<X?(at(document,at(document)-Z),w=!0):window.innerWidth-(ee+N.width)<X&&(at(document,at(document)+Z),w=!0)),Y&&Y==="x"||(ge<X?(kt(document,kt(document)-Z),w=!0):window.innerHeight-(ge+N.height)<X&&(kt(document,kt(document)+Z),w=!0))):(Y&&Y==="y"||(O.left+P.offsetWidth-(ee+N.width)<X?(P.scrollLeft=P.scrollLeft+Z,w=!0):ee-O.left<X&&(P.scrollLeft=P.scrollLeft-Z,w=!0)),Y&&Y==="x"||(O.top+P.offsetHeight-(ge+N.height)<X?(P.scrollTop=P.scrollTop+Z,w=!0):ge-O.top<X&&(P.scrollTop=P.scrollTop-Z,w=!0))),w&&Ht.prepareOffsets(p.container,A)}}),p.attach(),p}return l(u,[{key:"supported",get:function(){return this.isDraggable()||this.isSortable()}},{key:"scroll",get:function(){return this.container.options.scroll}}]),u}(D),y0=function(a){h(u,a);var f=v(u);function u(d){var p;return s(this,u),c(_(p=f.call(this,d)),"constraintPosition",function(y){var w=p.container.startEvent;return p.axis==="y"?y.pageX=w.pageX:p.axis==="x"&&(y.pageY=w.pageY),y}),p.attach(),p}return l(u,[{key:"supported",get:function(){return this.isDraggable()||this.isSortable()}},{key:"axis",get:function(){var d=this.container.options.axis;return d===void 0?null:d}}]),u}(D),li=function(a){h(u,a);var f=v(u);function u(){return s(this,u),f.apply(this,arguments)}return l(u,[{key:"sortable",get:function(){return this.data.sortable||null}}]),u}(kr);c(li,"type","sortable");var _0=function(a){h(u,a);var f=v(u);function u(){return s(this,u),f.apply(this,arguments)}return l(u)}(li);c(_0,"type","sortable:init");var Fs=function(a){h(u,a);var f=v(u);function u(){return s(this,u),f.apply(this,arguments)}return l(u,[{key:"sensorEvent",get:function(){return this.data.sensorEvent||null}},{key:"draggable",get:function(){return this.data.draggable||null}},{key:"peerSortable",get:function(){return this.data.sortable||null}}]),u}(li);c(Fs,"type","sortable:activate");var w0=function(a){h(u,a);var f=v(u);function u(){return s(this,u),f.apply(this,arguments)}return l(u)}(Fs);c(w0,"type","sortable:over");var Gf=function(a){h(u,a);var f=v(u);function u(){return s(this,u),f.apply(this,arguments)}return l(u)}(li);c(Gf,"type","sortable:change");var b0=function(a){h(u,a);var f=v(u);function u(){return s(this,u),f.apply(this,arguments)}return l(u,[{key:"item",get:function(){return this.data.item||null}},{key:"previousIndex",get:function(){return this.data.previousIndex||null}},{key:"peerSortable",get:function(){return this.data.peerSortable||null}}]),u}(li);c(b0,"type","sortable:remove");var Kf=function(a){h(u,a);var f=v(u);function u(){return s(this,u),f.apply(this,arguments)}return l(u,[{key:"item",get:function(){return this.data.item||null}},{key:"newIndex",get:function(){return this.data.newIndex||null}},{key:"draggable",get:function(){return this.data.draggable||null}},{key:"peerSortable",get:function(){return this.data.peerSortable||null}}]),u}(li);c(Kf,"type","sortable:receive");var Yf=function(a){h(u,a);var f=v(u);function u(){return s(this,u),f.apply(this,arguments)}return l(u,[{key:"item",get:function(){return this.data.item||null}},{key:"previousIndex",get:function(){return this.data.previousIndex||null}},{key:"newIndex",get:function(){return this.data.newIndex||null}},{key:"peerSortable",get:function(){return this.data.peerSortable||null}}]),u}(li);c(Yf,"type","sortable:update");var A0=function(a){h(u,a);var f=v(u);function u(){return s(this,u),f.apply(this,arguments)}return l(u)}(Fs);c(A0,"type","sortable:out");var Qf=function(a){h(u,a);var f=v(u);function u(){return s(this,u),f.apply(this,arguments)}return l(u)}(Fs);c(Qf,"type","sortable:deactivate");var S0=function(a){h(u,a);var f=v(u);function u(){return s(this,u),f.apply(this,arguments)}return l(u)}(li);c(S0,"type","sortable:destroy");var xs="sortableInstance",E0=["n","s","e","w","ne","nw","se","sw"],WM='<svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 16 16"><g><polygon points="16,0 16,16 0,0" fill="darkgray" /></g></svg>',jM='<svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 16 16"><g><polygon points="0,16 16,16 16,0" fill="darkgray" /></g></svg>',zM='<svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 16 16"><g><polygon points="0,0 0,16 16,16" fill="darkgray" /></g></svg>',qM={n:{cursor:"n-resize",height:"7px",width:"100%",top:"-5px",left:"0"},s:{cursor:"s-resize",height:"7px",width:"100%",bottom:"-5px",left:"0"},e:{cursor:"e-resize",width:"7px",right:"-5px",top:"0",height:"100%"},w:{cursor:"w-resize",width:"7px",left:"-5px",top:"0",height:"100%"},nw:{cursor:"nw-resize",width:"12px",height:"12px",left:"1px",top:"1px",backgroundImage:"url('data:image/svg+xml;utf8,".concat(encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 16 16"><g><polygon points="0,0 0,16 16,0" fill="darkgray" /></g></svg>'),"')"),backgroundPosition:"center",backgroundRepeat:"no-repeat"},ne:{cursor:"ne-resize",width:"12px",height:"12px",right:"1px",top:"1px",backgroundImage:"url('data:image/svg+xml;utf8,".concat(encodeURIComponent(WM),"')"),backgroundPosition:"center",backgroundRepeat:"no-repeat"},se:{cursor:"se-resize",width:"12px",height:"12px",right:"1px",bottom:"1px",backgroundImage:"url('data:image/svg+xml;utf8,".concat(encodeURIComponent(jM),"')"),backgroundPosition:"center",backgroundRepeat:"no-repeat"},sw:{cursor:"sw-resize",width:"12px",height:"12px",left:"1px",bottom:"1px",backgroundImage:"url('data:image/svg+xml;utf8,".concat(encodeURIComponent(zM),"')"),backgroundPosition:"center",backgroundRepeat:"no-repeat"}},GM=function(a){h(u,a);var f=v(u);function u(d){var p;return s(this,u),c(_(p=f.call(this,d)),"onDragStart",function(y){p.connectToSortable&&(p.container.connectedSortables=[],ze(document,p.connectToSortable).forEach(function(w){var A=w[xs];A&&!A.disabled&&(p.container.connectedSortables.push(A),A.refreshPositions(),A.trigger(new Fs({sortable:A,sensorEvent:y.sensorEvent,draggable:p.container})))}))}),c(_(p),"onDragMove",function(y){var w=y.sensorEvent;p.connectToSortable&&p.container.connectedSortables.forEach(function(A){var E=!1,P=p.container,O=P.helperSize,N=P.position,U=p.container.offset,F=U.click,Y=U.parent;A.helperSize=O,A.offset.click=F,A.position.absolute=N.absolute,A.intersectsWith(A.elementProportions)&&(E=!0,p.container.connectedSortables.forEach(function(X){X.helperSize=O,X.offset.click=F,X.position.absolute=N.absolute,X!==A&&X.intersectsWith(X.elementProportions)&&Cr(A.element,X.element)&&(E=!1)})),E?(A.isDraggableOver||(p.container.previousHelperParent||(p.container.previousHelperParent=p.container.helper.parentNode),p.container.helper[xs]=A,A.element.appendChild(p.container.helper),A.previousHelper=A.options.helper,A.options.helper=function(){return p.container.helper},A.currentItem=p.container.helper,A.connectedDraggable=p.container,w.target=A.currentItem,A.over(null,p.container),A.isDraggableOver=!0,A.onDragStart({detail:w},!0,!0),A.offset.click=F,A.offset.parent.left-=Y.left-A.offset.parent.left,A.offset.parent.top-=Y.top-A.offset.parent.top,p.container.connectedSortables.forEach(function(X){return X.refreshPositions()})),A.currentItem&&(A.onDragMove({detail:w},!1,!0),y.position=A.position.current)):!E&&A.isDraggableOver&&(A.previousRevert=A.options.revert,A.options.revert=!1,A.out(null,p.container),A.isDraggableOver=!1,A.cancelHelperRemoval=A.helper===A.currentItem,A.placeholder&&A.placeholder.parentNode.removeChild(A.placeholder),A.onDragStop({detail:w},!0),A.options.helper=A.previousHelper,A.previousHelper=null,A.options.revert=A.previousRevert,A.previousRevert=null,p.container.previousHelperParent.appendChild(p.container.helper),p.container.helper[xs]=null,p.container.calculateOffsets(w),p.container.calculatePosition(w),p.container.connectedSortables.forEach(function(X){return X.refreshPositions()}),y.position=p.container.position.current)})}),c(_(p),"onDragStop",function(y){var w=y.sensorEvent;p.connectToSortable&&(p.container.cancelHelperRemoval=!1,p.container.connectedSortables.forEach(function(A){A.isDraggableOver?(delete p.container.helper[xs],p.container.cancelHelperRemoval=!0,A.cancelHelperRemoval=!1,A.options.helper=A.previousHelper,A.previousHelper=null,A.previousRevert=A.options.revert,A.options.revert=!1,y.droppedSortable=A,A.out(null,p.container),A.isDraggableOver=!1,A.currentItemStyle={position:J(A.placeholder,"position"),left:gt(A.placeholder,"left"),top:gt(A.placeholder,"top")},A.onDragStop({detail:w},!0),A.options.revert=A.previousRevert,A.previousRevert=null,A.currentItem=null,A.connectedDraggable=null,p.container.helper[xs]=null,p.container.connectedSortables.forEach(function(E){return E.refreshPositions()})):A.cancelHelperRemoval=!1,A.trigger(new Qf({sortable:A,sensorEvent:w,draggable:p.container})),A.currentItem=null,A.connectedDraggable=null}),p.container.connectedSortables=[])}),p.attach(),p}return l(u,[{key:"supported",get:function(){return this.isSortable()}},{key:"connectToSortable",get:function(){return this.container.options.connectToSortable||null}}]),u}(D);nn({target:"Array",stat:!0},{isArray:ql});var T0=function(a){h(u,a);var f=v(u);function u(d){var p;return s(this,u),c(_(p=f.call(this,d)),"constraintPosition",function(y){if(p.containment){var w=k(p.containment,4),A=w[0],E=w[1],P=w[2],O=w[3],N=p.container.containmentContainer,U=p.container.offset.click;if(N){var F=it(N);A+=F.left,E+=F.top,P+=F.left,O+=F.top}y.pageX-U.left<A&&(y.pageX=A+U.left),y.pageY-U.top<E&&(y.pageY=E+U.top),y.pageX-U.left>P&&(y.pageX=P+U.left),y.pageY-U.top>O&&(y.pageY=O+U.top)}return y}),p.attach(),p}return l(u,[{key:"supported",get:function(){return this.isDraggable()||this.isSortable()}},{key:"containment",get:function(){if(this.container.containmentCoords===void 0){var d=this.container.options.containment,p=this.container.offset,y=p.parent,w=p.relative,A=this.container,E=A.helper,P=A.helperSize,O=A.margins;if(d==="window")this.container.containmentCoords=[window.pageXOffset-y.left-w.left,window.pageYOffset-y.top-w.top,window.pageXOffset+window.innerWidth-P.width-O.left,window.pageYOffset+window.innerHeight-P.height-O.top];else if(d==="document")this.container.containmentCoords=[0,0,xe(document)-P.width-O.left,st(document)-P.height-O.top];else if(Array.isArray(d)&&d.length===4)this.container.containmentCoords=d;else{var N=d==="parent"?E.parentNode:document.querySelector(d);if(N){var U=/(scroll|auto)/.test(J(N,"overflow"));this.container.containmentContainer=N,this.container.containmentCoords=[gt(N,"borderLeftWidth")+gt(N,"paddingLeft"),gt(N,"borderTopWidth")+gt(N,"paddingTop"),(U?Math.max(N.scrollWidth,N.offsetWidth):N.offsetWidth)-gt(N,"borderRightWidth")-gt(N,"paddingRight")-P.width-O.left-O.right,(U?Math.max(N.scrollHeight,N.offsetHeight):N.offsetHeight)-gt(N,"borderBottomWidth")-gt(N,"paddingBottom")-P.height-O.top-O.bottom]}else this.container.containmentCoords=null}}return this.container.containmentCoords}}]),u}(D),I0=function(a){h(u,a);var f=v(u);function u(d){var p;return s(this,u),c(_(p=f.call(this,d)),"constraintPosition",function(y){if(p.grid){var w,A,E,P,O=k(p.grid,2),N=O[0],U=O[1],F=p.container,Y=F.containmentCoords,X=F.containmentContainer,Z=F.startEvent,ee=p.container.offset.click;if(Y){var ge=k(Y,4);if(w=ge[0],E=ge[1],A=ge[2],P=ge[3],Y&&X){var Se=it(X);w+=Se.left,E+=Se.top,A+=Se.left,P+=Se.top}}var be=N?Z.pageX+Math.round((y.pageX-Z.pageX)/N)*N:Z.pageX,ot=U?Z.pageY+Math.round((y.pageY-Z.pageY)/U)*U:Z.pageY;Y?(be-ee.left>=w||be-ee.left>A?y.pageX=be:y.pageX=be+N,ot-ee.top>=E||ot-ee.top>P?y.pageY=ot:y.pageY=ot+U):(y.pageX=be,y.pageY=ot)}return y}),p.attach(),p}return l(u,[{key:"supported",get:function(){return this.isDraggable()||this.isSortable()}},{key:"grid",get:function(){var d=this.container.options;return Array.isArray(d.grid)&&d.grid.length===2?d.grid:null}}]),u}(D),KM=function(a){h(u,a);var f=v(u);function u(d){var p;return s(this,u),c(_(p=f.call(this,d)),"containmentContainer",null),c(_(p),"containmentAttrs",{offset:null,position:null,size:null}),c(_(p),"onDragStart",function(y){var w=p.container.helper,A=p.container.options.containment;if(A==="document")p.containmentContainer=document,p.containmentAttrs.offset={left:0,top:0},p.containmentAttrs.position={left:0,top:0},p.containmentAttrs.size={width:xe(document),height:st(document)||document.body.parentNode.scrollHeight};else{var E=[],P=A==="parent"?w.parentNode:document.querySelector(A);P&&(p.containmentContainer=P,["Top","Right","Bottom","Left"].forEach(function(O){E[O.toLowerCase()]=gt(P,"padding".concat(O))}),p.containmentAttrs.offset=it(P),p.containmentAttrs.position=Zt(P),p.containmentAttrs.size={width:xe(P)-E.left-E.right,height:st(P)-E.top-E.bottom})}}),c(_(p),"onDragMove",function(y){var w=p.container.offset.helper,A={left:0,top:0},E=y.size,P=y.position,O=p.container,N=O.aspectRatio,U=O.helper,F=p.container.options.containment,Y=p.container.currentAttrs,X=Y.size,Z=Y.position,ee=_(p).containmentContainer,ge=p.containmentAttrs,Se=ge.size,be=ge.offset;ee&&(ee!==document&&J(ee,"position")==="static"&&(A=be),Z.left<0&&(E.width+=Z.left,N&&(E.height=E.width/N),P.left=0),Z.top<0&&(E.height+=Z.top,N&&(E.width=E.height*N),P.top=0),F==="parent"&&/absolute|relative/.test(J(ee,"position"))?(w.left=A.left+Z.left,w.top=A.top+Z.top):w=it(U),X.width+(w.left-A.left)>=Se.width&&(E.width=Se.width-(w.left-A.left),N&&(E.height=X.width/N)),X.height+(w.top-A.top)>=Se.height&&(E.height=Se.height-(w.top-A.top),N&&(E.width=X.height*N)))}),p.attach(),p}return l(u,[{key:"supported",get:function(){return this.isResizable()}}]),u}(D),YM=function(a){h(u,a);var f=v(u);function u(d){var p;return s(this,u),c(_(p=f.call(this,d)),"onDragMove",function(y){if(p.grid){var w=k(p.grid,2),A=w[0],E=w[1],P=y.size,O=y.position,N=p.container,U=N.currentDirection,F=N.helper,Y=p.container.originalAttrs,X=Y.size,Z=Y.position,ee=p.container.options,ge=ee.minWidth,Se=ee.maxWidth,be=ee.minHeight,ot=ee.maxHeight,Ge={x:X.width+Math.round((P.width-X.width)/A)*A,y:X.height+Math.round((P.height-X.height)/E)*E},fe={width:Ge.x,height:Ge.y};if(ge&&ge>fe.width&&(fe.width+=A),Se&&Se<fe.width&&(fe.width-=A),be&&be>fe.height&&(fe.height+=E),ot&&ot<fe.height&&(fe.height-=E),/^(se|s|e)$/.test(U))P.width=fe.width,P.height=fe.height;else if(/^(ne)$/.test(U))P.width=fe.width,P.height=fe.height,O.top=Z.top-Ge.y;else if(/^(sw)$/.test(U))P.width=fe.width,P.height=fe.height,O.left=Z.left-Ge.x;else{var _t=p0(F);fe.width-A>0?(P.width=fe.width,O.left=Z.left-Ge.x):(P.width=A-_t.width,O.left=Z.left+X.width-fe.width),fe.height-E>0?(P.height=fe.height,O.top=Z.top-Ge.y):(P.height=E-_t.height,O.top=Z.top+X.height-fe.height)}}}),p.attach(),p}return l(u,[{key:"supported",get:function(){return this.isResizable()}},{key:"grid",get:function(){var d=this.container.options;return Array.isArray(d.grid)&&d.grid.length===2?d.grid:null}}]),u}(D),k0={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},Xf={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},QM=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],dc={CSS:{},springs:{}};function Pr(a,f,u){return Math.min(Math.max(a,f),u)}function ma(a,f){return a.indexOf(f)>-1}function $f(a,f){return a.apply(null,f)}var Ae={arr:function(a){return Array.isArray(a)},obj:function(a){return ma(Object.prototype.toString.call(a),"Object")},pth:function(a){return Ae.obj(a)&&a.hasOwnProperty("totalLength")},svg:function(a){return a instanceof SVGElement},inp:function(a){return a instanceof HTMLInputElement},dom:function(a){return a.nodeType||Ae.svg(a)},str:function(a){return typeof a=="string"},fnc:function(a){return typeof a=="function"},und:function(a){return a===void 0},nil:function(a){return Ae.und(a)||a===null},hex:function(a){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a)},rgb:function(a){return/^rgb/.test(a)},hsl:function(a){return/^hsl/.test(a)},col:function(a){return Ae.hex(a)||Ae.rgb(a)||Ae.hsl(a)},key:function(a){return!k0.hasOwnProperty(a)&&!Xf.hasOwnProperty(a)&&a!=="targets"&&a!=="keyframes"}};function C0(a){var f=/\(([^)]+)\)/.exec(a);return f?f[1].split(",").map(function(u){return parseFloat(u)}):[]}function P0(a,f){var u=C0(a),d=Pr(Ae.und(u[0])?1:u[0],.1,100),p=Pr(Ae.und(u[1])?100:u[1],.1,100),y=Pr(Ae.und(u[2])?10:u[2],.1,100),w=Pr(Ae.und(u[3])?0:u[3],.1,100),A=Math.sqrt(p/d),E=y/(2*Math.sqrt(p*d)),P=E<1?A*Math.sqrt(1-E*E):0,O=1,N=E<1?(E*A-w)/P:-w+A;function U(F){var Y=f?f*F/1e3:F;return Y=E<1?Math.exp(-Y*E*A)*(O*Math.cos(P*Y)+N*Math.sin(P*Y)):(O+N*Y)*Math.exp(-Y*A),F===0||F===1?F:1-Y}return f?U:function(){var F=dc.springs[a];if(F)return F;for(var Y=1/6,X=0,Z=0;;)if(U(X+=Y)===1){if(++Z>=16)break}else Z=0;var ee=X*Y*1e3;return dc.springs[a]=ee,ee}}function XM(a){return a===void 0&&(a=10),function(f){return Math.ceil(Pr(f,1e-6,1)*a)*(1/a)}}var Us,pc,$M=function(){var a=.1;function f(w,A){return 1-3*A+3*w}function u(w,A){return 3*A-6*w}function d(w){return 3*w}function p(w,A,E){return((f(A,E)*w+u(A,E))*w+d(A))*w}function y(w,A,E){return 3*f(A,E)*w*w+2*u(A,E)*w+d(A)}return function(w,A,E,P){if(0<=w&&w<=1&&0<=E&&E<=1){var O=new Float32Array(11);if(w!==A||E!==P)for(var N=0;N<11;++N)O[N]=p(N*a,w,E);return function(F){return w===A&&E===P||F===0||F===1?F:p(U(F),A,P)}}function U(F){for(var Y=0,X=1;X!==10&&O[X]<=F;++X)Y+=a;--X;var Z=Y+(F-O[X])/(O[X+1]-O[X])*a,ee=y(Z,w,E);return ee>=.001?function(ge,Se,be,ot){for(var Ge=0;Ge<4;++Ge){var fe=y(Se,be,ot);if(fe===0)return Se;Se-=(p(Se,be,ot)-ge)/fe}return Se}(F,Z,w,E):ee===0?Z:function(ge,Se,be,ot,Ge){var fe,_t,ci=0;do(fe=p(_t=Se+(be-Se)/2,ot,Ge)-ge)>0?be=_t:Se=_t;while(Math.abs(fe)>1e-7&&++ci<10);return _t}(F,Y,Y+a,w,E)}}}(),R0=(Us={linear:function(){return function(a){return a}}},pc={Sine:function(){return function(a){return 1-Math.cos(a*Math.PI/2)}},Circ:function(){return function(a){return 1-Math.sqrt(1-a*a)}},Back:function(){return function(a){return a*a*(3*a-2)}},Bounce:function(){return function(a){for(var f,u=4;a<((f=Math.pow(2,--u))-1)/11;);return 1/Math.pow(4,3-u)-7.5625*Math.pow((3*f-2)/22-a,2)}},Elastic:function(a,f){a===void 0&&(a=1),f===void 0&&(f=.5);var u=Pr(a,1,10),d=Pr(f,.1,2);return function(p){return p===0||p===1?p:-u*Math.pow(2,10*(p-1))*Math.sin((p-1-d/(2*Math.PI)*Math.asin(1/u))*(2*Math.PI)/d)}}},["Quad","Cubic","Quart","Quint","Expo"].forEach(function(a,f){pc[a]=function(){return function(u){return Math.pow(u,f+2)}}}),Object.keys(pc).forEach(function(a){var f=pc[a];Us["easeIn"+a]=f,Us["easeOut"+a]=function(u,d){return function(p){return 1-f(u,d)(1-p)}},Us["easeInOut"+a]=function(u,d){return function(p){return p<.5?f(u,d)(2*p)/2:1-f(u,d)(-2*p+2)/2}},Us["easeOutIn"+a]=function(u,d){return function(p){return p<.5?(1-f(u,d)(1-2*p))/2:(f(u,d)(2*p-1)+1)/2}}}),Us);function Jf(a,f){if(Ae.fnc(a))return a;var u=a.split("(")[0],d=R0[u],p=C0(a);switch(u){case"spring":return P0(a,f);case"cubicBezier":return $f($M,p);case"steps":return $f(XM,p);default:return $f(d,p)}}function D0(a){try{return document.querySelectorAll(a)}catch{return}}function gc(a,f){for(var u=a.length,d=arguments.length>=2?arguments[1]:void 0,p=[],y=0;y<u;y++)if(y in a){var w=a[y];f.call(d,w,y,a)&&p.push(w)}return p}function mc(a){return a.reduce(function(f,u){return f.concat(Ae.arr(u)?mc(u):u)},[])}function O0(a){return Ae.arr(a)?a:(Ae.str(a)&&(a=D0(a)||a),a instanceof NodeList||a instanceof HTMLCollection?[].slice.call(a):[a])}function Zf(a,f){return a.some(function(u){return u===f})}function ed(a){var f={};for(var u in a)f[u]=a[u];return f}function td(a,f){var u=ed(a);for(var d in a)u[d]=f.hasOwnProperty(d)?f[d]:a[d];return u}function vc(a,f){var u=ed(a);for(var d in f)u[d]=Ae.und(a[d])?f[d]:a[d];return u}function JM(a){return Ae.rgb(a)?(u=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(f=a))?"rgba("+u[1]+",1)":f:Ae.hex(a)?function(d){var p=d.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(w,A,E,P){return A+A+E+E+P+P}),y=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(p);return"rgba("+parseInt(y[1],16)+","+parseInt(y[2],16)+","+parseInt(y[3],16)+",1)"}(a):Ae.hsl(a)?function(d){var p,y,w,A=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(d)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(d),E=parseInt(A[1],10)/360,P=parseInt(A[2],10)/100,O=parseInt(A[3],10)/100,N=A[4]||1;function U(X,Z,ee){return ee<0&&(ee+=1),ee>1&&(ee-=1),ee<1/6?X+6*(Z-X)*ee:ee<.5?Z:ee<2/3?X+(Z-X)*(2/3-ee)*6:X}if(P==0)p=y=w=O;else{var F=O<.5?O*(1+P):O+P-O*P,Y=2*O-F;p=U(Y,F,E+1/3),y=U(Y,F,E),w=U(Y,F,E-1/3)}return"rgba("+255*p+","+255*y+","+255*w+","+N+")"}(a):void 0;var f,u}function Kr(a){var f=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(a);if(f)return f[1]}function nd(a,f){return Ae.fnc(a)?a(f.target,f.id,f.total):a}function Rr(a,f){return a.getAttribute(f)}function rd(a,f,u){if(Zf([u,"deg","rad","turn"],Kr(f)))return f;var d=dc.CSS[f+u];if(!Ae.und(d))return d;var p=document.createElement(a.tagName),y=a.parentNode&&a.parentNode!==document?a.parentNode:document.body;y.appendChild(p),p.style.position="absolute",p.style.width=100+u;var w=100/p.offsetWidth;y.removeChild(p);var A=w*parseFloat(f);return dc.CSS[f+u]=A,A}function M0(a,f,u){if(f in a.style){var d=f.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),p=a.style[f]||getComputedStyle(a).getPropertyValue(d)||"0";return u?rd(a,p,u):p}}function id(a,f){return Ae.dom(a)&&!Ae.inp(a)&&(!Ae.nil(Rr(a,f))||Ae.svg(a)&&a[f])?"attribute":Ae.dom(a)&&Zf(QM,f)?"transform":Ae.dom(a)&&f!=="transform"&&M0(a,f)?"css":a[f]!=null?"object":void 0}function N0(a){if(Ae.dom(a)){for(var f,u=a.style.transform||"",d=/(\w+)\(([^)]*)\)/g,p=new Map;f=d.exec(u);)p.set(f[1],f[2]);return p}}function ZM(a,f,u,d){var p=ma(f,"scale")?1:0+function(w){return ma(w,"translate")||w==="perspective"?"px":ma(w,"rotate")||ma(w,"skew")?"deg":void 0}(f),y=N0(a).get(f)||p;return u&&(u.transforms.list.set(f,y),u.transforms.last=f),d?rd(a,y,d):y}function sd(a,f,u,d){switch(id(a,f)){case"transform":return ZM(a,f,d,u);case"css":return M0(a,f,u);case"attribute":return Rr(a,f);default:return a[f]||0}}function od(a,f){var u=/^(\*=|\+=|-=)/.exec(a);if(!u)return a;var d=Kr(a)||0,p=parseFloat(f),y=parseFloat(a.replace(u[0],""));switch(u[0][0]){case"+":return p+y+d;case"-":return p-y+d;case"*":return p*y+d}}function L0(a,f){if(Ae.col(a))return JM(a);if(/\s/g.test(a))return a;var u=Kr(a),d=u?a.substr(0,a.length-u.length):a;return f?d+f:d}function ad(a,f){return Math.sqrt(Math.pow(f.x-a.x,2)+Math.pow(f.y-a.y,2))}function V0(a){for(var f,u=a.points,d=0,p=0;p<u.numberOfItems;p++){var y=u.getItem(p);p>0&&(d+=ad(f,y)),f=y}return d}function H0(a){if(a.getTotalLength)return a.getTotalLength();switch(a.tagName.toLowerCase()){case"circle":return function(f){return 2*Math.PI*Rr(f,"r")}(a);case"rect":return function(f){return 2*Rr(f,"width")+2*Rr(f,"height")}(a);case"line":return function(f){return ad({x:Rr(f,"x1"),y:Rr(f,"y1")},{x:Rr(f,"x2"),y:Rr(f,"y2")})}(a);case"polyline":return V0(a);case"polygon":return function(f){var u=f.points;return V0(f)+ad(u.getItem(u.numberOfItems-1),u.getItem(0))}(a)}}function F0(a,f){var u=f||{},d=u.el||function(P){for(var O=P.parentNode;Ae.svg(O)&&Ae.svg(O.parentNode);)O=O.parentNode;return O}(a),p=d.getBoundingClientRect(),y=Rr(d,"viewBox"),w=p.width,A=p.height,E=u.viewBox||(y?y.split(" "):[0,0,w,A]);return{el:d,viewBox:E,x:E[0]/1,y:E[1]/1,w,h:A,vW:E[2],vH:E[3]}}function eN(a,f,u){function d(O){O===void 0&&(O=0);var N=f+O>=1?f+O:0;return a.el.getPointAtLength(N)}var p=F0(a.el,a.svg),y=d(),w=d(-1),A=d(1),E=u?1:p.w/p.vW,P=u?1:p.h/p.vH;switch(a.property){case"x":return(y.x-p.x)*E;case"y":return(y.y-p.y)*P;case"angle":return 180*Math.atan2(A.y-w.y,A.x-w.x)/Math.PI}}function x0(a,f){var u=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,d=L0(Ae.pth(a)?a.totalLength:a,f)+"";return{original:d,numbers:d.match(u)?d.match(u).map(Number):[0],strings:Ae.str(a)||f?d.split(u):[]}}function ld(a){return gc(a?mc(Ae.arr(a)?a.map(O0):O0(a)):[],function(f,u,d){return d.indexOf(f)===u})}function U0(a){var f=ld(a);return f.map(function(u,d){return{target:u,id:d,total:f.length,transforms:{list:N0(u)}}})}function tN(a,f){var u=ed(f);if(/^spring/.test(u.easing)&&(u.duration=P0(u.easing)),Ae.arr(a)){var d=a.length;d===2&&!Ae.obj(a[0])?a={value:a}:Ae.fnc(f.duration)||(u.duration=f.duration/d)}var p=Ae.arr(a)?a:[a];return p.map(function(y,w){var A=Ae.obj(y)&&!Ae.pth(y)?y:{value:y};return Ae.und(A.delay)&&(A.delay=w?0:f.delay),Ae.und(A.endDelay)&&(A.endDelay=w===p.length-1?f.endDelay:0),A}).map(function(y){return vc(y,u)})}function nN(a,f){var u=[],d=f.keyframes;for(var p in d&&(f=vc(function(y){for(var w=gc(mc(y.map(function(O){return Object.keys(O)})),function(O){return Ae.key(O)}).reduce(function(O,N){return O.indexOf(N)<0&&O.push(N),O},[]),A={},E=function(O){var N=w[O];A[N]=y.map(function(U){var F={};for(var Y in U)Ae.key(Y)?Y==N&&(F.value=U[Y]):F[Y]=U[Y];return F})},P=0;P<w.length;P++)E(P);return A}(d),f)),f)Ae.key(p)&&u.push({name:p,tweens:tN(f[p],a)});return u}function rN(a,f){var u;return a.tweens.map(function(d){var p=function(F,Y){var X={};for(var Z in F){var ee=nd(F[Z],Y);Ae.arr(ee)&&(ee=ee.map(function(ge){return nd(ge,Y)})).length===1&&(ee=ee[0]),X[Z]=ee}return X.duration=parseFloat(X.duration),X.delay=parseFloat(X.delay),X}(d,f),y=p.value,w=Ae.arr(y)?y[1]:y,A=Kr(w),E=sd(f.target,a.name,A,f),P=u?u.to.original:E,O=Ae.arr(y)?y[0]:P,N=Kr(O)||Kr(E),U=A||N;return Ae.und(w)&&(w=P),p.from=x0(O,U),p.to=x0(od(w,O),U),p.start=u?u.end:0,p.end=p.start+p.delay+p.duration+p.endDelay,p.easing=Jf(p.easing,p.duration),p.isPath=Ae.pth(y),p.isPathTargetInsideSVG=p.isPath&&Ae.svg(f.target),p.isColor=Ae.col(p.from.original),p.isColor&&(p.round=1),u=p,p})}var B0={css:function(a,f,u){return a.style[f]=u},attribute:function(a,f,u){return a.setAttribute(f,u)},object:function(a,f,u){return a[f]=u},transform:function(a,f,u,d,p){if(d.list.set(f,u),f===d.last||p){var y="";d.list.forEach(function(w,A){y+=A+"("+w+") "}),a.style.transform=y}}};function W0(a,f){U0(a).forEach(function(u){for(var d in f){var p=nd(f[d],u),y=u.target,w=Kr(p),A=sd(y,d,w,u),E=od(L0(p,w||Kr(A)),A),P=id(y,d);B0[P](y,d,E,u.transforms,!0)}})}function iN(a,f){return gc(mc(a.map(function(u){return f.map(function(d){return function(p,y){var w=id(p.target,y.name);if(w){var A=rN(y,p),E=A[A.length-1];return{type:w,property:y.name,animatable:p,tweens:A,duration:E.end,delay:A[0].delay,endDelay:E.endDelay}}}(u,d)})})),function(u){return!Ae.und(u)})}function j0(a,f){var u=a.length,d=function(y){return y.timelineOffset?y.timelineOffset:0},p={};return p.duration=u?Math.max.apply(Math,a.map(function(y){return d(y)+y.duration})):f.duration,p.delay=u?Math.min.apply(Math,a.map(function(y){return d(y)+y.delay})):f.delay,p.endDelay=u?p.duration-Math.max.apply(Math,a.map(function(y){return d(y)+y.duration-y.endDelay})):f.endDelay,p}var z0=0,hr=[],q0=function(){var a;function f(u){for(var d=hr.length,p=0;p<d;){var y=hr[p];y.paused?(hr.splice(p,1),d--):(y.tick(u),p++)}a=p>0?requestAnimationFrame(f):void 0}return typeof document<"u"&&document.addEventListener("visibilitychange",function(){Pt.suspendWhenDocumentHidden&&(G0()?a=cancelAnimationFrame(a):(hr.forEach(function(u){return u._onDocumentVisibility()}),q0()))}),function(){a||G0()&&Pt.suspendWhenDocumentHidden||!(hr.length>0)||(a=requestAnimationFrame(f))}}();function G0(){return!!document&&document.hidden}function Pt(a){a===void 0&&(a={});var f,u=0,d=0,p=0,y=0,w=null;function A(Z){var ee=window.Promise&&new Promise(function(ge){return w=ge});return Z.finished=ee,ee}var E=function(Z){var ee=td(k0,Z),ge=td(Xf,Z),Se=nN(ge,Z),be=U0(Z.targets),ot=iN(be,Se),Ge=j0(ot,ge),fe=z0;return z0++,vc(ee,{id:fe,children:[],animatables:be,animations:ot,duration:Ge.duration,delay:Ge.delay,endDelay:Ge.endDelay})}(a);function P(){var Z=E.direction;Z!=="alternate"&&(E.direction=Z!=="normal"?"normal":"reverse"),E.reversed=!E.reversed,f.forEach(function(ee){return ee.reversed=E.reversed})}function O(Z){return E.reversed?E.duration-Z:Z}function N(){u=0,d=O(E.currentTime)*(1/Pt.speed)}function U(Z,ee){ee&&ee.seek(Z-ee.timelineOffset)}function F(Z){for(var ee=0,ge=E.animations,Se=ge.length;ee<Se;){var be=ge[ee],ot=be.animatable,Ge=be.tweens,fe=Ge.length-1,_t=Ge[fe];fe&&(_t=gc(Ge,function(u4){return Z<u4.end})[0]||_t);for(var ci=Pr(Z-_t.start-_t.delay,0,_t.duration)/_t.duration,Yr=isNaN(ci)?1:_t.easing(ci),kc=_t.to.strings,Md=_t.round,Nd=[],c4=_t.to.numbers.length,ya=void 0,_a=0;_a<c4;_a++){var Cc=void 0,V1=_t.to.numbers[_a],H1=_t.from.numbers[_a]||0;Cc=_t.isPath?eN(_t.value,Yr*V1,_t.isPathTargetInsideSVG):H1+Yr*(V1-H1),Md&&(_t.isColor&&_a>2||(Cc=Math.round(Cc*Md)/Md)),Nd.push(Cc)}var F1=kc.length;if(F1){ya=kc[0];for(var wa=0;wa<F1;wa++){kc[wa];var x1=kc[wa+1],Ld=Nd[wa];isNaN(Ld)||(ya+=x1?Ld+x1:Ld+" ")}}else ya=Nd[0];B0[be.type](ot.target,be.property,ya,ot.transforms),be.currentValue=ya,ee++}}function Y(Z){E[Z]&&!E.passThrough&&E[Z](E)}function X(Z){var ee=E.duration,ge=E.delay,Se=ee-E.endDelay,be=O(Z);E.progress=Pr(be/ee*100,0,100),E.reversePlayback=be<E.currentTime,f&&function(ot){if(E.reversePlayback)for(var Ge=y;Ge--;)U(ot,f[Ge]);else for(var fe=0;fe<y;fe++)U(ot,f[fe])}(be),!E.began&&E.currentTime>0&&(E.began=!0,Y("begin")),!E.loopBegan&&E.currentTime>0&&(E.loopBegan=!0,Y("loopBegin")),be<=ge&&E.currentTime!==0&&F(0),(be>=Se&&E.currentTime!==ee||!ee)&&F(ee),be>ge&&be<Se?(E.changeBegan||(E.changeBegan=!0,E.changeCompleted=!1,Y("changeBegin")),Y("change"),F(be)):E.changeBegan&&(E.changeCompleted=!0,E.changeBegan=!1,Y("changeComplete")),E.currentTime=Pr(be,0,ee),E.began&&Y("update"),Z>=ee&&(d=0,E.remaining&&E.remaining!==!0&&E.remaining--,E.remaining?(u=p,Y("loopComplete"),E.loopBegan=!1,E.direction==="alternate"&&P()):(E.paused=!0,E.completed||(E.completed=!0,Y("loopComplete"),Y("complete"),!E.passThrough&&"Promise"in window&&(w(),A(E)))))}return A(E),E.reset=function(){var Z=E.direction;E.passThrough=!1,E.currentTime=0,E.progress=0,E.paused=!0,E.began=!1,E.loopBegan=!1,E.changeBegan=!1,E.completed=!1,E.changeCompleted=!1,E.reversePlayback=!1,E.reversed=Z==="reverse",E.remaining=E.loop,f=E.children;for(var ee=y=f.length;ee--;)E.children[ee].reset();(E.reversed&&E.loop!==!0||Z==="alternate"&&E.loop===1)&&E.remaining++,F(E.reversed?E.duration:0)},E._onDocumentVisibility=N,E.set=function(Z,ee){return W0(Z,ee),E},E.tick=function(Z){p=Z,u||(u=p),X((p+(d-u))*Pt.speed)},E.seek=function(Z){X(O(Z))},E.pause=function(){E.paused=!0,N()},E.play=function(){E.paused&&(E.completed&&E.reset(),E.paused=!1,hr.push(E),N(),q0())},E.reverse=function(){P(),E.completed=!E.reversed,N()},E.restart=function(){E.reset(),E.play()},E.remove=function(Z){Y0(ld(Z),E)},E.reset(),E.autoplay&&E.play(),E}function K0(a,f){for(var u=f.length;u--;)Zf(a,f[u].animatable.target)&&f.splice(u,1)}function Y0(a,f){var u=f.animations,d=f.children;K0(a,u);for(var p=d.length;p--;){var y=d[p],w=y.animations;K0(a,w),w.length||y.children.length||d.splice(p,1)}u.length||d.length||f.pause()}Pt.version="3.2.1",Pt.speed=1,Pt.suspendWhenDocumentHidden=!0,Pt.running=hr,Pt.remove=function(a){for(var f=ld(a),u=hr.length;u--;)Y0(f,hr[u])},Pt.get=sd,Pt.set=W0,Pt.convertPx=rd,Pt.path=function(a,f){var u=Ae.str(a)?D0(a)[0]:a,d=f||100;return function(p){return{property:p,el:u,svg:F0(u),totalLength:H0(u)*(d/100)}}},Pt.setDashoffset=function(a){var f=H0(a);return a.setAttribute("stroke-dasharray",f),f},Pt.stagger=function(a,f){f===void 0&&(f={});var u=f.direction||"normal",d=f.easing?Jf(f.easing):null,p=f.grid,y=f.axis,w=f.from||0,A=w==="first",E=w==="center",P=w==="last",O=Ae.arr(a),N=parseFloat(O?a[0]:a),U=O?parseFloat(a[1]):0,F=Kr(O?a[1]:a)||0,Y=f.start||0+(O?N:0),X=[],Z=0;return function(ee,ge,Se){if(A&&(w=0),E&&(w=(Se-1)/2),P&&(w=Se-1),!X.length){for(var be=0;be<Se;be++){if(p){var ot=E?(p[0]-1)/2:w%p[0],Ge=E?(p[1]-1)/2:Math.floor(w/p[0]),fe=ot-be%p[0],_t=Ge-Math.floor(be/p[0]),ci=Math.sqrt(fe*fe+_t*_t);y==="x"&&(ci=-fe),y==="y"&&(ci=-_t),X.push(ci)}else X.push(Math.abs(w-be));Z=Math.max.apply(Math,X)}d&&(X=X.map(function(Yr){return d(Yr/Z)*Z})),u==="reverse"&&(X=X.map(function(Yr){return y?Yr<0?-1*Yr:-Yr:Math.abs(Z-Yr)}))}return Y+(O?(U-N)/Z:N)*(Math.round(100*X[ge])/100)+F}},Pt.timeline=function(a){a===void 0&&(a={});var f=Pt(a);return f.duration=0,f.add=function(u,d){var p=hr.indexOf(f),y=f.children;function w(U){U.passThrough=!0}p>-1&&hr.splice(p,1);for(var A=0;A<y.length;A++)w(y[A]);var E=vc(u,td(Xf,a));E.targets=E.targets||a.targets;var P=f.duration;E.autoplay=!1,E.direction=f.direction,E.timelineOffset=Ae.und(d)?P:od(d,P),w(f),f.seek(E.timelineOffset);var O=Pt(E);w(O),y.push(O);var N=j0(y,a);return f.delay=N.delay,f.endDelay=N.endDelay,f.duration=N.duration,f.seek(0),f.reset(),f.autoplay&&f.play(),f},f},Pt.easing=Jf,Pt.penner=R0,Pt.random=function(a,f){return Math.floor(Math.random()*(f-a+1))+a};var sN=function(a){h(u,a);var f=v(u);function u(d){var p;return s(this,u),c(_(p=f.call(this,d)),"onDragStop",function(y){var w=p.container.options,A=w.animate,E=w.animateDuration;if(A){var P={},O=p.container,N=O.element,U=O.helper,F=p.container.originalAttrs.position,Y=p.container.currentAttrs.position;P.width="".concat(xe(U),"px"),P.height="".concat(st(U),"px"),P.top="".concat(gt(N,"top")+(Y.top-F.top),"px"),P.left="".concat(gt(N,"left")+(Y.left-F.left),"px"),Pt(i(i({},P),{targets:[N],duration:E,easing:"linear",update:function(){p.container.currentAttrs.size={width:xe(N),height:st(N)},p.container.currentAttrs.position={left:gt(N,"left"),top:gt(N,"top")},p.container.updateResizableElements(p.container.currentAttrs.size)}}))}}),p.attach(),p}return l(u,[{key:"supported",get:function(){return this.isResizable()}}]),u}(D),oN=function(a){h(u,a);var f=v(u);function u(d){var p;return s(this,u),c(_(p=f.call(this,d)),"ghost",null),c(_(p),"onDragStart",function(y){if(p.container.options.ghost){var w=p.container.originalElement,A=p.container.currentAttrs.size;p.ghost=w.cloneNode(!0),J(p.ghost,{display:"block",position:"relative",width:"".concat(A.width,"px"),height:"".concat(A.height,"px"),top:"0px",left:"0px",margin:"0px",opacity:.25}),q(p.ghost,p.container.ghostClass),p.container.helper.appendChild(p.ghost)}}),c(_(p),"onDragMove",function(y){if(p.ghost){var w=p.container.currentAttrs.size;J(p.ghost,{width:"".concat(w.width,"px"),height:"".concat(w.height,"px")})}}),c(_(p),"onDragStop",function(y){p.ghost&&(p.container.helper.removeChild(p.ghost),p.ghost=null)}),p.attach(),p}return l(u,[{key:"supported",get:function(){return this.isResizable()}}]),u}(D),aN=nn,lN=Is,Q0=qh,X0=Mt,cN=$o,cd=[],$0=cd.sort,uN=X0(function(){cd.sort(void 0)}),hN=X0(function(){cd.sort(null)}),fN=cN("sort");aN({target:"Array",proto:!0,forced:uN||!hN||!fN},{sort:function(a){return a===void 0?$0.call(Q0(this)):$0.call(Q0(this),lN(a))}});var ud,dN=function(a){h(u,a);var f=v(u);function u(d){var p;return s(this,u),c(_(p=f.call(this,d)),"onDragStart",function(y){if(p.stack.length>0){var w=p.container.helper,A=p.stack.sort(function(P,O){return gt(P,"zIndex")-gt(O,"zIndex")}),E=gt(A[0],"zIndex");A.forEach(function(P,O){J(P,{zIndex:E+O})}),J(w,{zIndex:E+A.length})}}),p.attach(),p}return l(u,[{key:"supported",get:function(){return this.isDraggable()}},{key:"stack",get:function(){var d=this.container.options;return d.stack?ze(document,d.stack):[]}}]),u}(D),pN=qv,gN=Wh,mN=Object.keys||function(a){return pN(a,gN)},vN=oi,yN=br,_N=mN,wN=Ct?Object.defineProperties:function(a,f){yN(a);for(var u,d=_N(f),p=d.length,y=0;p>y;)vN.f(a,u=d[y++],f[u]);return a},bN=br,AN=wN,J0=Wh,SN=Vh,EN=gy,TN=Vt,hd="prototype",fd="script",Z0=Vv("IE_PROTO"),dd=function(){},e1=function(a){return"<"+fd+">"+a+"</"+fd+">"},yc=function(){try{ud=document.domain&&new ActiveXObject("htmlfile")}catch{}var a,f,u;yc=ud?function(p){p.write(e1("")),p.close();var y=p.parentWindow.Object;return p=null,y}(ud):(f=TN("iframe"),u="java"+fd+":",f.style.display="none",EN.appendChild(f),f.src=String(u),(a=f.contentWindow.document).open(),a.write(e1("document.F=Object")),a.close(),a.F);for(var d=J0.length;d--;)delete yc[hd][J0[d]];return yc()};SN[Z0]=!0;var IN=Object.create||function(a,f){var u;return a!==null?(dd[hd]=bN(a),u=new dd,dd[hd]=null,u[Z0]=a):u=yc(),f===void 0?u:AN(u,f)},kN=oi,pd=Hn("unscopables"),gd=Array.prototype;gd[pd]==null&&kN.f(gd,pd,{configurable:!0,value:IN(null)});var CN=nn,PN=Xo.find,RN=function(a){gd[pd][a]=!0},md="find",t1=!0;md in[]&&Array(1)[md](function(){t1=!1}),CN({target:"Array",proto:!0,forced:t1},{find:function(a){return PN(this,a,arguments.length>1?arguments[1]:void 0)}}),RN(md);var Bi=function(a){h(u,a);var f=v(u);function u(d,p){var y,w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return s(this,u),c(_(y=f.call(this,d)),"property",null),c(_(y),"target",null),c(_(y),"previousValue",null),c(_(y),"onDragStart",function(A){y.target||(y.target=y.container.helper),y.value===null||y.isSortableInDraggable()||(y.previousValue=y.getPreviousValue(),J(y.target,c({},y.property,y.value)))}),c(_(y),"onDragStop",function(A){y.previousValue!==null&&(J(y.target,c({},y.property,y.previousValue)),y.target=null)}),y.property=p,y.target=w?w instanceof HTMLElement?w:document.querySelector(w):null,y.attach(),y}return l(u,[{key:"supported",get:function(){return this.isDraggable()||this.isSortable()}},{key:"detach",value:function(){this.constructor.propertyCache=[],S(g(u.prototype),"detach",this).call(this)}},{key:"value",get:function(){var d=this.container.options;return this.property&&!L(d[this.property])?d[this.property]:null}},{key:"isSortableInDraggable",value:function(){return this.isDraggable()&&this.container.connectedDraggable}},{key:"getPreviousValue",value:function(){var d=this,p=this.constructor.propertyCache,y=p.find(function(w){return w.element===d.target&&w.property===d.property});return y||(y={element:this.target,property:this.property,value:J(this.target,this.property)},p.push(y)),y.value}}]),u}(D);c(Bi,"propertyCache",[]);var _c=function(){function a(f){s(this,a),c(this,"caller",null),c(this,"active",!1),c(this,"lastEvent",null),this.caller=f}return l(a,[{key:"attach",value:function(){}},{key:"detach",value:function(){}},{key:"cancel",value:function(f){}},{key:"trigger",value:function(f){var u=document.createEvent("Event");u.detail=f,u.initEvent(f.type,!0,!0),document.dispatchEvent(u),this.lastEvent=u}}]),a}(),wc=function(a){a.preventDefault()},vd=function(a){h(u,a);var f=v(u);function u(d){var p;return s(this,u),c(_(p=f.call(this,d)),"pageX",null),c(_(p),"pageY",null),c(_(p),"startEvent",null),c(_(p),"mouseMoved",!1),c(_(p),"cancel",function(y){p.onMouseUp(y)}),c(_(p),"onMouseDown",function(y){if(!(y.which!==1||y.button!==0||y.ctrlKey||y.metaKey||p.caller.options.skip&&y.target.nodeName&&Ie(y.target,p.caller.options.skip))){p.active&&p.onMouseUp(y);var w=new xf({pageX:y.pageX,pageY:y.pageY,target:y.target,caller:p.caller,originalEvent:y});p.pageX=y.pageX,p.pageY=y.pageY,p.startEvent=y,p.trigger(w),w.canceled||(document.addEventListener("dragstart",wc),document.addEventListener("mousemove",p.checkThresholds),document.addEventListener("mouseup",p.onMouseUp))}}),c(_(p),"checkThresholds",function(y){var w=_(p).startEvent,A=p.caller.options.distance;p.pageX=y.pageX,p.pageY=y.pageY,Math.max(Math.abs(y.pageX-w.pageX),Math.abs(y.pageY-w.pageY))>=A&&(document.removeEventListener("mousemove",p.checkThresholds),p.startDrag())}),c(_(p),"onMouseMove",function(y){p.active&&p.trigger(new a0({pageX:y.pageX,pageY:y.pageY,target:document.elementFromPoint(y.pageX,y.pageY),caller:p.caller,originalEvent:y}))}),c(_(p),"onMouseUp",function(y){clearTimeout(p.startTimeout),document.removeEventListener("dragstart",wc),document.removeEventListener("mousemove",p.checkThresholds),document.removeEventListener("mouseup",p.onMouseUp),p.active&&(p.active=!1,p.trigger(new Bf({pageX:y.pageX,pageY:y.pageY,target:document.elementFromPoint(y.pageX,y.pageY),caller:p.caller,originalEvent:y}))),document.removeEventListener("contextmenu",wc,!0),document.removeEventListener("mousemove",p.onMouseMove),y.preventDefault()}),p.attach(),p}return l(u,[{key:"attach",value:function(){document.addEventListener("mousedown",this.onMouseDown,!0)}},{key:"detach",value:function(){document.removeEventListener("mousedown",this.onMouseDown,!0)}},{key:"startDrag",value:function(){var d=this.startEvent,p=new Uf({pageX:d.pageX,pageY:d.pageY,target:d.target,caller:this.caller,originalEvent:d});this.trigger(p),this.active=!p.canceled,this.active&&(document.addEventListener("contextmenu",wc,!0),document.addEventListener("mousemove",this.onMouseMove))}}]),u}(_c),DN=Xo.map;nn({target:"Array",proto:!0,forced:!Ql("map")},{map:function(a){return DN(this,a,arguments.length>1?arguments[1]:void 0)}});var ON=Xo.some;nn({target:"Array",proto:!0,forced:!$o("some")},{some:function(a){return ON(this,a,arguments.length>1?arguments[1]:void 0)}});var n1=$e,MN=[].slice,r1=function(a){return function(f,u){var d=arguments.length>2,p=d?MN.call(arguments,2):void 0;return a(d?function(){(typeof f=="function"?f:Function(f)).apply(this,p)}:f,u)}};nn({global:!0,bind:!0,forced:/MSIE .\./.test(Kl)},{setTimeout:r1(n1.setTimeout),setInterval:r1(n1.setInterval)});var i1,yd={exports:{}},Bs=typeof Reflect=="object"?Reflect:null,s1=Bs&&typeof Bs.apply=="function"?Bs.apply:function(a,f,u){return Function.prototype.apply.call(a,f,u)};i1=Bs&&typeof Bs.ownKeys=="function"?Bs.ownKeys:Object.getOwnPropertySymbols?function(a){return Object.getOwnPropertyNames(a).concat(Object.getOwnPropertySymbols(a))}:function(a){return Object.getOwnPropertyNames(a)};var o1=Number.isNaN||function(a){return a!=a};function yt(){yt.init.call(this)}yd.exports=yt,yd.exports.once=function(a,f){return new Promise(function(u,d){function p(w){a.removeListener(f,y),d(w)}function y(){typeof a.removeListener=="function"&&a.removeListener("error",p),u([].slice.call(arguments))}p1(a,f,y,{once:!0}),f!=="error"&&function(w,A,E){typeof w.on=="function"&&p1(w,"error",A,E)}(a,p,{once:!0})})},yt.EventEmitter=yt,yt.prototype._events=void 0,yt.prototype._eventsCount=0,yt.prototype._maxListeners=void 0;var a1=10;function bc(a){if(typeof a!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof a)}function l1(a){return a._maxListeners===void 0?yt.defaultMaxListeners:a._maxListeners}function c1(a,f,u,d){var p,y,w,A;if(bc(u),(y=a._events)===void 0?(y=a._events=Object.create(null),a._eventsCount=0):(y.newListener!==void 0&&(a.emit("newListener",f,u.listener?u.listener:u),y=a._events),w=y[f]),w===void 0)w=y[f]=u,++a._eventsCount;else if(typeof w=="function"?w=y[f]=d?[u,w]:[w,u]:d?w.unshift(u):w.push(u),(p=l1(a))>0&&w.length>p&&!w.warned){w.warned=!0;var E=new Error("Possible EventEmitter memory leak detected. "+w.length+" "+String(f)+" listeners added. Use emitter.setMaxListeners() to increase limit");E.name="MaxListenersExceededWarning",E.emitter=a,E.type=f,E.count=w.length,A=E,console&&console.warn&&console.warn(A)}return a}function NN(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u1(a,f,u){var d={fired:!1,wrapFn:void 0,target:a,type:f,listener:u},p=NN.bind(d);return p.listener=u,d.wrapFn=p,p}function h1(a,f,u){var d=a._events;if(d===void 0)return[];var p=d[f];return p===void 0?[]:typeof p=="function"?u?[p.listener||p]:[p]:u?function(y){for(var w=new Array(y.length),A=0;A<w.length;++A)w[A]=y[A].listener||y[A];return w}(p):d1(p,p.length)}function f1(a){var f=this._events;if(f!==void 0){var u=f[a];if(typeof u=="function")return 1;if(u!==void 0)return u.length}return 0}function d1(a,f){for(var u=new Array(f),d=0;d<f;++d)u[d]=a[d];return u}function p1(a,f,u,d){if(typeof a.on=="function")d.once?a.once(f,u):a.on(f,u);else{if(typeof a.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof a);a.addEventListener(f,function p(y){d.once&&a.removeEventListener(f,p),u(y)})}}Object.defineProperty(yt,"defaultMaxListeners",{enumerable:!0,get:function(){return a1},set:function(a){if(typeof a!="number"||a<0||o1(a))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+a+".");a1=a}}),yt.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},yt.prototype.setMaxListeners=function(a){if(typeof a!="number"||a<0||o1(a))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+a+".");return this._maxListeners=a,this},yt.prototype.getMaxListeners=function(){return l1(this)},yt.prototype.emit=function(a){for(var f=[],u=1;u<arguments.length;u++)f.push(arguments[u]);var d=a==="error",p=this._events;if(p!==void 0)d=d&&p.error===void 0;else if(!d)return!1;if(d){var y;if(f.length>0&&(y=f[0]),y instanceof Error)throw y;var w=new Error("Unhandled error."+(y?" ("+y.message+")":""));throw w.context=y,w}var A=p[a];if(A===void 0)return!1;if(typeof A=="function")s1(A,this,f);else{var E=A.length,P=d1(A,E);for(u=0;u<E;++u)s1(P[u],this,f)}return!0},yt.prototype.addListener=function(a,f){return c1(this,a,f,!1)},yt.prototype.on=yt.prototype.addListener,yt.prototype.prependListener=function(a,f){return c1(this,a,f,!0)},yt.prototype.once=function(a,f){return bc(f),this.on(a,u1(this,a,f)),this},yt.prototype.prependOnceListener=function(a,f){return bc(f),this.prependListener(a,u1(this,a,f)),this},yt.prototype.removeListener=function(a,f){var u,d,p,y,w;if(bc(f),(d=this._events)===void 0)return this;if((u=d[a])===void 0)return this;if(u===f||u.listener===f)--this._eventsCount==0?this._events=Object.create(null):(delete d[a],d.removeListener&&this.emit("removeListener",a,u.listener||f));else if(typeof u!="function"){for(p=-1,y=u.length-1;y>=0;y--)if(u[y]===f||u[y].listener===f){w=u[y].listener,p=y;break}if(p<0)return this;p===0?u.shift():function(A,E){for(;E+1<A.length;E++)A[E]=A[E+1];A.pop()}(u,p),u.length===1&&(d[a]=u[0]),d.removeListener!==void 0&&this.emit("removeListener",a,w||f)}return this},yt.prototype.off=yt.prototype.removeListener,yt.prototype.removeAllListeners=function(a){var f,u,d;if((u=this._events)===void 0)return this;if(u.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):u[a]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete u[a]),this;if(arguments.length===0){var p,y=Object.keys(u);for(d=0;d<y.length;++d)(p=y[d])!=="removeListener"&&this.removeAllListeners(p);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(f=u[a])=="function")this.removeListener(a,f);else if(f!==void 0)for(d=f.length-1;d>=0;d--)this.removeListener(a,f[d]);return this},yt.prototype.listeners=function(a){return h1(this,a,!0)},yt.prototype.rawListeners=function(a){return h1(this,a,!1)},yt.listenerCount=function(a,f){return typeof a.listenerCount=="function"?a.listenerCount(f):f1.call(a,f)},yt.prototype.listenerCount=f1,yt.prototype.eventNames=function(){return this._eventsCount>0?i1(this._events):[]};var g1=function(a){h(u,a);var f=v(u);function u(){var d;s(this,u);for(var p=arguments.length,y=new Array(p),w=0;w<p;w++)y[w]=arguments[w];return c(_(d=f.call.apply(f,[this].concat(y))),"wrappedListeners",[]),d}return l(u,[{key:"wrapListener",value:function(d){var p=this.wrappedListeners.find(function(y){return y.listener===d});return p?this.wrappedListeners=this.wrappedListeners.filter(function(y){return y!==p}):(p={listener:d,wrapped:function(y){y&&y.canceled||d(y)}},this.wrappedListeners.push(p)),p}},{key:"addListener",value:function(d,p){S(g(u.prototype),"addListener",this).call(this,d,this.wrapListener(p))}},{key:"prependListener",value:function(d,p){S(g(u.prototype),"prependListener",this).call(this,d,this.wrapListener(p))}},{key:"removeListener",value:function(d,p){S(g(u.prototype),"off",this).call(this,d,this.wrapListener(p))}}]),u}(V(yd.exports)),_d=function(a){h(u,a);var f=v(u);function u(){return s(this,u),f.apply(this,arguments)}return l(u,[{key:"draggable",get:function(){return this.data.draggable||null}}]),u}(kr);c(_d,"type","draggable");var m1=function(a){h(u,a);var f=v(u);function u(){return s(this,u),f.apply(this,arguments)}return l(u)}(_d);c(m1,"type","draggable:init");var v1=function(a){h(u,a);var f=v(u);function u(){return s(this,u),f.apply(this,arguments)}return l(u)}(_d);c(v1,"type","draggable:destroy");var Ac=function(a){h(u,a);var f=v(u);function u(){return s(this,u),f.apply(this,arguments)}return l(u,[{key:"source",get:function(){return this.data.source||null}},{key:"helper",get:function(){return this.data.helper||null}},{key:"sensorEvent",get:function(){return this.data.sensorEvent||null}},{key:"originalEvent",get:function(){return this.data.originalEvent||null}}]),u}(kr);c(Ac,"type","drag");var wd=function(a){h(u,a);var f=v(u);function u(){return s(this,u),f.apply(this,arguments)}return l(u)}(Ac);c(wd,"type","drag:start"),c(wd,"cancelable",!0);var bd=function(a){h(u,a);var f=v(u);function u(){return s(this,u),f.apply(this,arguments)}return l(u,[{key:"position",get:function(){return this.data.position||null},set:function(d){this.data.position=d}}]),u}(Ac);c(bd,"type","drag:move"),c(bd,"cancelable",!0);var y1=function(a){h(u,a);var f=v(u);function u(){return s(this,u),f.apply(this,arguments)}return l(u,[{key:"droppable",get:function(){return this.data.droppable||null},set:function(d){this.data.droppable=d}}]),u}(Ac);c(y1,"type","drag:stop");var va=function(){function a(f){var u=this,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(s(this,a),c(this,"element",null),c(this,"margins",null),c(this,"dragging",!1),c(this,"reverting",!1),c(this,"helper",null),c(this,"helperSize",null),c(this,"helperAttrs",null),c(this,"startEvent",null),c(this,"offset",{element:null,click:null,scroll:null,parent:null,relative:null}),c(this,"position",{original:null,current:null,absolute:null}),c(this,"emitter",new g1),c(this,"options",{}),c(this,"plugins",[]),c(this,"sensors",[]),c(this,"pendingDestroy",!1),c(this,"cancelHelperRemoval",!1),c(this,"containmentCoords",void 0),c(this,"containmentContainer",null),c(this,"scrollListeners",[]),c(this,"connectedSortables",[]),c(this,"droppedSortable",null),c(this,"setup",function(){u.addPlugin(new y0(u)),u.addPlugin(new T0(u)),u.addPlugin(new I0(u)),u.addPlugin(new Bi(u,"cursor")),u.addPlugin(new Bi(u,"opacity")),u.addPlugin(new Bi(u,"zIndex")),u.addPlugin(new dN(u)),u.addPlugin(new v0(u)),u.addPlugin(new GM(u)),u.addSensor(new vd(u)),document.addEventListener("mouse:down",u.onMouseDown),document.addEventListener("mouse:start",u.onDragStart),document.addEventListener("mouse:move",u.onDragMove),document.addEventListener("mouse:stop",u.onDragStop),u.options.helper==="clone"||Gr(u.options.helper)||g0(u.element),u.element[u.dataProperty]=u,q(u.element,u.elementClass),u.findHandles().forEach(function(y){q(y,u.handleClass)}),u.trigger(new m1({draggable:u}))}),c(this,"onMouseDown",function(y){var w=y.detail;w.caller===u&&(u.disabled||u.reverting?w.cancel():u.isInsideHandle(w)||w.cancel())}),c(this,"onDragStart",function(y){var w=y.detail;if(w.caller===u){if(UM(w),u.dragging=!0,u.helper=u.createHelper(w),!u.helper)return w.cancel(),void u.clear();q(u.helper,u.helperClass),u.startEvent=w,u.cacheMargins(),u.cacheHelperSize(),u.cacheHelperAttrs(),u.position.absolute=it(u.element),u.calculateOffsets(w),u.calculatePosition(w,!1);var A=new wd({source:u.element,helper:u.helper,sensorEvent:w,originalEvent:w.originalEvent});u.trigger(A),A.canceled?u.onDragCancel(ga(u.helper)):(u.cacheHelperSize(),Ht.prepareOffsets(u,w),u.onDragMove(y,!0),u.scrollListeners=Hs(u.element,"body").map(function(E){return Fe(E,"scroll",function(){return Ht.prepareOffsets(u,y)})}))}}),c(this,"onDragCancel",function(y){var w=y.detail;u.scrollListeners.forEach(function(A){return A()}),u.scrollListeners=[],Ht.onDragStop(u,w),u.findHandles().some(function(A){return A===w.target})&&f0(u.element,"focus"),u.sensors.forEach(function(A){return A.cancel(y)}),u.clear()}),c(this,"onDragMove",function(y){var w=arguments.length>1&&arguments[1]!==void 0&&arguments[1],A=y.detail;if(A.caller===u){u.helperAttrs.hasFixedParent&&(u.offset.parent=u.getParentOffset()),u.calculatePosition(A);var E=new bd({source:u.element,helper:u.helper,sensorEvent:A,originalEvent:A.originalEvent,position:u.position.current});w?u.plugins.forEach(function(P){E.canceled||P.onDragMove(E)}):u.trigger(E),E.canceled||(u.position.current=E.position,J(u.helper,{left:u.position.current.left+"px",top:u.position.current.top+"px"}),Ht.onDragMove(u,A))}}),c(this,"onDragStop",function(y){var w=y.detail;if(w.caller===u){var A=u.options,E=A.revert,P=A.revertDuration,O=u.position.original,N=new y1({source:u.element,helper:u.helper,droppable:Ht.drop(u,w),sensorEvent:w,originalEvent:w.originalEvent});E==="invalid"&&!N.droppable||E==="valid"&&N.droppable||Gr(E)&&E(u.element,N.droppable)||E?(u.reverting=!0,Pt({targets:[u.helper],left:O.left+"px",top:O.top+"px",duration:P,easing:"linear",complete:function(){u.reverting=!1,u.trigger(N),N.canceled||u.clear()}})):(u.trigger(N),N.canceled||u.clear())}}),!(f instanceof HTMLElement))throw new Error("Invalid element");this.element=f,this.options=i(i({},this.constructor.defaultOptions),pa(d)?d:{}),pa(p)&&da(p,function(y,w){u.on(w,y)}),setTimeout(function(){u.setup()},0)}return l(a,[{key:"addPlugin",value:function(f){f instanceof D&&this.plugins.push(f)}},{key:"addSensor",value:function(f){f instanceof _c&&this.sensors.push(f)}},{key:"setDisabled",value:function(f){this.setOption("disabled",!!f)}},{key:"setOption",value:function(f,u){switch(f){case"appendTo":case"axis":case"connectToSortable":case"cursor":case"disabled":case"distance":case"grid":case"helper":case"opacity":case"revert":case"revertDuration":case"scope":case"scroll":case"scrollSensitivity":case"scrollSpeed":case"skip":case"stack":case"zIndex":this.options[f]=u;break;case"containment":this.options.containment=u,this.containmentCoords=void 0;break;default:throw new Error("The option ".concat(f," is invalid or can't be changed dinamically"))}}},{key:"on",value:function(f,u){this.emitter.on(f,u)}},{key:"off",value:function(f,u){this.emitter.off(f,u)}},{key:"cancel",value:function(){this.dragging?this.onDragCancel(ga(this.helper)):this.clear()}},{key:"destroy",value:function(){var f=this;this.dragging?this.pendingDestroy=!0:(this.plugins.forEach(function(u){return u.detach()}),this.sensors.forEach(function(u){return u.detach()}),document.removeEventListener("mouse:start",this.onDragStart),document.removeEventListener("mouse:move",this.onDragMove),document.removeEventListener("mouse:stop",this.onDragStop),delete this.element[this.dataProperty],bt(this.element,this.elementClass),this.findHandles().forEach(function(u){bt(u,f.handleClass)}),this.trigger(new v1({draggable:this})))}},{key:"disabled",get:function(){return this.options.disabled}},{key:"dataProperty",get:function(){return"draggableInstance"}},{key:"elementClass",get:function(){return"ui-draggable"}},{key:"handleClass",get:function(){return"ui-draggable-handle"}},{key:"helperClass",get:function(){return"ui-draggable-helper"}},{key:"scope",get:function(){return this.options.scope}},{key:"proportions",get:function(){var f=this.position.absolute,u=this.margins,d=this.helperSize;return{left:f.left+u.left,top:f.top+u.top,right:f.left+u.left+d.width,bottom:f.top+u.top+d.height,width:d.width,height:d.height}}},{key:"trigger",value:function(f){this.emitter.emit(f.type,f),/^drag:/.test(f.type)&&(this.position.absolute=this.convertPosition(this.position.current,"absolute"))}},{key:"findHandles",value:function(){var f=this.options.handle;return f?ze(this.element,f):[this.element]}},{key:"isInsideHandle",value:function(f){var u=!1;return this.findHandles().forEach(function(d){u||d!==f.target&&!Cr(d,f.target)||(u=!0)}),u}},{key:"createHelper",value:function(f){var u=null,d=this.options,p=d.appendTo,y=d.helper;if(Gr(y)?u=y.apply(this.element,[f]):y==="clone"?((u=this.element.cloneNode(!0)).removeAttribute("id"),u.removeAttribute(this.dataProperty),u[this.dataProperty]=this):u=this.element,u instanceof HTMLElement){if(!Ie(u,"body")){var w=p==="parent"?this.element.parentNode:document.querySelector(p);w instanceof HTMLElement&&w.appendChild(u)}return Gr(y)&&u===this.element&&g0(this.element),u!==this.element&&m0(u),u}return null}},{key:"cacheMargins",value:function(){this.margins={left:gt(this.element,"marginLeft")||0,top:gt(this.element,"marginTop")||0,right:gt(this.element,"marginRight")||0,bottom:gt(this.element,"marginBottom")||0}}},{key:"cacheHelperSize",value:function(){this.helperSize={width:xe(this.helper),height:st(this.helper)}}},{key:"cacheHelperAttrs",value:function(){this.helperAttrs={cssPosition:J(this.helper,"position"),scrollParent:BM(this.helper,!1),offsetParent:Un(this.helper),hasFixedParent:Hs(this.helper).some(function(f){return J(f,"position")==="fixed"})}}},{key:"calculateOffsets",value:function(f){var u=this.position.absolute;this.offset.click={left:f.pageX-u.left-this.margins.left,top:f.pageY-u.top-this.margins.top},this.offset.parent=this.getParentOffset(),this.offset.relative=this.getRelativeOffset()}},{key:"getParentOffset",value:function(){var f=this.helperAttrs,u=f.cssPosition,d=f.scrollParent,p=f.offsetParent,y=ar(p)?{left:0,top:0}:it(p);return u==="absolute"&&d!==document&&Cr(d,p)&&(y.left+=at(d),y.top+=kt(d)),{left:y.left+gt(p,"borderLeftWidth")||0,top:y.top+gt(p,"borderTopWidth")||0}}},{key:"getRelativeOffset",value:function(){var f=this.helperAttrs,u=f.cssPosition,d=f.scrollParent;if(u!=="relative")return{left:0,top:0};var p=Zt(this.helper),y=!!d&&ar(d);return{left:p.left-(gt(this.helper,"left")||0)+(y?at(d):0),top:p.top-(gt(this.helper,"top")||0)+(y?kt(d):0)}}},{key:"constraintPosition",value:function(f){var u={pageX:f.pageX,pageY:f.pageY};return this.plugins.forEach(function(d){u=d.constraintPosition(u)}),u}},{key:"calculatePosition",value:function(f){var u=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1]?this.constraintPosition(f):f,d=u.pageX,p=u.pageY,y=this.helperAttrs,w=y.cssPosition,A=y.offsetParent,E=y.scrollParent,P=ar(E);P&&this.offset.scroll||(this.offset.scroll={left:P?0:at(E),top:P?0:kt(E)}),w==="relative"&&E===document&&E!==A&&(this.offset.relative=this.getRelativeOffset());var O=this.offset,N=O.click,U=O.scroll,F=O.parent,Y=O.relative,X={left:d-N.left-F.left-Y.left+(w==="fixed"?-U.left:P?0:U.left),top:p-N.top-F.top-Y.top+(w==="fixed"?-U.top:P?0:U.top)};this.position.original||(this.position.original=X),this.position.current=X,this.position.absolute=this.convertPosition(X,"absolute")}},{key:"convertPosition",value:function(f,u){var d=this.helperAttrs,p=d.cssPosition,y=d.scrollParent,w=this.offset,A=w.scroll,E=w.parent,P=w.relative,O=u==="absolute"?1:-1,N=ar(y);return{left:f.left+E.left*O+P.left*O-(p==="fixed"?-A.left:(N?0:A.left)*O),top:f.top+E.top*O+P.top*O-(p==="fixed"?-A.top:(N?0:A.top)*O)}}},{key:"clear",value:function(){if(this.helper){var f=this.options.helper;bt(this.helper,this.helperClass),this.dragging=!1,this.helper&&f==="clone"&&!this.cancelHelperRemoval&&this.helper.parentNode.removeChild(this.helper),this.cancelHelperRemoval=!1,this.helper=null}this.pendingDestroy&&(this.destroy(),this.pendingDestroy=!1)}}]),a}();c(va,"defaultOptions",{appendTo:"parent",axis:null,connectToSortable:null,containment:null,cursor:null,disabled:!1,distance:0,grid:null,handle:null,helper:"original",opacity:null,revert:!1,revertDuration:200,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:10,skip:"input, textarea, button, select, option",stack:null,zIndex:null});var Sc=function(a){h(u,a);var f=v(u);function u(){return s(this,u),f.apply(this,arguments)}return l(u,[{key:"droppable",get:function(){return this.data.droppable||null}}]),u}(kr);c(Sc,"type","droppable");var _1=function(a){h(u,a);var f=v(u);function u(){return s(this,u),f.apply(this,arguments)}return l(u)}(Sc);c(_1,"type","droppable:init");var Ws=function(a){h(u,a);var f=v(u);function u(){return s(this,u),f.apply(this,arguments)}return l(u,[{key:"sensorEvent",get:function(){return this.data.sensorEvent||null}},{key:"draggable",get:function(){return this.data.draggable||null}}]),u}(Sc);c(Ws,"type","droppable:activate");var w1=function(a){h(u,a);var f=v(u);function u(){return s(this,u),f.apply(this,arguments)}return l(u)}(Ws);c(w1,"type","droppable:over");var b1=function(a){h(u,a);var f=v(u);function u(){return s(this,u),f.apply(this,arguments)}return l(u)}(Ws);c(b1,"type","droppable:drop");var A1=function(a){h(u,a);var f=v(u);function u(){return s(this,u),f.apply(this,arguments)}return l(u)}(Ws);c(A1,"type","droppable:out");var S1=function(a){h(u,a);var f=v(u);function u(){return s(this,u),f.apply(this,arguments)}return l(u)}(Ws);c(S1,"type","droppable:deactivate");var E1=function(a){h(u,a);var f=v(u);function u(){return s(this,u),f.apply(this,arguments)}return l(u)}(Sc);c(E1,"type","droppable:destroy");var Ad=function(){function a(f){var u=this,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(s(this,a),c(this,"element",null),c(this,"isOver",!1),c(this,"visible",!0),c(this,"greedyChild",!1),c(this,"emitter",new g1),c(this,"options",{}),c(this,"size",null),c(this,"offset",null),c(this,"setup",function(){var y=u.options.scope;u.element[u.dataProperty]=u,q(u.element,u.elementClass),Ht.addDroppable(u,y),u.trigger(new _1({droppable:u}))}),!(f instanceof HTMLElement))throw new Error("Invalid element");this.element=f,this.options=i(i({},this.constructor.defaultOptions),pa(d)?d:{}),pa(p)&&da(p,function(y,w){u.on(w,y)}),setTimeout(this.setup,0)}return l(a,[{key:"setDisabled",value:function(f){this.setOption("disabled",!!f)}},{key:"setOption",value:function(f,u){switch(f){case"accept":case"disabled":case"greedy":case"tolerance":this.options[f]=u;break;case"scope":u!==this.options.scope&&(Ht.removeDroppable(this,this.options.scope),this.options.scope=u,Ht.addDroppable(this,u));break;default:throw new Error("The option ".concat(f," is invalid or can't be changed dinamically"))}}},{key:"destroy",value:function(){var f=this.options.scope;delete this.element[this.dataProperty],bt(this.element,this.elementClass),Ht.removeDroppable(this,f),this.trigger(new E1({droppable:this}))}},{key:"disabled",get:function(){return this.options.disabled}},{key:"dataProperty",get:function(){return"droppableInstance"}},{key:"elementClass",get:function(){return"ui-droppable"}},{key:"activeClass",get:function(){return"ui-droppable-active"}},{key:"hoverClass",get:function(){return"ui-droppable-hover"}},{key:"greedy",get:function(){return this.options.greedy}},{key:"scope",get:function(){return this.options.scope}},{key:"proportions",get:function(){return this.offset||(this.offset=it(this.element)),this.size||(this.size={width:xe(this.element),height:st(this.element)}),{left:this.offset.left,top:this.offset.top,right:this.offset.left+this.size.width,bottom:this.offset.top+this.size.height,width:this.size.width,height:this.size.height}}},{key:"refreshVisibility",value:function(){this.visible=J(this.element,"display")!=="none"}},{key:"refreshProportions",value:function(){this.offset=it(this.element),this.size={width:xe(this.element),height:st(this.element)}}},{key:"intersect",value:function(f,u){var d=this.options.tolerance;return!(this.disabled||this.greedyChild||!this.visible)&&function(p,y,w,A){switch(w){case"fit":return p.left>=y.left&&p.top>=y.top&&p.right>=y.right&&p.bottom>=y.bottom;case"intersect":return y.left<p.left+p.width/2&&y.right>p.right-p.width/2&&y.top<p.top+p.height/2&&y.bottom>p.bottom-p.height/2;case"pointer":return A.pageX>y.left&&A.pageX<y.right&&A.pageY>y.top&&A.pageY<y.bottom;case"touch":return(p.left>=y.left&&p.left<=y.right||p.right>=y.left&&p.right<=y.right||p.left<y.left&&p.right>y.right)&&(p.top>=y.top&&p.top<=y.top||p.bottom>=y.bottom&&p.bottom<=y.bottom||p.top<y.top&&p.bottom>y.bottom);default:return!1}}(f.proportions,this.proportions,d,u)}},{key:"accept",value:function(f){var u=this.options.accept;return!(this.disabled||!this.visible)&&!!f&&(u==="*"||(Gr(u)?u(f.currentItem||f.element):je(f.currentItem||f.element,u)))}},{key:"activate",value:function(f){var u=Ht.draggable;q(this.element,this.activeClass),u&&this.trigger(new Ws({droppable:this,sensorEvent:f,draggable:u}))}},{key:"over",value:function(f){var u=Ht.draggable;u&&(u.currentItem||u.element)!==this.element&&this.accept(u)&&(q(this.element,this.hoverClass),this.isOver=!0,this.trigger(new w1({droppable:this,sensorEvent:f,draggable:u})))}},{key:"drop",value:function(f){var u=this,d=Ht.draggable,p=!1;if(d&&(d.currentItem&&d.element)!==this.element){if(ze(this.element,":not(.ui-draggable-dragging)").filter(function(y){return y[u.dataProperty]}).forEach(function(y){var w=y[u.dataProperty];!p&&w.greedy&&w.scope===d.scope&&w.intersect(d,f)&&w.accept(d)&&(p=!0)}),p)return null;if(this.accept(d))return bt(this.element,this.activeClass),bt(this.element,this.hoverClass),this.isOver=!1,this.trigger(new b1({droppable:this,sensorEvent:f,draggable:d})),this}return null}},{key:"out",value:function(f){var u=Ht.draggable;u&&(u.currentItem||u.element)!==this.element&&this.accept(u)&&(bt(this.element,this.hoverClass),this.isOver=!1,this.trigger(new A1({droppable:this,sensorEvent:f,draggable:u})))}},{key:"deactivate",value:function(f){var u=Ht.draggable;bt(this.element,this.activeClass),this.isOver=!1,u&&this.trigger(new S1({droppable:this,sensorEvent:f,draggable:u}))}},{key:"on",value:function(f,u){this.emitter.on(f,u)}},{key:"off",value:function(f,u){this.emitter.off(f,u)}},{key:"trigger",value:function(f){this.emitter.emit(f.type,f)}}]),a}();c(Ad,"defaultOptions",{accept:"*",disabled:!1,greedy:!1,scope:"default",tolerance:"intersect"});var Ec=function(a){h(u,a);var f=v(u);function u(){return s(this,u),f.apply(this,arguments)}return l(u,[{key:"source",get:function(){return this.data.source||null}},{key:"helper",get:function(){return this.data.helper||null}},{key:"placeholder",get:function(){return this.data.placeholder||null}},{key:"sensorEvent",get:function(){return this.data.sensorEvent||null}},{key:"originalEvent",get:function(){return this.data.originalEvent||null}}]),u}(kr);c(Ec,"type","sort");var Sd=function(a){h(u,a);var f=v(u);function u(){return s(this,u),f.apply(this,arguments)}return l(u)}(Ec);c(Sd,"type","sort:start"),c(Sd,"cancelable",!0);var Ed=function(a){h(u,a);var f=v(u);function u(){return s(this,u),f.apply(this,arguments)}return l(u,[{key:"position",get:function(){return this.data.position||null}}]),u}(Ec);c(Ed,"type","sort:move"),c(Ed,"cancelable",!0);var Td=function(a){h(u,a);var f=v(u);function u(){return s(this,u),f.apply(this,arguments)}return l(u,[{key:"droppable",get:function(){return this.data.droppable||null}}]),u}(Ec);c(Td,"type","sort:stop"),c(Td,"cancelable",!0);var Id=function(a){h(u,a);var f=v(u);function u(){var d;s(this,u);for(var p=arguments.length,y=new Array(p),w=0;w<p;w++)y[w]=arguments[w];return c(_(d=f.call.apply(f,[this].concat(y))),"connectedSortables",[]),c(_(d),"currentConnectedSortable",null),c(_(d),"connectedDraggable",null),c(_(d),"items",[]),c(_(d),"currentItem",null),c(_(d),"currentItemStyle",{}),c(_(d),"currentItemProps",null),c(_(d),"elementProportions",null),c(_(d),"placeholder",null),c(_(d),"isOver",!1),c(_(d),"isDraggableOver",!1),c(_(d),"floating",!1),c(_(d),"previousPosition",null),c(_(d),"resetCurrentItem",!1),c(_(d),"rearrangeIteration",0),c(_(d),"setup",function(){d.addPlugin(new y0(_(d))),d.addPlugin(new T0(_(d))),d.addPlugin(new I0(_(d))),d.addPlugin(new Bi(_(d),"cursor")),d.addPlugin(new Bi(_(d),"opacity")),d.addPlugin(new Bi(_(d),"zIndex")),d.addPlugin(new v0(_(d))),d.addSensor(new vd(_(d))),document.addEventListener("mouse:down",d.onMouseDown),document.addEventListener("mouse:start",d.onDragStart),document.addEventListener("mouse:move",d.onDragMove),document.addEventListener("mouse:stop",d.onDragStop),d.element[d.dataProperty]=_(d),q(d.element,d.elementClass),d.refresh(),d.offset.element=it(d.element),d.trigger(new _0({sortable:_(d)}))}),c(_(d),"onMouseDown",function(A){var E=A.detail;E.caller===_(d)&&(d.disabled||d.reverting?E.cancel():d.findItem(E)||E.cancel())}),c(_(d),"onDragStart",function(A){var E=arguments.length>1&&arguments[1]!==void 0&&arguments[1],P=arguments.length>2&&arguments[2]!==void 0&&arguments[2],O=A.detail;if(O.caller===_(d)||P)if(d.disabled||d.reverting)O.cancel();else if(d.refreshItems(),d.currentItem=d.findItem(O),d.currentItem)if(d.currentItemProps={previous:d.currentItem.previousElementSibling,parent:d.currentItem.parentNode,previousIndex:u0(d.currentItem)},d.refreshPositions(),d.isInsideHandle(O))if(d.helper=d.createHelper(O),d.helper){d.createPlaceholder(),q(d.helper,d.helperClass),d.cacheMargins(),d.currentConnectedSortable=_(d),d.dragging=!0,d.cacheHelperSize(),d.helperAttrs={scrollParent:Ut(d.helper,!1)},d.startEvent=O,d.calculateOffsets(O),d.calculatePosition(O,!1),d.items=d.items.filter(function(U){return U.element!==d.currentItem}),m0(d.helper),d.helperAttrs.cssPosition="absolute",d.helper!==d.currentItem&&Wf(d.currentItem);var N=new Sd({source:d.currentItem,sensorEvent:O,originalEvent:O.originalEvent});d.trigger(N),N.canceled?d.onDragCancel(ga(d.helper)):(d.cacheHelperSize(),E||d.connectedSortables.forEach(function(U){U.trigger(new Fs({sortable:U,sensorEvent:O,peerSortable:_(d)}))}),Ht.prepareOffsets(_(d),O),d.onDragMove(A,!0,P),d.scrollListeners=Hs(d.element,"body").map(function(U){return Fe(U,"scroll",function(){return Ht.prepareOffsets(_(d),A)})}))}else O.cancel();else O.cancel();else O.cancel()}),c(_(d),"onDragCancel",function(A){var E=A.detail;d.scrollListeners.forEach(function(P){return P()}),d.scrollListeners=[],Ht.onDragStop(_(d),E),d.sensors.forEach(function(P){return P.cancel(A)}),d.clear()}),c(_(d),"onDragMove",function(A){var E=arguments.length>1&&arguments[1]!==void 0&&arguments[1],P=arguments.length>2&&arguments[2]!==void 0&&arguments[2],O=A.detail;if(O.caller===_(d)&&d.dragging||P){if(d.calculatePosition(O),d.previousPosition||(d.previousPosition=d.position.absolute),!E){var N=new Ed({source:d.currentItem,helper:d.helper,placeholder:d.placeholder,sensorEvent:O,originalEvent:O.originalEvent,position:d.position.current});if(d.trigger(N),N.canceled)return}J(d.helper,{left:d.position.current.left+"px",top:d.position.current.top+"px"});var U=null;d.items.forEach(function(F){if(!U&&F.instance===d.currentConnectedSortable){var Y=d.getPointerIntersection(F);if(Y){var X=d.options.tolerance,Z=F.element;if(Z!==d.currentItem&&Z!==d.placeholder[Y===1?"nextElementSibling":"previousElementSibling"]&&!Cr(d.placeholder,Z)){var ee=Y===1?"down":"up";(X==="pointer"||d.intersectsWithSides(F))&&(d.rearrange(null,F,ee),d.trigger(new Gf({sortable:_(d)})),U=F)}}}}),d.contactSortables(O),Ht.onDragMove(_(d),O),d.previousPosition=d.position.absolute}}),c(_(d),"onDragStop",function(A){var E=arguments.length>1&&arguments[1]!==void 0&&arguments[1],P=A.detail;if(P.caller===_(d)&&d.dragging||E){var O=d.options,N=O.revert,U=O.revertDuration,F=d.position.original,Y=new Td({source:d.currentItem,helper:d.helper,droppable:Ht.drop(_(d),P),sensorEvent:P,originalEvent:P.originalEvent});N==="invalid"&&!Y.droppable||N==="valid"&&Y.droppable||Gr(N)&&N(d.currentItem,Y.droppable)||N?(d.reverting=!0,Pt({targets:[d.helper],left:F.left+"px",top:F.top+"px",duration:U,easing:"linear",complete:function(){d.reverting=!1,d.trigger(Y),Y.canceled||d.clear()}})):(d.trigger(Y),Y.canceled||(d.applyChanges(),d.clear()))}}),d}return l(u,[{key:"setOption",value:function(d,p){switch(d){case"appendTo":case"axis":case"connectWith":case"cursor":case"disabled":case"distance":case"dropOnEmpty":case"forceHelperSize":case"forcePlaceholderSize":case"hidePlaceholder":case"grid":case"items":case"helper":case"opacity":case"revert":case"revertDuration":case"scope":case"scroll":case"scrollSensitivity":case"scrollSpeed":case"skip":case"tolerance":case"zIndex":this.options[d]=p;break;case"containment":this.options.containment=p,this.containmentCoords=void 0;break;default:throw new Error("The option ".concat(d," is invalid or can't be changed dinamically"))}}},{key:"cancel",value:function(){this.resetCurrentItem=!0,S(g(u.prototype),"cancel",this).call(this)}},{key:"destroy",value:function(){var d=this;this.dragging?this.pendingDestroy=!0:(this.plugins.forEach(function(p){return p.detach()}),this.sensors.forEach(function(p){return p.detach()}),document.removeEventListener("mouse:start",this.onDragStart),document.removeEventListener("mouse:move",this.onDragMove),document.removeEventListener("mouse:stop",this.onDragStop),delete this.element[this.dataProperty],bt(this.element,this.elementClass),this.items.forEach(function(p){return delete p.element[d.dataProperty]}),this.findHandles().forEach(function(p){bt(p,d.handleClass)}),this.trigger(new S0({sortable:this})))}},{key:"dataProperty",get:function(){return xs}},{key:"elementClass",get:function(){return"ui-sortable"}},{key:"handleClass",get:function(){return"ui-sortable-handle"}},{key:"helperClass",get:function(){return"ui-sortable-helper"}},{key:"placeholderClass",get:function(){return"ui-sortable-placeholder"}},{key:"over",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.isOver||(this.trigger(new w0({sortable:this,peerSortable:d,draggable:p})),this.isOver=!0)}},{key:"out",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.isOver&&(this.trigger(new A0({sortable:this,peerSortable:d,draggable:p})),this.isOver=!1)}},{key:"refresh",value:function(){var d=this;this.refreshItems(),this.refreshPositions(),this.findHandles().forEach(function(p){q(p,d.handleClass)})}},{key:"refreshItems",value:function(){var d=this,p=this.options.connectWith;this.connectedSortables=[this],this.items=this.findItems(),(p?ze(document,p):[]).forEach(function(y){var w=y[d.dataProperty];w&&w!==d&&!w.disabled&&(d.items=d.items.concat(w.findItems(null,d.currentItem)),d.connectedSortables.push(w))})}},{key:"refreshPositions",value:function(){var d=this,p=this.options.axis;this.floating=!!this.items.length&&(p==="x"||d0(this.items[0].element)),this.helper&&this.helperAttrs&&this.helperAttrs.offsetParent&&(this.offset.parent=this.getParentOffset()),this.items.forEach(function(y){if(!d.currentConnectedSortable||d.currentConnectedSortable===d||y.element===d.currentItem){var w=it(y.element),A=w.width,E=w.height,P=w.left,O=w.top;y.width=A,y.height=E,y.left=P,y.top=O}}),this.connectedSortables.forEach(function(y){return y.cacheElementProportions()})}},{key:"findItem",value:function(d){var p=this,y=Hs(d.target).find(function(w){return w!==p.element&&w[p.dataProperty]===p});return y||d.target===this.element||d.target[this.dataProperty]!==this||(y=d.target),y}},{key:"findItems",value:function(){var d=this,p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,w=[],A=this.options.items,E=function(P){return P[d.dataProperty]=d,{element:P,instance:d,width:0,height:0,left:0,top:0}};if(Gr(A)){if(w=A({options:this.options,item:y||this.currentItem}),!Array.isArray(w))return[]}else w=A?ze(this.element,A):FM(this.element.childNodes).filter(function(P){return P.nodeType===1});return Gr(p)?w.filter(p).map(E):w.map(E)}},{key:"findClosestItem",value:function(d,p){var y=this,w=null,A=1e4,E=p.floating||d0(this.currentItem),P=!1,O=null,N=E?"pageX":"pageY";return this.items.forEach(function(U){Cr(p.element,U.element)&&U.element!==y.currentItem&&(P=!1,O=it(U.element)[E?"left":"top"],d[N]-O>U[E?"width":"height"]/2&&(P=!0),Math.abs(d[N]-O)<A&&(A=Math.abs(d[N]-O),w=U))}),{item:w,nearBottom:P}}},{key:"findHandles",value:function(){var d=[],p=this.options.handle;return this.items.forEach(function(y){p?d=d.concat(ze(y.element,p)):d.push(y.element)}),d}},{key:"createHelper",value:function(d){var p=null,y=this.options,w=y.appendTo,A=y.helper,E=y.forceHelperSize;if(Gr(A)?p=A.apply(this.element,[d,this.currentItem]):A==="clone"?((p=this.currentItem.cloneNode(!0)).removeAttribute("id"),p.removeAttribute(this.dataProperty),p[this.dataProperty]=this):p=this.currentItem,p instanceof HTMLElement){if(!Ie(p,"body")){var P=w==="parent"?this.currentItem.parentNode:document.querySelector(w);if(!(P instanceof HTMLElement))return null;P.appendChild(p)}return p===this.currentItem&&(this.currentItemStyle={width:xe(this.currentItem),height:st(this.currentItem),position:J(this.currentItem,"position"),left:J(this.currentItem,"left"),top:J(this.currentItem,"top")}),p.style.width&&!E||J(p,{width:xe(this.currentItem)+"px",boxSizing:"border-box"}),p.style.height&&!E||J(p,{height:st(this.currentItem)+"px",boxSizing:"border-box"}),p}return null}},{key:"createPlaceholder",value:function(){if(this.placeholder)this.updatePlaceholder(this,this.placeholder);else{var d=this.currentItem.nodeName.toLowerCase(),p=document.createElement(d);if(p.className=this.currentItem.className,q(p,this.placeholderClass),bt(p,this.helperClass),d==="thead"||d==="tbody"){var y=document.createElement("tr");p.appendChild(y),this.createTableRowPlaceholder(this.currentItem.querySelector("tr"),y,d==="thead"?"th":"tr")}else d==="tr"?this.createTableRowPlaceholder(this.currentItem,p,"tr"):d==="img"&&p.setAttribute("src",this.currentItem.getAttribute("src"));this.placeholder=jf(p,this.currentItem),this.updatePlaceholder(this,p)}}},{key:"createTableRowPlaceholder",value:function(d,p,y){ze(d,y).forEach(function(w){var A=document.createElement(y);A.innerHTML="&#160;",A.setAttribute("colspan",w.getAttribute("colspan")),p.appendChild(A)})}},{key:"updatePlaceholder",value:function(d,p){var y=d.options,w=y.forcePlaceholderSize;y.hidePlaceholder?J(p,{visibility:"hidden"}):w&&(xe(p)||J(p,{width:xe(this.currentItem)+"px"}),st(p)||J(p,{height:st(this.currentItem)+"px"}))}},{key:"cacheMargins",value:function(){this.margins={left:parseInt(J(this.currentItem,"marginLeft"),10)||0,top:parseInt(J(this.currentItem,"marginTop"),10)||0,right:parseInt(J(this.currentItem,"marginRight"),10)||0,bottom:parseInt(J(this.currentItem,"marginBottom"),10)||0}}},{key:"cacheElementProportions",value:function(){this.elementProportions=it(this.element)}},{key:"calculateOffsets",value:function(d){var p=it(this.currentItem);this.offset.click={left:d.pageX-p.left-this.margins.left,top:d.pageY-p.top-this.margins.top},this.offset.parent=this.getParentOffset(),this.offset.relative=this.getRelativeOffset()}},{key:"getParentOffset",value:function(){return this.helperAttrs.offsetParent=Un(this.helper),S(g(u.prototype),"getParentOffset",this).call(this)}},{key:"calculatePosition",value:function(d){var p=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1]?this.constraintPosition(d):d,y=p.pageX,w=p.pageY,A=this.helperAttrs.scrollParent,E=this.helperAttrs,P=E.cssPosition,O=E.offsetParent,N=ar(A);P!=="absolute"||A!==document&&Cr(A,O)||(N=ar(A=O)),P==="relative"&&A===document&&A!==O&&(this.offset.relative=this.getRelativeOffset()),this.offset.scroll={left:at(A),top:kt(A)};var U=this.offset,F=U.click,Y=U.parent,X=U.relative,Z=U.scroll,ee={left:y-F.left-Y.left-X.left+(P==="fixed"?-Z.left:N?0:Z.left),top:w-F.top-Y.top-X.top+(P==="fixed"?-Z.top:N?0:Z.top)};this.position.original||(this.position.original=ee),this.position.current=ee,this.position.absolute=this.convertPosition(ee,"absolute")}},{key:"convertPosition",value:function(d,p){var y=this.helperAttrs.scrollParent,w=this.helperAttrs,A=w.cssPosition,E=w.offsetParent,P=this.offset,O=P.parent,N=P.relative,U=p==="absolute"?1:-1,F=ar(y);return A!=="absolute"||y!==document&&Cr(y,E)||(F=ar(y=E)),{left:d.left+O.left*U+N.left*U-(A==="fixed"?-at(y):(F?0:at(y))*U),top:d.top+O.top*U+N.top*U-(A==="fixed"?-kt(y):(F?0:kt(y))*U)}}},{key:"getDragDirection",value:function(d){var p=this.position.absolute[d==="x"?"left":"top"]-this.previousPosition[d==="x"?"left":"top"];return p!==0?p>0?d==="x"?"right":"down":d==="x"?"left":"up":null}},{key:"getPointerIntersection",value:function(d){var p=this.options.axis,y=this.offset.click,w=this.position.absolute,A=w.left+y.left,E=w.top+y.top;if(!((p==="y"||A>=d.left&&A<d.left+d.width)&&(p==="x"||E>=d.top&&E<d.top+d.height)))return 0;var P=this.getDragDirection("x"),O=this.getDragDirection("y");return this.floating?P==="right"||O==="bottom"?2:1:O==="down"?2:1}},{key:"intersectsWith",value:function(d){var p=this.options,y=p.axis,w=p.tolerance,A=this.helperSize,E=A.width,P=A.height,O=this.offset.click,N=this.position.absolute,U=N.left+O.left,F=N.top+O.top;return N.left,O.left,N.top,O.top,w==="pointer"||this.floating&&E>d.width||!this.floating&&P>d.height?(y==="y"||U>d.left&&U<d.left+d.width)&&(y==="x"||F>d.top&&F<d.top+d.height):d.left<N.left+E/2&&d.left+d.width>N.left+E/2&&d.top<N.top+P/2&&d.top+d.height>N.top+P/2}},{key:"intersectsWithSides",value:function(d){var p=d.width,y=d.height,w=d.left,A=d.top,E=this.offset.click,P=this.position.absolute,O=P.left+E.left,N=P.top+E.top,U=w+p/2,F=A+y/2,Y=this.getDragDirection("x"),X=this.getDragDirection("y");return this.floating&&Y?Y==="right"&&O>=U&&O<U+p||Y==="left"&&!(O>=U&&O<U+p):X==="down"&&N>=F&&N<F+y||X==="up"&&!(N>=F&&N<F+y)}},{key:"contactSortables",value:function(d){var p=this,y=null,w=null,A=new Gf({sortable:this});this.connectedSortables.forEach(function(E){Cr(p.currentItem,E.element)||(p.intersectsWith(E.elementProportions)?y&&Cr(E.element,y.element)||(y=E):E.out(p))}),y&&(this.connectedSortables.length===1?y.over(null):((w=this.findClosestItem(d,y)).item||this.options.dropOnEmpty)&&(this.currentConnectedSortable===y?y.over(this):(w.item?this.rearrange(null,w.item,w.nearBottom?"up":"down"):this.rearrange(y.element),this.trigger(A),y.over(this),y.trigger(A),this.currentConnectedSortable=y,this.updatePlaceholder(y,this.placeholder))))}},{key:"rearrange",value:function(){var d=this,p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(p instanceof HTMLElement)p.appendChild(this.placeholder);else{if(!(y&&y.element instanceof HTMLElement))return;y.element.parentNode.insertBefore(this.placeholder,w==="down"?y.element:y.element.nextSibling)}this.rearrangeIteration=this.rearrangeIteration?this.rearrangeIteration++:1;var A=this.rearrangeIteration;setTimeout(function(){A===d.rearrangeIteration&&d.refreshPositions()})}},{key:"applyChanges",value:function(){var d=this,p=null;if(this.helper&&this.currentItem&&(h0(this.currentItem,this.placeholder),p=u0(this.currentItem),this.helper===this.currentItem?(da(this.currentItemStyle,function(E,P){E!=="auto"&&E!=="static"||(d.currentItemStyle[P]="")}),J(this.currentItem,this.currentItemStyle)):l0(this.currentItem),this.resetCurrentItem)){var y=this.currentItemProps,w=y.previous,A=y.parent;w?jf(this.currentItem,w):h0(this.currentItem,A.firstElementChild),this.resetCurrentItem=!1}this.connectedDraggable&&this.trigger(new Kf({sortable:this,item:this.connectedDraggable.element,newIndex:p,draggable:this.connectedDraggable})),(this.connectedDraggable||this.currentItemProps.previous!==function(E,P,O){for(var N=null,U=E,F=P==="previous"?"previousElementSibling":"nextElementSibling";U&&U[F];){if(!O||!je(U[F],O)){N=U[F];break}U=U[F]}return N}(this.currentItem,"previous",".".concat(this.helperClass))||this.currentItemProps.parent!==this.currentItem.parentNode)&&this.trigger(new Yf({sortable:this,item:this.currentItem,previousIndex:this.currentItemProps.previousIndex,newIndex:p,peerSortable:this.currentConnectedSortable!==this?this.currentConnectedSortable:null})),this.currentConnectedSortable!==this&&(this.trigger(new b0({sortable:this,item:this.currentItem,previousIndex:this.currentItemProps.previousIndex,peerSortable:this.currentConnectedSortable})),this.currentConnectedSortable.trigger(new Kf({sortable:this.currentConnectedSortable,item:this.currentItem,newIndex:p,peerSortable:this})),this.currentConnectedSortable.trigger(new Yf({sortable:this.currentConnectedSortable,peerSortable:this,previousIndex:this.currentItemProps.previousIndex,newIndex:p}))),this.connectedSortables.forEach(function(E){E.out(d),E.trigger(new Qf({sortable:E,peerSortable:d}))})}},{key:"clear",value:function(){this.placeholder&&(this.placeholder.parentNode&&this.placeholder.parentNode.removeChild(this.placeholder),this.placeholder=null),this.helper&&(bt(this.helper,this.helperClass),this.helper===this.currentItem||this.cancelHelperRemoval||this.helper.parentNode.removeChild(this.helper),this.cancelHelperRemoval=!1,this.helper=null),this.connectedDraggable=null,this.currentItem=null,this.currentItemProps=null,this.dragging=!1,this.pendingDestroy&&(this.destroy(),this.pendingDestroy=!1)}}]),u}(va);c(Id,"defaultOptions",{appendTo:"parent",axis:null,connectWith:null,containment:null,cursor:null,disabled:!1,distance:0,dropOnEmpty:!0,forceHelperSize:!1,forcePlaceholderSize:!1,hidePlaceholder:!1,grid:null,handle:null,helper:"original",items:null,opacity:null,revert:!1,revertDuration:200,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:10,skip:"input, textarea, button, select, option",tolerance:"intersect",zIndex:null});var T1=qo,Tc=Mt,kd=Hn,LN=As,VN=kd("species"),HN=!Tc(function(){var a=/./;return a.exec=function(){var f=[];return f.groups={a:"7"},f},"".replace(a,"$<a>")!=="7"}),I1="a".replace(/./,"$0")==="$0",k1=kd("replace"),C1=!!/./[k1]&&/./[k1]("a","$0")==="",FN=!Tc(function(){var a=/(?:)/,f=a.exec;a.exec=function(){return f.apply(this,arguments)};var u="ab".split(a);return u.length!==2||u[0]!=="a"||u[1]!=="b"}),xN=Uh,UN=Nn,P1=function(a){return function(f,u){var d,p,y=String(UN(f)),w=xN(u),A=y.length;return w<0||w>=A?a?"":void 0:(d=y.charCodeAt(w))<55296||d>56319||w+1===A||(p=y.charCodeAt(w+1))<56320||p>57343?a?y.charAt(w):d:a?y.slice(w,w+2):p-56320+(d-55296<<10)+65536}},BN={codeAt:P1(!1),charAt:P1(!0)}.charAt,WN=hn,jN=Tf,zN=function(a,f,u,d){var p=kd(a),y=!Tc(function(){var N={};return N[p]=function(){return 7},""[a](N)!=7}),w=y&&!Tc(function(){var N=!1,U=/a/;return a==="split"&&((U={}).constructor={},U.constructor[VN]=function(){return U},U.flags="",U[p]=/./[p]),U.exec=function(){return N=!0,null},U[p](""),!N});if(!y||!w||a==="replace"&&(!HN||!I1||C1)||a==="split"&&!FN){var A=/./[p],E=u(p,""[a],function(N,U,F,Y,X){return U.exec===RegExp.prototype.exec?y&&!X?{done:!0,value:A.call(U,F,Y)}:{done:!0,value:N.call(F,U,Y)}:{done:!1}},{REPLACE_KEEPS_$0:I1,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:C1}),P=E[0],O=E[1];T1(String.prototype,a,P),T1(RegExp.prototype,p,f==2?function(N,U){return O.call(N,this,U)}:function(N){return O.call(N,this)})}d&&LN(RegExp.prototype[p],"sham",!0)},qN=br,GN=Es,KN=Nn,YN=function(a,f,u){return f+(u?BN(a,f).length:1)},R1=function(a,f){var u=a.exec;if(typeof u=="function"){var d=u.call(a,f);if(typeof d!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return d}if(WN(a)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return jN.call(a,f)};zN("match",1,function(a,f,u){return[function(d){var p=KN(this),y=d==null?void 0:d[a];return y!==void 0?y.call(d,p):new RegExp(d)[a](String(p))},function(d){var p=u(f,d,this);if(p.done)return p.value;var y=qN(d),w=String(this);if(!y.global)return R1(y,w);var A=y.unicode;y.lastIndex=0;for(var E,P=[],O=0;(E=R1(y,w))!==null;){var N=String(E[0]);P[O]=N,N===""&&(y.lastIndex=YN(w,GN(y.lastIndex),A)),O++}return O===0?null:P}]});var QN=Mt,D1=tc,XN=kf.trim;nn({target:"String",proto:!0,forced:function(a){return QN(function(){return!!D1[a]()||"​᠎"[a]()!="​᠎"||D1[a].name!==a})}("trim")},{trim:function(){return XN(this)}});var $N=nn,JN=zv.indexOf,ZN=$o,O1=[].indexOf,M1=!!O1&&1/[1].indexOf(1,-0)<0,e4=ZN("indexOf");$N({target:"Array",proto:!0,forced:M1||!e4},{indexOf:function(a){return M1?O1.apply(this,arguments)||0:JN(this,a,arguments.length>1?arguments[1]:void 0)}});var t4=Vf.isFinite,Fn=V(function(a){return typeof a=="number"&&t4(a)}),n4=Ns,r4=hc,i4=Ls,s4=V(function(a){return typeof a=="string"||!r4(a)&&i4(a)&&n4(a)=="[object String]"}),Cd=function(a){h(u,a);var f=v(u);function u(){return s(this,u),f.apply(this,arguments)}return l(u,[{key:"resizable",get:function(){return this.data.resizable||null}}]),u}(kr);c(Cd,"type","resizable");var N1=function(a){h(u,a);var f=v(u);function u(){return s(this,u),f.apply(this,arguments)}return l(u)}(Cd);c(N1,"type","resizable:init");var L1=function(a){h(u,a);var f=v(u);function u(){return s(this,u),f.apply(this,arguments)}return l(u)}(Cd);c(L1,"type","resizable:destroy");var Pd=function(a){h(u,a);var f=v(u);function u(){return s(this,u),f.apply(this,arguments)}return l(u,[{key:"element",get:function(){return this.data.element||null}},{key:"helper",get:function(){return this.data.helper||null}},{key:"originalElement",get:function(){return this.data.originalElement||null}},{key:"originalSize",get:function(){return this.data.originalSize||null}},{key:"originalPosition",get:function(){return this.data.originalPosition||null}},{key:"size",get:function(){return this.data.size||null}},{key:"position",get:function(){return this.data.position||null}},{key:"sensorEvent",get:function(){return this.data.sensorEvent||null}},{key:"originalEvent",get:function(){return this.data.originalEvent||null}}]),u}(kr),Rd=function(a){h(u,a);var f=v(u);function u(){return s(this,u),f.apply(this,arguments)}return l(u)}(Pd);c(Rd,"type","resize:start"),c(Rd,"cancelable",!0);var Dd=function(a){h(u,a);var f=v(u);function u(){return s(this,u),f.apply(this,arguments)}return l(u)}(Pd);c(Dd,"type","resize:change"),c(Dd,"cancelable",!0);var Od=function(a){h(u,a);var f=v(u);function u(){return s(this,u),f.apply(this,arguments)}return l(u)}(Pd);c(Od,"type","resize:stop"),c(Od,"cancelable",!0);var o4={n:function(a,f){return{height:Math.max(a.size.height-f.y,0),top:a.position.top+f.y}},s:function(a,f){return{height:Math.max(a.size.height+f.y,0)}},e:function(a,f){return{width:Math.max(a.size.width+f.x,0)}},w:function(a,f){return{width:Math.max(a.size.width-f.x,0),left:a.position.left+f.x}},ne:function(a,f){return{width:Math.max(a.size.width+f.x,0),height:Math.max(a.size.height-f.y,0),top:a.position.top+f.y}},nw:function(a,f){return{width:Math.max(a.size.width-f.x,0),height:Math.max(a.size.height-f.y,0),top:a.position.top+f.y,left:a.position.left+f.x}},se:function(a,f){return{width:Math.max(a.size.width+f.x,0),height:Math.max(a.size.height+f.y,0)}},sw:function(a,f){return{width:Math.max(a.size.width-f.x,0),height:Math.max(a.size.height+f.y,0),left:a.position.left+f.x}}},a4=/^(canvas|textarea|input|select|button|img)$/i,Ic=function(a){h(u,a);var f=v(u);function u(){var d;s(this,u);for(var p=arguments.length,y=new Array(p),w=0;w<p;w++)y[w]=arguments[w];return c(_(d=f.call.apply(f,[this].concat(y))),"originalElement",null),c(_(d),"originalResize",null),c(_(d),"pressing",!1),c(_(d),"resizing",!1),c(_(d),"wrapped",!1),c(_(d),"currentHandle",null),c(_(d),"currentDirection",null),c(_(d),"handleDirections",[]),c(_(d),"handleElements",[]),c(_(d),"helper",null),c(_(d),"offset",{click:null,helper:null}),c(_(d),"originalAttrs",{}),c(_(d),"currentAttrs",{}),c(_(d),"previousAttrs",{}),c(_(d),"aspectRatio",null),c(_(d),"resizableElements",[]),c(_(d),"listeners",[]),c(_(d),"setup",function(){var A=d.options.autoHide;d.addPlugin(new YM(_(d))),d.addPlugin(new KM(_(d))),d.addPlugin(new sN(_(d))),d.addPlugin(new oN(_(d))),d.addSensor(new vd(_(d))),document.addEventListener("mouse:down",d.onMouseDown),document.addEventListener("mouse:stop",function(){d.pressing=!1}),document.addEventListener("mouse:start",d.onDragStart),document.addEventListener("mouse:move",d.onDragMove),document.addEventListener("mouse:stop",d.onDragStop),d.originalElement=d.element,q(d.element,d.elementClass),J(d.element,{position:"relative"}),d.element.nodeName.match(a4)?d.createWrapper():d.element[d.dataProperty]=_(d),d.createHandles(),A&&(q(d.element,d.autoHideClass),d.listeners.push(Fe(d.element,"mouseenter",function(){d.disabled||(bt(d.element,d.autoHideClass),d.handleElements.forEach(function(E){return l0(E)}))})),d.listeners.push(Fe(d.element,"mouseleave",function(){d.disabled||d.resizing||(q(d.element,d.autoHideClass),d.handleElements.forEach(function(E){return Wf(E)}))}))),d.trigger(new N1({resizable:_(d)}))}),c(_(d),"onMouseDown",function(A){var E=A.detail;E.caller===_(d)&&d.currentHandle&&d.currentDirection&&(d.disabled?E.cancel():d.isInsideHandle(E)?d.pressing=!0:E.cancel())}),c(_(d),"onDragStart",function(A){var E,P=d.options.aspectRatio,O=A.detail;if(O.caller===_(d)&&d.currentHandle&&d.currentDirection){d.resizing=!0,d.helper=d.createHelper(O),d.offset.click={left:O.pageX,top:O.pageY},d.offset.helper=it(d.helper),d.initializeResize(),d.aspectRatio=Fn(P)?P:null;var N=new Rd({source:d.element,helper:d.helper,originalElement:d.originalElement,originalSize:d.originalAttrs.size,originalPosition:d.originalAttrs.position,size:d.currentAttrs.size,position:d.currentAttrs.position,sensorEvent:O,originalEvent:O.originalEvent});d.trigger(N),N.canceled?d.onDragCancel(ga(d.helper)):(q(d.helper,d.resizingClass),E=J(d.currentHandle,"cursor"),J(document.body,{cursor:E&&E!=="auto"?E:"".concat(d.elementClass,"-").concat(d.currentDirection)}))}}),c(_(d),"onDragCancel",function(A){d.sensors.forEach(function(E){return E.cancel(A)}),d.clear()}),c(_(d),"onDragMove",function(A){var E=A.detail;if(E.caller===_(d)&&d.currentHandle&&d.currentDirection){d.previousAttrs={size:i({},d.currentAttrs.size),position:i({},d.currentAttrs.position)},d.calculateResize(E);var P=new Dd({element:d.element,helper:d.helper,originalElement:d.originalElement,originalSize:d.originalAttrs.size,originalPosition:d.originalAttrs.position,size:d.currentAttrs.size,position:d.currentAttrs.position,sensorEvent:E,originalEvent:E.originalEvent});d.trigger(P),P.canceled||(d.currentAttrs.size=i({},P.size),d.currentAttrs.position=i({},P.position),d.applyResize(),d.helper===d.element&&d.updateResizableElements())}}),c(_(d),"onDragStop",function(A){var E={},P=d.options,O=P.animate,N=P.flex,U=d.originalAttrs,F=U.size,Y=U.position,X=d.currentAttrs,Z=X.size,ee=X.position,ge=A.detail;if(ge.caller===_(d)&&d.currentHandle&&d.currentDirection){E[N?"flexBasis":"width"]="".concat(xe(d.helper),"px"),E.height="".concat(st(d.helper),"px"),E.top="".concat(gt(d.helper,"top"),"px"),E.left="".concat(gt(d.helper,"left"),"px"),J(d.helper,Z),O||(J(d.element,E),d.updateResizableElements());var Se,be=new Od({source:d.element,helper:d.helper,originalElement:d.originalElement,originalSize:d.originalAttrs.size,originalPosition:d.originalAttrs.position,size:Z,position:ee,sensorEvent:ge,originalEvent:ge.originalEvent});d.trigger(be),be.canceled?(J(d.element,(c(Se={},N?"flexBasis":"width","".concat(F.width,"px")),c(Se,"height","".concat(F.height,"px")),c(Se,"top","".concat(Y.top,"px")),c(Se,"left","".concat(Y.left,"px")),Se)),d.clear(),d.updateResizableElements()):d.clear()}}),d}return l(u,[{key:"setOption",value:function(d,p){switch(d){case"animate":case"animateDuration":case"aspectRatio":case"disabled":case"distance":case"ghost":case"grid":case"maxHeight":case"maxWidth":case"minHeight":case"minWidth":case"zIndex":this.options[d]=p;break;case"containment":this.options.containment=p,this.containmentCoords=void 0;break;default:throw new Error("The option ".concat(d," is invalid or can't be changed dinamically"))}}},{key:"cancel",value:function(){this.resizing?this.onDragCancel(ga(this.helper)):this.clear()}},{key:"destroy",value:function(){this.resizing?this.pendingDestroy=!0:(this.plugins.forEach(function(d){return d.detach()}),this.sensors.forEach(function(d){return d.detach()}),document.removeEventListener("mouse:start",this.onDragStart),document.removeEventListener("mouse:move",this.onDragMove),document.removeEventListener("mouse:stop",this.onDragStop),bt(this.element,this.elementClass),this.wrapped?this.destroyWrapper():delete this.element[this.dataProperty],this.originalElement&&this.originalResize&&J(this.originalElement,{resize:this.originalResize}),this.destroyHandles(),this.listeners.forEach(function(d){return d()}),this.trigger(new L1({sortable:this})))}},{key:"dataProperty",get:function(){return"resizableInstance"}},{key:"elementClass",get:function(){return"ui-resizable"}},{key:"wrapperClass",get:function(){return"ui-resizable-wrapper"}},{key:"autoHideClass",get:function(){return"ui-resizable-autohide"}},{key:"handleClass",get:function(){return"ui-resizable-handle"}},{key:"handleDirectionProperty",get:function(){return"resizableDirection"}},{key:"helperClass",get:function(){return"ui-resizable-helper"}},{key:"resizingClass",get:function(){return"ui-resizable-resizing"}},{key:"ghostClass",get:function(){return"ui-resizable-ghost"}},{key:"createWrapper",value:function(){var d=zf("div",null,this.element.parentNode);q(d,this.wrapperClass),J(d,{position:J(this.element,"position"),width:xe(this.element),height:st(this.element),top:J(this.element,"top"),left:J(this.element,"left"),marginTop:J(this.originalElement,"marginTop"),marginRight:J(this.originalElement,"marginRight"),marginBottom:J(this.originalElement,"marginBottom"),marginLeft:J(this.originalElement,"marginLeft")}),d[this.dataProperty]=this,J(this.originalElement,{display:"block",position:"static",zoom:1}),this.originalResize=J(this.originalElement,"resize"),J(this.originalElement,{resize:"none"}),this.resizableElements.push(this.originalElement),this.updateResizableElements(),this.wrapped=!0}},{key:"destroyWrapper",value:function(){var d,p=this.element,y=this.options.flex;J(this.originalElement,(c(d={position:J(p,"position")},y?"flexBasis":"width",xe(p)),c(d,"height",st(p)),c(d,"top",J(p,"top")),c(d,"left",J(p,"left")),d)),jf(this.originalElement,p),en(p),delete p[this.dataProperty]}},{key:"createHandles",value:function(){var d=this,p=this.options.handles,y=this.options,w=y.autoHide,A=y.zIndex;p&&s4(p)?p==="all"&&(p=E0.join(",")):p="e,s,se",this.handleDirections=p.split(",").map(function(E){return E.trim()}),this.handleDirections.forEach(function(E){if(E0.indexOf(E)!==-1){var P=zf("div",null,d.element);if(q(P,d.handleClass),q(P,"".concat(d.elementClass,"-").concat(E)),u.injectedStyles[E]||(U="".concat(d.elementClass,"-").concat(E),F=i(i({},qM[E]),{display:"block",position:"absolute"}),Y=[".".concat(U," {")],da(F,function(X,Z){Y.push("".concat(HM(Z),": ").concat(X,";"))}),Y.push("}"),UD(Y.join(`
`)),u.injectedStyles=!0),c0(P),J(P,{zIndex:A+(E.length===2?1:0)}),d.listeners.push(Fe(P,"mouseover",function(X){d.pressing||(d.currentHandle=X.target,d.currentDirection=X.target[d.handleDirectionProperty])})),P[d.handleDirectionProperty]=E,w&&Wf(P),d.wrapped&&function(X){return!!X&&On.test(X.nodeName)}(d.originalElement)){var O=/sw|ne|nw|se|n|s/.test(E)?st(P):xe(P),N=/ne|nw|n/.test(E)?"Top":/se|sw|s/.test(E)?"Bottom":/^e$/.test(E)?"Right":"Left";J(P,c({},"padding".concat(N),O)),d.updateResizableElements()}d.handleElements.push(P)}var U,F,Y})}},{key:"findHandles",value:function(){return this.handleElements}},{key:"destroyHandles",value:function(){var d=this;this.handleElements.forEach(function(p){delete p[d.handleDirectionProperty],en(p)})}},{key:"createHelper",value:function(){var d,p,y=this.options,w=y.animate,A=y.flex,E=y.ghost,P=y.zIndex,O=it(this.element);return w||E?(q(d=zf("div",null,document.body),this.helperClass),J(d,(c(p={},A?"flexBasis":"width","".concat(xe(this.element),"px")),c(p,"height","".concat(st(this.element),"px")),c(p,"position","absolute"),c(p,"left","".concat(O.left,"px")),c(p,"top","".concat(O.top,"px")),c(p,"zIndex",(P||1)+1),p)),c0(d)):d=this.element,d}},{key:"initializeResize",value:function(){var d={top:gt(this.helper,"top"),left:gt(this.helper,"left")};this.originalAttrs={size:{width:xe(this.element),height:st(this.element)},position:i({},d)},this.currentAttrs={size:i({},this.originalAttrs.size),position:i({},d)}}},{key:"calculateResize",value:function(d){var p=d.pageX,y=d.pageY,w=this.aspectRatio,A=this.currentDirection,E=this.offset.click,P=this.currentAttrs,O=P.size,N=P.position,U={y:y-E.top,x:p-E.left},F=o4[this.currentDirection](this.originalAttrs,U);w&&(Fn(F.width)?F.height=F.width/w:Fn(F.height)&&(F.width=F.height*w),A==="sw"&&(F.left=N.left+(O.width-F.width),F.top=null),A==="nw"&&(F.top=N.top+(O.height-F.height),F.left=N.left+(O.width-F.width))),F=this.applyBoundaries(F),this.offset.helper=it(this.helper),Fn(F.width)&&(this.currentAttrs.size.width=F.width),Fn(F.height)&&(this.currentAttrs.size.height=F.height),Fn(F.top)&&(this.currentAttrs.position.top=F.top),Fn(F.left)&&(this.currentAttrs.position.left=F.left)}},{key:"applyBoundaries",value:function(d){var p={minWidth:Fn(this.options.minWidth)?Math.max(this.options.minWidth,0):0,maxWidth:Fn(this.options.maxWidth)?this.options.maxWidth:1/0,minHeight:Fn(this.options.minHeight)?Math.max(this.options.minHeight,0):0,maxHeight:Fn(this.options.maxHeight)?this.options.maxHeight:1/0},y=this.originalAttrs,w=y.size,A=y.position,E=/sw|nw|w/.test(this.currentDirection),P=/nw|ne|n/.test(this.currentDirection);return Fn(d.width)&&p.minWidth>d.width&&(d.width=p.minWidth,E&&(d.left=A.left+w.width-p.minWidth)),Fn(d.width)&&p.maxWidth<d.width&&(d.width=p.maxWidth,E&&(d.left=A.left+w.width-p.maxWidth)),Fn(d.height)&&p.minHeight>d.height&&(d.height=p.minHeight,P&&(d.top=A.top+w.height-p.minHeight)),Fn(d.height)&&p.maxHeight<d.height&&(d.height=p.maxHeight,P&&(d.top=A.top+w.height-p.maxHeight)),d}},{key:"applyResize",value:function(){var d={},p=this.options.flex,y=this.currentAttrs,w=y.size,A=y.position,E=this.previousAttrs,P=E.size,O=E.position;return w.width!==P.width&&(d[p?"flexBasis":"width"]="".concat(w.width,"px")),w.height!==P.height&&(d.height="".concat(w.height,"px")),A.top!==O.top&&(d.top="".concat(A.top,"px")),A.left!==O.left&&(d.left="".concat(A.left,"px")),J(this.helper,d),d}},{key:"updateResizableElements",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(this.resizableElements.length){var p=this.options.flex,y=d&&d.width&&d.height?d:{width:xe(this.helper||this.element),height:st(this.helper||this.element)};this.resizableElements.forEach(function(w){var A,E=p0(w);J(w,(c(A={},p?"flexBasis":"width","".concat(y.width-E.width,"px")),c(A,"height","".concat(y.height-E.height,"px")),A))})}}},{key:"clear",value:function(){this.resizing=!1,this.originalAttrs={},this.currentAttrs={},this.previousAttrs={},this.offset={click:null,helper:null},this.aspectRatio=null,this.helper&&this.helper!==this.element&&(this.helper.parentNode.removeChild(this.helper),this.helper=null),J(document.body,{cursor:"auto"}),bt(this.element,this.resizingClass),this.pendingDestroy&&(this.destroy(),this.pendingDestroy=!1)}}]),u}(va);c(Ic,"defaultOptions",{animate:!1,animateDuration:500,aspectRatio:!1,autoHide:!1,containment:null,disabled:!1,distance:0,flex:!1,ghost:!1,grid:null,handles:"e,s,se",maxHeight:null,maxWidth:null,minHeight:null,minWidth:null,zIndex:1}),c(Ic,"injectedStyles",{});var l4={Plugin:D,Sensor:_c,Draggable:va,Droppable:Ad,DragDropManager:Ht,Sortable:Id,Resizable:Ic};n.DragDropManager=Ht,n.Draggable=va,n.Droppable=Ad,n.Plugin=D,n.Resizable=Ic,n.Sensor=_c,n.Sortable=Id,n.default=l4,Object.defineProperty(n,"__esModule",{value:!0})})})(Bg,Bg.exports);var Cz=Bg.exports;const Pz=lv(Cz);var Rz={"sortable:init":$n("sortable:init"),"sortable:activate":$n("sortable:activate"),"sort:start":$n("sort:start"),"sort:move":$n("sort:move"),"sort:stop":$n("sort:stop"),"sortable:over":$n("sortable:over"),"sortable:change":$n("sortable:change"),"sortable:remove":$n("sortable:remove"),"sortable:receive":$n("sortable:receive"),"sortable:update":$n("sortable:update"),"sortable:out":$n("sortable:out"),"sortable:deactivate":$n("sortable:deactivate"),"sortable:destroy":$n("sortable:destroy")};function Dz(t,e){new Pz.Sortable(t,e,Rz)}function $n(t){return function(e){var n=e.data;[n.source,n.draggable&&n.draggable.element,n.droppable&&n.droppable.element,n.sortable&&n.sortable.element].forEach(function(r){r!=null&&r.dispatchEvent(new CustomEvent(t,{detail:n}))})}}function Oz(t){function e(n){var r=n.target;if(r.matches(t)){var i;switch(n.type){case"touchstart":i="mousedown";break;case"touchmove":i="mousemove";break;case"touchend":i="mouseup";break;case"touchcancel":i="mouseup";break;default:return}var s=n.changedTouches[0],o=s.clientX,l=s.pageX,c=window.pageXOffset,h=s.clientY,g=s.pageY,m=window.pageYOffset;l===0&&Math.floor(o)>Math.floor(l)||g===0&&Math.floor(h)>Math.floor(g)?(o-=c,h-=m):(o<l-c||h<g-m)&&(o=l-c,h=g-m);var _=new MouseEvent(i,{bubbles:!0,cancelable:!0,screenX:s.screenX,screenY:s.screenY,clientX:o,clientY:h,pageX:l,pageY:g,buttons:1,button:0,ctrlKey:n.ctrlKey,shiftKey:n.shiftKey,altKey:n.altKey,metaKey:n.metaKey});s.target.dispatchEvent(_)}}document.addEventListener("touchstart",e,!0),document.addEventListener("touchmove",e,!0),document.addEventListener("touchend",e,!0),document.addEventListener("touchcancel",e,!0)}function yS(t,e,n){const r=t.slice();return r[14]=e[n],r[16]=n,r}function _S(t,e,n){const r=t.slice();return r[17]=e[n],r[16]=n,r}function wS(t){let e,n;return e=new Ch({props:{$$slots:{default:[Mz]},$$scope:{ctx:t}}}),{c(){ae(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p(r,i){const s={};i&524289&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function bS(t,e){let n,r,i,s;function o(){return e[8](e[17])}return{key:t,first:null,c(){n=C("img"),he(n.src,r="https://images.pokemontcg.io/"+e[17].set.toLowerCase()+"/"+e[17].number+"_hires.png")||b(n,"src",r),b(n,"class","svelte-j0re9k"),this.first=n},m(l,c){x(l,n,c),i||(s=le(n,"click",o),i=!0)},p(l,c){e=l,c&1&&!he(n.src,r="https://images.pokemontcg.io/"+e[17].set.toLowerCase()+"/"+e[17].number+"_hires.png")&&b(n,"src",r)},d(l){l&&H(n),i=!1,s()}}}function Mz(t){let e=[],n=new Map,r,i=De(t[0].collection);const s=o=>o[17].id;for(let o=0;o<i.length;o+=1){let l=_S(t,i,o),c=s(l);n.set(c,e[o]=bS(c,l))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();r=He()},m(o,l){for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(o,l);x(o,r,l)},p(o,l){l&33&&(i=De(o[0].collection),e=Bu(e,l,s,1,o,i,n,r.parentNode,C4,bS,r,_S))},d(o){o&&H(r);for(let l=0;l<e.length;l+=1)e[l].d(o)}}}function Nz(t){let e,n,r,i,s;function o(){return t[9](t[16])}return{c(){e=C("div"),n=C("img"),b(n,"class","team-card svelte-j0re9k"),he(n.src,r="https://images.pokemontcg.io/"+t[14].set.toLowerCase()+"/"+t[14].number+"_hires.png")||b(n,"src",r),b(e,"class","card-container svelte-j0re9k")},m(l,c){x(l,e,c),T(e,n),i||(s=le(n,"click",o),i=!0)},p(l,c){t=l,c&4&&!he(n.src,r="https://images.pokemontcg.io/"+t[14].set.toLowerCase()+"/"+t[14].number+"_hires.png")&&b(n,"src",r)},d(l){l&&H(e),i=!1,s()}}}function Lz(t){let e,n;return{c(){e=C("img"),b(e,"class","team-card svelte-j0re9k"),he(e.src,n="https://images.pokemontcg.io/basep/16_hires.png")||b(e,"src",n)},m(r,i){x(r,e,i)},p:z,d(r){r&&H(e)}}}function AS(t){let e,n;function r(o,l){return o[14]==null?Lz:Nz}let i=r(t),s=i(t);return{c(){e=C("div"),s.c(),n=B(),b(e,"class","card-team svelte-j0re9k"),b(e,"data-card-index",t[16])},m(o,l){x(o,e,l),s.m(e,null),T(e,n)},p(o,l){i===(i=r(o))&&s?s.p(o,l):(s.d(1),s=i(o),s&&(s.c(),s.m(e,n)))},d(o){o&&H(e),s.d()}}}function Vz(t){let e,n,r,i,s,o,l,c,h,g,m,_,v=t[0]&&t[0].collection.length&&wS(t),S=De(t[2]),k=[];for(let I=0;I<S.length;I+=1)k[I]=AS(yS(t,S,I));return{c(){e=C("div"),n=C("div"),v&&v.c(),r=B(),i=C("div"),s=C("h1"),s.textContent="TEAM",o=B(),l=C("div");for(let I=0;I<k.length;I+=1)k[I].c();c=B(),h=C("button"),h.textContent="Save",b(n,"class","team-collection-container svelte-j0re9k"),b(s,"class","svelte-j0re9k"),b(l,"class","sortable svelte-j0re9k"),b(h,"class","team-save svelte-j0re9k"),b(i,"class","team-container svelte-j0re9k"),b(e,"class","center-container svelte-j0re9k")},m(I,R){x(I,e,R),T(e,n),v&&v.m(n,null),T(e,r),T(e,i),T(i,s),T(i,o),T(i,l);for(let M=0;M<k.length;M+=1)k[M]&&k[M].m(l,null);t[10](l),T(i,c),T(i,h),g=!0,m||(_=[g4(Dz.call(null,l,{cursor:"grabbing",zIndex:10})),le(l,"sortable:init",t[3]),le(l,"sortable:destroy",SS),le(l,"sortable:activate",SS),le(l,"sortable:deactivate",qz),le(l,"sort:start",Hz),le(l,"sort:move",Fz),le(l,"sort:stop",xz),le(l,"sortable:over",Uz),le(l,"sortable:out",zz),le(l,"sortable:change",Bz),le(l,"sortable:update",t[4]),le(l,"sortable:remove",Wz),le(l,"sortable:receive",jz),le(h,"click",t[11])],m=!0)},p(I,[R]){if(I[0]&&I[0].collection.length?v?(v.p(I,R),R&1&&j(v,1)):(v=wS(I),v.c(),j(v,1),v.m(n,null)):v&&(Qe(),G(v,1,1,()=>{v=null}),Xe()),R&68){S=De(I[2]);let M;for(M=0;M<S.length;M+=1){const V=yS(I,S,M);k[M]?k[M].p(V,R):(k[M]=AS(V),k[M].c(),k[M].m(l,null))}for(;M<k.length;M+=1)k[M].d(1);k.length=S.length}},i(I){g||(j(v),g=!0)},o(I){G(v),g=!1},d(I){I&&H(e),v&&v.d(),Jt(k,I),t[10](null),m=!1,Kt(_)}}}function SS(){Iz(document.body)}function Hz(){}function Fz(){}function xz(){}function Uz(){}function Bz(){}function Wz(){}function jz(){}function zz(){}function qz(){kz(document.body)}function Gz(t,e,n){Oz(".sortable > div");let r,i,s=[],o=[],l=[null,null,null];Pi(async()=>{const R=sessionStorage.getItem("user");await Yn(JSON.parse(R).uid).then(M=>{M&&(n(0,r=M),n(2,l=(r==null?void 0:r.team)||[null,null,null]))})});function c(){i&&(s=Array.from(i.querySelectorAll(".card-team")))}function h(){s.length===0&&(s=Array.from(i.querySelectorAll(".card-team")));const R=[...l];Array.from(i.querySelectorAll(".card-team")).reduce((V,L,D)=>(L.getAttribute("data-card-index")!==null&&V.push(L),V),[]).forEach((V,L)=>{const D=V.getAttribute("data-card-index");o[L]=R[D]})}const g=R=>{if(l.find(L=>(L==null?void 0:L.id)==R.id)){alert("Card already in team!");return}const V=l.findIndex(L=>L==null);n(2,l[V]=R,l),n(2,l=[...l])},m=R=>{n(2,l[R]=null,l),n(2,l=[...l])},_=async()=>{if(o.includes(null)||l.includes(null)){alert("You need a full team!");return}await ml(r.uid,{...r,team:o.length?o:l}),alert("Team Saved!"),window.location.href="/team"},v=R=>g(R),S=R=>m(R);function k(R){dt[R?"unshift":"push"](()=>{i=R,n(1,i)})}return[r,i,l,c,h,g,m,_,v,S,k,async()=>await _()]}class Kz extends tt{constructor(e){super(),et(this,e,Gz,Vz,Ue,{})}}const ES=[{img:"/assets/images/backgrounds/battlefields/bf1.png"},{img:"/assets/images/backgrounds/battlefields/bf2.webp"},{img:"/assets/images/backgrounds/battlefields/bf3.jpeg"},{img:"/assets/images/backgrounds/battlefields/bf4.jpeg"},{img:"/assets/images/backgrounds/battlefields/bf5.png"}],TS=[{img:"/assets/images/characters/oak.png",name:"Prof. Oak"},{img:"/assets/images/characters/agatha.webp",name:"Agatha"},{img:"/assets/images/characters/blasco.png",name:"Blasco"},{img:"/assets/images/characters/Gary.webp",name:"Gary"},{img:"/assets/images/characters/jessie.png",name:"Jessie"},{img:"/assets/images/characters/james.png",name:"James"},{img:"/assets/images/characters/giovanni.webp",name:"Giovanni"},{img:"/assets/images/characters/lorelei.webp",name:"Lorelei"},{img:"/assets/images/characters/misty.webp",name:"Misty"},{img:"/assets/images/characters/brock.webp",name:"Brock"},{img:"/assets/images/characters/blaine.png",name:"Blaine"}],jc={colorless:{debilidades:["fighting"],fortalezas:[]},fire:{debilidades:["water","rock","fire"],fortalezas:["grass","ice"]},water:{debilidades:["llightning","grass"],fortalezas:["fire","rock"]},grass:{debilidades:["fire","ice","posion","flight","bug"],fortalezas:["water","ground"]},lightning:{debilidades:["ground"],fortalezas:["water"]},fighting:{debilidades:["flight","psychic","fairy"],fortalezas:["colorless","ice","rock"]},rock:{debilidades:["water","grass","fighting","ground","metal"],fortalezas:["fire","ice","flight"]},ice:{debilidades:["fire","fighting","rock","metal"],fortalezas:["grass","ground","flight"]},posion:{debilidades:["ground","psychic"],fortalezas:["grass","fairy"]},flight:{debilidades:["lightning","ice","rock"],fortalezas:["grass","fighting","bug"]},psychic:{debilidades:["bug","ghost","darkness"],fortalezas:["fighting","posion"]},bug:{debilidades:["fire","flight","rock"],fortalezas:["grass","psychic","darkness"]},ghost:{debilidades:["colorless","fighting"],fortalezas:["psychic","ghost"]},darkness:{debilidades:["fighting","bug","fairy"],fortalezas:["psychic","darkness"]},dragon:{debilidades:["ice","dragon","fairy"],fortalezas:["dragon"]},metal:{debilidades:["fire","fighting","ground"],fortalezas:["ice","rock"]},fairy:{debilidades:["posion","metal"],fortalezas:["fighting","bug","dragon"]}};function Yz(t,e){const n=IS(t,e),r=IS(e,t);return{tipo1:n,tipo2:r}}function IS(t,e){if(jc[t]&&jc[e]){const n=jc[e].debilidades,r=jc[e].fortalezas;return n.includes(t)?2:r.includes(t)?.5:1}else return 0}function kS(){return Math.random()<.0625?2:1}function CS(){return Math.random()<.0625?0:1}function PS(t){return parseInt(t.replace(/\D/g,""))}function Qz(t){if(!t||t.length===0)return null;t.sort((i,s)=>s.cost-i.cost);const e=t.reduce((i,s)=>i+s.cost,0),n=Math.random()*e;let r=0;for(const i of t)if(r+=i.cost,n<r)return i;return t[Math.floor(Math.random()*t.length)]}const Xz=(t,e,n,r)=>{const{tipo1:i,tipo2:s}=Yz(t.types[0].toLowerCase(),e.types[0].toLowerCase()),o=[],l=Qz(e.attacks.filter(I=>I.damage!=="")),c=r?0:PS(n.damage),h=PS(l?l.damage:"10"),g=kS(),m=kS(),_=CS(),v=CS(),S=t.hp-h*s*m*_,k=e.hp-c*i*g*v;return!r&&o.push(`${t.name}: ha atacado a ${e.name} con ${n.name} y ha hecho ${c*i*g*v} de daño`),!r&&g===2&&o.push("CRITICO!!!"),!r&&v===0&&o.push("FALLO!!!"),o.push(`${e.name}: ha atacado a ${t.name} con ${l?l.name:"combat"} y ha hecho ${h*s*m*_} de daño`),m===2&&o.push("CRITICO!!!"),_===0&&o.push("FALLO!!!"),{userCardHp:S<0?0:S,pcCardHp:k<0?0:k,message:o}};function RS(t,e,n){const r=t.slice();return r[41]=e[n],r}function DS(t,e,n){const r=t.slice();return r[38]=e[n],r}function OS(t,e,n){const r=t.slice();return r[46]=e[n],r}function MS(t,e,n){const r=t.slice();return r[46]=e[n],r}function NS(t,e,n){const r=t.slice();return r[38]=e[n],r}function $z(t){let e,n,r,i,s,o,l,c,h=t[0].nickname+"",g,m,_,v,S,k,I,R,M,V,L=t[14].name+"",D,W;function q(K,we){return K[5]?nq:tq}let Q=q(t),$=Q(t);return{c(){e=C("div"),n=C("div"),r=C("div"),i=C("div"),s=C("img"),l=B(),c=C("h2"),g=me(h),m=B(),_=C("div"),_.innerHTML='<h2 class="battle-vs svelte-ddlogq">VS</h2>',v=B(),S=C("div"),k=C("div"),I=C("img"),M=B(),V=C("h2"),D=me(L),W=B(),$.c(),b(s,"class","user-photo svelte-ddlogq"),he(s.src,o="data:image/png;base64, "+t[0].photoURL)||b(s,"src",o),b(s,"alt","user profile picture"),b(i,"class","start-battle-user-image svelte-ddlogq"),b(c,"class","svelte-ddlogq"),b(r,"class","start-battle-user-side svelte-ddlogq"),b(_,"class","start-battle svelte-ddlogq"),b(I,"class","pc-photo svelte-ddlogq"),he(I.src,R=t[14].img)||b(I,"src",R),b(I,"alt","pc profile picture"),b(k,"class","start-battle-pc-image svelte-ddlogq"),b(V,"class","svelte-ddlogq"),b(S,"class","start-battle-pc-side svelte-ddlogq"),b(n,"class","start-battle-content svelte-ddlogq"),b(e,"class","start-battle-container svelte-ddlogq"),an(e,"background-image","url("+t[13]+")")},m(K,we){x(K,e,we),T(e,n),T(n,r),T(r,i),T(i,s),T(r,l),T(r,c),T(c,g),T(n,m),T(n,_),T(n,v),T(n,S),T(S,k),T(k,I),T(S,M),T(S,V),T(V,D),T(e,W),$.m(e,null)},p(K,we){we[0]&1&&!he(s.src,o="data:image/png;base64, "+K[0].photoURL)&&b(s,"src",o),we[0]&1&&h!==(h=K[0].nickname+"")&&Ce(g,h),we[0]&16384&&!he(I.src,R=K[14].img)&&b(I,"src",R),we[0]&16384&&L!==(L=K[14].name+"")&&Ce(D,L),Q===(Q=q(K))&&$?$.p(K,we):($.d(1),$=Q(K),$&&($.c(),$.m(e,null))),we[0]&8192&&an(e,"background-image","url("+K[13]+")")},d(K){K&&H(e),$.d()}}}function Jz(t){let e,n,r,i,s,o,l,c,h;function g(D,W){return D[8]?iq:rq}let m=g(t),_=m(t);function v(D,W){return D[7]?oq:sq}let S=v(t),k=S(t),I=De(t[6]),R=[];for(let D=0;D<I.length;D+=1)R[D]=FS(DS(t,I,D));function M(D,W){if(!D[9])return uq;if(!D[10])return cq}let V=M(t),L=V&&V(t);return{c(){e=C("div"),n=C("div"),_.c(),r=B(),i=C("div"),k.c(),s=B(),o=C("div"),l=C("div");for(let D=0;D<R.length;D+=1)R[D].c();c=B(),h=C("div"),L&&L.c(),b(n,"class","pc-side svelte-ddlogq"),b(i,"class","user-side svelte-ddlogq"),b(l,"class","battle-messages svelte-ddlogq"),b(h,"class","battle-buttons svelte-ddlogq"),b(o,"class","battle-actions svelte-ddlogq"),b(e,"class","battlefield svelte-ddlogq"),an(e,"background-image","url("+t[13]+")")},m(D,W){x(D,e,W),T(e,n),_.m(n,null),T(e,r),T(e,i),k.m(i,null),T(e,s),T(e,o),T(o,l);for(let q=0;q<R.length;q+=1)R[q]&&R[q].m(l,null);T(o,c),T(o,h),L&&L.m(h,null)},p(D,W){if(m===(m=g(D))&&_?_.p(D,W):(_.d(1),_=m(D),_&&(_.c(),_.m(n,null))),S===(S=v(D))&&k?k.p(D,W):(k.d(1),k=S(D),k&&(k.c(),k.m(i,null))),W[0]&64){I=De(D[6]);let q;for(q=0;q<I.length;q+=1){const Q=DS(D,I,q);R[q]?R[q].p(Q,W):(R[q]=FS(Q),R[q].c(),R[q].m(l,null))}for(;q<R.length;q+=1)R[q].d(1);R.length=I.length}V===(V=M(D))&&L?L.p(D,W):(L&&L.d(1),L=V&&V(D),L&&(L.c(),L.m(h,null))),W[0]&8192&&an(e,"background-image","url("+D[13]+")")},d(D){D&&H(e),_.d(),k.d(),Jt(R,D),L&&L.d()}}}function Zz(t){let e,n;return{c(){e=C("div"),n=C("p"),n.textContent="Loading...",b(e,"class","battlefield svelte-ddlogq"),an(e,"background-image","url("+t[13]+")")},m(r,i){x(r,e,i),T(e,n)},p(r,i){i[0]&8192&&an(e,"background-image","url("+r[13]+")")},d(r){r&&H(e)}}}function eq(t){let e,n,r,i,s,o,l,c,h,g=t[0].nickname+"",m,_,v,S,k,I,R,M,V,L,D,W=t[14].name+"",q,Q,$=!Fg(),K,we,ue=t[12]?"SORRY, YOU HAVE BEEN DEFEATED, TRY AGAIN!":"CONGRATULATIONS, YOU WON THE BATTLE!",ye,rt,ie,Te,J,Fe,Yt,pt,Ot,Me=$&&dq(t),je=t[11]&&WS();return{c(){e=C("div"),n=C("div"),r=C("div"),i=C("div"),s=C("img"),c=B(),h=C("h2"),m=me(g),_=B(),v=C("div"),v.innerHTML='<h2 class="battle-vs svelte-ddlogq">VS</h2>',S=B(),k=C("div"),I=C("div"),R=C("img"),L=B(),D=C("h2"),q=me(W),Q=B(),Me&&Me.c(),K=B(),we=C("h2"),ye=me(ue),rt=B(),je&&je.c(),ie=B(),Te=C("div"),J=C("div"),J.textContent="Go to battle",Fe=B(),Yt=C("div"),Yt.textContent="Go to Summon",b(s,"class","user-photo svelte-ddlogq"),he(s.src,o="data:image/png;base64, "+t[0].photoURL)||b(s,"src",o),b(s,"alt","user profile picture"),b(i,"class",l="start-battle-user-image "+(t[12]&&"user-defeated")+" svelte-ddlogq"),b(h,"class","svelte-ddlogq"),b(r,"class","start-battle-user-side svelte-ddlogq"),b(v,"class","start-battle svelte-ddlogq"),b(R,"class","pc-photo svelte-ddlogq"),he(R.src,M=t[14].img)||b(R,"src",M),b(R,"alt","pc profile picture"),b(I,"class",V="start-battle-pc-image "+(t[11]&&"user-defeated")+" svelte-ddlogq"),b(D,"class","svelte-ddlogq"),b(k,"class","start-battle-pc-side svelte-ddlogq"),b(n,"class","start-battle-content svelte-ddlogq"),b(we,"class","svelte-ddlogq"),b(J,"class","goto-battle svelte-ddlogq"),b(Yt,"class","goto-summon svelte-ddlogq"),b(Te,"class","final-buttons svelte-ddlogq"),b(e,"class","start-battle-container svelte-ddlogq"),an(e,"background-image","url("+t[13]+")")},m(Ie,de){x(Ie,e,de),T(e,n),T(n,r),T(r,i),T(i,s),T(r,c),T(r,h),T(h,m),T(n,_),T(n,v),T(n,S),T(n,k),T(k,I),T(I,R),T(k,L),T(k,D),T(D,q),T(e,Q),Me&&Me.m(e,null),T(e,K),T(e,we),T(we,ye),T(e,rt),je&&je.m(e,null),T(e,ie),T(e,Te),T(Te,J),T(Te,Fe),T(Te,Yt),pt||(Ot=[le(J,"click",t[22]),le(Yt,"click",t[23])],pt=!0)},p(Ie,de){de[0]&1&&!he(s.src,o="data:image/png;base64, "+Ie[0].photoURL)&&b(s,"src",o),de[0]&4096&&l!==(l="start-battle-user-image "+(Ie[12]&&"user-defeated")+" svelte-ddlogq")&&b(i,"class",l),de[0]&1&&g!==(g=Ie[0].nickname+"")&&Ce(m,g),de[0]&16384&&!he(R.src,M=Ie[14].img)&&b(R,"src",M),de[0]&2048&&V!==(V="start-battle-pc-image "+(Ie[11]&&"user-defeated")+" svelte-ddlogq")&&b(I,"class",V),de[0]&16384&&W!==(W=Ie[14].name+"")&&Ce(q,W),$&&Me.p(Ie,de),de[0]&4096&&ue!==(ue=Ie[12]?"SORRY, YOU HAVE BEEN DEFEATED, TRY AGAIN!":"CONGRATULATIONS, YOU WON THE BATTLE!")&&Ce(ye,ue),Ie[11]?je||(je=WS(),je.c(),je.m(e,ie)):je&&(je.d(1),je=null),de[0]&8192&&an(e,"background-image","url("+Ie[13]+")")},d(Ie){Ie&&H(e),Me&&Me.d(),je&&je.d(),pt=!1,Kt(Ot)}}}function tq(t){let e,n;return{c(){e=C("div"),n=me(t[4]),b(e,"class","start-battle-countdown svelte-ddlogq")},m(r,i){x(r,e,i),T(e,n)},p(r,i){i[0]&16&&Ce(n,r[4])},d(r){r&&H(e)}}}function nq(t){let e,n,r;return{c(){e=C("div"),e.textContent="Start",b(e,"class","start-battle-button svelte-ddlogq")},m(i,s){x(i,e,s),n||(r=le(e,"click",t[29]),n=!0)},p:z,d(i){i&&H(e),n=!1,r()}}}function rq(t){let e;return{c(){e=C("p"),e.textContent="loading..."},m(n,r){x(n,e,r)},p:z,d(n){n&&H(e)}}}function iq(t){let e,n,r,i,s,o,l,c=t[14].name+"",h,g,m,_,v,S,k,I,R,M,V,L=t[8].hp+"",D,W=De(t[2]),q=[];for(let Q=0;Q<W.length;Q+=1)q[Q]=LS(MS(t,W,Q));return{c(){e=C("div"),n=C("div"),r=C("div"),i=C("img"),o=B(),l=C("h2"),h=me(c),g=me(" Team"),m=B(),_=C("div");for(let Q=0;Q<q.length;Q+=1)q[Q].c();v=B(),S=C("div"),k=C("img"),R=B(),M=C("p"),V=me("HP: "),D=me(L),b(i,"class","pc-photo-team-img svelte-ddlogq"),he(i.src,s=t[14].img)||b(i,"src",s),b(i,"alt","pc profile picture"),b(r,"class","pc-photo-team svelte-ddlogq"),b(l,"class","svelte-ddlogq"),b(n,"class","pc-team-description svelte-ddlogq"),b(_,"class","pc-team svelte-ddlogq"),b(e,"class","pc-team-container svelte-ddlogq"),he(k.src,I="https://images.pokemontcg.io/"+t[8].set.toLowerCase()+"/"+t[8].number+"_hires.png")||b(k,"src",I),b(k,"class","svelte-ddlogq"),b(S,"class","pc-card-in-battle svelte-ddlogq")},m(Q,$){x(Q,e,$),T(e,n),T(n,r),T(r,i),T(n,o),T(n,l),T(l,h),T(l,g),T(e,m),T(e,_);for(let K=0;K<q.length;K+=1)q[K]&&q[K].m(_,null);x(Q,v,$),x(Q,S,$),T(S,k),T(S,R),T(S,M),T(M,V),T(M,D)},p(Q,$){if($[0]&16384&&!he(i.src,s=Q[14].img)&&b(i,"src",s),$[0]&16384&&c!==(c=Q[14].name+"")&&Ce(h,c),$[0]&98564){W=De(Q[2]);let K;for(K=0;K<W.length;K+=1){const we=MS(Q,W,K);q[K]?q[K].p(we,$):(q[K]=LS(we),q[K].c(),q[K].m(_,null))}for(;K<q.length;K+=1)q[K].d(1);q.length=W.length}$[0]&256&&!he(k.src,I="https://images.pokemontcg.io/"+Q[8].set.toLowerCase()+"/"+Q[8].number+"_hires.png")&&b(k,"src",I),$[0]&256&&L!==(L=Q[8].hp+"")&&Ce(D,L)},d(Q){Q&&(H(e),H(v),H(S)),Jt(q,Q)}}}function LS(t){let e,n,r;return{c(){e=C("img"),b(e,"class",n="pc-team-card "+t[15](t[46],t[8])+" "+t[16](t[46])+" svelte-ddlogq"),he(e.src,r="https://images.pokemontcg.io/"+t[46].set.toLowerCase()+"/"+t[46].number+"_hires.png")||b(e,"src",r)},m(i,s){x(i,e,s)},p(i,s){s[0]&260&&n!==(n="pc-team-card "+i[15](i[46],i[8])+" "+i[16](i[46])+" svelte-ddlogq")&&b(e,"class",n),s[0]&4&&!he(e.src,r="https://images.pokemontcg.io/"+i[46].set.toLowerCase()+"/"+i[46].number+"_hires.png")&&b(e,"src",r)},d(i){i&&H(e)}}}function sq(t){let e;return{c(){e=C("p"),e.textContent="loading..."},m(n,r){x(n,e,r)},p:z,d(n){n&&H(e)}}}function oq(t){let e,n,r,i,s,o,l=t[7].hp+"",c,h,g,m,_,v,S,k,I,R=t[0].nickname+"",M,V,L,D,W=De(t[1]),q=[];for(let Q=0;Q<W.length;Q+=1)q[Q]=VS(OS(t,W,Q));return{c(){e=C("div"),n=C("img"),i=B(),s=C("p"),o=me("HP: "),c=me(l),h=B(),g=C("div"),m=C("div"),_=C("div"),v=C("img"),k=B(),I=C("h2"),M=me(R),V=me(" Team"),L=B(),D=C("div");for(let Q=0;Q<q.length;Q+=1)q[Q].c();he(n.src,r="https://images.pokemontcg.io/"+t[7].set.toLowerCase()+"/"+t[7].number+"_hires.png")||b(n,"src",r),b(n,"class","svelte-ddlogq"),b(e,"class","user-card-in-battle svelte-ddlogq"),b(v,"class","user-photo-team-img svelte-ddlogq"),he(v.src,S="data:image/png;base64, "+t[0].photoURL)||b(v,"src",S),b(v,"alt","user profile picture"),b(_,"class","user-photo-team svelte-ddlogq"),b(I,"class","svelte-ddlogq"),b(m,"class","user-team-description svelte-ddlogq"),b(D,"class","user-team svelte-ddlogq"),b(g,"class","user-team-container svelte-ddlogq")},m(Q,$){x(Q,e,$),T(e,n),T(e,i),T(e,s),T(s,o),T(s,c),x(Q,h,$),x(Q,g,$),T(g,m),T(m,_),T(_,v),T(m,k),T(m,I),T(I,M),T(I,V),T(g,L),T(g,D);for(let K=0;K<q.length;K+=1)q[K]&&q[K].m(D,null)},p(Q,$){if($[0]&128&&!he(n.src,r="https://images.pokemontcg.io/"+Q[7].set.toLowerCase()+"/"+Q[7].number+"_hires.png")&&b(n,"src",r),$[0]&128&&l!==(l=Q[7].hp+"")&&Ce(c,l),$[0]&1&&!he(v.src,S="data:image/png;base64, "+Q[0].photoURL)&&b(v,"src",S),$[0]&1&&R!==(R=Q[0].nickname+"")&&Ce(M,R),$[0]&1147522){W=De(Q[1]);let K;for(K=0;K<W.length;K+=1){const we=OS(Q,W,K);q[K]?q[K].p(we,$):(q[K]=VS(we),q[K].c(),q[K].m(D,null))}for(;K<q.length;K+=1)q[K].d(1);q.length=W.length}},d(Q){Q&&(H(e),H(h),H(g)),Jt(q,Q)}}}function aq(t){let e,n,r;return{c(){e=C("img"),b(e,"class",n="user-team-card "+t[15](t[46],t[7])+" "+t[16](t[46])+" svelte-ddlogq"),he(e.src,r="https://images.pokemontcg.io/"+t[46].set.toLowerCase()+"/"+t[46].number+"_hires.png")||b(e,"src",r)},m(i,s){x(i,e,s)},p(i,s){s[0]&130&&n!==(n="user-team-card "+i[15](i[46],i[7])+" "+i[16](i[46])+" svelte-ddlogq")&&b(e,"class",n),s[0]&2&&!he(e.src,r="https://images.pokemontcg.io/"+i[46].set.toLowerCase()+"/"+i[46].number+"_hires.png")&&b(e,"src",r)},d(i){i&&H(e)}}}function lq(t){let e,n,r,i,s;function o(){return t[24](t[46])}return{c(){e=C("img"),an(e,"cursor","pointer"),b(e,"class",n="user-team-card "+t[15](t[46],t[7])+" svelte-ddlogq"),he(e.src,r="https://images.pokemontcg.io/"+t[46].set.toLowerCase()+"/"+t[46].number+"_hires.png")||b(e,"src",r)},m(l,c){x(l,e,c),i||(s=le(e,"click",o),i=!0)},p(l,c){t=l,c[0]&130&&n!==(n="user-team-card "+t[15](t[46],t[7])+" svelte-ddlogq")&&b(e,"class",n),c[0]&2&&!he(e.src,r="https://images.pokemontcg.io/"+t[46].set.toLowerCase()+"/"+t[46].number+"_hires.png")&&b(e,"src",r)},d(l){l&&H(e),i=!1,s()}}}function VS(t){let e;function n(s,o){return s[9]&&s[46].id!==s[7].id&&s[46].hp>0?lq:aq}let r=n(t),i=r(t);return{c(){i.c(),e=He()},m(s,o){i.m(s,o),x(s,e,o)},p(s,o){r===(r=n(s))&&i?i.p(s,o):(i.d(1),i=r(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){s&&H(e),i.d(s)}}}function HS(t){let e,n=t[38]+"",r,i;return{c(){e=C("p"),r=me(n),i=C("br")},m(s,o){x(s,e,o),T(e,r),x(s,i,o)},p(s,o){o[0]&64&&n!==(n=s[38]+"")&&Ce(r,n)},d(s){s&&(H(e),H(i))}}}function FS(t){let e,n=t[38]!==","&&t[38]!==void 0&&t[38]!==""&&HS(t);return{c(){n&&n.c(),e=He()},m(r,i){n&&n.m(r,i),x(r,e,i)},p(r,i){r[38]!==","&&r[38]!==void 0&&r[38]!==""?n?n.p(r,i):(n=HS(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(r){r&&H(e),n&&n.d(r)}}}function cq(t){let e,n,r;return{c(){e=C("div"),e.textContent="Back",b(e,"class","batte-action-back svelte-ddlogq")},m(i,s){x(i,e,s),n||(r=le(e,"click",t[28]),n=!0)},p:z,d(i){i&&H(e),n=!1,r()}}}function uq(t){let e,n,r,i,s,o,l,c,h=De(t[7].attacks),g=[];for(let m=0;m<h.length;m+=1)g[m]=xS(RS(t,h,m));return{c(){e=C("div");for(let m=0;m<g.length;m+=1)g[m].c();n=B(),r=C("div"),i=C("div"),i.textContent="Change",s=B(),o=C("div"),o.innerHTML='Heal (-2<img class="small-coin svelte-ddlogq" src="/assets/images/logos/pokecoin.png"/>)',b(e,"class","battle-buttons-attack svelte-ddlogq"),b(i,"class","batte-action-change svelte-ddlogq"),b(o,"class","batte-action-heal svelte-ddlogq"),b(r,"class","battle-buttons-support svelte-ddlogq")},m(m,_){x(m,e,_);for(let v=0;v<g.length;v+=1)g[v]&&g[v].m(e,null);x(m,n,_),x(m,r,_),T(r,i),T(r,s),T(r,o),l||(c=[le(i,"click",t[26]),le(o,"click",t[27])],l=!0)},p(m,_){if(_[0]&262272){h=De(m[7].attacks);let v;for(v=0;v<h.length;v+=1){const S=RS(m,h,v);g[v]?g[v].p(S,_):(g[v]=xS(S),g[v].c(),g[v].m(e,null))}for(;v<g.length;v+=1)g[v].d(1);g.length=h.length}},d(m){m&&(H(e),H(n),H(r)),Jt(g,m),l=!1,Kt(c)}}}function hq(t){let e,n=t[41].name+"",r,i,s;function o(){return t[25](t[41])}return{c(){e=C("div"),r=me(n),b(e,"class","batte-action-attack svelte-ddlogq")},m(l,c){x(l,e,c),T(e,r),i||(s=le(e,"click",o),i=!0)},p(l,c){t=l,c[0]&128&&n!==(n=t[41].name+"")&&Ce(r,n)},d(l){l&&H(e),i=!1,s()}}}function fq(t){let e,n=t[41].convertedEnergyCost+"",r;return{c(){e=C("div"),r=me(n),b(e,"class","battle-action-attack-disabled svelte-ddlogq")},m(i,s){x(i,e,s),T(e,r)},p(i,s){s[0]&128&&n!==(n=i[41].convertedEnergyCost+"")&&Ce(r,n)},d(i){i&&H(e)}}}function xS(t){let e;function n(s,o){return s[41].damage!==""&&s[41]!==s[7].attacks[0]&&s[41].convertedEnergyCost>0?fq:hq}let r=n(t),i=r(t);return{c(){i.c(),e=He()},m(s,o){i.m(s,o),x(s,e,o)},p(s,o){r===(r=n(s))&&i?i.p(s,o):(i.d(1),i=r(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){s&&H(e),i.d(s)}}}function dq(t){let e,n=De(t[6]),r=[];for(let i=0;i<n.length;i+=1)r[i]=BS(NS(t,n,i));return{c(){e=C("div");for(let i=0;i<r.length;i+=1)r[i].c();b(e,"class","battle-messages svelte-ddlogq")},m(i,s){x(i,e,s);for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(e,null)},p(i,s){if(s[0]&64){n=De(i[6]);let o;for(o=0;o<n.length;o+=1){const l=NS(i,n,o);r[o]?r[o].p(l,s):(r[o]=BS(l),r[o].c(),r[o].m(e,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(i){i&&H(e),Jt(r,i)}}}function US(t){let e,n=t[38]+"",r,i;return{c(){e=C("p"),r=me(n),i=C("br")},m(s,o){x(s,e,o),T(e,r),x(s,i,o)},p(s,o){o[0]&64&&n!==(n=s[38]+"")&&Ce(r,n)},d(s){s&&(H(e),H(i))}}}function BS(t){let e,n=t[38]!==","&&t[38]!==void 0&&t[38]!==""&&US(t);return{c(){n&&n.c(),e=He()},m(r,i){n&&n.m(r,i),x(r,e,i)},p(r,i){r[38]!==","&&r[38]!==void 0&&r[38]!==""?n?n.p(r,i):(n=US(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(r){r&&H(e),n&&n.d(r)}}}function WS(t){let e;return{c(){e=C("div"),e.innerHTML='<h2 class="svelte-ddlogq">+10</h2><img class="coin svelte-ddlogq" src="/assets/images/logos/pokecoin.png"/>',b(e,"class","money-earned svelte-ddlogq")},m(n,r){x(n,e,r)},d(n){n&&H(e)}}}function pq(t){let e;function n(s,o){if(s[12]||s[11])return eq;if(s[3]&&(!s[8]||!s[7]))return Zz;if(s[3])return Jz;if(s[0])return $z}let r=n(t),i=r&&r(t);return{c(){i&&i.c(),e=He()},m(s,o){i&&i.m(s,o),x(s,e,o)},p(s,o){r===(r=n(s))&&i?i.p(s,o):(i&&i.d(1),i=r&&r(s),i&&(i.c(),i.m(e.parentNode,e)))},i:z,o:z,d(s){s&&H(e),i&&i.d(s)}}}function gq(t,e,n){let r,i,s,o,l,c=!1,h=3,g=!0,m=["Start the battle!"],_,v,S=!1,k=!1,I=!1,R=!1,M,V=[],L,D;const W=async de=>{de.scroll({top:de.scrollHeight,behavior:"smooth"})};Pi(async()=>{n(14,D=K()),n(13,M=q());const de=sessionStorage.getItem("user");await Yn(JSON.parse(de).uid).then(Ve=>{Ve&&(n(0,r=Ve),n(1,i=[...r==null?void 0:r.team]),i.forEach(ze=>{ze.attacks=ze.attacks.filter(xt=>xt.damage!==""),V.push(ze.hp)}),L=r.money,s=i[0],n(7,_=s))}),await k2().then(Ve=>{n(2,o=Ve),l=o[0],n(8,v=l)})});const q=()=>ES[Math.floor(Math.random()*ES.length)].img,Q=(de,Ve)=>de.id===(Ve==null?void 0:Ve.id)?"card-in-battle":"",$=de=>de.hp<=0?"card-defeated":"",K=()=>TS[Math.floor(Math.random()*TS.length)],we=()=>{n(5,g=!1);const de=setInterval(()=>{n(4,h--,h),h===0&&(clearInterval(de),n(3,c=!0))},1e3)},ue=async(de,Ve=!1)=>{const{userCardHp:ze,pcCardHp:xt,message:Bt}=Xz(_,v,de,Ve);if(n(7,_.hp=ze,_),n(8,v.hp=xt,v),Ve||(de===_.attacks[0]?_.attacks.forEach(mt=>{mt.convertedEnergyCost=mt.convertedEnergyCost-1}):_.attacks.forEach(mt=>{mt.convertedEnergyCost=mt.cost.length})),n(6,m=[...m,Bt].flat(1)),await Dr(),await W(document.querySelector(".battle-messages")),ze<=0&&(n(6,m=[...m,`${_.name} was defeated!`].flat(1)),n(6,m=[...m,"Choose another pokemon!"].flat(1)),await Dr(),await W(document.querySelector(".battle-messages")),ie()),xt<=0){if(o.every(at=>at.hp<=0)&&!R){n(6,m=[...m,"You won!"].flat(1)),n(11,I=!0),await Dr(),await W(document.querySelector(".battle-messages")),L=L+10,await ml(r.uid,{money:L});return}n(6,m=[...m,`${v.name} was defeated!`].flat(1)),await Dr(),await W(document.querySelector(".battle-messages"));const mt=o.filter(at=>at.hp>0);n(8,v=mt[Math.floor(Math.random()*mt.length)]),n(6,m=[...m,`${v.name} entered the battle!`].flat(1)),await Dr(),await W(document.querySelector(".battle-messages"))}},ye=async()=>{n(6,m=[...m,"Change your card!"].flat(1)),await Dr(),await W(document.querySelector(".battle-messages")),n(9,S=!0)},rt=async de=>{n(7,_=de),n(6,m=[...m,"Card changed!"].flat(1)),await Dr(),await W(document.querySelector(".battle-messages")),n(9,S=!1),k||await ue(de.attacks[0],!0),n(10,k=!1)},ie=async()=>{if(i.every(de=>de.hp<=0)){n(6,m=[...m,"You lost!"].flat(1)),n(11,I=!1),n(12,R=!0),await Dr(),await W(document.querySelector(".battle-messages"));return}n(9,S=!0),n(10,k=!0)},Te=async()=>{r.money>2?(L=L-2,await ml(r.uid,{money:L}),n(7,_.hp=_.hp+20>V[i.indexOf(_)]?V[i.indexOf(_)]:_.hp+20,_),n(6,m=[...m,`${_.name} healed 20 HP!`].flat(1)),await Dr(),await W(document.querySelector(".battle-messages"))):(n(6,m=[...m,"You don't have enough money!"].flat(1)),await Dr(),await W(document.querySelector(".battle-messages")))};return[r,i,o,c,h,g,m,_,v,S,k,I,R,M,D,Q,$,we,ue,ye,rt,Te,()=>window.location.reload(),()=>window.location.href="/summon",de=>{rt(de)},de=>ue(de),()=>ye(),()=>Te(),()=>n(9,S=!1),()=>we()]}class mq extends tt{constructor(e){super(),et(this,e,gq,pq,Ue,{},null,[-1,-1])}}function jS(t,e,n){const r=t.slice();return r[1]=e[n],r[3]=n,r}function zS(t){let e,n;return e=new Ch({props:{$$slots:{default:[vq]},$$scope:{ctx:t}}}),{c(){ae(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p(r,i){const s={};i&17&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function qS(t,e){let n,r,i;return r=new Rh({props:{id:e[1].id,name:e[1].name,set:e[1].set,number:e[1].number,types:e[1].types,supertype:e[1].supertype,subtypes:e[1].subtypes,rarity:e[1].rarity,isReverse:e[1].isReverse}}),{key:t,first:null,c(){n=He(),ae(r.$$.fragment),this.first=n},m(s,o){x(s,n,o),se(r,s,o),i=!0},p(s,o){e=s;const l={};o&1&&(l.id=e[1].id),o&1&&(l.name=e[1].name),o&1&&(l.set=e[1].set),o&1&&(l.number=e[1].number),o&1&&(l.types=e[1].types),o&1&&(l.supertype=e[1].supertype),o&1&&(l.subtypes=e[1].subtypes),o&1&&(l.rarity=e[1].rarity),o&1&&(l.isReverse=e[1].isReverse),r.$set(l)},i(s){i||(j(r.$$.fragment,s),i=!0)},o(s){G(r.$$.fragment,s),i=!1},d(s){s&&H(n),oe(r,s)}}}function vq(t){let e=[],n=new Map,r,i,s=De(t[0].collection);const o=l=>l[1].id;for(let l=0;l<s.length;l+=1){let c=jS(t,s,l),h=o(c);n.set(h,e[l]=qS(h,c))}return{c(){for(let l=0;l<e.length;l+=1)e[l].c();r=He()},m(l,c){for(let h=0;h<e.length;h+=1)e[h]&&e[h].m(l,c);x(l,r,c),i=!0},p(l,c){c&1&&(s=De(l[0].collection),Qe(),e=Bu(e,c,o,1,l,s,n,r.parentNode,qg,qS,r,jS),Xe())},i(l){if(!i){for(let c=0;c<s.length;c+=1)j(e[c]);i=!0}},o(l){for(let c=0;c<e.length;c+=1)G(e[c]);i=!1},d(l){l&&H(r);for(let c=0;c<e.length;c+=1)e[c].d(l)}}}function yq(t){let e,n,r=t[0]&&t[0].collection.length&&zS(t);return{c(){r&&r.c(),e=He()},m(i,s){r&&r.m(i,s),x(i,e,s),n=!0},p(i,[s]){i[0]&&i[0].collection.length?r?(r.p(i,s),s&1&&j(r,1)):(r=zS(i),r.c(),j(r,1),r.m(e.parentNode,e)):r&&(Qe(),G(r,1,1,()=>{r=null}),Xe())},i(i){n||(j(r),n=!0)},o(i){G(r),n=!1},d(i){i&&H(e),r&&r.d(i)}}}function _q(t,e,n){let r;return Pi(async()=>{const i=sessionStorage.getItem("user");await Yn(JSON.parse(i).uid).then(s=>{s&&n(0,r=s)})}),[r]}class wq extends tt{constructor(e){super(),et(this,e,_q,yq,Ue,{})}}const GS=[{name:"Standard",banner:"/assets/images/balls/Poke_Ball.webp",price:100,class:"pokeball"},{name:"Super",banner:"/assets/images/balls/Super_Ball.webp",price:200,class:"superball"},{name:"Ultra",banner:"/assets/images/balls/Ultra_Ball.webp",price:500,class:"ultraball"}];function KS(t,e,n){const r=t.slice();return r[17]=e[n],r}function bq(t){let e,n,r,i,s,o,l,c,h,g,m=t[5]?"Seems like it's opening...":"Press the pokeball to free the pokemon",_,v,S;return{c(){e=C("div"),n=C("div"),r=B(),i=C("div"),s=C("div"),o=B(),l=C("div"),h=B(),g=C("div"),_=me(m),b(n,"class","shadow svelte-6h5msh"),zt(n,"shadow-effect",t[5]),b(s,"class","reflect svelte-6h5msh"),b(l,"class","button svelte-6h5msh"),b(i,"class",c=W1(t[6])+" svelte-6h5msh"),zt(i,"rotate-effect",t[5]),b(g,"class","summon-info svelte-6h5msh"),b(e,"class","pokeball-animation svelte-6h5msh")},m(k,I){x(k,e,I),T(e,n),T(e,r),T(e,i),T(i,s),T(i,o),T(i,l),T(e,h),T(e,g),T(g,_),v||(S=le(i,"click",t[13]),v=!0)},p(k,I){I&32&&zt(n,"shadow-effect",k[5]),I&64&&c!==(c=W1(k[6])+" svelte-6h5msh")&&b(i,"class",c),I&96&&zt(i,"rotate-effect",k[5]),I&32&&m!==(m=k[5]?"Seems like it's opening...":"Press the pokeball to free the pokemon")&&Ce(_,m)},i:z,o:z,d(k){k&&H(e),v=!1,S()}}}function Aq(t){let e,n,r,i,s,o,l,c;return n=new Rh({props:{id:t[3].id,name:t[3].name,set:t[3].set,number:t[3].number,types:t[3].types,supertype:t[3].supertype,subtypes:t[3].subtypes,rarity:t[3].rarity,isReverse:t[3].isReverse}}),{c(){e=C("div"),ae(n.$$.fragment),r=B(),i=C("div"),s=C("button"),s.textContent="Catch it!",b(s,"class","svelte-6h5msh"),b(i,"class","summon-button-container svelte-6h5msh"),b(e,"class","summon-container svelte-6h5msh")},m(h,g){x(h,e,g),se(n,e,null),T(e,r),T(e,i),T(i,s),o=!0,l||(c=le(s,"click",t[12]),l=!0)},p(h,g){const m={};g&8&&(m.id=h[3].id),g&8&&(m.name=h[3].name),g&8&&(m.set=h[3].set),g&8&&(m.number=h[3].number),g&8&&(m.types=h[3].types),g&8&&(m.supertype=h[3].supertype),g&8&&(m.subtypes=h[3].subtypes),g&8&&(m.rarity=h[3].rarity),g&8&&(m.isReverse=h[3].isReverse),n.$set(m)},i(h){o||(j(n.$$.fragment,h),o=!0)},o(h){G(n.$$.fragment,h),o=!1},d(h){h&&H(e),oe(n),l=!1,c()}}}function Sq(t){let e,n,r,i,s=De(GS),o=[];for(let l=0;l<s.length;l+=1)o[l]=YS(KS(t,s,l));return{c(){e=C("div"),n=C("div"),n.innerHTML="<h1>Summon a pokemon</h1> <p>Choose a summon type</p>",r=B(),i=C("div");for(let l=0;l<o.length;l+=1)o[l].c();b(n,"class","summon-title svelte-6h5msh"),b(i,"class","summon-types svelte-6h5msh"),b(e,"class","summon-container svelte-6h5msh")},m(l,c){x(l,e,c),T(e,n),T(e,r),T(e,i);for(let h=0;h<o.length;h+=1)o[h]&&o[h].m(i,null)},p(l,c){if(c&1024){s=De(GS);let h;for(h=0;h<s.length;h+=1){const g=KS(l,s,h);o[h]?o[h].p(g,c):(o[h]=YS(g),o[h].c(),o[h].m(i,null))}for(;h<o.length;h+=1)o[h].d(1);o.length=s.length}},i:z,o:z,d(l){l&&H(e),Jt(o,l)}}}function YS(t){let e,n,r,i,s,o,l=t[17].price+"",c,h,g,m,_,v,S,k,I;function R(){return t[11](t[17])}return{c(){e=C("div"),n=C("div"),r=C("div"),i=C("img"),o=B(),c=me(l),h=B(),g=C("img"),_=B(),v=C("div"),v.textContent=`${t[17].name}`,S=B(),b(i,"class","coin svelte-6h5msh"),he(i.src,s="/assets/images/logos/pokecoin.png")||b(i,"src",s),b(r,"class","summon-type-price svelte-6h5msh"),he(g.src,m=t[17].banner)||b(g,"src",m),b(g,"alt",t[17].name),b(g,"width","200px"),b(g,"class","svelte-6h5msh"),b(n,"class","summon-type-image svelte-6h5msh"),b(v,"class","summon-type-name svelte-6h5msh"),b(e,"class","summon-type svelte-6h5msh")},m(M,V){x(M,e,V),T(e,n),T(n,r),T(r,i),T(r,o),T(r,c),T(n,h),T(n,g),T(e,_),T(e,v),T(e,S),k||(I=le(e,"click",R),k=!0)},p(M,V){t=M},d(M){M&&H(e),k=!1,I()}}}function QS(t){let e,n,r,i,s;return{c(){e=C("div"),n=C("img"),i=B(),s=me(t[7]),b(n,"class","coin svelte-6h5msh"),he(n.src,r="/assets/images/logos/pokecoin.png")||b(n,"src",r),b(e,"class","currency svelte-6h5msh")},m(o,l){x(o,e,l),T(e,n),T(e,i),T(e,s)},p(o,l){l&128&&Ce(s,o[7])},d(o){o&&H(e)}}}function Eq(t){let e,n,r,i,s;const o=[Sq,Aq,bq],l=[];function c(g,m){return!g[4]&&!g[2]?0:g[2]?1:g[4]&&!g[2]?2:-1}~(e=c(t))&&(n=l[e]=o[e](t));let h=t[0]&&QS(t);return{c(){n&&n.c(),r=B(),h&&h.c(),i=He()},m(g,m){~e&&l[e].m(g,m),x(g,r,m),h&&h.m(g,m),x(g,i,m),s=!0},p(g,[m]){let _=e;e=c(g),e===_?~e&&l[e].p(g,m):(n&&(Qe(),G(l[_],1,1,()=>{l[_]=null}),Xe()),~e?(n=l[e],n?n.p(g,m):(n=l[e]=o[e](g),n.c()),j(n,1),n.m(r.parentNode,r)):n=null),g[0]?h?h.p(g,m):(h=QS(g),h.c(),h.m(i.parentNode,i)):h&&(h.d(1),h=null)},i(g){s||(j(n),s=!0)},o(g){G(n),s=!1},d(g){g&&(H(r),H(i)),~e&&l[e].d(g),h&&h.d(g)}}}function Tq(t,e,n){let r,i,s=!1,o=!1,l,c=!1,h=!1,g="pokeball",m,_;Pi(async()=>{const L=sessionStorage.getItem("user");await Yn(JSON.parse(L).uid).then(D=>{D&&(n(0,i=D),n(7,m=D.money))})});const v=()=>{n(5,h=!0)},S=async()=>{n(1,s=!0),r=new Audio("/assets/audio/evolution-process.mp3"),await r.play(),v();const L=performance.now();for(;!l;)await I2().then(W=>{n(3,l=W)});const D=sessionStorage.getItem("user");for(await Yn(JSON.parse(D).uid).then(W=>{W&&n(0,i=W)}),n(7,m-=_.price),await ml(i.uid,{...i,collection:[...i.collection,l],money:m});performance.now()-L<4e3;)await new Promise(W=>setTimeout(W,100));n(2,o=!0),r.pause(),r.currentTime=0,r=new Audio("/assets/audio/pokemon-evolve.mp3"),await r.play()},k=()=>{n(1,s=!1),n(2,o=!1),n(4,c=!1),n(5,h=!1),n(3,l=null)},I=L=>{m>=L.price&&(_=L,n(6,g=L.class),n(4,c=!0))};return[i,s,o,l,c,h,g,m,S,k,I,L=>{I(L)},()=>k(),async()=>{s||await S()}]}class Iq extends tt{constructor(e){super(),et(this,e,Tq,Eq,Ue,{})}}function kq(t){let e;return{c(){e=C("div"),e.textContent="Coming Soon...",b(e,"class","coming-soon svelte-piyyfe")},m(n,r){x(n,e,r)},p:z,i:z,o:z,d(n){n&&H(e)}}}class O2 extends tt{constructor(e){super(),et(this,e,null,kq,Ue,{})}}function XS(t){let e;const n=t[2].default,r=Ro(n,t,t[1],null);return{c(){r&&r.c()},m(i,s){r&&r.m(i,s),e=!0},p(i,s){r&&r.p&&(!e||s&2)&&Oo(r,n,i,i[1],e?Do(n,i[1],s,null):Mo(i[1]),null)},i(i){e||(j(r,i),e=!0)},o(i){G(r,i),e=!1},d(i){r&&r.d(i)}}}function Cq(t){let e,n,r=t[0]&&XS(t);return{c(){r&&r.c(),e=He()},m(i,s){r&&r.m(i,s),x(i,e,s),n=!0},p(i,[s]){i[0]?r?(r.p(i,s),s&1&&j(r,1)):(r=XS(i),r.c(),j(r,1),r.m(e.parentNode,e)):r&&(Qe(),G(r,1,1,()=>{r=null}),Xe())},i(i){n||(j(r),n=!0)},o(i){G(r),n=!1},d(i){i&&H(e),r&&r.d(i)}}}function Pq(t,e,n){let r,{$$slots:i={},$$scope:s}=e;return t.$$set=o=>{"$$scope"in o&&n(1,s=o.$$scope)},t.$$.update=()=>{t.$$.dirty&1&&(r||(window.location.href="/"))},n(0,r=sessionStorage.getItem("user")),[r,s,i]}class Ni extends tt{constructor(e){super(),et(this,e,Pq,Cq,Ue,{})}}function Rq(t){let e,n,r,i;return{c(){e=C("div"),n=C("button"),n.innerHTML='<svg width="32" height="24" class="svelte-1cwhwyg"><line id="top" x1="8" y1="7" x2="24" y2="7" class="svelte-1cwhwyg"></line><line id="middle" x1="8" y1="12" x2="24" y2="12" class="svelte-1cwhwyg"></line><line id="bottom" x1="8" y1="17" x2="24" y2="17" class="svelte-1cwhwyg"></line></svg>',b(n,"class","text-gray-500 hover:text-gray-700 cursor-pointer mr-4 border-none focus:outline-none svelte-1cwhwyg"),zt(n,"open",t[0]),b(e,"class","button-wrapper")},m(s,o){x(s,e,o),T(e,n),r||(i=le(n,"click",t[1]),r=!0)},p(s,[o]){o&1&&zt(n,"open",s[0])},i:z,o:z,d(s){s&&H(e),r=!1,i()}}}function Dq(t,e,n){let{open:r=!1}=e;const i=()=>n(0,r=!r);return t.$$set=s=>{"open"in s&&n(0,r=s.open)},[r,i]}class Oq extends tt{constructor(e){super(),et(this,e,Dq,Rq,Ue,{open:0})}}function Mq(t){let e,n,r;function i(o){t[1](o)}let s={};return t[0]!==void 0&&(s.open=t[0]),e=new Oq({props:s}),dt.push(()=>Dt(e,"open",i)),{c(){ae(e.$$.fragment)},m(o,l){se(e,o,l),r=!0},p(o,[l]){const c={};!n&&l&1&&(n=!0,c.open=o[0],Rt(()=>n=!1)),e.$set(c)},i(o){r||(j(e.$$.fragment,o),r=!0)},o(o){G(e.$$.fragment,o),r=!1},d(o){oe(e,o)}}}function Nq(t,e,n){let{sidebar:r=!1}=e;function i(s){r=s,n(0,r)}return t.$$set=s=>{"sidebar"in s&&n(0,r=s.sidebar)},[r,i]}class Li extends tt{constructor(e){super(),et(this,e,Nq,Mq,Ue,{sidebar:0})}}function $S(t){let e,n,r,i,s,o=t[1].nickname+"",l,c,h,g,m=t[1].email+"",_,v,S,k,I=t[1]&&JS(t);return{c(){e=C("div"),n=C("img"),i=B(),s=C("h1"),l=me(o),c=B(),h=C("h2"),g=me("("),_=me(m),v=me(")"),S=B(),I&&I.c(),k=He(),b(n,"class","user-photo svelte-49y89j"),he(n.src,r="data:image/png;base64, "+t[1].photoURL)||b(n,"src",r),b(n,"alt","user profile picture"),b(e,"class","profile-frame svelte-49y89j"),b(s,"class","user-name svelte-49y89j"),b(h,"class","user-email svelte-49y89j")},m(R,M){x(R,e,M),T(e,n),x(R,i,M),x(R,s,M),T(s,l),x(R,c,M),x(R,h,M),T(h,g),T(h,_),T(h,v),x(R,S,M),I&&I.m(R,M),x(R,k,M)},p(R,M){M&2&&!he(n.src,r="data:image/png;base64, "+R[1].photoURL)&&b(n,"src",r),M&2&&o!==(o=R[1].nickname+"")&&Ce(l,o),M&2&&m!==(m=R[1].email+"")&&Ce(_,m),R[1]?I?I.p(R,M):(I=JS(R),I.c(),I.m(k.parentNode,k)):I&&(I.d(1),I=null)},d(R){R&&(H(e),H(i),H(s),H(c),H(h),H(S),H(k)),I&&I.d(R)}}}function JS(t){let e,n,r,i,s=t[1].money+"",o;return{c(){e=C("div"),n=C("img"),i=B(),o=me(s),b(n,"class","coin svelte-49y89j"),he(n.src,r="/assets/images/logos/pokecoin.png")||b(n,"src",r),b(e,"class","currency svelte-49y89j")},m(l,c){x(l,e,c),T(e,n),T(e,i),T(e,o)},p(l,c){c&2&&s!==(s=l[1].money+"")&&Ce(o,s)},d(l){l&&H(e)}}}function Lq(t){let e,n,r,i,s,o,l,c,h,g,m,_,v,S,k,I,R,M,V,L,D,W,q=t[1]&&$S(t);return{c(){e=C("aside"),n=C("nav"),q&&q.c(),r=B(),i=C("button"),i.textContent="Pokedex",s=B(),o=C("button"),o.textContent="Profile",l=B(),c=C("button"),c.textContent="Badges",h=B(),g=C("button"),g.textContent="Team",m=B(),_=C("button"),_.textContent="Collection",v=B(),S=C("button"),S.textContent="Battle!",k=B(),I=C("button"),I.textContent="Summon",R=B(),M=C("button"),M.textContent="Settings",V=B(),L=C("button"),L.textContent="Logout",b(i,"class","hover:text-gray-700 hover:no-underline svelte-49y89j"),b(o,"class","hover:text-gray-700 hover:no-underline svelte-49y89j"),b(c,"class","hover:text-gray-700 hover:no-underline svelte-49y89j"),b(g,"class","hover:text-gray-700 hover:no-underline svelte-49y89j"),b(_,"class","hover:text-gray-700 hover:no-underline svelte-49y89j"),b(S,"class","hover:text-gray-700 hover:no-underline battle svelte-49y89j"),b(I,"class","hover:text-gray-700 hover:no-underline svelte-49y89j"),b(M,"class","hover:text-gray-700 hover:no-underline svelte-49y89j"),b(L,"class","hover:text-gray-700 hover:no-underline logout svelte-49y89j"),b(n,"class","text-xl svelte-49y89j"),b(e,"class","absolute w-full h-full bg-gray-200 border-r-2 shadow-lg svelte-49y89j"),zt(e,"open",t[0])},m(Q,$){x(Q,e,$),T(e,n),q&&q.m(n,null),T(n,r),T(n,i),T(n,s),T(n,o),T(n,l),T(n,c),T(n,h),T(n,g),T(n,m),T(n,_),T(n,v),T(n,S),T(n,k),T(n,I),T(n,R),T(n,M),T(n,V),T(n,L),D||(W=[le(i,"click",t[3]),le(o,"click",t[4]),le(c,"click",t[5]),le(g,"click",t[6]),le(_,"click",t[7]),le(S,"click",t[8]),le(I,"click",t[9]),le(M,"click",t[10]),le(L,"click",t[11])],D=!0)},p(Q,[$]){Q[1]?q?q.p(Q,$):(q=$S(Q),q.c(),q.m(n,r)):q&&(q.d(1),q=null),$&1&&zt(e,"open",Q[0])},i:z,o:z,d(Q){Q&&H(e),q&&q.d(),D=!1,Kt(W)}}}function Vq(t,e,n){let{open:r=!1}=e,i;Pi(async()=>{const k=sessionStorage.getItem("user");await Yn(JSON.parse(k).uid).then(I=>{I&&n(1,i=I)})});const s=async()=>{sessionStorage.removeItem("user"),window.location.href="/"},o=()=>window.location.href="/showCase",l=()=>window.location.href="/profile",c=()=>window.location.href="/achievements",h=()=>window.location.href="/team",g=()=>window.location.href="/collection",m=()=>window.location.href="/battle",_=()=>window.location.href="/summon",v=()=>window.location.href="/settings",S=()=>s();return t.$$set=k=>{"open"in k&&n(0,r=k.open)},[r,i,s,o,l,c,h,g,m,_,v,S]}class Vi extends tt{constructor(e){super(),et(this,e,Vq,Lq,Ue,{open:0})}}function Hq(t){let e,n;return e=new n8({}),{c(){ae(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function Fq(t){let e,n;return e=new s8({}),{c(){ae(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function xq(t){let e,n,r,i,s,o,l,c;function h(v){t[2](v)}let g={};t[1]!==void 0&&(g.open=t[1]),e=new Vi({props:g}),dt.push(()=>Dt(e,"open",h));function m(v){t[3](v)}let _={};return t[1]!==void 0&&(_.sidebar=t[1]),i=new Li({props:_}),dt.push(()=>Dt(i,"sidebar",m)),l=new tz({}),{c(){ae(e.$$.fragment),r=B(),ae(i.$$.fragment),o=B(),ae(l.$$.fragment)},m(v,S){se(e,v,S),x(v,r,S),se(i,v,S),x(v,o,S),se(l,v,S),c=!0},p(v,S){const k={};!n&&S&2&&(n=!0,k.open=v[1],Rt(()=>n=!1)),e.$set(k);const I={};!s&&S&2&&(s=!0,I.sidebar=v[1],Rt(()=>s=!1)),i.$set(I)},i(v){c||(j(e.$$.fragment,v),j(i.$$.fragment,v),j(l.$$.fragment,v),c=!0)},o(v){G(e.$$.fragment,v),G(i.$$.fragment,v),G(l.$$.fragment,v),c=!1},d(v){v&&(H(r),H(o)),oe(e,v),oe(i,v),oe(l,v)}}}function Uq(t){let e,n;return e=new Ni({props:{$$slots:{default:[xq]},$$scope:{ctx:t}}}),{c(){ae(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p(r,i){const s={};i&262146&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function Bq(t){let e,n,r,i,s,o,l,c;function h(v){t[4](v)}let g={};t[1]!==void 0&&(g.open=t[1]),e=new Vi({props:g}),dt.push(()=>Dt(e,"open",h));function m(v){t[5](v)}let _={};return t[1]!==void 0&&(_.sidebar=t[1]),i=new Li({props:_}),dt.push(()=>Dt(i,"sidebar",m)),l=new yz({}),{c(){ae(e.$$.fragment),r=B(),ae(i.$$.fragment),o=B(),ae(l.$$.fragment)},m(v,S){se(e,v,S),x(v,r,S),se(i,v,S),x(v,o,S),se(l,v,S),c=!0},p(v,S){const k={};!n&&S&2&&(n=!0,k.open=v[1],Rt(()=>n=!1)),e.$set(k);const I={};!s&&S&2&&(s=!0,I.sidebar=v[1],Rt(()=>s=!1)),i.$set(I)},i(v){c||(j(e.$$.fragment,v),j(i.$$.fragment,v),j(l.$$.fragment,v),c=!0)},o(v){G(e.$$.fragment,v),G(i.$$.fragment,v),G(l.$$.fragment,v),c=!1},d(v){v&&(H(r),H(o)),oe(e,v),oe(i,v),oe(l,v)}}}function Wq(t){let e,n;return e=new Ni({props:{$$slots:{default:[Bq]},$$scope:{ctx:t}}}),{c(){ae(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p(r,i){const s={};i&262146&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function jq(t){let e,n,r,i,s,o,l,c;function h(v){t[6](v)}let g={};t[1]!==void 0&&(g.open=t[1]),e=new Vi({props:g}),dt.push(()=>Dt(e,"open",h));function m(v){t[7](v)}let _={};return t[1]!==void 0&&(_.sidebar=t[1]),i=new Li({props:_}),dt.push(()=>Dt(i,"sidebar",m)),l=new Kz({}),{c(){ae(e.$$.fragment),r=B(),ae(i.$$.fragment),o=B(),ae(l.$$.fragment)},m(v,S){se(e,v,S),x(v,r,S),se(i,v,S),x(v,o,S),se(l,v,S),c=!0},p(v,S){const k={};!n&&S&2&&(n=!0,k.open=v[1],Rt(()=>n=!1)),e.$set(k);const I={};!s&&S&2&&(s=!0,I.sidebar=v[1],Rt(()=>s=!1)),i.$set(I)},i(v){c||(j(e.$$.fragment,v),j(i.$$.fragment,v),j(l.$$.fragment,v),c=!0)},o(v){G(e.$$.fragment,v),G(i.$$.fragment,v),G(l.$$.fragment,v),c=!1},d(v){v&&(H(r),H(o)),oe(e,v),oe(i,v),oe(l,v)}}}function zq(t){let e,n;return e=new Ni({props:{$$slots:{default:[jq]},$$scope:{ctx:t}}}),{c(){ae(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p(r,i){const s={};i&262146&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function qq(t){let e,n,r,i,s,o,l,c;function h(v){t[8](v)}let g={};t[1]!==void 0&&(g.open=t[1]),e=new Vi({props:g}),dt.push(()=>Dt(e,"open",h));function m(v){t[9](v)}let _={};return t[1]!==void 0&&(_.sidebar=t[1]),i=new Li({props:_}),dt.push(()=>Dt(i,"sidebar",m)),l=new O2({}),{c(){ae(e.$$.fragment),r=B(),ae(i.$$.fragment),o=B(),ae(l.$$.fragment)},m(v,S){se(e,v,S),x(v,r,S),se(i,v,S),x(v,o,S),se(l,v,S),c=!0},p(v,S){const k={};!n&&S&2&&(n=!0,k.open=v[1],Rt(()=>n=!1)),e.$set(k);const I={};!s&&S&2&&(s=!0,I.sidebar=v[1],Rt(()=>s=!1)),i.$set(I)},i(v){c||(j(e.$$.fragment,v),j(i.$$.fragment,v),j(l.$$.fragment,v),c=!0)},o(v){G(e.$$.fragment,v),G(i.$$.fragment,v),G(l.$$.fragment,v),c=!1},d(v){v&&(H(r),H(o)),oe(e,v),oe(i,v),oe(l,v)}}}function Gq(t){let e,n;return e=new Ni({props:{$$slots:{default:[qq]},$$scope:{ctx:t}}}),{c(){ae(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p(r,i){const s={};i&262146&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function Kq(t){let e,n,r,i,s,o,l,c;function h(v){t[10](v)}let g={};t[1]!==void 0&&(g.open=t[1]),e=new Vi({props:g}),dt.push(()=>Dt(e,"open",h));function m(v){t[11](v)}let _={};return t[1]!==void 0&&(_.sidebar=t[1]),i=new Li({props:_}),dt.push(()=>Dt(i,"sidebar",m)),l=new wq({}),{c(){ae(e.$$.fragment),r=B(),ae(i.$$.fragment),o=B(),ae(l.$$.fragment)},m(v,S){se(e,v,S),x(v,r,S),se(i,v,S),x(v,o,S),se(l,v,S),c=!0},p(v,S){const k={};!n&&S&2&&(n=!0,k.open=v[1],Rt(()=>n=!1)),e.$set(k);const I={};!s&&S&2&&(s=!0,I.sidebar=v[1],Rt(()=>s=!1)),i.$set(I)},i(v){c||(j(e.$$.fragment,v),j(i.$$.fragment,v),j(l.$$.fragment,v),c=!0)},o(v){G(e.$$.fragment,v),G(i.$$.fragment,v),G(l.$$.fragment,v),c=!1},d(v){v&&(H(r),H(o)),oe(e,v),oe(i,v),oe(l,v)}}}function Yq(t){let e,n;return e=new Ni({props:{$$slots:{default:[Kq]},$$scope:{ctx:t}}}),{c(){ae(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p(r,i){const s={};i&262146&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function Qq(t){let e,n,r,i,s,o,l,c;function h(v){t[12](v)}let g={};t[1]!==void 0&&(g.open=t[1]),e=new Vi({props:g}),dt.push(()=>Dt(e,"open",h));function m(v){t[13](v)}let _={};return t[1]!==void 0&&(_.sidebar=t[1]),i=new Li({props:_}),dt.push(()=>Dt(i,"sidebar",m)),l=new mq({}),{c(){ae(e.$$.fragment),r=B(),ae(i.$$.fragment),o=B(),ae(l.$$.fragment)},m(v,S){se(e,v,S),x(v,r,S),se(i,v,S),x(v,o,S),se(l,v,S),c=!0},p(v,S){const k={};!n&&S&2&&(n=!0,k.open=v[1],Rt(()=>n=!1)),e.$set(k);const I={};!s&&S&2&&(s=!0,I.sidebar=v[1],Rt(()=>s=!1)),i.$set(I)},i(v){c||(j(e.$$.fragment,v),j(i.$$.fragment,v),j(l.$$.fragment,v),c=!0)},o(v){G(e.$$.fragment,v),G(i.$$.fragment,v),G(l.$$.fragment,v),c=!1},d(v){v&&(H(r),H(o)),oe(e,v),oe(i,v),oe(l,v)}}}function Xq(t){let e,n;return e=new Ni({props:{$$slots:{default:[Qq]},$$scope:{ctx:t}}}),{c(){ae(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p(r,i){const s={};i&262146&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function $q(t){let e,n,r,i,s,o,l,c;function h(v){t[14](v)}let g={};t[1]!==void 0&&(g.open=t[1]),e=new Vi({props:g}),dt.push(()=>Dt(e,"open",h));function m(v){t[15](v)}let _={};return t[1]!==void 0&&(_.sidebar=t[1]),i=new Li({props:_}),dt.push(()=>Dt(i,"sidebar",m)),l=new Iq({}),{c(){ae(e.$$.fragment),r=B(),ae(i.$$.fragment),o=B(),ae(l.$$.fragment)},m(v,S){se(e,v,S),x(v,r,S),se(i,v,S),x(v,o,S),se(l,v,S),c=!0},p(v,S){const k={};!n&&S&2&&(n=!0,k.open=v[1],Rt(()=>n=!1)),e.$set(k);const I={};!s&&S&2&&(s=!0,I.sidebar=v[1],Rt(()=>s=!1)),i.$set(I)},i(v){c||(j(e.$$.fragment,v),j(i.$$.fragment,v),j(l.$$.fragment,v),c=!0)},o(v){G(e.$$.fragment,v),G(i.$$.fragment,v),G(l.$$.fragment,v),c=!1},d(v){v&&(H(r),H(o)),oe(e,v),oe(i,v),oe(l,v)}}}function Jq(t){let e,n;return e=new Ni({props:{$$slots:{default:[$q]},$$scope:{ctx:t}}}),{c(){ae(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p(r,i){const s={};i&262146&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function Zq(t){let e,n,r,i,s,o,l,c;function h(v){t[16](v)}let g={};t[1]!==void 0&&(g.open=t[1]),e=new Vi({props:g}),dt.push(()=>Dt(e,"open",h));function m(v){t[17](v)}let _={};return t[1]!==void 0&&(_.sidebar=t[1]),i=new Li({props:_}),dt.push(()=>Dt(i,"sidebar",m)),l=new O2({}),{c(){ae(e.$$.fragment),r=B(),ae(i.$$.fragment),o=B(),ae(l.$$.fragment)},m(v,S){se(e,v,S),x(v,r,S),se(i,v,S),x(v,o,S),se(l,v,S),c=!0},p(v,S){const k={};!n&&S&2&&(n=!0,k.open=v[1],Rt(()=>n=!1)),e.$set(k);const I={};!s&&S&2&&(s=!0,I.sidebar=v[1],Rt(()=>s=!1)),i.$set(I)},i(v){c||(j(e.$$.fragment,v),j(i.$$.fragment,v),j(l.$$.fragment,v),c=!0)},o(v){G(e.$$.fragment,v),G(i.$$.fragment,v),G(l.$$.fragment,v),c=!1},d(v){v&&(H(r),H(o)),oe(e,v),oe(i,v),oe(l,v)}}}function eG(t){let e,n;return e=new Ni({props:{$$slots:{default:[Zq]},$$scope:{ctx:t}}}),{c(){ae(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p(r,i){const s={};i&262146&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function tG(t){let e,n,r,i,s,o,l,c,h,g,m,_,v,S,k,I,R,M,V,L;return e=new Or({props:{path:"/",$$slots:{default:[Hq]},$$scope:{ctx:t}}}),r=new Or({props:{path:"/signup",$$slots:{default:[Fq]},$$scope:{ctx:t}}}),s=new Or({props:{path:"/showCase",$$slots:{default:[Uq]},$$scope:{ctx:t}}}),l=new Or({props:{path:"/profile",$$slots:{default:[Wq]},$$scope:{ctx:t}}}),h=new Or({props:{path:"/team",$$slots:{default:[zq]},$$scope:{ctx:t}}}),m=new Or({props:{path:"/achievements",$$slots:{default:[Gq]},$$scope:{ctx:t}}}),v=new Or({props:{path:"/collection",$$slots:{default:[Yq]},$$scope:{ctx:t}}}),k=new Or({props:{path:"/battle",$$slots:{default:[Xq]},$$scope:{ctx:t}}}),R=new Or({props:{path:"/summon",$$slots:{default:[Jq]},$$scope:{ctx:t}}}),V=new Or({props:{path:"/settings",$$slots:{default:[eG]},$$scope:{ctx:t}}}),{c(){ae(e.$$.fragment),n=B(),ae(r.$$.fragment),i=B(),ae(s.$$.fragment),o=B(),ae(l.$$.fragment),c=B(),ae(h.$$.fragment),g=B(),ae(m.$$.fragment),_=B(),ae(v.$$.fragment),S=B(),ae(k.$$.fragment),I=B(),ae(R.$$.fragment),M=B(),ae(V.$$.fragment)},m(D,W){se(e,D,W),x(D,n,W),se(r,D,W),x(D,i,W),se(s,D,W),x(D,o,W),se(l,D,W),x(D,c,W),se(h,D,W),x(D,g,W),se(m,D,W),x(D,_,W),se(v,D,W),x(D,S,W),se(k,D,W),x(D,I,W),se(R,D,W),x(D,M,W),se(V,D,W),L=!0},p(D,W){const q={};W&262144&&(q.$$scope={dirty:W,ctx:D}),e.$set(q);const Q={};W&262144&&(Q.$$scope={dirty:W,ctx:D}),r.$set(Q);const $={};W&262146&&($.$$scope={dirty:W,ctx:D}),s.$set($);const K={};W&262146&&(K.$$scope={dirty:W,ctx:D}),l.$set(K);const we={};W&262146&&(we.$$scope={dirty:W,ctx:D}),h.$set(we);const ue={};W&262146&&(ue.$$scope={dirty:W,ctx:D}),m.$set(ue);const ye={};W&262146&&(ye.$$scope={dirty:W,ctx:D}),v.$set(ye);const rt={};W&262146&&(rt.$$scope={dirty:W,ctx:D}),k.$set(rt);const ie={};W&262146&&(ie.$$scope={dirty:W,ctx:D}),R.$set(ie);const Te={};W&262146&&(Te.$$scope={dirty:W,ctx:D}),V.$set(Te)},i(D){L||(j(e.$$.fragment,D),j(r.$$.fragment,D),j(s.$$.fragment,D),j(l.$$.fragment,D),j(h.$$.fragment,D),j(m.$$.fragment,D),j(v.$$.fragment,D),j(k.$$.fragment,D),j(R.$$.fragment,D),j(V.$$.fragment,D),L=!0)},o(D){G(e.$$.fragment,D),G(r.$$.fragment,D),G(s.$$.fragment,D),G(l.$$.fragment,D),G(h.$$.fragment,D),G(m.$$.fragment,D),G(v.$$.fragment,D),G(k.$$.fragment,D),G(R.$$.fragment,D),G(V.$$.fragment,D),L=!1},d(D){D&&(H(n),H(i),H(o),H(c),H(g),H(_),H(S),H(I),H(M)),oe(e,D),oe(r,D),oe(s,D),oe(l,D),oe(h,D),oe(m,D),oe(v,D),oe(k,D),oe(R,D),oe(V,D)}}}function nG(t){let e,n,r,i;return r=new nL({props:{url:t[0],$$slots:{default:[tG]},$$scope:{ctx:t}}}),{c(){e=C("link"),n=B(),ae(r.$$.fragment),b(e,"href","https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css"),b(e,"rel","stylesheet")},m(s,o){T(document.head,e),x(s,n,o),se(r,s,o),i=!0},p(s,[o]){const l={};o&1&&(l.url=s[0]),o&262146&&(l.$$scope={dirty:o,ctx:s}),r.$set(l)},i(s){i||(j(r.$$.fragment,s),i=!0)},o(s){G(r.$$.fragment,s),i=!1},d(s){s&&H(n),H(e),oe(r,s)}}}function rG(t,e,n){let{url:r=""}=e,i=!1;function s(D){i=D,n(1,i)}function o(D){i=D,n(1,i)}function l(D){i=D,n(1,i)}function c(D){i=D,n(1,i)}function h(D){i=D,n(1,i)}function g(D){i=D,n(1,i)}function m(D){i=D,n(1,i)}function _(D){i=D,n(1,i)}function v(D){i=D,n(1,i)}function S(D){i=D,n(1,i)}function k(D){i=D,n(1,i)}function I(D){i=D,n(1,i)}function R(D){i=D,n(1,i)}function M(D){i=D,n(1,i)}function V(D){i=D,n(1,i)}function L(D){i=D,n(1,i)}return t.$$set=D=>{"url"in D&&n(0,r=D.url)},[r,i,s,o,l,c,h,g,m,_,v,S,k,I,R,M,V,L]}class iG extends tt{constructor(e){super(),et(this,e,rG,nG,Ue,{url:0})}}new iG({target:document.getElementById("root")});
