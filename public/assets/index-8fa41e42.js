var l4=Object.defineProperty;var c4=(t,e,n)=>e in t?l4(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ld=(t,e,n)=>(c4(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function z(){}const $S=t=>t;function fo(t,e){for(const n in e)t[n]=e[n];return t}function u4(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function XS(t){return t()}function U1(){return Object.create(null)}function Zt(t){t.forEach(XS)}function ko(t){return typeof t=="function"}function Fe(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Cc;function me(t,e){return t===e?!0:(Cc||(Cc=document.createElement("a")),Cc.href=e,t===Cc.href)}function h4(t){return Object.keys(t).length===0}function JS(t,...e){if(t==null){for(const r of e)r(void 0);return z}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Hn(t,e,n){t.$$.on_destroy.push(JS(e,n))}function Co(t,e,n,r){if(t){const i=ZS(t,e,n,r);return t[0](i)}}function ZS(t,e,n,r){return t[1]&&r?fo(n.ctx.slice(),t[1](r(e))):n.ctx}function Po(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const s=[],o=Math.max(e.dirty.length,i.length);for(let l=0;l<o;l+=1)s[l]=e.dirty[l]|i[l];return s}return e.dirty|i}return e.dirty}function Ro(t,e,n,r,i,s){if(i){const o=ZS(e,n,r,s);t.p(o,i)}}function Do(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function B1(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function W1(t){return t??""}function Vd(t,e,n){return t.set(n),e}function f4(t){return t&&ko(t.destroy)?t.destroy:z}function z1(t){const e=typeof t=="string"&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}const eE=typeof window<"u";let tu=eE?()=>window.performance.now():()=>Date.now(),Bg=eE?t=>requestAnimationFrame(t):z;const ro=new Set;function tE(t){ro.forEach(e=>{e.c(t)||(ro.delete(e),e.f())}),ro.size!==0&&Bg(tE)}function Wg(t){let e;return ro.size===0&&Bg(tE),{promise:new Promise(n=>{ro.add(e={c:t,f:n})}),abort(){ro.delete(e)}}}const d4=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function T(t,e){t.appendChild(e)}function nE(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function p4(t){const e=C("style");return e.textContent="/* empty */",g4(nE(t),e),e.sheet}function g4(t,e){return T(t.head||t,e),e.sheet}function U(t,e,n){t.insertBefore(e,n||null)}function F(t){t.parentNode&&t.parentNode.removeChild(t)}function Jt(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function C(t){return document.createElement(t)}function Gr(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function _e(t){return document.createTextNode(t)}function B(){return _e(" ")}function Ve(){return _e("")}function le(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function S(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function j1(t,e){for(const n in e)S(t,n,e[n])}function m4(t){return Array.from(t.childNodes)}function Me(t,e){e=""+e,t.data!==e&&(t.data=e)}function Fn(t,e){t.value=e??""}function on(t,e,n,r){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function q1(t,e,n){for(let r=0;r<t.options.length;r+=1){const i=t.options[r];if(i.__value===e){i.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function v4(t){const e=t.querySelector(":checked");return e&&e.__value}function Kt(t,e,n){t.classList.toggle(e,!!n)}function y4(t,e,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}function G1(t,e){return new t(e)}const nu=new Map;let ru=0;function _4(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function w4(t,e){const n={stylesheet:p4(e),rules:{}};return nu.set(t,n),n}function rE(t,e,n,r,i,s,o,l=0){const c=16.666/r;let f=`{
`;for(let k=0;k<=1;k+=c){const D=e+(n-e)*s(k);f+=k*100+`%{${o(D,1-D)}}
`}const g=f+`100% {${o(n,1-n)}}
}`,v=`__svelte_${_4(g)}_${l}`,_=nE(t),{stylesheet:m,rules:b}=nu.get(_)||w4(_,t);b[v]||(b[v]=!0,m.insertRule(`@keyframes ${v} ${g}`,m.cssRules.length));const I=t.style.animation||"";return t.style.animation=`${I?`${I}, `:""}${v} ${r}ms linear ${i}ms 1 both`,ru+=1,v}function Bp(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?s=>s.indexOf(e)<0:s=>s.indexOf("__svelte")===-1),i=n.length-r.length;i&&(t.style.animation=r.join(", "),ru-=i,ru||b4())}function b4(){Bg(()=>{ru||(nu.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&F(e)}),nu.clear())})}let Ga;function Kr(t){Ga=t}function pl(){if(!Ga)throw new Error("Function called outside component initialization");return Ga}function as(t){pl().$$.on_mount.push(t)}function A4(t){pl().$$.on_destroy.push(t)}function Hd(t,e){return pl().$$.context.set(t,e),e}function Wp(t){return pl().$$.context.get(t)}function zp(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(r=>r.call(this,e))}const $s=[],lt=[];let io=[];const jp=[],iE=Promise.resolve();let qp=!1;function sE(){qp||(qp=!0,iE.then(zg))}function oi(){return sE(),iE}function bi(t){io.push(t)}function Rt(t){jp.push(t)}const Fd=new Set;let Bs=0;function zg(){if(Bs!==0)return;const t=Ga;do{try{for(;Bs<$s.length;){const e=$s[Bs];Bs++,Kr(e),S4(e.$$)}}catch(e){throw $s.length=0,Bs=0,e}for(Kr(null),$s.length=0,Bs=0;lt.length;)lt.pop()();for(let e=0;e<io.length;e+=1){const n=io[e];Fd.has(n)||(Fd.add(n),n())}io.length=0}while($s.length);for(;jp.length;)jp.pop()();qp=!1,Fd.clear(),Kr(t)}function S4(t){if(t.fragment!==null){t.update(),Zt(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(bi)}}function E4(t){const e=[],n=[];io.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),io=e}let _a;function oE(){return _a||(_a=Promise.resolve(),_a.then(()=>{_a=null})),_a}function iu(t,e,n){t.dispatchEvent(y4(`${e?"intro":"outro"}${n}`))}const zc=new Set;let di;function Qe(){di={r:0,c:[],p:di}}function $e(){di.r||Zt(di.c),di=di.p}function W(t,e){t&&t.i&&(zc.delete(t),t.i(e))}function G(t,e,n,r){if(t&&t.o){if(zc.has(t))return;zc.add(t),di.c.push(()=>{zc.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}const aE={duration:0};function lE(t,e,n){const r={direction:"in"};let i=e(t,n,r),s=!1,o,l,c=0;function f(){o&&Bp(t,o)}function g(){const{delay:_=0,duration:m=300,easing:b=$S,tick:I=z,css:k}=i||aE;k&&(o=rE(t,0,1,m,_,b,k,c++)),I(0,1);const D=tu()+_,M=D+m;l&&l.abort(),s=!0,bi(()=>iu(t,!0,"start")),l=Wg(L=>{if(s){if(L>=M)return I(1,0),iu(t,!0,"end"),f(),s=!1;if(L>=D){const H=b((L-D)/m);I(H,1-H)}}return s})}let v=!1;return{start(){v||(v=!0,Bp(t),ko(i)?(i=i(r),oE().then(g)):g())},invalidate(){v=!1},end(){s&&(f(),s=!1)}}}function cE(t,e,n){const r={direction:"out"};let i=e(t,n,r),s=!0,o;const l=di;l.r+=1;let c;function f(){const{delay:g=0,duration:v=300,easing:_=$S,tick:m=z,css:b}=i||aE;b&&(o=rE(t,1,0,v,g,_,b));const I=tu()+g,k=I+v;bi(()=>iu(t,!1,"start")),"inert"in t&&(c=t.inert,t.inert=!0),Wg(D=>{if(s){if(D>=k)return m(0,1),iu(t,!1,"end"),--l.r||Zt(l.c),!1;if(D>=I){const M=_((D-I)/v);m(1-M,M)}}return s})}return ko(i)?oE().then(()=>{i=i(r),f()}):f(),{end(g){g&&"inert"in t&&(t.inert=c),g&&i.tick&&i.tick(1,0),s&&(o&&Bp(t,o),s=!1)}}}function xn(t,e){const n=e.token={};function r(i,s,o,l){if(e.token!==n)return;e.resolved=l;let c=e.ctx;o!==void 0&&(c=c.slice(),c[o]=l);const f=i&&(e.current=i)(c);let g=!1;e.block&&(e.blocks?e.blocks.forEach((v,_)=>{_!==s&&v&&(Qe(),G(v,1,1,()=>{e.blocks[_]===v&&(e.blocks[_]=null)}),$e())}):e.block.d(1),f.c(),W(f,1),f.m(e.mount(),e.anchor),g=!0),e.block=f,e.blocks&&(e.blocks[s]=f),g&&zg()}if(u4(t)){const i=pl();if(t.then(s=>{Kr(i),r(e.then,1,e.value,s),Kr(null)},s=>{if(Kr(i),r(e.catch,2,e.error,s),Kr(null),!e.hasCatch)throw s}),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}}function Gi(t,e,n){const r=e.slice(),{resolved:i}=t;t.current===t.then&&(r[t.value]=i),t.current===t.catch&&(r[t.error]=i),t.block.p(r,n)}function De(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function T4(t,e){t.d(1),e.delete(t.key)}function jg(t,e){G(t,1,1,()=>{e.delete(t.key)})}function Uu(t,e,n,r,i,s,o,l,c,f,g,v){let _=t.length,m=s.length,b=_;const I={};for(;b--;)I[t[b].key]=b;const k=[],D=new Map,M=new Map,L=[];for(b=m;b--;){const j=v(i,s,b),X=n(j);let $=o.get(X);$?r&&L.push(()=>$.p(j,e)):($=f(X,j),$.c()),D.set(X,k[b]=$),X in I&&M.set(X,Math.abs(b-I[X]))}const H=new Set,R=new Set;function q(j){W(j,1),j.m(l,g),o.set(j.key,j),g=j.first,m--}for(;_&&m;){const j=k[m-1],X=t[_-1],$=j.key,K=X.key;j===X?(g=j.first,_--,m--):D.has(K)?!o.has($)||H.has($)?q(j):R.has(K)?_--:M.get($)>M.get(K)?(R.add($),q(j)):(H.add(K),_--):(c(X,o),_--)}for(;_--;){const j=t[_];D.has(j.key)||c(j,o)}for(;m;)q(k[m-1]);return Zt(L),k}function su(t,e){const n={},r={},i={$$scope:1};let s=t.length;for(;s--;){const o=t[s],l=e[s];if(l){for(const c in o)c in l||(r[c]=1);for(const c in l)i[c]||(n[c]=l[c],i[c]=1);t[s]=l}else for(const c in o)i[c]=1}for(const o in r)o in n||(n[o]=void 0);return n}function Ta(t){return typeof t=="object"&&t!==null?t:{}}function Dt(t,e,n){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function ae(t){t&&t.c()}function se(t,e,n){const{fragment:r,after_update:i}=t.$$;r&&r.m(e,n),bi(()=>{const s=t.$$.on_mount.map(XS).filter(ko);t.$$.on_destroy?t.$$.on_destroy.push(...s):Zt(s),t.$$.on_mount=[]}),i.forEach(bi)}function oe(t,e){const n=t.$$;n.fragment!==null&&(E4(n.after_update),Zt(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function I4(t,e){t.$$.dirty[0]===-1&&($s.push(t),sE(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function et(t,e,n,r,i,s,o=null,l=[-1]){const c=Ga;Kr(t);const f=t.$$={fragment:null,ctx:[],props:s,update:z,not_equal:i,bound:U1(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:U1(),dirty:l,skip_bound:!1,root:e.target||c.$$.root};o&&o(f.root);let g=!1;if(f.ctx=n?n(t,e.props||{},(v,_,...m)=>{const b=m.length?m[0]:_;return f.ctx&&i(f.ctx[v],f.ctx[v]=b)&&(!f.skip_bound&&f.bound[v]&&f.bound[v](b),g&&I4(t,v)),_}):[],f.update(),g=!0,Zt(f.before_update),f.fragment=r?r(f.ctx):!1,e.target){if(e.hydrate){const v=m4(e.target);f.fragment&&f.fragment.l(v),v.forEach(F)}else f.fragment&&f.fragment.c();e.intro&&W(t.$$.fragment),se(t,e.target,e.anchor),zg()}Kr(c)}class tt{constructor(){Ld(this,"$$");Ld(this,"$$set")}$destroy(){oe(this,1),this.$destroy=z}$on(e,n){if(!ko(n))return z;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!h4(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const k4="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(k4);const K1={},Gp={},C4={},uE=/^:(.+)/,Y1=4,P4=3,R4=2,D4=1,O4=1,Kp=t=>t.replace(/(^\/+|\/+$)/g,"").split("/"),xd=t=>t.replace(/(^\/+|\/+$)/g,""),M4=(t,e)=>{const n=t.default?0:Kp(t.path).reduce((r,i)=>(r+=Y1,i===""?r+=O4:uE.test(i)?r+=R4:i[0]==="*"?r-=Y1+D4:r+=P4,r),0);return{route:t,score:n,index:e}},N4=t=>t.map(M4).sort((e,n)=>e.score<n.score?1:e.score>n.score?-1:e.index-n.index),Q1=(t,e)=>{let n,r;const[i]=e.split("?"),s=Kp(i),o=s[0]==="",l=N4(t);for(let c=0,f=l.length;c<f;c++){const g=l[c].route;let v=!1;if(g.default){r={route:g,params:{},uri:e};continue}const _=Kp(g.path),m={},b=Math.max(s.length,_.length);let I=0;for(;I<b;I++){const k=_[I],D=s[I];if(k&&k[0]==="*"){const L=k==="*"?"*":k.slice(1);m[L]=s.slice(I).map(decodeURIComponent).join("/");break}if(typeof D>"u"){v=!0;break}const M=uE.exec(k);if(M&&!o){const L=decodeURIComponent(D);m[M[1]]=L}else if(k!==D){v=!0;break}}if(!v){n={route:g,params:m,uri:"/"+s.slice(0,I).join("/")};break}}return n||r||null},$1=(t,e)=>`${xd(e==="/"?t:`${xd(t)}/${xd(e)}`)}/`,hE=()=>typeof window<"u"&&"document"in window&&"location"in window,L4=t=>({params:t&4}),X1=t=>({params:t[2]});function J1(t){let e,n,r,i;const s=[H4,V4],o=[];function l(c,f){return c[0]?0:1}return e=l(t),n=o[e]=s[e](t),{c(){n.c(),r=Ve()},m(c,f){o[e].m(c,f),U(c,r,f),i=!0},p(c,f){let g=e;e=l(c),e===g?o[e].p(c,f):(Qe(),G(o[g],1,1,()=>{o[g]=null}),$e(),n=o[e],n?n.p(c,f):(n=o[e]=s[e](c),n.c()),W(n,1),n.m(r.parentNode,r))},i(c){i||(W(n),i=!0)},o(c){G(n),i=!1},d(c){c&&F(r),o[e].d(c)}}}function V4(t){let e;const n=t[8].default,r=Co(n,t,t[7],X1);return{c(){r&&r.c()},m(i,s){r&&r.m(i,s),e=!0},p(i,s){r&&r.p&&(!e||s&132)&&Ro(r,n,i,i[7],e?Po(n,i[7],s,L4):Do(i[7]),X1)},i(i){e||(W(r,i),e=!0)},o(i){G(r,i),e=!1},d(i){r&&r.d(i)}}}function H4(t){let e,n,r,i={ctx:t,current:null,token:null,hasCatch:!1,pending:U4,then:x4,catch:F4,value:12,blocks:[,,,]};return xn(n=t[0],i),{c(){e=Ve(),i.block.c()},m(s,o){U(s,e,o),i.block.m(s,i.anchor=o),i.mount=()=>e.parentNode,i.anchor=e,r=!0},p(s,o){t=s,i.ctx=t,o&1&&n!==(n=t[0])&&xn(n,i)||Gi(i,t,o)},i(s){r||(W(i.block),r=!0)},o(s){for(let o=0;o<3;o+=1){const l=i.blocks[o];G(l)}r=!1},d(s){s&&F(e),i.block.d(s),i.token=null,i=null}}}function F4(t){return{c:z,m:z,p:z,i:z,o:z,d:z}}function x4(t){var l;let e,n,r;const i=[t[2],t[3]];var s=((l=t[12])==null?void 0:l.default)||t[12];function o(c,f){let g={};if(f!==void 0&&f&12)g=su(i,[f&4&&Ta(c[2]),f&8&&Ta(c[3])]);else for(let v=0;v<i.length;v+=1)g=fo(g,i[v]);return{props:g}}return s&&(e=G1(s,o(t))),{c(){e&&ae(e.$$.fragment),n=Ve()},m(c,f){e&&se(e,c,f),U(c,n,f),r=!0},p(c,f){var g;if(f&1&&s!==(s=((g=c[12])==null?void 0:g.default)||c[12])){if(e){Qe();const v=e;G(v.$$.fragment,1,0,()=>{oe(v,1)}),$e()}s?(e=G1(s,o(c,f)),ae(e.$$.fragment),W(e.$$.fragment,1),se(e,n.parentNode,n)):e=null}else if(s){const v=f&12?su(i,[f&4&&Ta(c[2]),f&8&&Ta(c[3])]):{};e.$set(v)}},i(c){r||(e&&W(e.$$.fragment,c),r=!0)},o(c){e&&G(e.$$.fragment,c),r=!1},d(c){c&&F(n),e&&oe(e,c)}}}function U4(t){return{c:z,m:z,p:z,i:z,o:z,d:z}}function B4(t){let e,n,r=t[1]&&t[1].route===t[5]&&J1(t);return{c(){r&&r.c(),e=Ve()},m(i,s){r&&r.m(i,s),U(i,e,s),n=!0},p(i,[s]){i[1]&&i[1].route===i[5]?r?(r.p(i,s),s&2&&W(r,1)):(r=J1(i),r.c(),W(r,1),r.m(e.parentNode,e)):r&&(Qe(),G(r,1,1,()=>{r=null}),$e())},i(i){n||(W(r),n=!0)},o(i){G(r),n=!1},d(i){i&&F(e),r&&r.d(i)}}}function W4(t,e,n){let r,{$$slots:i={},$$scope:s}=e,{path:o=""}=e,{component:l=null}=e,c={},f={};const{registerRoute:g,unregisterRoute:v,activeRoute:_}=Wp(Gp);Hn(t,_,b=>n(1,r=b));const m={path:o,default:o===""};return g(m),A4(()=>{v(m)}),t.$$set=b=>{n(11,e=fo(fo({},e),B1(b))),"path"in b&&n(6,o=b.path),"component"in b&&n(0,l=b.component),"$$scope"in b&&n(7,s=b.$$scope)},t.$$.update=()=>{if(r&&r.route===m){n(2,c=r.params);const{component:b,path:I,...k}=e;n(3,f=k),b&&(b.toString().startsWith("class ")?n(0,l=b):n(0,l=b())),hE()&&!r.preserveScroll&&(window==null||window.scrollTo(0,0))}},e=B1(e),[l,r,c,f,_,m,o,s,i]}class Cr extends tt{constructor(e){super(),et(this,e,W4,B4,Fe,{path:6,component:0})}}const Ws=[];function fE(t,e){return{subscribe:Bi(t,e).subscribe}}function Bi(t,e=z){let n;const r=new Set;function i(l){if(Fe(t,l)&&(t=l,n)){const c=!Ws.length;for(const f of r)f[1](),Ws.push(f,t);if(c){for(let f=0;f<Ws.length;f+=2)Ws[f][0](Ws[f+1]);Ws.length=0}}}function s(l){i(l(t))}function o(l,c=z){const f=[l,c];return r.add(f),r.size===1&&(n=e(i,s)||z),l(t),()=>{r.delete(f),r.size===0&&n&&(n(),n=null)}}return{set:i,update:s,subscribe:o}}function z4(t,e,n){const r=!Array.isArray(t),i=r?[t]:t;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=e.length<2;return fE(n,(o,l)=>{let c=!1;const f=[];let g=0,v=z;const _=()=>{if(g)return;v();const b=e(r?f[0]:f,o,l);s?o(b):v=ko(b)?b:z},m=i.map((b,I)=>JS(b,k=>{f[I]=k,g&=~(1<<I),c&&_()},()=>{g|=1<<I}));return c=!0,_(),function(){Zt(m),v(),c=!1}})}const Ud=t=>({...t.location,state:t.history.state,key:t.history.state&&t.history.state.key||"initial"}),j4=t=>{const e=[];let n=Ud(t);return{get location(){return n},listen(r){e.push(r);const i=()=>{n=Ud(t),r({location:n,action:"POP"})};return t.addEventListener("popstate",i),()=>{t.removeEventListener("popstate",i);const s=e.indexOf(r);e.splice(s,1)}},navigate(r,{state:i,replace:s=!1,preserveScroll:o=!1}={}){i={...i,key:Date.now()+""};try{s?t.history.replaceState(i,"",r):t.history.pushState(i,"",r)}catch{t.location[s?"replace":"assign"](r)}n=Ud(t),e.forEach(l=>l({location:n,action:"PUSH",preserveScroll:o})),document.activeElement.blur()}}},q4=(t="/")=>{let e=0;const n=[{pathname:t,search:""}],r=[];return{get location(){return n[e]},addEventListener(i,s){},removeEventListener(i,s){},history:{get entries(){return n},get index(){return e},get state(){return r[e]},pushState(i,s,o){const[l,c=""]=o.split("?");e++,n.push({pathname:l,search:c}),r.push(i)},replaceState(i,s,o){const[l,c=""]=o.split("?");n[e]={pathname:l,search:c},r[e]=i}}}},G4=j4(hE()?window:q4()),K4=t=>({route:t&4,location:t&2}),Z1=t=>({route:t[2]&&t[2].uri,location:t[1]}),Y4=t=>({route:t&4,location:t&2}),ew=t=>({route:t[2]&&t[2].uri,location:t[1]});function Q4(t){let e;const n=t[15].default,r=Co(n,t,t[14],Z1);return{c(){r&&r.c()},m(i,s){r&&r.m(i,s),e=!0},p(i,s){r&&r.p&&(!e||s&16390)&&Ro(r,n,i,i[14],e?Po(n,i[14],s,K4):Do(i[14]),Z1)},i(i){e||(W(r,i),e=!0)},o(i){G(r,i),e=!1},d(i){r&&r.d(i)}}}function $4(t){let e=t[1].pathname,n,r,i=tw(t);return{c(){i.c(),n=Ve()},m(s,o){i.m(s,o),U(s,n,o),r=!0},p(s,o){o&2&&Fe(e,e=s[1].pathname)?(Qe(),G(i,1,1,z),$e(),i=tw(s),i.c(),W(i,1),i.m(n.parentNode,n)):i.p(s,o)},i(s){r||(W(i),r=!0)},o(s){G(i),r=!1},d(s){s&&F(n),i.d(s)}}}function tw(t){let e,n,r,i;const s=t[15].default,o=Co(s,t,t[14],ew);return{c(){e=C("div"),o&&o.c()},m(l,c){U(l,e,c),o&&o.m(e,null),i=!0},p(l,c){o&&o.p&&(!i||c&16390)&&Ro(o,s,l,l[14],i?Po(s,l[14],c,Y4):Do(l[14]),ew)},i(l){i||(W(o,l),l&&bi(()=>{i&&(r&&r.end(1),n=lE(e,t[3],{}),n.start())}),i=!0)},o(l){G(o,l),n&&n.invalidate(),l&&(r=cE(e,t[3],{})),i=!1},d(l){l&&F(e),o&&o.d(l),l&&r&&r.end()}}}function X4(t){let e,n,r,i;const s=[$4,Q4],o=[];function l(c,f){return c[0]?0:1}return e=l(t),n=o[e]=s[e](t),{c(){n.c(),r=Ve()},m(c,f){o[e].m(c,f),U(c,r,f),i=!0},p(c,[f]){let g=e;e=l(c),e===g?o[e].p(c,f):(Qe(),G(o[g],1,1,()=>{o[g]=null}),$e(),n=o[e],n?n.p(c,f):(n=o[e]=s[e](c),n.c()),W(n,1),n.m(r.parentNode,r))},i(c){i||(W(n),i=!0)},o(c){G(n),i=!1},d(c){c&&F(r),o[e].d(c)}}}function J4(t,e,n){let r,i,s,o,{$$slots:l={},$$scope:c}=e,{basepath:f="/"}=e,{url:g=null}=e,{viewtransition:v=null}=e,{history:_=G4}=e;const m=($,K,ve)=>{const he=v(ve);return typeof(he==null?void 0:he.fn)=="function"?he.fn($,he):he};Hd(C4,_);const b=Wp(K1),I=Wp(Gp),k=Bi([]);Hn(t,k,$=>n(12,i=$));const D=Bi(null);Hn(t,D,$=>n(2,o=$));let M=!1;const L=b||Bi(g?{pathname:g}:_.location);Hn(t,L,$=>n(1,r=$));const H=I?I.routerBase:Bi({path:f,uri:f});Hn(t,H,$=>n(13,s=$));const R=z4([H,D],([$,K])=>{if(!K)return $;const{path:ve}=$,{route:he,uri:ye}=K;return{path:he.default?ve:he.path.replace(/\*.*$/,""),uri:ye}}),q=$=>{const{path:K}=s;let{path:ve}=$;if($._path=ve,$.path=$1(K,ve),typeof window>"u"){if(M)return;const he=Q1([$],r.pathname);he&&(D.set(he),M=!0)}else k.update(he=>[...he,$])},j=$=>{k.update(K=>K.filter(ve=>ve!==$))};let X=!1;return b||(as(()=>_.listen(K=>{n(11,X=K.preserveScroll||!1),L.set(K.location)})),Hd(K1,L)),Hd(Gp,{activeRoute:D,base:H,routerBase:R,registerRoute:q,unregisterRoute:j}),t.$$set=$=>{"basepath"in $&&n(8,f=$.basepath),"url"in $&&n(9,g=$.url),"viewtransition"in $&&n(0,v=$.viewtransition),"history"in $&&n(10,_=$.history),"$$scope"in $&&n(14,c=$.$$scope)},t.$$.update=()=>{if(t.$$.dirty&8192){const{path:$}=s;k.update(K=>K.map(ve=>Object.assign(ve,{path:$1($,ve._path)})))}if(t.$$.dirty&6146){const $=Q1(i,r.pathname);D.set({...$,preserveScroll:X})}},[v,r,o,m,k,D,L,H,f,g,_,X,i,s,c,l]}class Z4 extends tt{constructor(e){super(),et(this,e,J4,X4,Fe,{basepath:8,url:9,viewtransition:0,history:10})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},eL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},pE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,g=s>>2,v=(s&3)<<4|l>>4;let _=(l&15)<<2|f>>6,m=f&63;c||(m=64,o||(_=64)),r.push(n[g],n[v],n[_],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):eL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const v=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||f==null||v==null)throw new tL;const _=s<<2|l>>4;if(r.push(_),f!==64){const m=l<<4&240|f>>2;if(r.push(m),v!==64){const b=f<<6&192|v;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class tL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nL=function(t){const e=dE(t);return pE.encodeByteArray(e,!0)},ou=function(t){return nL(t).replace(/\./g,"")},gE=function(t){try{return pE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL=()=>rL().__FIREBASE_DEFAULTS__,sL=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},oL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&gE(t[1]);return e&&JSON.parse(e)},qg=()=>{try{return iL()||sL()||oL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mE=t=>{var e,n;return(n=(e=qg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},aL=t=>{const e=mE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},vE=()=>{var t;return(t=qg())===null||t===void 0?void 0:t.config},yE=t=>{var e;return(e=qg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[ou(JSON.stringify(n)),ou(JSON.stringify(o)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(In())}function _E(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function hL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fL(){const t=In();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function wE(){try{return typeof indexedDB=="object"}catch{return!1}}function bE(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function dL(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL="FirebaseError";class gr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=pL,Object.setPrototypeOf(this,gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ls.prototype.create)}}class ls{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?gL(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new gr(i,l,r)}}function gL(t,e){return t.replace(mL,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const mL=/\{\$([^}]+)}/g;function vL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ka(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(nw(s)&&nw(o)){if(!Ka(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function nw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ia(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ka(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function yL(t,e){const n=new _L(t,e);return n.subscribe.bind(n)}class _L{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");wL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Bd),i.error===void 0&&(i.error=Bd),i.complete===void 0&&(i.complete=Bd);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Bd(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL=1e3,AL=2,SL=4*60*60*1e3,EL=.5;function rw(t,e=bL,n=AL){const r=e*Math.pow(n,t),i=Math.round(EL*r*(Math.random()-.5)*2);return Math.min(SL,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(t){return t&&t._delegate?t._delegate:t}class ur{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new lL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kL(e))try{this.getOrInitializeService({instanceIdentifier:Fi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Fi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fi){return this.instances.has(e)}getOptions(e=Fi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:IL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fi){return this.component?this.component.multipleInstances?e:Fi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function IL(t){return t===Fi?void 0:t}function kL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new TL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ye||(Ye={}));const PL={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},RL=Ye.INFO,DL={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},OL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=DL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bu{constructor(e){this.name=e,this._logLevel=RL,this._logHandler=OL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const ML=(t,e)=>e.some(n=>t instanceof n);let iw,sw;function NL(){return iw||(iw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LL(){return sw||(sw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AE=new WeakMap,Yp=new WeakMap,SE=new WeakMap,Wd=new WeakMap,Gg=new WeakMap;function VL(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(mi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&AE.set(n,t)}).catch(()=>{}),Gg.set(e,t),e}function HL(t){if(Yp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Yp.set(t,e)}let Qp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Yp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||SE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return mi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function FL(t){Qp=t(Qp)}function xL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(zd(this),e,...n);return SE.set(r,e.sort?e.sort():[e]),mi(r)}:LL().includes(t)?function(...e){return t.apply(zd(this),e),mi(AE.get(this))}:function(...e){return mi(t.apply(zd(this),e))}}function UL(t){return typeof t=="function"?xL(t):(t instanceof IDBTransaction&&HL(t),ML(t,NL())?new Proxy(t,Qp):t)}function mi(t){if(t instanceof IDBRequest)return VL(t);if(Wd.has(t))return Wd.get(t);const e=UL(t);return e!==t&&(Wd.set(t,e),Gg.set(e,t)),e}const zd=t=>Gg.get(t);function BL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=mi(o);return r&&o.addEventListener("upgradeneeded",c=>{r(mi(o.result),c.oldVersion,c.newVersion,mi(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}const WL=["get","getKey","getAll","getAllKeys","count"],zL=["put","add","delete","clear"],jd=new Map;function ow(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(jd.get(e))return jd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=zL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||WL.includes(n)))return;const s=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(l.shift())),(await Promise.all([f[n](...l),i&&c.done]))[0]};return jd.set(e,s),s}FL(t=>({...t,get:(e,n,r)=>ow(e,n)||t.get(e,n,r),has:(e,n)=>!!ow(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function qL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $p="@firebase/app",aw="0.9.20";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=new Bu("@firebase/app"),GL="@firebase/app-compat",KL="@firebase/analytics-compat",YL="@firebase/analytics",QL="@firebase/app-check-compat",$L="@firebase/app-check",XL="@firebase/auth",JL="@firebase/auth-compat",ZL="@firebase/database",eV="@firebase/database-compat",tV="@firebase/functions",nV="@firebase/functions-compat",rV="@firebase/installations",iV="@firebase/installations-compat",sV="@firebase/messaging",oV="@firebase/messaging-compat",aV="@firebase/performance",lV="@firebase/performance-compat",cV="@firebase/remote-config",uV="@firebase/remote-config-compat",hV="@firebase/storage",fV="@firebase/storage-compat",dV="@firebase/firestore",pV="@firebase/firestore-compat",gV="firebase",mV="10.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp="[DEFAULT]",vV={[$p]:"fire-core",[GL]:"fire-core-compat",[YL]:"fire-analytics",[KL]:"fire-analytics-compat",[$L]:"fire-app-check",[QL]:"fire-app-check-compat",[XL]:"fire-auth",[JL]:"fire-auth-compat",[ZL]:"fire-rtdb",[eV]:"fire-rtdb-compat",[tV]:"fire-fn",[nV]:"fire-fn-compat",[rV]:"fire-iid",[iV]:"fire-iid-compat",[sV]:"fire-fcm",[oV]:"fire-fcm-compat",[aV]:"fire-perf",[lV]:"fire-perf-compat",[cV]:"fire-rc",[uV]:"fire-rc-compat",[hV]:"fire-gcs",[fV]:"fire-gcs-compat",[dV]:"fire-fst",[pV]:"fire-fst-compat","fire-js":"fire-js",[gV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au=new Map,Jp=new Map;function yV(t,e){try{t.container.addComponent(e)}catch(n){Ji.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function xr(t){const e=t.name;if(Jp.has(e))return Ji.debug(`There were multiple attempts to register component ${e}.`),!1;Jp.set(e,t);for(const n of au.values())yV(n,t);return!0}function cs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},vi=new ls("app","Firebase",_V);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ur("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo=mV;function EE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Xp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw vi.create("bad-app-name",{appName:String(i)});if(n||(n=vE()),!n)throw vi.create("no-options");const s=au.get(i);if(s){if(Ka(n,s.options)&&Ka(r,s.config))return s;throw vi.create("duplicate-app",{appName:i})}const o=new CL(i);for(const c of Jp.values())o.addComponent(c);const l=new wV(n,r,o);return au.set(i,l),l}function Kg(t=Xp){const e=au.get(t);if(!e&&t===Xp&&vE())return EE();if(!e)throw vi.create("no-app",{appName:t});return e}function rr(t,e,n){var r;let i=(r=vV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ji.warn(l.join(" "));return}xr(new ur(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV="firebase-heartbeat-database",AV=1,Ya="firebase-heartbeat-store";let qd=null;function TE(){return qd||(qd=BL(bV,AV,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ya)}}}).catch(t=>{throw vi.create("idb-open",{originalErrorMessage:t.message})})),qd}async function SV(t){try{return await(await TE()).transaction(Ya).objectStore(Ya).get(IE(t))}catch(e){if(e instanceof gr)Ji.warn(e.message);else{const n=vi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ji.warn(n.message)}}}async function lw(t,e){try{const r=(await TE()).transaction(Ya,"readwrite");await r.objectStore(Ya).put(e,IE(t)),await r.done}catch(n){if(n instanceof gr)Ji.warn(n.message);else{const r=vi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ji.warn(r.message)}}}function IE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV=1024,TV=30*24*60*60*1e3;class IV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new CV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=cw();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=TV}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=cw(),{heartbeatsToSend:n,unsentEntries:r}=kV(this._heartbeatsCache.heartbeats),i=ou(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function cw(){return new Date().toISOString().substring(0,10)}function kV(t,e=EV){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),uw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),uw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class CV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wE()?bE().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await SV(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return lw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return lw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function uw(t){return ou(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PV(t){xr(new ur("platform-logger",e=>new jL(e),"PRIVATE")),xr(new ur("heartbeat",e=>new IV(e),"PRIVATE")),rr($p,aw,t),rr($p,aw,"esm2017"),rr("fire-js","")}PV("");var RV="firebase",DV="10.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rr(RV,DV,"app");var OV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ce,Yg=Yg||{},Re=OV||self;function Wu(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ml(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function MV(t){return Object.prototype.hasOwnProperty.call(t,Gd)&&t[Gd]||(t[Gd]=++NV)}var Gd="closure_uid_"+(1e9*Math.random()>>>0),NV=0;function LV(t,e,n){return t.call.apply(t.bind,arguments)}function VV(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function En(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?En=LV:En=VV,En.apply(null,arguments)}function Pc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function cn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),l=2;l<arguments.length;l++)o[l-2]=arguments[l];return e.prototype[i].apply(r,o)}}function Ii(){this.s=this.s,this.o=this.o}var HV=0;Ii.prototype.s=!1;Ii.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),HV!=0)&&MV(this)};Ii.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const kE=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Qg(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function hw(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Wu(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Tn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Tn.prototype.h=function(){this.defaultPrevented=!0};var FV=function(){if(!Re.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Re.addEventListener("test",()=>{},e),Re.removeEventListener("test",()=>{},e)}catch{}return t}();function Qa(t){return/^[\s\xa0]*$/.test(t)}function zu(){var t=Re.navigator;return t&&(t=t.userAgent)?t:""}function Dr(t){return zu().indexOf(t)!=-1}function $g(t){return $g[" "](t),t}$g[" "]=function(){};function xV(t,e){var n=D3;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var UV=Dr("Opera"),po=Dr("Trident")||Dr("MSIE"),CE=Dr("Edge"),Zp=CE||po,PE=Dr("Gecko")&&!(zu().toLowerCase().indexOf("webkit")!=-1&&!Dr("Edge"))&&!(Dr("Trident")||Dr("MSIE"))&&!Dr("Edge"),BV=zu().toLowerCase().indexOf("webkit")!=-1&&!Dr("Edge");function RE(){var t=Re.document;return t?t.documentMode:void 0}var eg;e:{var Kd="",Yd=function(){var t=zu();if(PE)return/rv:([^\);]+)(\)|;)/.exec(t);if(CE)return/Edge\/([\d\.]+)/.exec(t);if(po)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(BV)return/WebKit\/(\S+)/.exec(t);if(UV)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Yd&&(Kd=Yd?Yd[1]:""),po){var Qd=RE();if(Qd!=null&&Qd>parseFloat(Kd)){eg=String(Qd);break e}}eg=Kd}var tg;if(Re.document&&po){var fw=RE();tg=fw||parseInt(eg,10)||void 0}else tg=void 0;var WV=tg;function $a(t,e){if(Tn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(PE){e:{try{$g(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:zV[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&$a.$.h.call(this)}}cn($a,Tn);var zV={2:"touch",3:"pen",4:"mouse"};$a.prototype.h=function(){$a.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var vl="closure_listenable_"+(1e6*Math.random()|0),jV=0;function qV(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++jV,this.fa=this.ia=!1}function ju(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Xg(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function GV(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function DE(t){const e={};for(const n in t)e[n]=t[n];return e}const dw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function OE(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<dw.length;s++)n=dw[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function qu(t){this.src=t,this.g={},this.h=0}qu.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=rg(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new qV(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function ng(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=kE(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(ju(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function rg(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Jg="closure_lm_"+(1e6*Math.random()|0),$d={};function ME(t,e,n,r,i){if(r&&r.once)return LE(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)ME(t,e[s],n,r,i);return null}return n=tm(n),t&&t[vl]?t.O(e,n,ml(r)?!!r.capture:!!r,i):NE(t,e,n,!1,r,i)}function NE(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=ml(i)?!!i.capture:!!i,l=em(t);if(l||(t[Jg]=l=new qu(t)),n=l.add(e,n,r,o,s),n.proxy)return n;if(r=KV(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)FV||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(HE(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function KV(){function t(n){return e.call(t.src,t.listener,n)}const e=YV;return t}function LE(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)LE(t,e[s],n,r,i);return null}return n=tm(n),t&&t[vl]?t.P(e,n,ml(r)?!!r.capture:!!r,i):NE(t,e,n,!0,r,i)}function VE(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)VE(t,e[s],n,r,i);else r=ml(r)?!!r.capture:!!r,n=tm(n),t&&t[vl]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=rg(s,n,r,i),-1<n&&(ju(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=em(t))&&(e=t.g[e.toString()],t=-1,e&&(t=rg(e,n,r,i)),(n=-1<t?e[t]:null)&&Zg(n))}function Zg(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[vl])ng(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(HE(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=em(e))?(ng(n,t),n.h==0&&(n.src=null,e[Jg]=null)):ju(t)}}}function HE(t){return t in $d?$d[t]:$d[t]="on"+t}function YV(t,e){if(t.fa)t=!0;else{e=new $a(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Zg(t),t=n.call(r,e)}return t}function em(t){return t=t[Jg],t instanceof qu?t:null}var Xd="__closure_events_fn_"+(1e9*Math.random()>>>0);function tm(t){return typeof t=="function"?t:(t[Xd]||(t[Xd]=function(e){return t.handleEvent(e)}),t[Xd])}function ln(){Ii.call(this),this.i=new qu(this),this.S=this,this.J=null}cn(ln,Ii);ln.prototype[vl]=!0;ln.prototype.removeEventListener=function(t,e,n,r){VE(this,t,e,n,r)};function mn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Tn(e,t);else if(e instanceof Tn)e.target=e.target||t;else{var i=e;e=new Tn(r,t),OE(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Rc(o,r,!0,e)&&i}if(o=e.g=t,i=Rc(o,r,!0,e)&&i,i=Rc(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Rc(o,r,!1,e)&&i}ln.prototype.N=function(){if(ln.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ju(n[r]);delete t.g[e],t.h--}}this.J=null};ln.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};ln.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Rc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var l=o.listener,c=o.la||o.src;o.ia&&ng(t.i,o),i=l.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var nm=Re.JSON.stringify;class QV{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function $V(){var t=rm;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class XV{constructor(){this.h=this.g=null}add(e,n){const r=FE.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var FE=new QV(()=>new JV,t=>t.reset());class JV{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function ZV(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function e3(t){Re.setTimeout(()=>{throw t},0)}let Xa,Ja=!1,rm=new XV,xE=()=>{const t=Re.Promise.resolve(void 0);Xa=()=>{t.then(t3)}};var t3=()=>{for(var t;t=$V();){try{t.h.call(t.g)}catch(n){e3(n)}var e=FE;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ja=!1};function Gu(t,e){ln.call(this),this.h=t||1,this.g=e||Re,this.j=En(this.qb,this),this.l=Date.now()}cn(Gu,ln);ce=Gu.prototype;ce.ga=!1;ce.T=null;ce.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),mn(this,"tick"),this.ga&&(im(this),this.start()))}};ce.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function im(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}ce.N=function(){Gu.$.N.call(this),im(this),delete this.g};function sm(t,e,n){if(typeof t=="function")n&&(t=En(t,n));else if(t&&typeof t.handleEvent=="function")t=En(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Re.setTimeout(t,e||0)}function UE(t){t.g=sm(()=>{t.g=null,t.i&&(t.i=!1,UE(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class n3 extends Ii{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:UE(this)}N(){super.N(),this.g&&(Re.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Za(t){Ii.call(this),this.h=t,this.g={}}cn(Za,Ii);var pw=[];function BE(t,e,n,r){Array.isArray(n)||(n&&(pw[0]=n.toString()),n=pw);for(var i=0;i<n.length;i++){var s=ME(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function WE(t){Xg(t.g,function(e,n){this.g.hasOwnProperty(n)&&Zg(e)},t),t.g={}}Za.prototype.N=function(){Za.$.N.call(this),WE(this)};Za.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ku(){this.g=!0}Ku.prototype.Ea=function(){this.g=!1};function r3(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",l=s.split("&"),c=0;c<l.length;c++){var f=l[c].split("=");if(1<f.length){var g=f[0];f=f[1];var v=g.split("_");o=2<=v.length&&v[1]=="type"?o+(g+"="+f+"&"):o+(g+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function i3(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function to(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+o3(t,n)+(r?" "+r:"")})}function s3(t,e){t.info(function(){return"TIMEOUT: "+e})}Ku.prototype.info=function(){};function o3(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return nm(n)}catch{return e}}var us={},gw=null;function Yu(){return gw=gw||new ln}us.Ta="serverreachability";function zE(t){Tn.call(this,us.Ta,t)}cn(zE,Tn);function el(t){const e=Yu();mn(e,new zE(e))}us.STAT_EVENT="statevent";function jE(t,e){Tn.call(this,us.STAT_EVENT,t),this.stat=e}cn(jE,Tn);function Nn(t){const e=Yu();mn(e,new jE(e,t))}us.Ua="timingevent";function qE(t,e){Tn.call(this,us.Ua,t),this.size=e}cn(qE,Tn);function yl(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Re.setTimeout(function(){t()},e)}var Qu={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},GE={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function om(){}om.prototype.h=null;function mw(t){return t.h||(t.h=t.i())}function KE(){}var _l={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function am(){Tn.call(this,"d")}cn(am,Tn);function lm(){Tn.call(this,"c")}cn(lm,Tn);var ig;function $u(){}cn($u,om);$u.prototype.g=function(){return new XMLHttpRequest};$u.prototype.i=function(){return{}};ig=new $u;function wl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Za(this),this.P=a3,t=Zp?125:void 0,this.V=new Gu(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new YE}function YE(){this.i=null,this.g="",this.h=!1}var a3=45e3,sg={},lu={};ce=wl.prototype;ce.setTimeout=function(t){this.P=t};function og(t,e,n){t.L=1,t.v=Ju(Xr(e)),t.s=n,t.S=!0,QE(t,null)}function QE(t,e){t.G=Date.now(),bl(t),t.A=Xr(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),rT(n.i,"t",r),t.C=0,n=t.l.J,t.h=new YE,t.g=ET(t.l,n?e:null,!t.s),0<t.O&&(t.M=new n3(En(t.Pa,t,t.g),t.O)),BE(t.U,t.g,"readystatechange",t.nb),e=t.I?DE(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),el(),r3(t.j,t.u,t.A,t.m,t.W,t.s)}ce.nb=function(t){t=t.target;const e=this.M;e&&Or(t)==3?e.l():this.Pa(t)};ce.Pa=function(t){try{if(t==this.g)e:{const g=Or(this.g);var e=this.g.Ia();const v=this.g.da();if(!(3>g)&&(g!=3||Zp||this.g&&(this.h.h||this.g.ja()||ww(this.g)))){this.J||g!=4||e==7||(e==8||0>=v?el(3):el(2)),Xu(this);var n=this.g.da();this.ca=n;t:if($E(this)){var r=ww(this.g);t="";var i=r.length,s=Or(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Wi(this),Ma(this);var o="";break t}this.h.i=new Re.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,i3(this.j,this.u,this.A,this.m,this.W,g,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Qa(l)){var f=l;break t}}f=null}if(n=f)to(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ag(this,n);else{this.i=!1,this.o=3,Nn(12),Wi(this),Ma(this);break e}}this.S?(XE(this,g,o),Zp&&this.i&&g==3&&(BE(this.U,this.V,"tick",this.mb),this.V.start())):(to(this.j,this.m,o,null),ag(this,o)),g==4&&Wi(this),this.i&&!this.J&&(g==4?wT(this.l,this):(this.i=!1,bl(this)))}else C3(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Nn(12)):(this.o=0,Nn(13)),Wi(this),Ma(this)}}}catch{}finally{}};function $E(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function XE(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=l3(t,n),i==lu){e==4&&(t.o=4,Nn(14),r=!1),to(t.j,t.m,null,"[Incomplete Response]");break}else if(i==sg){t.o=4,Nn(15),to(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else to(t.j,t.m,i,null),ag(t,i);$E(t)&&i!=lu&&i!=sg&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Nn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),pm(e),e.M=!0,Nn(11))):(to(t.j,t.m,n,"[Invalid Chunked Response]"),Wi(t),Ma(t))}ce.mb=function(){if(this.g){var t=Or(this.g),e=this.g.ja();this.C<e.length&&(Xu(this),XE(this,t,e),this.i&&t!=4&&bl(this))}};function l3(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?lu:(n=Number(e.substring(n,r)),isNaN(n)?sg:(r+=1,r+n>e.length?lu:(e=e.slice(r,r+n),t.C=r+n,e)))}ce.cancel=function(){this.J=!0,Wi(this)};function bl(t){t.Y=Date.now()+t.P,JE(t,t.P)}function JE(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=yl(En(t.lb,t),e)}function Xu(t){t.B&&(Re.clearTimeout(t.B),t.B=null)}ce.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(s3(this.j,this.A),this.L!=2&&(el(),Nn(17)),Wi(this),this.o=2,Ma(this)):JE(this,this.Y-t)};function Ma(t){t.l.H==0||t.J||wT(t.l,t)}function Wi(t){Xu(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,im(t.V),WE(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function ag(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||lg(n.i,t))){if(!t.K&&lg(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)hu(n),nh(n);else break e;dm(n),Nn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=yl(En(n.ib,n),6e3));if(1>=oT(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else zi(n,11)}else if((t.K||n.g==t)&&hu(n),!Qa(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let f=i[e];if(n.V=f[0],f=f[1],n.H==2)if(f[0]=="c"){n.K=f[1],n.pa=f[2];const g=f[3];g!=null&&(n.ra=g,n.l.info("VER="+n.ra));const v=f[4];v!=null&&(n.Ga=v,n.l.info("SVER="+n.Ga));const _=f[5];_!=null&&typeof _=="number"&&0<_&&(r=1.5*_,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const m=t.g;if(m){const b=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(b){var s=r.i;s.g||b.indexOf("spdy")==-1&&b.indexOf("quic")==-1&&b.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(cm(s,s.h),s.h=null))}if(r.F){const I=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;I&&(r.Da=I,Tt(r.I,r.F,I))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=ST(r,r.J?r.pa:null,r.Y),o.K){aT(r.i,o);var l=o,c=r.L;c&&l.setTimeout(c),l.B&&(Xu(l),bl(l)),r.g=o}else yT(r);0<n.j.length&&rh(n)}else f[0]!="stop"&&f[0]!="close"||zi(n,7);else n.H==3&&(f[0]=="stop"||f[0]=="close"?f[0]=="stop"?zi(n,7):fm(n):f[0]!="noop"&&n.h&&n.h.Aa(f),n.A=0)}}el(4)}catch{}}function c3(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Wu(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function u3(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Wu(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function ZE(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Wu(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=u3(t),r=c3(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var eT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function h3(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ki(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ki){this.h=t.h,cu(this,t.j),this.s=t.s,this.g=t.g,uu(this,t.m),this.l=t.l;var e=t.i,n=new tl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),vw(this,n),this.o=t.o}else t&&(e=String(t).match(eT))?(this.h=!1,cu(this,e[1]||"",!0),this.s=Ca(e[2]||""),this.g=Ca(e[3]||"",!0),uu(this,e[4]),this.l=Ca(e[5]||"",!0),vw(this,e[6]||"",!0),this.o=Ca(e[7]||"")):(this.h=!1,this.i=new tl(null,this.h))}Ki.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Pa(e,yw,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Pa(e,yw,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Pa(n,n.charAt(0)=="/"?p3:d3,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Pa(n,m3)),t.join("")};function Xr(t){return new Ki(t)}function cu(t,e,n){t.j=n?Ca(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function uu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function vw(t,e,n){e instanceof tl?(t.i=e,v3(t.i,t.h)):(n||(e=Pa(e,g3)),t.i=new tl(e,t.h))}function Tt(t,e,n){t.i.set(e,n)}function Ju(t){return Tt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ca(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Pa(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,f3),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function f3(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var yw=/[#\/\?@]/g,d3=/[#\?:]/g,p3=/[#\?]/g,g3=/[#\?@]/g,m3=/#/g;function tl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ki(t){t.g||(t.g=new Map,t.h=0,t.i&&h3(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ce=tl.prototype;ce.add=function(t,e){ki(this),this.i=null,t=Mo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function tT(t,e){ki(t),e=Mo(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function nT(t,e){return ki(t),e=Mo(t,e),t.g.has(e)}ce.forEach=function(t,e){ki(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};ce.ta=function(){ki(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};ce.Z=function(t){ki(this);let e=[];if(typeof t=="string")nT(this,t)&&(e=e.concat(this.g.get(Mo(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ce.set=function(t,e){return ki(this),this.i=null,t=Mo(this,t),nT(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ce.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function rT(t,e,n){tT(t,e),0<n.length&&(t.i=null,t.g.set(Mo(t,e),Qg(n)),t.h+=n.length)}ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Mo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function v3(t,e){e&&!t.j&&(ki(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(tT(this,r),rT(this,i,n))},t)),t.j=e}var y3=class{constructor(t,e){this.g=t,this.map=e}};function iT(t){this.l=t||_3,Re.PerformanceNavigationTiming?(t=Re.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Re.g&&Re.g.Ka&&Re.g.Ka()&&Re.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var _3=10;function sT(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function oT(t){return t.h?1:t.g?t.g.size:0}function lg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function cm(t,e){t.g?t.g.add(e):t.h=e}function aT(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}iT.prototype.cancel=function(){if(this.i=lT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function lT(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Qg(t.i)}var w3=class{stringify(t){return Re.JSON.stringify(t,void 0)}parse(t){return Re.JSON.parse(t,void 0)}};function b3(){this.g=new w3}function A3(t,e,n){const r=n||"";try{ZE(t,function(i,s){let o=i;ml(i)&&(o=nm(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function S3(t,e){const n=new Ku;if(Re.Image){const r=new Image;r.onload=Pc(Dc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Pc(Dc,n,r,"TestLoadImage: error",!1,e),r.onabort=Pc(Dc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Pc(Dc,n,r,"TestLoadImage: timeout",!1,e),Re.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Dc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Zu(t){this.l=t.ec||null,this.j=t.ob||!1}cn(Zu,om);Zu.prototype.g=function(){return new eh(this.l,this.j)};Zu.prototype.i=function(t){return function(){return t}}({});function eh(t,e){ln.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=um,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}cn(eh,ln);var um=0;ce=eh.prototype;ce.open=function(t,e){if(this.readyState!=um)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,nl(this)};ce.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Re).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Al(this)),this.readyState=um};ce.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,nl(this)),this.g&&(this.readyState=3,nl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Re.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;cT(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function cT(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}ce.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Al(this):nl(this),this.readyState==3&&cT(this)}};ce.Za=function(t){this.g&&(this.response=this.responseText=t,Al(this))};ce.Ya=function(t){this.g&&(this.response=t,Al(this))};ce.ka=function(){this.g&&Al(this)};function Al(t){t.readyState=4,t.l=null,t.j=null,t.A=null,nl(t)}ce.setRequestHeader=function(t,e){this.v.append(t,e)};ce.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ce.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function nl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(eh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var E3=Re.JSON.parse;function Ft(t){ln.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=uT,this.L=this.M=!1}cn(Ft,ln);var uT="",T3=/^https?$/i,I3=["POST","PUT"];ce=Ft.prototype;ce.Oa=function(t){this.M=t};ce.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ig.g(),this.C=this.u?mw(this.u):mw(ig),this.g.onreadystatechange=En(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){_w(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Re.FormData&&t instanceof Re.FormData,!(0<=kE(I3,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{dT(this),0<this.B&&((this.L=k3(this.g))?(this.g.timeout=this.B,this.g.ontimeout=En(this.ua,this)):this.A=sm(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){_w(this,s)}};function k3(t){return po&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ce.ua=function(){typeof Yg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,mn(this,"timeout"),this.abort(8))};function _w(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,hT(t),th(t)}function hT(t){t.F||(t.F=!0,mn(t,"complete"),mn(t,"error"))}ce.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,mn(this,"complete"),mn(this,"abort"),th(this))};ce.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),th(this,!0)),Ft.$.N.call(this)};ce.La=function(){this.s||(this.G||this.v||this.l?fT(this):this.kb())};ce.kb=function(){fT(this)};function fT(t){if(t.h&&typeof Yg<"u"&&(!t.C[1]||Or(t)!=4||t.da()!=2)){if(t.v&&Or(t)==4)sm(t.La,0,t);else if(mn(t,"readystatechange"),Or(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(eT)[1]||null;!i&&Re.self&&Re.self.location&&(i=Re.self.location.protocol.slice(0,-1)),r=!T3.test(i?i.toLowerCase():"")}n=r}if(n)mn(t,"complete"),mn(t,"success");else{t.m=6;try{var s=2<Or(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",hT(t)}}finally{th(t)}}}}function th(t,e){if(t.g){dT(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||mn(t,"ready");try{n.onreadystatechange=r}catch{}}}function dT(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Re.clearTimeout(t.A),t.A=null)}ce.isActive=function(){return!!this.g};function Or(t){return t.g?t.g.readyState:0}ce.da=function(){try{return 2<Or(this)?this.g.status:-1}catch{return-1}};ce.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};ce.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),E3(e)}};function ww(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case uT:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function C3(t){const e={};t=(t.g&&2<=Or(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Qa(t[r]))continue;var n=ZV(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}GV(e,function(r){return r.join(", ")})}ce.Ia=function(){return this.m};ce.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function pT(t){let e="";return Xg(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function hm(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=pT(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Tt(t,e,n))}function wa(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function gT(t){this.Ga=0,this.j=[],this.l=new Ku,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=wa("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=wa("baseRetryDelayMs",5e3,t),this.hb=wa("retryDelaySeedMs",1e4,t),this.eb=wa("forwardChannelMaxRetries",2,t),this.xa=wa("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new iT(t&&t.concurrentRequestLimit),this.Ja=new b3,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}ce=gT.prototype;ce.ra=8;ce.H=1;function fm(t){if(mT(t),t.H==3){var e=t.W++,n=Xr(t.I);if(Tt(n,"SID",t.K),Tt(n,"RID",e),Tt(n,"TYPE","terminate"),Sl(t,n),e=new wl(t,t.l,e),e.L=2,e.v=Ju(Xr(n)),n=!1,Re.navigator&&Re.navigator.sendBeacon)try{n=Re.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Re.Image&&(new Image().src=e.v,n=!0),n||(e.g=ET(e.l,null),e.g.ha(e.v)),e.G=Date.now(),bl(e)}AT(t)}function nh(t){t.g&&(pm(t),t.g.cancel(),t.g=null)}function mT(t){nh(t),t.u&&(Re.clearTimeout(t.u),t.u=null),hu(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Re.clearTimeout(t.m),t.m=null)}function rh(t){if(!sT(t.i)&&!t.m){t.m=!0;var e=t.Na;Xa||xE(),Ja||(Xa(),Ja=!0),rm.add(e,t),t.C=0}}function P3(t,e){return oT(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=yl(En(t.Na,t,e),bT(t,t.C)),t.C++,!0)}ce.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new wl(this,this.l,t);let s=this.s;if(this.U&&(s?(s=DE(s),OE(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=vT(this,i,e),n=Xr(this.I),Tt(n,"RID",t),Tt(n,"CVER",22),this.F&&Tt(n,"X-HTTP-Session-Id",this.F),Sl(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(pT(s)))+"&"+e:this.o&&hm(n,this.o,s)),cm(this.i,i),this.bb&&Tt(n,"TYPE","init"),this.P?(Tt(n,"$req",e),Tt(n,"SID","null"),i.aa=!0,og(i,n,null)):og(i,n,e),this.H=2}}else this.H==3&&(t?bw(this,t):this.j.length==0||sT(this.i)||bw(this))};function bw(t,e){var n;e?n=e.m:n=t.W++;const r=Xr(t.I);Tt(r,"SID",t.K),Tt(r,"RID",n),Tt(r,"AID",t.V),Sl(t,r),t.o&&t.s&&hm(r,t.o,t.s),n=new wl(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=vT(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),cm(t.i,n),og(n,r,e)}function Sl(t,e){t.na&&Xg(t.na,function(n,r){Tt(e,r,n)}),t.h&&ZE({},function(n,r){Tt(e,r,n)})}function vT(t,e,n){n=Math.min(t.j.length,n);var r=t.h?En(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let l=!0;for(let c=0;c<n;c++){let f=i[c].g;const g=i[c].map;if(f-=s,0>f)s=Math.max(0,i[c].g-100),l=!1;else try{A3(g,o,"req"+f+"_")}catch{r&&r(g)}}if(l){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function yT(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Xa||xE(),Ja||(Xa(),Ja=!0),rm.add(e,t),t.A=0}}function dm(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=yl(En(t.Ma,t),bT(t,t.A)),t.A++,!0)}ce.Ma=function(){if(this.u=null,_T(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=yl(En(this.jb,this),t)}};ce.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Nn(10),nh(this),_T(this))};function pm(t){t.B!=null&&(Re.clearTimeout(t.B),t.B=null)}function _T(t){t.g=new wl(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Xr(t.wa);Tt(e,"RID","rpc"),Tt(e,"SID",t.K),Tt(e,"AID",t.V),Tt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Tt(e,"TO",t.qa),Tt(e,"TYPE","xmlhttp"),Sl(t,e),t.o&&t.s&&hm(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Ju(Xr(e)),n.s=null,n.S=!0,QE(n,t)}ce.ib=function(){this.v!=null&&(this.v=null,nh(this),dm(this),Nn(19))};function hu(t){t.v!=null&&(Re.clearTimeout(t.v),t.v=null)}function wT(t,e){var n=null;if(t.g==e){hu(t),pm(t),t.g=null;var r=2}else if(lg(t.i,e))n=e.F,aT(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=Yu(),mn(r,new qE(r,n)),rh(t)}else yT(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&P3(t,e)||r==2&&dm(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:zi(t,5);break;case 4:zi(t,10);break;case 3:zi(t,6);break;default:zi(t,2)}}}function bT(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function zi(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=En(t.pb,t);n||(n=new Ki("//www.google.com/images/cleardot.gif"),Re.location&&Re.location.protocol=="http"||cu(n,"https"),Ju(n)),S3(n.toString(),r)}else Nn(2);t.H=0,t.h&&t.h.za(e),AT(t),mT(t)}ce.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Nn(2)):(this.l.info("Failed to ping google.com"),Nn(1))};function AT(t){if(t.H=0,t.ma=[],t.h){const e=lT(t.i);(e.length!=0||t.j.length!=0)&&(hw(t.ma,e),hw(t.ma,t.j),t.i.i.length=0,Qg(t.j),t.j.length=0),t.h.ya()}}function ST(t,e,n){var r=n instanceof Ki?Xr(n):new Ki(n);if(r.g!="")e&&(r.g=e+"."+r.g),uu(r,r.m);else{var i=Re.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ki(null);r&&cu(s,r),e&&(s.g=e),i&&uu(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Tt(r,n,e),Tt(r,"VER",t.ra),Sl(t,r),r}function ET(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Ft(new Zu({ob:!0})):new Ft(t.va),e.Oa(t.J),e}ce.isActive=function(){return!!this.h&&this.h.isActive(this)};function TT(){}ce=TT.prototype;ce.Ba=function(){};ce.Aa=function(){};ce.za=function(){};ce.ya=function(){};ce.isActive=function(){return!0};ce.Va=function(){};function fu(){if(po&&!(10<=Number(WV)))throw Error("Environmental error: no available transport.")}fu.prototype.g=function(t,e){return new Qn(t,e)};function Qn(t,e){ln.call(this),this.g=new gT(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Qa(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Qa(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new No(this)}cn(Qn,ln);Qn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Nn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=ST(t,null,t.Y),rh(t)};Qn.prototype.close=function(){fm(this.g)};Qn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=nm(t),t=n);e.j.push(new y3(e.fb++,t)),e.H==3&&rh(e)};Qn.prototype.N=function(){this.g.h=null,delete this.j,fm(this.g),delete this.g,Qn.$.N.call(this)};function IT(t){am.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}cn(IT,am);function kT(){lm.call(this),this.status=1}cn(kT,lm);function No(t){this.g=t}cn(No,TT);No.prototype.Ba=function(){mn(this.g,"a")};No.prototype.Aa=function(t){mn(this.g,new IT(t))};No.prototype.za=function(t){mn(this.g,new kT)};No.prototype.ya=function(){mn(this.g,"b")};function R3(){this.blockSize=-1}function hr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}cn(hr,R3);hr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Jd(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}hr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Jd(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Jd(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Jd(this,r),i=0;break}}this.h=i,this.i+=e};hr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function gt(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var D3={};function gm(t){return-128<=t&&128>t?xV(t,function(e){return new gt([e|0],0>e?-1:0)}):new gt([t|0],0>t?-1:0)}function Mr(t){if(isNaN(t)||!isFinite(t))return so;if(0>t)return pn(Mr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=cg;return new gt(e,0)}function CT(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return pn(CT(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Mr(Math.pow(e,8)),r=so,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Mr(Math.pow(e,s)),r=r.R(s).add(Mr(o))):(r=r.R(n),r=r.add(Mr(o)))}return r}var cg=4294967296,so=gm(0),ug=gm(1),Aw=gm(16777216);ce=gt.prototype;ce.ea=function(){if(nr(this))return-pn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:cg+r)*e,e*=cg}return t};ce.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Yr(this))return"0";if(nr(this))return"-"+pn(this).toString(t);for(var e=Mr(Math.pow(t,6)),n=this,r="";;){var i=pu(n,e).g;n=du(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Yr(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};ce.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Yr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function nr(t){return t.h==-1}ce.X=function(t){return t=du(this,t),nr(t)?-1:Yr(t)?0:1};function pn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new gt(n,~t.h).add(ug)}ce.abs=function(){return nr(this)?pn(this):this};ce.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new gt(n,n[n.length-1]&-2147483648?-1:0)};function du(t,e){return t.add(pn(e))}ce.R=function(t){if(Yr(this)||Yr(t))return so;if(nr(this))return nr(t)?pn(this).R(pn(t)):pn(pn(this).R(t));if(nr(t))return pn(this.R(pn(t)));if(0>this.X(Aw)&&0>t.X(Aw))return Mr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,l=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,Oc(n,2*r+2*i),n[2*r+2*i+1]+=s*c,Oc(n,2*r+2*i+1),n[2*r+2*i+1]+=o*l,Oc(n,2*r+2*i+1),n[2*r+2*i+2]+=s*l,Oc(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new gt(n,0)};function Oc(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ba(t,e){this.g=t,this.h=e}function pu(t,e){if(Yr(e))throw Error("division by zero");if(Yr(t))return new ba(so,so);if(nr(t))return e=pu(pn(t),e),new ba(pn(e.g),pn(e.h));if(nr(e))return e=pu(t,pn(e)),new ba(pn(e.g),e.h);if(30<t.g.length){if(nr(t)||nr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=ug,r=e;0>=r.X(t);)n=Sw(n),r=Sw(r);var i=zs(n,1),s=zs(r,1);for(r=zs(r,2),n=zs(n,2);!Yr(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=zs(r,1),n=zs(n,1)}return e=du(t,i.R(e)),new ba(i,e)}for(i=so;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Mr(n),o=s.R(e);nr(o)||0<o.X(t);)n-=r,s=Mr(n),o=s.R(e);Yr(s)&&(s=ug),i=i.add(s),t=du(t,o)}return new ba(i,t)}ce.gb=function(t){return pu(this,t).h};ce.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new gt(n,this.h&t.h)};ce.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new gt(n,this.h|t.h)};ce.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new gt(n,this.h^t.h)};function Sw(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new gt(n,t.h)}function zs(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new gt(i,t.h)}fu.prototype.createWebChannel=fu.prototype.g;Qn.prototype.send=Qn.prototype.u;Qn.prototype.open=Qn.prototype.m;Qn.prototype.close=Qn.prototype.close;Qu.NO_ERROR=0;Qu.TIMEOUT=8;Qu.HTTP_ERROR=6;GE.COMPLETE="complete";KE.EventType=_l;_l.OPEN="a";_l.CLOSE="b";_l.ERROR="c";_l.MESSAGE="d";ln.prototype.listen=ln.prototype.O;Ft.prototype.listenOnce=Ft.prototype.P;Ft.prototype.getLastError=Ft.prototype.Sa;Ft.prototype.getLastErrorCode=Ft.prototype.Ia;Ft.prototype.getStatus=Ft.prototype.da;Ft.prototype.getResponseJson=Ft.prototype.Wa;Ft.prototype.getResponseText=Ft.prototype.ja;Ft.prototype.send=Ft.prototype.ha;Ft.prototype.setWithCredentials=Ft.prototype.Oa;hr.prototype.digest=hr.prototype.l;hr.prototype.reset=hr.prototype.reset;hr.prototype.update=hr.prototype.j;gt.prototype.add=gt.prototype.add;gt.prototype.multiply=gt.prototype.R;gt.prototype.modulo=gt.prototype.gb;gt.prototype.compare=gt.prototype.X;gt.prototype.toNumber=gt.prototype.ea;gt.prototype.toString=gt.prototype.toString;gt.prototype.getBits=gt.prototype.D;gt.fromNumber=Mr;gt.fromString=CT;var O3=function(){return new fu},M3=function(){return Yu()},Zd=Qu,N3=GE,L3=us,Ew={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Mc=KE,V3=Ft,H3=hr,oo=gt;const Tw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}An.UNAUTHENTICATED=new An(null),An.GOOGLE_CREDENTIALS=new An("google-credentials-uid"),An.FIRST_PARTY=new An("first-party-uid"),An.MOCK_USER=new An("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lo="10.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi=new Bu("@firebase/firestore");function Aa(){return Zi.logLevel}function ge(t,...e){if(Zi.logLevel<=Ye.DEBUG){const n=e.map(mm);Zi.debug(`Firestore (${Lo}): ${t}`,...n)}}function Jr(t,...e){if(Zi.logLevel<=Ye.ERROR){const n=e.map(mm);Zi.error(`Firestore (${Lo}): ${t}`,...n)}}function go(t,...e){if(Zi.logLevel<=Ye.WARN){const n=e.map(mm);Zi.warn(`Firestore (${Lo}): ${t}`,...n)}}function mm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(t="Unexpected state"){const e=`FIRESTORE (${Lo}) INTERNAL ASSERTION FAILED: `+t;throw Jr(e),new Error(e)}function kt(t,e){t||Ce()}function Le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends gr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class F3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(An.UNAUTHENTICATED))}shutdown(){}}class x3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class U3{constructor(e){this.t=e,this.currentUser=An.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new yi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new yi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new yi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(kt(typeof r.accessToken=="string"),new PT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return kt(e===null||typeof e=="string"),new An(e)}}class B3{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=An.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class W3{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new B3(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(An.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class z3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class j3{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ge("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(kt(typeof n.token=="string"),this.R=n.token,new z3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=q3(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function at(t,e){return t<e?-1:t>e?1:0}function mo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new pe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Xt.fromMillis(Date.now())}static fromDate(e){return Xt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Xt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?at(this.nanoseconds,e.nanoseconds):at(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new Xt(0,0))}static max(){return new Oe(new Xt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ce(),r===void 0?r=e.length-n:r>e.length-n&&Ce(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return rl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof rl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class It extends rl{construct(e,n,r){return new It(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new It(n)}static emptyPath(){return new It([])}}const G3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gn extends rl{construct(e,n,r){return new gn(e,n,r)}static isValidIdentifier(e){return G3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new gn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new pe(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new pe(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new pe(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new pe(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gn(n)}static emptyPath(){return new gn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(It.fromString(e))}static fromName(e){return new Ee(It.fromString(e).popFirst(5))}static empty(){return new Ee(It.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&It.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return It.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new It(e.slice()))}}function K3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Oe.fromTimestamp(r===1e9?new Xt(n+1,0):new Xt(n,r));return new Ai(i,Ee.empty(),e)}function Y3(t){return new Ai(t.readTime,t.key,-1)}class Ai{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ai(Oe.min(),Ee.empty(),-1)}static max(){return new Ai(Oe.max(),Ee.empty(),-1)}}function Q3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(t.documentKey,e.documentKey),n!==0?n:at(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class X3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function El(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==$3)throw t;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.reject(n)}static resolve(e){return new ne((n,r)=>{n(e)})}static reject(e){return new ne((n,r)=>{r(e)})}static waitFor(e){return new ne((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=ne.resolve(!1);for(const r of e)n=n.next(i=>i?ne.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new ne((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let c=0;c<s;c++){const f=c;n(e[f]).next(g=>{o[f]=g,++l,l===s&&r(o)},g=>i(g))}})}static doWhile(e,n){return new ne((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Tl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}vm.ae=-1;function ih(t){return t==null}function gu(t){return t===0&&1/t==-1/0}function J3(t){return typeof t=="number"&&Number.isInteger(t)&&!gu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function hs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function DT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e,n){this.comparator=e,this.root=n||dn.EMPTY}insert(e,n){return new Lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dn.BLACK,null,null))}remove(e){return new Lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nc(this.root,e,this.comparator,!0)}}class Nc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??dn.RED,this.left=i??dn.EMPTY,this.right=s??dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new dn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return dn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ce();const e=this.left.check();if(e!==this.right.check())throw Ce();return e+(this.isRed()?0:1)}}dn.EMPTY=null,dn.RED=!0,dn.BLACK=!1;dn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce()}get value(){throw Ce()}get color(){throw Ce()}get left(){throw Ce()}get right(){throw Ce()}copy(e,n,r,i,s){return this}insert(e,n,r){return new dn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.comparator=e,this.data=new Lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new kw(this.data.getIterator())}getIteratorFrom(e){return new kw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof vn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new vn(this.comparator);return n.data=e,n}}class kw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(gn.comparator)}static empty(){return new Gn([])}unionWith(e){let n=new vn(gn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Gn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return mo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new OT("Invalid base64 string: "+s):s}}(e);return new kn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new kn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return at(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kn.EMPTY_BYTE_STRING=new kn("");const Z3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Si(t){if(kt(!!t),typeof t=="string"){let e=0;const n=Z3.exec(t);if(kt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Yt(t.seconds),nanos:Yt(t.nanos)}}function Yt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function es(t){return typeof t=="string"?kn.fromBase64String(t):kn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function _m(t){const e=t.mapValue.fields.__previous_value__;return ym(e)?_m(e):e}function il(t){const e=Si(t.mapValue.fields.__local_write_time__.timestampValue);return new Xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eH{constructor(e,n,r,i,s,o,l,c,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=f}}class sl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new sl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof sl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ts(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ym(t)?4:tH(t)?9007199254740991:10:Ce()}function Ur(t,e){if(t===e)return!0;const n=ts(t);if(n!==ts(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return il(t).isEqual(il(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Si(i.timestampValue),l=Si(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return es(i.bytesValue).isEqual(es(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Yt(i.geoPointValue.latitude)===Yt(s.geoPointValue.latitude)&&Yt(i.geoPointValue.longitude)===Yt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Yt(i.integerValue)===Yt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Yt(i.doubleValue),l=Yt(s.doubleValue);return o===l?gu(o)===gu(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return mo(t.arrayValue.values||[],e.arrayValue.values||[],Ur);case 10:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(Iw(o)!==Iw(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!Ur(o[c],l[c])))return!1;return!0}(t,e);default:return Ce()}}function ol(t,e){return(t.values||[]).find(n=>Ur(n,e))!==void 0}function vo(t,e){if(t===e)return 0;const n=ts(t),r=ts(e);if(n!==r)return at(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return at(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=Yt(s.integerValue||s.doubleValue),c=Yt(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return Cw(t.timestampValue,e.timestampValue);case 4:return Cw(il(t),il(e));case 5:return at(t.stringValue,e.stringValue);case 6:return function(s,o){const l=es(s),c=es(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),c=o.split("/");for(let f=0;f<l.length&&f<c.length;f++){const g=at(l[f],c[f]);if(g!==0)return g}return at(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=at(Yt(s.latitude),Yt(o.latitude));return l!==0?l:at(Yt(s.longitude),Yt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const l=s.values||[],c=o.values||[];for(let f=0;f<l.length&&f<c.length;++f){const g=vo(l[f],c[f]);if(g)return g}return at(l.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Lc.mapValue&&o===Lc.mapValue)return 0;if(s===Lc.mapValue)return 1;if(o===Lc.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),f=o.fields||{},g=Object.keys(f);c.sort(),g.sort();for(let v=0;v<c.length&&v<g.length;++v){const _=at(c[v],g[v]);if(_!==0)return _;const m=vo(l[c[v]],f[g[v]]);if(m!==0)return m}return at(c.length,g.length)}(t.mapValue,e.mapValue);default:throw Ce()}}function Cw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return at(t,e);const n=Si(t),r=Si(e),i=at(n.seconds,r.seconds);return i!==0?i:at(n.nanos,r.nanos)}function yo(t){return hg(t)}function hg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Si(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return es(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=hg(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${hg(n.fields[o])}`;return i+"}"}(t.mapValue):Ce()}function Pw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function fg(t){return!!t&&"integerValue"in t}function wm(t){return!!t&&"arrayValue"in t}function Rw(t){return!!t&&"nullValue"in t}function Dw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function jc(t){return!!t&&"mapValue"in t}function Na(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return hs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Na(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Na(t.arrayValue.values[n]);return e}return Object.assign({},t)}function tH(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.value=e}static empty(){return new Un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!jc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Na(n)}setAll(e){let n=gn.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Na(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());jc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ur(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];jc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){hs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Un(Na(this.value))}}function MT(t){const e=[];return hs(t.fields,(n,r)=>{const i=new gn([n]);if(jc(r)){const s=MT(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Sn(e,0,Oe.min(),Oe.min(),Oe.min(),Un.empty(),0)}static newFoundDocument(e,n,r,i){return new Sn(e,1,n,Oe.min(),r,i,0)}static newNoDocument(e,n){return new Sn(e,2,n,Oe.min(),Oe.min(),Un.empty(),0)}static newUnknownDocument(e,n){return new Sn(e,3,n,Oe.min(),Oe.min(),Un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,n){this.position=e,this.inclusive=n}}function Ow(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Ee.comparator(Ee.fromName(o.referenceValue),n.key):r=vo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Mw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ur(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,n="asc"){this.field=e,this.dir=n}}function nH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{}class Qt extends NT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new iH(e,n,r):n==="array-contains"?new aH(e,r):n==="in"?new lH(e,r):n==="not-in"?new cH(e,r):n==="array-contains-any"?new uH(e,r):new Qt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new sH(e,r):new oH(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(vo(n,this.value)):n!==null&&ts(this.value)===ts(n)&&this.matchesComparison(vo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fr extends NT{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new fr(e,n)}matches(e){return LT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function LT(t){return t.op==="and"}function VT(t){return rH(t)&&LT(t)}function rH(t){for(const e of t.filters)if(e instanceof fr)return!1;return!0}function dg(t){if(t instanceof Qt)return t.field.canonicalString()+t.op.toString()+yo(t.value);if(VT(t))return t.filters.map(e=>dg(e)).join(",");{const e=t.filters.map(n=>dg(n)).join(",");return`${t.op}(${e})`}}function HT(t,e){return t instanceof Qt?function(r,i){return i instanceof Qt&&r.op===i.op&&r.field.isEqual(i.field)&&Ur(r.value,i.value)}(t,e):t instanceof fr?function(r,i){return i instanceof fr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&HT(o,i.filters[l]),!0):!1}(t,e):void Ce()}function FT(t){return t instanceof Qt?function(n){return`${n.field.canonicalString()} ${n.op} ${yo(n.value)}`}(t):t instanceof fr?function(n){return n.op.toString()+" {"+n.getFilters().map(FT).join(" ,")+"}"}(t):"Filter"}class iH extends Qt{constructor(e,n,r){super(e,n,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class sH extends Qt{constructor(e,n){super(e,"in",n),this.keys=xT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class oH extends Qt{constructor(e,n){super(e,"not-in",n),this.keys=xT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function xT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ee.fromName(r.referenceValue))}class aH extends Qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return wm(n)&&ol(n.arrayValue,this.value)}}class lH extends Qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ol(this.value.arrayValue,n)}}class cH extends Qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ol(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ol(this.value.arrayValue,n)}}class uH extends Qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!wm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ol(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hH{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.le=null}}function Nw(t,e=null,n=[],r=[],i=null,s=null,o=null){return new hH(t,e,n,r,i,s,o)}function bm(t){const e=Le(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>dg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),ih(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>yo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>yo(r)).join(",")),e.le=n}return e.le}function Am(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!nH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!HT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Mw(t.startAt,e.startAt)&&Mw(t.endAt,e.endAt)}function pg(t){return Ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=c,this.he=null,this.Pe=null,this.Ie=null,this.startAt,this.endAt}}function fH(t,e,n,r,i,s,o,l){return new Il(t,e,n,r,i,s,o,l)}function UT(t){return new Il(t)}function Lw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function BT(t){return t.collectionGroup!==null}function La(t){const e=Le(t);if(e.he===null){e.he=[];const n=new Set;for(const s of e.explicitOrderBy)e.he.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new vn(gn.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(f=>{f.isInequality()&&(l=l.add(f.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.he.push(new vu(s,r))}),n.has(gn.keyField().canonicalString())||e.he.push(new vu(gn.keyField(),r))}return e.he}function Nr(t){const e=Le(t);return e.Pe||(e.Pe=dH(e,La(t))),e.Pe}function dH(t,e){if(t.limitType==="F")return Nw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new vu(i.field,s)});const n=t.endAt?new mu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new mu(t.startAt.position,t.startAt.inclusive):null;return Nw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function gg(t,e){const n=t.filters.concat([e]);return new Il(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function mg(t,e,n){return new Il(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function sh(t,e){return Am(Nr(t),Nr(e))&&t.limitType===e.limitType}function WT(t){return`${bm(Nr(t))}|lt:${t.limitType}`}function Xs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>FT(i)).join(", ")}]`),ih(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>yo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>yo(i)).join(",")),`Target(${r})`}(Nr(t))}; limitType=${t.limitType})`}function oh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ee.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of La(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,c){const f=Ow(o,l,c);return o.inclusive?f<=0:f<0}(r.startAt,La(r),i)||r.endAt&&!function(o,l,c){const f=Ow(o,l,c);return o.inclusive?f>=0:f>0}(r.endAt,La(r),i))}(t,e)}function pH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function zT(t){return(e,n)=>{let r=!1;for(const i of La(t)){const s=gH(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function gH(t,e,n){const r=t.field.isKeyField()?Ee.comparator(e.key,n.key):function(s,o,l){const c=o.data.field(s),f=l.data.field(s);return c!==null&&f!==null?vo(c,f):Ce()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){hs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return DT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mH=new Lt(Ee.comparator);function Zr(){return mH}const jT=new Lt(Ee.comparator);function Ra(...t){let e=jT;for(const n of t)e=e.insert(n.key,n);return e}function qT(t){let e=jT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ji(){return Va()}function GT(){return Va()}function Va(){return new Vo(t=>t.toString(),(t,e)=>t.isEqual(e))}const vH=new Lt(Ee.comparator),yH=new vn(Ee.comparator);function ze(...t){let e=yH;for(const n of t)e=e.add(n);return e}const _H=new vn(at);function wH(){return _H}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gu(e)?"-0":e}}function YT(t){return{integerValue:""+t}}function bH(t,e){return J3(e)?YT(e):KT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(){this._=void 0}}function AH(t,e,n){return t instanceof yu?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&ym(s)&&(s=_m(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof al?$T(t,e):t instanceof ll?XT(t,e):function(i,s){const o=QT(i,s),l=Vw(o)+Vw(i.Te);return fg(o)&&fg(i.Te)?YT(l):KT(i.serializer,l)}(t,e)}function SH(t,e,n){return t instanceof al?$T(t,e):t instanceof ll?XT(t,e):n}function QT(t,e){return t instanceof _u?function(r){return fg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class yu extends ah{}class al extends ah{constructor(e){super(),this.elements=e}}function $T(t,e){const n=JT(e);for(const r of t.elements)n.some(i=>Ur(i,r))||n.push(r);return{arrayValue:{values:n}}}class ll extends ah{constructor(e){super(),this.elements=e}}function XT(t,e){let n=JT(e);for(const r of t.elements)n=n.filter(i=>!Ur(i,r));return{arrayValue:{values:n}}}class _u extends ah{constructor(e,n){super(),this.serializer=e,this.Te=n}}function Vw(t){return Yt(t.integerValue||t.doubleValue)}function JT(t){return wm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function EH(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof al&&i instanceof al||r instanceof ll&&i instanceof ll?mo(r.elements,i.elements,Ur):r instanceof _u&&i instanceof _u?Ur(r.Te,i.Te):r instanceof yu&&i instanceof yu}(t.transform,e.transform)}class TH{constructor(e,n){this.version=e,this.transformResults=n}}class Lr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Lr}static exists(e){return new Lr(void 0,e)}static updateTime(e){return new Lr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class lh{}function ZT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new tI(t.key,Lr.none()):new kl(t.key,t.data,Lr.none());{const n=t.data,r=Un.empty();let i=new vn(gn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ci(t.key,r,new Gn(i.toArray()),Lr.none())}}function IH(t,e,n){t instanceof kl?function(i,s,o){const l=i.value.clone(),c=Fw(i.fieldTransforms,s,o.transformResults);l.setAll(c),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Ci?function(i,s,o){if(!qc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=Fw(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(eI(i)),c.setAll(l),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ha(t,e,n,r){return t instanceof kl?function(s,o,l,c){if(!qc(s.precondition,o))return l;const f=s.value.clone(),g=xw(s.fieldTransforms,c,o);return f.setAll(g),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ci?function(s,o,l,c){if(!qc(s.precondition,o))return l;const f=xw(s.fieldTransforms,c,o),g=o.data;return g.setAll(eI(s)),g.setAll(f),o.convertToFoundDocument(o.version,g).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(v=>v.field))}(t,e,n,r):function(s,o,l){return qc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function kH(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=QT(r.transform,i||null);s!=null&&(n===null&&(n=Un.empty()),n.set(r.field,s))}return n||null}function Hw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&mo(r,i,(s,o)=>EH(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class kl extends lh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ci extends lh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function eI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Fw(t,e,n){const r=new Map;kt(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,SH(o,l,n[i]))}return r}function xw(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,AH(s,o,e))}return r}class tI extends lh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CH extends lh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PH{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&IH(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ha(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ha(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=GT();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const c=ZT(o,l);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(Oe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ze())}isEqual(e){return this.batchId===e.batchId&&mo(this.mutations,e.mutations,(n,r)=>Hw(n,r))&&mo(this.baseMutations,e.baseMutations,(n,r)=>Hw(n,r))}}class Sm{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){kt(e.mutations.length===r.length);let i=function(){return vH}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Sm(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RH{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DH{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt,Ze;function OH(t){switch(t){default:return Ce();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0}}function nI(t){if(t===void 0)return Jr("GRPC error has no .code"),te.UNKNOWN;switch(t){case Gt.OK:return te.OK;case Gt.CANCELLED:return te.CANCELLED;case Gt.UNKNOWN:return te.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return te.INTERNAL;case Gt.UNAVAILABLE:return te.UNAVAILABLE;case Gt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Gt.NOT_FOUND:return te.NOT_FOUND;case Gt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Gt.ABORTED:return te.ABORTED;case Gt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Gt.DATA_LOSS:return te.DATA_LOSS;default:return Ce()}}(Ze=Gt||(Gt={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MH(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NH=new oo([4294967295,4294967295],0);function Uw(t){const e=MH().encode(t),n=new H3;return n.update(e),new Uint8Array(n.digest())}function Bw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new oo([n,r],0),new oo([i,s],0)]}class Em{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Da(`Invalid padding: ${n}`);if(r<0)throw new Da(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Da(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Da(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=oo.fromNumber(this.Ee)}Ae(e,n,r){let i=e.add(n.multiply(oo.fromNumber(r)));return i.compare(NH)===1&&(i=new oo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ee===0)return!1;const n=Uw(e),[r,i]=Bw(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);if(!this.Re(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Em(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ee===0)return;const n=Uw(e),[r,i]=Bw(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);this.Ve(o)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Da extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Cl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ch(Oe.min(),i,new Lt(at),Zr(),ze())}}class Cl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Cl(r,n,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n,r,i){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=i}}class rI{constructor(e,n){this.targetId=e,this.ge=n}}class iI{constructor(e,n,r=kn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Ww{constructor(){this.pe=0,this.ye=jw(),this.we=kn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get Ce(){return this.be}ve(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=ze(),n=ze(),r=ze();return this.ye.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ce()}}),new Cl(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=jw()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1}Le(){this.be=!0,this.Se=!0}}class LH{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Zr(),this.Ke=zw(),this.$e=new Lt(at)}Ue(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.We(n,e.fe):this.Ge(n,e.key,e.fe);for(const n of e.removedTargetIds)this.Ge(n,e.key,e.fe)}ze(e){this.forEachTarget(e,n=>{const r=this.je(n);switch(e.state){case 0:this.He(n)&&r.ve(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.ve(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.He(n)&&(r.Le(),r.ve(e.resumeToken));break;case 4:this.He(n)&&(this.Je(n),r.ve(e.resumeToken));break;default:Ce()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.He(i)&&n(i)})}Ye(e){const n=e.targetId,r=e.ge.count,i=this.Ze(n);if(i){const s=i.target;if(pg(s))if(r===0){const o=new Ee(s.path);this.Ge(n,o,Sn.newNoDocument(o,Oe.min()))}else kt(r===1);else{const o=this.Xe(n);if(o!==r){const l=this.et(e),c=l?this.tt(l,e,o):1;if(c!==0){this.Je(n);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.$e=this.$e.insert(n,f)}}}}}et(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=es(r).toUint8Array()}catch(c){if(c instanceof OT)return go("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Em(o,i,s)}catch(c){return go(c instanceof Da?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ee===0?null:l}tt(e,n,r){return n.ge.count===r-this.it(e,n.targetId)?0:2}it(e,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ke.rt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.Ge(n,s,null),i++)}),i}st(e){const n=new Map;this.qe.forEach((s,o)=>{const l=this.Ze(o);if(l){if(s.current&&pg(l.target)){const c=new Ee(l.target.path);this.Qe.get(c)!==null||this.ot(o,c)||this.Ge(o,c,Sn.newNoDocument(c,e))}s.Ce&&(n.set(o,s.Fe()),s.Me())}});let r=ze();this.Ke.forEach((s,o)=>{let l=!0;o.forEachWhile(c=>{const f=this.Ze(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.Qe.forEach((s,o)=>o.setReadTime(e));const i=new ch(e,n,this.$e,this.Qe,r);return this.Qe=Zr(),this.Ke=zw(),this.$e=new Lt(at),i}We(e,n){if(!this.He(e))return;const r=this.ot(e,n.key)?2:0;this.je(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.Ke=this.Ke.insert(n.key,this._t(n.key).add(e))}Ge(e,n,r){if(!this.He(e))return;const i=this.je(e);this.ot(e,n)?i.xe(n,1):i.Oe(n),this.Ke=this.Ke.insert(n,this._t(n).delete(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}Xe(e){const n=this.je(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.je(e).Ne()}je(e){let n=this.qe.get(e);return n||(n=new Ww,this.qe.set(e,n)),n}_t(e){let n=this.Ke.get(e);return n||(n=new vn(at),this.Ke=this.Ke.insert(e,n)),n}He(e){const n=this.Ze(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}Ze(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.ut(e)}Je(e){this.qe.set(e,new Ww),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.Ge(e,n,null)})}ot(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function zw(){return new Lt(Ee.comparator)}function jw(){return new Lt(Ee.comparator)}const VH=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),HH=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),FH=(()=>({and:"AND",or:"OR"}))();class xH{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function vg(t,e){return t.useProto3Json||ih(e)?e:{value:e}}function wu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function UH(t,e){return wu(t,e.toTimestamp())}function Vr(t){return kt(!!t),Oe.fromTimestamp(function(n){const r=Si(n);return new Xt(r.seconds,r.nanos)}(t))}function Tm(t,e){return function(r){return new It(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function oI(t){const e=It.fromString(t);return kt(uI(e)),e}function yg(t,e){return Tm(t.databaseId,e.path)}function ep(t,e){const n=oI(e);if(n.get(1)!==t.databaseId.projectId)throw new pe(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new pe(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ee(aI(n))}function _g(t,e){return Tm(t.databaseId,e)}function BH(t){const e=oI(t);return e.length===4?It.emptyPath():aI(e)}function wg(t){return new It(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function aI(t){return kt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function qw(t,e,n){return{name:yg(t,e),fields:n.value.mapValue.fields}}function WH(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(f,g){return f.useProto3Json?(kt(g===void 0||typeof g=="string"),kn.fromBase64String(g||"")):(kt(g===void 0||g instanceof Uint8Array),kn.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(f){const g=f.code===void 0?te.UNKNOWN:nI(f.code);return new pe(g,f.message||"")}(o);n=new iI(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ep(t,r.document.name),s=Vr(r.document.updateTime),o=r.document.createTime?Vr(r.document.createTime):Oe.min(),l=new Un({mapValue:{fields:r.document.fields}}),c=Sn.newFoundDocument(i,s,o,l),f=r.targetIds||[],g=r.removedTargetIds||[];n=new Gc(f,g,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ep(t,r.document),s=r.readTime?Vr(r.readTime):Oe.min(),o=Sn.newNoDocument(i,s),l=r.removedTargetIds||[];n=new Gc([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ep(t,r.document),s=r.removedTargetIds||[];n=new Gc([],s,i,null)}else{if(!("filter"in e))return Ce();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new DH(i,s),l=r.targetId;n=new rI(l,o)}}return n}function zH(t,e){let n;if(e instanceof kl)n={update:qw(t,e.key,e.value)};else if(e instanceof tI)n={delete:yg(t,e.key)};else if(e instanceof Ci)n={update:qw(t,e.key,e.data),updateMask:JH(e.fieldMask)};else{if(!(e instanceof CH))return Ce();n={verify:yg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof yu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof al)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof ll)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof _u)return{fieldPath:o.field.canonicalString(),increment:l.Te};throw Ce()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:UH(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ce()}(t,e.precondition)),n}function jH(t,e){return t&&t.length>0?(kt(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Vr(i.updateTime):Vr(s);return o.isEqual(Oe.min())&&(o=Vr(s)),new TH(o,i.transformResults||[])}(n,e))):[]}function qH(t,e){return{documents:[_g(t,e.path)]}}function GH(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=_g(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=_g(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(c.length!==0)return cI(fr.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(c){if(c.length!==0)return c.map(f=>function(v){return{field:Js(v.field),direction:QH(v.dir)}}(f))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=vg(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n}function KH(t){let e=BH(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){kt(r===1);const g=n.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let s=[];n.where&&(s=function(v){const _=lI(v);return _ instanceof fr&&VT(_)?_.getFilters():[_]}(n.where));let o=[];n.orderBy&&(o=function(v){return v.map(_=>function(b){return new vu(Zs(b.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(_))}(n.orderBy));let l=null;n.limit&&(l=function(v){let _;return _=typeof v=="object"?v.value:v,ih(_)?null:_}(n.limit));let c=null;n.startAt&&(c=function(v){const _=!!v.before,m=v.values||[];return new mu(m,_)}(n.startAt));let f=null;return n.endAt&&(f=function(v){const _=!v.before,m=v.values||[];return new mu(m,_)}(n.endAt)),fH(e,i,o,s,l,"F",c,f)}function YH(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function lI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Zs(n.unaryFilter.field);return Qt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Zs(n.unaryFilter.field);return Qt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Zs(n.unaryFilter.field);return Qt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Zs(n.unaryFilter.field);return Qt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ce()}}(t):t.fieldFilter!==void 0?function(n){return Qt.create(Zs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ce()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return fr.create(n.compositeFilter.filters.map(r=>lI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ce()}}(n.compositeFilter.op))}(t):Ce()}function QH(t){return VH[t]}function $H(t){return HH[t]}function XH(t){return FH[t]}function Js(t){return{fieldPath:t.canonicalString()}}function Zs(t){return gn.fromServerFormat(t.fieldPath)}function cI(t){return t instanceof Qt?function(n){if(n.op==="=="){if(Dw(n.value))return{unaryFilter:{field:Js(n.field),op:"IS_NAN"}};if(Rw(n.value))return{unaryFilter:{field:Js(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Dw(n.value))return{unaryFilter:{field:Js(n.field),op:"IS_NOT_NAN"}};if(Rw(n.value))return{unaryFilter:{field:Js(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Js(n.field),op:$H(n.op),value:n.value}}}(t):t instanceof fr?function(n){const r=n.getFilters().map(i=>cI(i));return r.length===1?r[0]:{compositeFilter:{op:XH(n.op),filters:r}}}(t):Ce()}function JH(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function uI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,n,r,i,s=Oe.min(),o=Oe.min(),l=kn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new pi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new pi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZH{constructor(e){this.ct=e}}function eF(t){const e=KH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?mg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tF{constructor(){this._n=new nF}addToCollectionParentIndex(e,n){return this._n.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(Ai.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(Ai.min())}updateCollectionGroup(e,n,r){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class nF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new vn(It.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new vn(It.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new _o(0)}static Bn(){return new _o(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(){this.changes=new Vo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ne.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ha(r.mutation,i,Gn.empty(),Xt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ze()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ze()){const i=ji();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ra();return s.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ji();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ze()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=Zr();const o=Va(),l=function(){return Va()}();return n.forEach((c,f)=>{const g=r.get(f.key);i.has(f.key)&&(g===void 0||g.mutation instanceof Ci)?s=s.insert(f.key,f):g!==void 0?(o.set(f.key,g.mutation.getFieldMask()),Ha(g.mutation,f,g.mutation.getFieldMask(),Xt.now())):o.set(f.key,Gn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((f,g)=>o.set(f,g)),n.forEach((f,g)=>{var v;return l.set(f,new iF(g,(v=o.get(f))!==null&&v!==void 0?v:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Va();let i=new Lt((o,l)=>o-l),s=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const f=n.get(c);if(f===null)return;let g=r.get(c)||Gn.empty();g=l.applyToLocalView(f,g),r.set(c,g);const v=(i.get(l.batchId)||ze()).add(c);i=i.insert(l.batchId,v)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),f=c.key,g=c.value,v=GT();g.forEach(_=>{if(!s.has(_)){const m=ZT(n.get(_),r.get(_));m!==null&&v.set(_,m),s=s.add(_)}}),o.push(this.documentOverlayCache.saveOverlays(e,f,v))}return ne.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Ee.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):BT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ne.resolve(ji());let l=-1,c=s;return o.next(f=>ne.forEach(f,(g,v)=>(l<v.largestBatchId&&(l=v.largestBatchId),s.get(g)?ne.resolve():this.remoteDocumentCache.getEntry(e,g).next(_=>{c=c.insert(g,_)}))).next(()=>this.populateOverlays(e,f,s)).next(()=>this.computeViews(e,c,f,ze())).next(g=>({batchId:l,changes:qT(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next(r=>{let i=Ra();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ra();return this.indexManager.getCollectionParents(e,s).next(l=>ne.forEach(l,c=>{const f=function(v,_){return new Il(_,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(g=>{g.forEach((v,_)=>{o=o.insert(v,_)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,f)=>{const g=f.getKey();o.get(g)===null&&(o=o.insert(g,Sn.newInvalidDocument(g)))});let l=Ra();return o.forEach((c,f)=>{const g=s.get(c);g!==void 0&&Ha(g.mutation,f,Gn.empty(),Xt.now()),oh(n,f)&&(l=l.insert(c,f))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return ne.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Vr(i.createTime)}}(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:eF(i.bundledQuery),readTime:Vr(i.readTime)}}(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(){this.overlays=new Lt(Ee.comparator),this.hr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ji();return ne.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),ne.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),ne.resolve()}getOverlaysForCollection(e,n,r){const i=ji(),s=n.length+1,o=new Ee(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,f=c.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return ne.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Lt((f,g)=>f-g);const o=this.overlays.getIterator();for(;o.hasNext();){const f=o.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let g=s.get(f.largestBatchId);g===null&&(g=ji(),s=s.insert(f.largestBatchId,g)),g.set(f.getKey(),f)}}const l=ji(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((f,g)=>l.set(f,g)),!(l.size()>=i)););return ne.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new RH(n,r));let s=this.hr.get(n);s===void 0&&(s=ze(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(){this.Pr=new vn(sn.Ir),this.Tr=new vn(sn.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new sn(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new sn(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new Ee(new It([])),r=new sn(n,e),i=new sn(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new Ee(new It([])),r=new sn(n,e),i=new sn(n,e+1);let s=ze();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new sn(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class sn{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return Ee.comparator(e.key,n.key)||at(e.pr,n.pr)}static Er(e,n){return at(e.pr,n.pr)||Ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new vn(sn.Ir)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new PH(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.wr=this.wr.add(new sn(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return ne.resolve(o)}lookupMutationBatch(e,n){return ne.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return ne.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new sn(n,0),i=new sn(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const l=this.Sr(o.pr);s.push(l)}),ne.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new vn(at);return n.forEach(i=>{const s=new sn(i,0),o=new sn(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],l=>{r=r.add(l.pr)})}),ne.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Ee.isDocumentKey(s)||(s=s.child(""));const o=new sn(new Ee(s),0);let l=new vn(at);return this.wr.forEachWhile(c=>{const f=c.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(l=l.add(c.pr)),!0)},o),ne.resolve(this.Dr(l))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){kt(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return ne.forEach(n.mutations,i=>{const s=new sn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new sn(n,0),i=this.wr.firstAfterOrEqual(r);return ne.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(e){this.vr=e,this.docs=function(){return new Lt(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ne.resolve(r?r.document.mutableCopy():Sn.newInvalidDocument(n))}getEntries(e,n){let r=Zr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Sn.newInvalidDocument(i))}),ne.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Zr();const o=n.path,l=new Ee(o.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:f,value:{document:g}}=c.getNext();if(!o.isPrefixOf(f.path))break;f.path.length>o.length+1||Q3(Y3(g),r)<=0||(i.has(g.key)||oh(n,g))&&(s=s.insert(g.key,g.mutableCopy()))}return ne.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ce()}Fr(e,n){return ne.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new uF(this)}getSize(e){return ne.resolve(this.size)}}class uF extends rF{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),ne.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(e){this.persistence=e,this.Mr=new Vo(n=>bm(n),Am),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Im,this.targetCount=0,this.Br=_o.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),ne.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new _o(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.qn(n),ne.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),ne.waitFor(s).next(()=>i)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return ne.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),ne.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),ne.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return ne.resolve(r)}containsKey(e,n){return ne.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(e,n){this.Lr={},this.overlays={},this.kr=new vm(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new hF(this),this.indexManager=new tF,this.remoteDocumentCache=function(i){return new cF(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new ZH(n),this.$r=new oF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new aF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new lF(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){ge("MemoryPersistence","Starting transaction:",e);const i=new dF(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return ne.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class dF extends X3{constructor(e){super(),this.currentSequenceNumber=e}}class km{constructor(e){this.persistence=e,this.zr=new Im,this.jr=null}static Hr(e){return new km(e)}get Jr(){if(this.jr)return this.jr;throw Ce()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),ne.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),ne.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.Jr,r=>{const i=Ee.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,Oe.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return ne.or([()=>ne.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=ze(),i=ze();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Cm(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=8}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new pF;return this.Ji(e,n,o).next(l=>{if(s.result=l,this.Ui)return this.Yi(e,n,o,l.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Aa()<=Ye.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",Xs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),ne.resolve()):(Aa()<=Ye.DEBUG&&ge("QueryEngine","Query:",Xs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Aa()<=Ye.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",Xs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nr(n))):ne.resolve())}ji(e,n){if(Lw(n))return ne.resolve(null);let r=Nr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=mg(n,null,"F"),r=Nr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ze(...s);return this.zi.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const f=this.Zi(n,l);return this.Xi(n,f,o,c.readTime)?this.ji(e,mg(n,null,"F")):this.es(e,f,n,c)}))})))}Hi(e,n,r,i){return Lw(n)||i.isEqual(Oe.min())?ne.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?ne.resolve(null):(Aa()<=Ye.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Xs(n)),this.es(e,o,n,K3(i,-1)).next(l=>l))})}Zi(e,n){let r=new vn(zT(e));return n.forEach((i,s)=>{oh(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Aa()<=Ye.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Xs(n)),this.zi.getDocumentsMatchingQuery(e,n,Ai.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Lt(at),this.rs=new Vo(s=>bm(s),Am),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sF(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function vF(t,e,n,r){return new mF(t,e,n,r)}async function hI(t,e){const n=Le(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let c=ze();for(const f of i){o.push(f.batchId);for(const g of f.mutations)c=c.add(g.key)}for(const f of s){l.push(f.batchId);for(const g of f.mutations)c=c.add(g.key)}return n.localDocuments.getDocuments(r,c).next(f=>({us:f,removedBatchIds:o,addedBatchIds:l}))})})}function yF(t,e){const n=Le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(l,c,f,g){const v=f.batch,_=v.keys();let m=ne.resolve();return _.forEach(b=>{m=m.next(()=>g.getEntry(c,b)).next(I=>{const k=f.docVersions.get(b);kt(k!==null),I.version.compareTo(k)<0&&(v.applyToRemoteDocument(I,f),I.isValidDocument()&&(I.setReadTime(f.commitVersion),g.addEntry(I)))})}),m.next(()=>l.mutationQueue.removeMutationBatch(c,v))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=ze();for(let f=0;f<l.mutationResults.length;++f)l.mutationResults[f].transformResults.length>0&&(c=c.add(l.batch.mutations[f].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function fI(t){const e=Le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function _F(t,e){const n=Le(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const l=[];e.targetChanges.forEach((g,v)=>{const _=i.get(v);if(!_)return;l.push(n.Qr.removeMatchingKeys(s,g.removedDocuments,v).next(()=>n.Qr.addMatchingKeys(s,g.addedDocuments,v)));let m=_.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(v)!==null?m=m.withResumeToken(kn.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):g.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(g.resumeToken,r)),i=i.insert(v,m),function(I,k,D){return I.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(_,m,g)&&l.push(n.Qr.updateTargetData(s,m))});let c=Zr(),f=ze();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,g))}),l.push(wF(s,o,e.documentUpdates).next(g=>{c=g.cs,f=g.ls})),!r.isEqual(Oe.min())){const g=n.Qr.getLastRemoteSnapshotVersion(s).next(v=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(g)}return ne.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,f)).next(()=>c)}).then(s=>(n.ns=i,s))}function wF(t,e,n){let r=ze(),i=ze();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Zr();return n.forEach((l,c)=>{const f=s.get(l);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(Oe.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):ge("LocalStore","Ignoring outdated watch update for ",l,". Current version:",f.version," Watch version:",c.version)}),{cs:o,ls:i}})}function bF(t,e){const n=Le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function AF(t,e){const n=Le(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,ne.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new pi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function bg(t,e,n){const r=Le(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Tl(o))throw o;ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function Gw(t,e,n){const r=Le(t);let i=Oe.min(),s=ze();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,f,g){const v=Le(c),_=v.rs.get(g);return _!==void 0?ne.resolve(v.ns.get(_)):v.Qr.getTargetData(f,g)}(r,o,Nr(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,l.targetId).next(c=>{s=c})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:Oe.min(),n?s:ze())).next(l=>(SF(r,pH(e),l),{documents:l,hs:s})))}function SF(t,e,n){let r=t.ss.get(e)||Oe.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class Kw{constructor(){this.activeTargetIds=wH()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class EF{constructor(){this.no=new Kw,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Kw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vc=null;function tp(){return Vc===null?Vc=function(){return 268435456+Math.round(2147483648*Math.random())}():Vc++,"0x"+Vc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n="WebChannelConnection";class CF extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){const l=tp(),c=this.bo(n,r);ge("RestConnection",`Sending RPC '${n}' ${l}:`,c,i);const f={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(f,s,o),this.Co(n,c,f,i).then(g=>(ge("RestConnection",`Received RPC '${n}' ${l}: `,g),g),g=>{throw go("RestConnection",`RPC '${n}' ${l} failed with error: `,g,"url: ",c,"request:",i),g})}vo(n,r,i,s,o,l){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Lo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){const i=IF[n];return`${this.fo}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const s=tp();return new Promise((o,l)=>{const c=new V3;c.setWithCredentials(!0),c.listenOnce(N3.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Zd.NO_ERROR:const g=c.getResponseJson();ge(_n,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(g)),o(g);break;case Zd.TIMEOUT:ge(_n,`RPC '${e}' ${s} timed out`),l(new pe(te.DEADLINE_EXCEEDED,"Request time out"));break;case Zd.HTTP_ERROR:const v=c.getStatus();if(ge(_n,`RPC '${e}' ${s} failed with status:`,v,"response text:",c.getResponseText()),v>0){let _=c.getResponseJson();Array.isArray(_)&&(_=_[0]);const m=_==null?void 0:_.error;if(m&&m.status&&m.message){const b=function(k){const D=k.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(D)>=0?D:te.UNKNOWN}(m.status);l(new pe(b,m.message))}else l(new pe(te.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new pe(te.UNAVAILABLE,"Connection failed."));break;default:Ce()}}finally{ge(_n,`RPC '${e}' ${s} completed.`)}});const f=JSON.stringify(i);ge(_n,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",f,r,15)})}Fo(e,n,r){const i=tp(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=O3(),l=M3(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const g=s.join("");ge(_n,`Creating RPC '${e}' stream ${i}: ${g}`,c);const v=o.createWebChannel(g,c);let _=!1,m=!1;const b=new kF({lo:k=>{m?ge(_n,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(_||(ge(_n,`Opening RPC '${e}' stream ${i} transport.`),v.open(),_=!0),ge(_n,`RPC '${e}' stream ${i} sending:`,k),v.send(k))},ho:()=>v.close()}),I=(k,D,M)=>{k.listen(D,L=>{try{M(L)}catch(H){setTimeout(()=>{throw H},0)}})};return I(v,Mc.EventType.OPEN,()=>{m||ge(_n,`RPC '${e}' stream ${i} transport opened.`)}),I(v,Mc.EventType.CLOSE,()=>{m||(m=!0,ge(_n,`RPC '${e}' stream ${i} transport closed`),b.Vo())}),I(v,Mc.EventType.ERROR,k=>{m||(m=!0,go(_n,`RPC '${e}' stream ${i} transport errored:`,k),b.Vo(new pe(te.UNAVAILABLE,"The operation could not be completed")))}),I(v,Mc.EventType.MESSAGE,k=>{var D;if(!m){const M=k.data[0];kt(!!M);const L=M,H=L.error||((D=L[0])===null||D===void 0?void 0:D.error);if(H){ge(_n,`RPC '${e}' stream ${i} received error:`,H);const R=H.status;let q=function($){const K=Gt[$];if(K!==void 0)return nI(K)}(R),j=H.message;q===void 0&&(q=te.INTERNAL,j="Unknown error status: "+R+" with message "+H.message),m=!0,b.Vo(new pe(q,j)),v.close()}else ge(_n,`RPC '${e}' stream ${i} received:`,M),b.mo(M)}}),I(l,L3.STAT_EVENT,k=>{k.stat===Ew.PROXY?ge(_n,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===Ew.NOPROXY&&ge(_n,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.Ro()},0),b}}function np(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(t){return new xH(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&ge("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,n,r,i,s,o,l,c){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new dI(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(Jr(n.toString()),Jr("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new pe(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class PF extends pI{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=WH(this.serializer,e),r=function(s){if(!("targetChange"in s))return Oe.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Oe.min():o.readTime?Vr(o.readTime):Oe.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=wg(this.serializer),n.addTarget=function(s,o){let l;const c=o.target;if(l=pg(c)?{documents:qH(s,c)}:{query:GH(s,c)},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=sI(s,o.resumeToken);const f=vg(s,o.expectedCount);f!==null&&(l.expectedCount=f)}else if(o.snapshotVersion.compareTo(Oe.min())>0){l.readTime=wu(s,o.snapshotVersion.toTimestamp());const f=vg(s,o.expectedCount);f!==null&&(l.expectedCount=f)}return l}(this.serializer,e);const r=YH(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=wg(this.serializer),n.removeTarget=e,this.t_(n)}}class RF extends pI{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(kt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=jH(e.writeResults,e.commitTime),r=Vr(e.commitTime);return this.listener.T_(r,n)}return kt(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=wg(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>zH(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new pe(te.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.So(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new pe(te.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new pe(te.UNKNOWN,s.toString())})}terminate(){this.A_=!0}}class OF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Jr(n),this.g_=!1):ge("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(async()=>{fs(this)&&(ge("RemoteStore","Restarting streams for network reachability change."),await async function(c){const f=Le(c);f.v_.add(4),await Pl(f),f.x_.set("Unknown"),f.v_.delete(4),await hh(f)}(this))})}),this.x_=new OF(r,i)}}async function hh(t){if(fs(t))for(const e of t.F_)await e(!0)}async function Pl(t){for(const e of t.F_)await e(!1)}function gI(t,e){const n=Le(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),Dm(n)?Rm(n):Ho(n).Jo()&&Pm(n,e))}function mI(t,e){const n=Le(t),r=Ho(n);n.C_.delete(e),r.Jo()&&vI(n,e),n.C_.size===0&&(r.Jo()?r.Xo():fs(n)&&n.x_.set("Unknown"))}function Pm(t,e){if(t.O_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ho(t).c_(e)}function vI(t,e){t.O_.Ne(e),Ho(t).l_(e)}function Rm(t){t.O_=new LH({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.C_.get(e)||null,rt:()=>t.datastore.serializer.databaseId}),Ho(t).start(),t.x_.p_()}function Dm(t){return fs(t)&&!Ho(t).Ho()&&t.C_.size>0}function fs(t){return Le(t).v_.size===0}function yI(t){t.O_=void 0}async function NF(t){t.C_.forEach((e,n)=>{Pm(t,e)})}async function LF(t,e){yI(t),Dm(t)?(t.x_.S_(e),Rm(t)):t.x_.set("Unknown")}async function VF(t,e,n){if(t.x_.set("Online"),e instanceof iI&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.C_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.C_.delete(l),i.O_.removeTarget(l))}(t,e)}catch(r){ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await bu(t,r)}else if(e instanceof Gc?t.O_.Ue(e):e instanceof rI?t.O_.Ye(e):t.O_.ze(e),!n.isEqual(Oe.min()))try{const r=await fI(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.O_.st(o);return l.targetChanges.forEach((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const g=s.C_.get(f);g&&s.C_.set(f,g.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,f)=>{const g=s.C_.get(c);if(!g)return;s.C_.set(c,g.withResumeToken(kn.EMPTY_BYTE_STRING,g.snapshotVersion)),vI(s,c);const v=new pi(g.target,c,f,g.sequenceNumber);Pm(s,v)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){ge("RemoteStore","Failed to raise snapshot:",r),await bu(t,r)}}async function bu(t,e,n){if(!Tl(e))throw e;t.v_.add(1),await Pl(t),t.x_.set("Offline"),n||(n=()=>fI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ge("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await hh(t)})}function _I(t,e){return e().catch(n=>bu(t,n,e))}async function fh(t){const e=Le(t),n=Ei(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;HF(e);)try{const i=await bF(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,FF(e,i)}catch(i){await bu(e,i)}wI(e)&&bI(e)}function HF(t){return fs(t)&&t.D_.length<10}function FF(t,e){t.D_.push(e);const n=Ei(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function wI(t){return fs(t)&&!Ei(t).Ho()&&t.D_.length>0}function bI(t){Ei(t).start()}async function xF(t){Ei(t).d_()}async function UF(t){const e=Ei(t);for(const n of t.D_)e.I_(n.mutations)}async function BF(t,e,n){const r=t.D_.shift(),i=Sm.from(r,e,n);await _I(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await fh(t)}async function WF(t,e){e&&Ei(t).P_&&await async function(r,i){if(function(o){return OH(o)&&o!==te.ABORTED}(i.code)){const s=r.D_.shift();Ei(r).Zo(),await _I(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await fh(r)}}(t,e),wI(t)&&bI(t)}async function Qw(t,e){const n=Le(t);n.asyncQueue.verifyOperationInProgress(),ge("RemoteStore","RemoteStore received new credentials");const r=fs(n);n.v_.add(3),await Pl(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await hh(n)}async function zF(t,e){const n=Le(t);e?(n.v_.delete(2),await hh(n)):e||(n.v_.add(2),await Pl(n),n.x_.set("Unknown"))}function Ho(t){return t.N_||(t.N_=function(n,r,i){const s=Le(n);return s.R_(),new PF(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:NF.bind(null,t),To:LF.bind(null,t),u_:VF.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),Dm(t)?Rm(t):t.x_.set("Unknown")):(await t.N_.stop(),yI(t))})),t.N_}function Ei(t){return t.B_||(t.B_=function(n,r,i){const s=Le(n);return s.R_(),new RF(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:xF.bind(null,t),To:WF.bind(null,t),E_:UF.bind(null,t),T_:BF.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await fh(t)):(await t.B_.stop(),t.D_.length>0&&(ge("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new Om(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mm(t,e){if(Jr("AsyncQueue",`${e}: ${t}`),Tl(t))return new pe(te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ee.comparator(n.key,r.key):(n,r)=>Ee.comparator(n.key,r.key),this.keyedMap=Ra(),this.sortedSet=new Lt(this.comparator)}static emptySet(e){return new ao(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ao)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ao;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(){this.L_=new Lt(Ee.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):Ce():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class wo{constructor(e,n,r,i,s,o,l,c,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new wo(e,n,ao.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(){this.q_=void 0,this.listeners=[]}}class qF{constructor(){this.queries=new Vo(e=>WT(e),sh),this.onlineState="Unknown",this.Q_=new Set}}async function GF(t,e){const n=Le(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new jF),i)try{s.q_=await n.onListen(r)}catch(o){const l=Mm(o,`Initialization of query '${Xs(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,s),s.listeners.push(e),e.K_(n.onlineState),s.q_&&e.U_(s.q_)&&Nm(n)}async function KF(t,e){const n=Le(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function YF(t,e){const n=Le(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.listeners)l.U_(i)&&(r=!0);o.q_=i}}r&&Nm(n)}function QF(t,e,n){const r=Le(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function Nm(t){t.Q_.forEach(e=>{e.next()})}class $F{constructor(e,n,r){this.query=e,this.W_=n,this.G_=!1,this.z_=null,this.onlineState="Unknown",this.options=r||{}}U_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new wo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.G_?this.j_(e)&&(this.W_.next(e),n=!0):this.H_(e,this.onlineState)&&(this.J_(e),n=!0),this.z_=e,n}onError(e){this.W_.error(e)}K_(e){this.onlineState=e;let n=!1;return this.z_&&!this.G_&&this.H_(this.z_,e)&&(this.J_(this.z_),n=!0),n}H_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Y_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}j_(e){if(e.docChanges.length>0)return!0;const n=this.z_&&this.z_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}J_(e){e=wo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.G_=!0,this.W_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e){this.key=e}}class SI{constructor(e){this.key=e}}class XF{constructor(e,n){this.query=e,this.sa=n,this.oa=null,this.hasCachedResults=!1,this.current=!1,this._a=ze(),this.mutatedKeys=ze(),this.aa=zT(e),this.ua=new ao(this.aa)}get ca(){return this.sa}la(e,n){const r=n?n.ha:new $w,i=n?n.ua:this.ua;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,v)=>{const _=i.get(g),m=oh(this.query,v)?v:null,b=!!_&&this.mutatedKeys.has(_.key),I=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let k=!1;_&&m?_.data.isEqual(m.data)?b!==I&&(r.track({type:3,doc:m}),k=!0):this.Pa(_,m)||(r.track({type:2,doc:m}),k=!0,(c&&this.aa(m,c)>0||f&&this.aa(m,f)<0)&&(l=!0)):!_&&m?(r.track({type:0,doc:m}),k=!0):_&&!m&&(r.track({type:1,doc:_}),k=!0,(c||f)&&(l=!0)),k&&(m?(o=o.add(m),s=I?s.add(g):s.delete(g)):(o=o.delete(g),s=s.delete(g)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const g=this.query.limitType==="F"?o.last():o.first();o=o.delete(g.key),s=s.delete(g.key),r.track({type:1,doc:g})}return{ua:o,ha:r,Xi:l,mutatedKeys:s}}Pa(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ua;this.ua=e.ua,this.mutatedKeys=e.mutatedKeys;const s=e.ha.k_();s.sort((f,g)=>function(_,m){const b=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce()}};return b(_)-b(m)}(f.type,g.type)||this.aa(f.doc,g.doc)),this.Ia(r);const o=n?this.Ta():[],l=this._a.size===0&&this.current?1:0,c=l!==this.oa;return this.oa=l,s.length!==0||c?{snapshot:new wo(this.query,e.ua,i,s,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ea:o}:{Ea:o}}K_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ua:this.ua,ha:new $w,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Ea:[]}}da(e){return!this.sa.has(e)&&!!this.ua.has(e)&&!this.ua.get(e).hasLocalMutations}Ia(e){e&&(e.addedDocuments.forEach(n=>this.sa=this.sa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.sa=this.sa.delete(n)),this.current=e.current)}Ta(){if(!this.current)return[];const e=this._a;this._a=ze(),this.ua.forEach(r=>{this.da(r.key)&&(this._a=this._a.add(r.key))});const n=[];return e.forEach(r=>{this._a.has(r)||n.push(new SI(r))}),this._a.forEach(r=>{e.has(r)||n.push(new AI(r))}),n}Aa(e){this.sa=e.hs,this._a=ze();const n=this.la(e.documents);return this.applyChanges(n,!0)}Ra(){return wo.fromInitialDocuments(this.query,this.ua,this.mutatedKeys,this.oa===0,this.hasCachedResults)}}class JF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class ZF{constructor(e){this.key=e,this.Va=!1}}class e9{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.ma={},this.fa=new Vo(l=>WT(l),sh),this.ga=new Map,this.pa=new Set,this.ya=new Lt(Ee.comparator),this.wa=new Map,this.Sa=new Im,this.ba={},this.Da=new Map,this.Ca=_o.Bn(),this.onlineState="Unknown",this.va=void 0}get isPrimaryClient(){return this.va===!0}}async function t9(t,e){const n=h9(t);let r,i;const s=n.fa.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Ra();else{const o=await AF(n.localStore,Nr(e)),l=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await n9(n,e,r,l==="current",o.resumeToken),n.isPrimaryClient&&gI(n.remoteStore,o)}return i}async function n9(t,e,n,r,i){t.Fa=(v,_,m)=>async function(I,k,D,M){let L=k.view.la(D);L.Xi&&(L=await Gw(I.localStore,k.query,!1).then(({documents:q})=>k.view.la(q,L)));const H=M&&M.targetChanges.get(k.targetId),R=k.view.applyChanges(L,I.isPrimaryClient,H);return Jw(I,k.targetId,R.Ea),R.snapshot}(t,v,_,m);const s=await Gw(t.localStore,e,!0),o=new XF(e,s.hs),l=o.la(s.documents),c=Cl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=o.applyChanges(l,t.isPrimaryClient,c);Jw(t,n,f.Ea);const g=new JF(e,n,o);return t.fa.set(e,g),t.ga.has(n)?t.ga.get(n).push(e):t.ga.set(n,[e]),f.snapshot}async function r9(t,e){const n=Le(t),r=n.fa.get(e),i=n.ga.get(r.targetId);if(i.length>1)return n.ga.set(r.targetId,i.filter(s=>!sh(s,e))),void n.fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await bg(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),mI(n.remoteStore,r.targetId),Ag(n,r.targetId)}).catch(El)):(Ag(n,r.targetId),await bg(n.localStore,r.targetId,!0))}async function i9(t,e,n){const r=f9(t);try{const i=await function(o,l){const c=Le(o),f=Xt.now(),g=l.reduce((m,b)=>m.add(b.key),ze());let v,_;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let b=Zr(),I=ze();return c.os.getEntries(m,g).next(k=>{b=k,b.forEach((D,M)=>{M.isValidDocument()||(I=I.add(D))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,b)).next(k=>{v=k;const D=[];for(const M of l){const L=kH(M,v.get(M.key).overlayedDocument);L!=null&&D.push(new Ci(M.key,L,MT(L.value.mapValue),Lr.exists(!0)))}return c.mutationQueue.addMutationBatch(m,f,D,l)}).next(k=>{_=k;const D=k.applyToLocalDocumentSet(v,I);return c.documentOverlayCache.saveOverlays(m,k.batchId,D)})}).then(()=>({batchId:_.batchId,changes:qT(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,c){let f=o.ba[o.currentUser.toKey()];f||(f=new Lt(at)),f=f.insert(l,c),o.ba[o.currentUser.toKey()]=f}(r,i.batchId,n),await Rl(r,i.changes),await fh(r.remoteStore)}catch(i){const s=Mm(i,"Failed to persist write");n.reject(s)}}async function EI(t,e){const n=Le(t);try{const r=await _F(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.wa.get(s);o&&(kt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Va=!0:i.modifiedDocuments.size>0?kt(o.Va):i.removedDocuments.size>0&&(kt(o.Va),o.Va=!1))}),await Rl(n,r,e)}catch(r){await El(r)}}function Xw(t,e,n){const r=Le(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.fa.forEach((s,o)=>{const l=o.view.K_(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const c=Le(o);c.onlineState=l;let f=!1;c.queries.forEach((g,v)=>{for(const _ of v.listeners)_.K_(l)&&(f=!0)}),f&&Nm(c)}(r.eventManager,e),i.length&&r.ma.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function s9(t,e,n){const r=Le(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.wa.get(e),s=i&&i.key;if(s){let o=new Lt(Ee.comparator);o=o.insert(s,Sn.newNoDocument(s,Oe.min()));const l=ze().add(s),c=new ch(Oe.min(),new Map,new Lt(at),o,l);await EI(r,c),r.ya=r.ya.remove(s),r.wa.delete(e),Lm(r)}else await bg(r.localStore,e,!1).then(()=>Ag(r,e,n)).catch(El)}async function o9(t,e){const n=Le(t),r=e.batch.batchId;try{const i=await yF(n.localStore,e);II(n,r,null),TI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Rl(n,i)}catch(i){await El(i)}}async function a9(t,e,n){const r=Le(t);try{const i=await function(o,l){const c=Le(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let g;return c.mutationQueue.lookupMutationBatch(f,l).next(v=>(kt(v!==null),g=v.keys(),c.mutationQueue.removeMutationBatch(f,v))).next(()=>c.mutationQueue.performConsistencyCheck(f)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(f,g,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g)).next(()=>c.localDocuments.getDocuments(f,g))})}(r.localStore,e);II(r,e,n),TI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Rl(r,i)}catch(i){await El(i)}}function TI(t,e){(t.Da.get(e)||[]).forEach(n=>{n.resolve()}),t.Da.delete(e)}function II(t,e,n){const r=Le(t);let i=r.ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.ba[r.currentUser.toKey()]=i}}function Ag(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ga.get(e))t.fa.delete(r),n&&t.ma.Ma(r,n);t.ga.delete(e),t.isPrimaryClient&&t.Sa.Vr(e).forEach(r=>{t.Sa.containsKey(r)||kI(t,r)})}function kI(t,e){t.pa.delete(e.path.canonicalString());const n=t.ya.get(e);n!==null&&(mI(t.remoteStore,n),t.ya=t.ya.remove(e),t.wa.delete(n),Lm(t))}function Jw(t,e,n){for(const r of n)r instanceof AI?(t.Sa.addReference(r.key,e),l9(t,r)):r instanceof SI?(ge("SyncEngine","Document no longer in limbo: "+r.key),t.Sa.removeReference(r.key,e),t.Sa.containsKey(r.key)||kI(t,r.key)):Ce()}function l9(t,e){const n=e.key,r=n.path.canonicalString();t.ya.get(n)||t.pa.has(r)||(ge("SyncEngine","New document in limbo: "+n),t.pa.add(r),Lm(t))}function Lm(t){for(;t.pa.size>0&&t.ya.size<t.maxConcurrentLimboResolutions;){const e=t.pa.values().next().value;t.pa.delete(e);const n=new Ee(It.fromString(e)),r=t.Ca.next();t.wa.set(r,new ZF(n)),t.ya=t.ya.insert(n,r),gI(t.remoteStore,new pi(Nr(UT(n.path)),r,"TargetPurposeLimboResolution",vm.ae))}}async function Rl(t,e,n){const r=Le(t),i=[],s=[],o=[];r.fa.isEmpty()||(r.fa.forEach((l,c)=>{o.push(r.Fa(c,e,n).then(f=>{if((f||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,f!=null&&f.fromCache?"not-current":"current"),f){i.push(f);const g=Cm.Ki(c.targetId,f);s.push(g)}}))}),await Promise.all(o),r.ma.u_(i),await async function(c,f){const g=Le(c);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>ne.forEach(f,_=>ne.forEach(_.qi,m=>g.persistence.referenceDelegate.addReference(v,_.targetId,m)).next(()=>ne.forEach(_.Qi,m=>g.persistence.referenceDelegate.removeReference(v,_.targetId,m)))))}catch(v){if(!Tl(v))throw v;ge("LocalStore","Failed to update sequence numbers: "+v)}for(const v of f){const _=v.targetId;if(!v.fromCache){const m=g.ns.get(_),b=m.snapshotVersion,I=m.withLastLimboFreeSnapshotVersion(b);g.ns=g.ns.insert(_,I)}}}(r.localStore,s))}async function c9(t,e){const n=Le(t);if(!n.currentUser.isEqual(e)){ge("SyncEngine","User change. New user:",e.toKey());const r=await hI(n.localStore,e);n.currentUser=e,function(s,o){s.Da.forEach(l=>{l.forEach(c=>{c.reject(new pe(te.CANCELLED,o))})}),s.Da.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Rl(n,r.us)}}function u9(t,e){const n=Le(t),r=n.wa.get(e);if(r&&r.Va)return ze().add(r.key);{let i=ze();const s=n.ga.get(e);if(!s)return i;for(const o of s){const l=n.fa.get(o);i=i.unionWith(l.view.ca)}return i}}function h9(t){const e=Le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=EI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=u9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=s9.bind(null,e),e.ma.u_=YF.bind(null,e.eventManager),e.ma.Ma=QF.bind(null,e.eventManager),e}function f9(t){const e=Le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=o9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=a9.bind(null,e),e}class Zw{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=uh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return vF(this.persistence,new gF,e.initialUser,this.serializer)}createPersistence(e){return new fF(km.Hr,this.serializer)}createSharedClientState(e){return new EF}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class d9{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Xw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=c9.bind(null,this.syncEngine),await zF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new qF}()}createDatastore(e){const n=uh(e.databaseInfo.databaseId),r=function(s){return new CF(s)}(e.databaseInfo);return function(s,o,l,c){return new DF(s,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new MF(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Xw(this.syncEngine,n,0),function(){return Yw.C()?new Yw:new TF}())}createSyncEngine(e,n){return function(i,s,o,l,c,f,g){const v=new e9(i,s,o,l,c,f);return g&&(v.va=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=Le(n);ge("RemoteStore","RemoteStore shutting down."),r.v_.add(5),await Pl(r),r.M_.shutdown(),r.x_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Na(this.observer.next,e)}error(e){this.observer.error?this.Na(this.observer.error,e):Jr("Uncaught Error in snapshot listener:",e.toString())}Ba(){this.muted=!0}Na(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=An.UNAUTHENTICATED,this.clientId=RT.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{ge("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ge("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new pe(te.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Mm(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function rp(t,e){t.asyncQueue.verifyOperationInProgress(),ge("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await hI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function eb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await v9(t);ge("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>Qw(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>Qw(e.remoteStore,s)),t._onlineComponents=e}function m9(t){return t.name==="FirebaseError"?t.code===te.FAILED_PRECONDITION||t.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function v9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ge("FirestoreClient","Using user provided OfflineComponentProvider");try{await rp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!m9(n))throw n;go("Error using user provided cache. Falling back to memory cache: "+n),await rp(t,new Zw)}}else ge("FirestoreClient","Using default OfflineComponentProvider"),await rp(t,new Zw);return t._offlineComponents}async function CI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ge("FirestoreClient","Using user provided OnlineComponentProvider"),await eb(t,t._uninitializedComponentsProvider._online)):(ge("FirestoreClient","Using default OnlineComponentProvider"),await eb(t,new d9))),t._onlineComponents}function y9(t){return CI(t).then(e=>e.syncEngine)}async function _9(t){const e=await CI(t),n=e.eventManager;return n.onListen=t9.bind(null,e.syncEngine),n.onUnlisten=r9.bind(null,e.syncEngine),n}function w9(t,e,n={}){const r=new yi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,c,f){const g=new p9({next:_=>{o.enqueueAndForget(()=>KF(s,v)),_.fromCache&&c.source==="server"?f.reject(new pe(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(_)},error:_=>f.reject(_)}),v=new $F(l,g,{includeMetadataChanges:!0,Y_:!0});return GF(s,v)}(await _9(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(t,e,n){if(!n)throw new pe(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function b9(t,e,n,r){if(e===!0&&r===!0)throw new pe(te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function nb(t){if(!Ee.isDocumentKey(t))throw new pe(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function rb(t){if(Ee.isDocumentKey(t))throw new pe(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function dh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ce()}function bo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pe(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=dh(t);throw new pe(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new pe(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}b9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=PI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new pe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new pe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new pe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ph{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ib({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new pe(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new pe(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ib(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new F3;switch(r.type){case"firstParty":return new W3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=tb.get(n);r&&(ge("ComponentProvider","Removing Datastore"),tb.delete(n),r.terminate())}(this),Promise.resolve()}}function A9(t,e,n,r={}){var i;const s=(t=bo(t,ph))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&go("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=An.MOCK_USER;else{l=cL(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new pe(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new An(f)}t._authCredentials=new x3(new PT(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Fo(this.firestore,e,this._query)}}class Kn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _i(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kn(this.firestore,e,this._key)}}class _i extends Fo{constructor(e,n,r){super(e,n,UT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kn(this.firestore,null,new Ee(e))}withConverter(e){return new _i(this.firestore,e,this._path)}}function Vm(t,e,...n){if(t=an(t),RI("collection","path",e),t instanceof ph){const r=It.fromString(e,...n);return rb(r),new _i(t,null,r)}{if(!(t instanceof Kn||t instanceof _i))throw new pe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(It.fromString(e,...n));return rb(r),new _i(t.firestore,null,r)}}function S9(t,e,...n){if(t=an(t),arguments.length===1&&(e=RT.V()),RI("doc","path",e),t instanceof ph){const r=It.fromString(e,...n);return nb(r),new Kn(t,null,new Ee(r))}{if(!(t instanceof Kn||t instanceof _i))throw new pe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(It.fromString(e,...n));return nb(r),new Kn(t.firestore,t instanceof _i?t.converter:null,new Ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(){this.Ya=Promise.resolve(),this.Za=[],this.Xa=!1,this.eu=[],this.tu=null,this.nu=!1,this.ru=!1,this.iu=[],this.jo=new dI(this,"async_queue_retry"),this.su=()=>{const n=np();n&&ge("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=np();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.su)}get isShuttingDown(){return this.Xa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ou(),this._u(e)}enterRestrictedMode(e){if(!this.Xa){this.Xa=!0,this.ru=e||!1;const n=np();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.su)}}enqueue(e){if(this.ou(),this.Xa)return new Promise(()=>{});const n=new yi;return this._u(()=>this.Xa&&this.ru?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Za.push(e),this.au()))}async au(){if(this.Za.length!==0){try{await this.Za[0](),this.Za.shift(),this.jo.reset()}catch(e){if(!Tl(e))throw e;ge("AsyncQueue","Operation failed with retryable error: "+e)}this.Za.length>0&&this.jo.qo(()=>this.au())}}_u(e){const n=this.Ya.then(()=>(this.nu=!0,e().catch(r=>{this.tu=r,this.nu=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw Jr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.nu=!1,r))));return this.Ya=n,n}enqueueAfterDelay(e,n,r){this.ou(),this.iu.indexOf(e)>-1&&(n=0);const i=Om.createAndSchedule(this,e,n,r,s=>this.uu(s));return this.eu.push(i),i}ou(){this.tu&&Ce()}verifyOperationInProgress(){}async cu(){let e;do e=this.Ya,await e;while(e!==this.Ya)}lu(e){for(const n of this.eu)if(n.timerId===e)return!0;return!1}hu(e){return this.cu().then(()=>{this.eu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.eu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.cu()})}Pu(e){this.iu.push(e)}uu(e){const n=this.eu.indexOf(e);this.eu.splice(n,1)}}class gh extends ph{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new E9}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||OI(this),this._firestoreClient.terminate()}}function T9(t,e){const n=typeof t=="object"?t:Kg(),r=typeof t=="string"?t:e||"(default)",i=cs(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=aL("firestore");s&&A9(i,...s)}return i}function DI(t){return t._firestoreClient||OI(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function OI(t){var e,n,r;const i=t._freezeSettings(),s=function(l,c,f,g){return new eH(l,c,f,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,PI(g.experimentalLongPollingOptions),g.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new g9(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ao(kn.fromBase64String(e))}catch(n){throw new pe(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ao(kn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return at(this._lat,e._lat)||at(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I9=/^__.*__$/;class k9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ci(e,this.data,this.fieldMask,n,this.fieldTransforms):new kl(e,this.data,n,this.fieldTransforms)}}class MI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ci(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function NI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce()}}class xm{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Iu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Tu(){return this.settings.Tu}Eu(e){return new xm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}du(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Eu({path:r,Au:!1});return i.Ru(e),i}Vu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Eu({path:r,Au:!1});return i.Iu(),i}mu(e){return this.Eu({path:void 0,Au:!0})}fu(e){return Au(e,this.settings.methodName,this.settings.gu||!1,this.path,this.settings.pu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Iu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ru(this.path.get(e))}Ru(e){if(e.length===0)throw this.fu("Document fields must not be empty");if(NI(this.Tu)&&I9.test(e))throw this.fu('Document fields cannot begin and end with "__"')}}class C9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||uh(e)}yu(e,n,r,i=!1){return new xm({Tu:e,methodName:n,pu:r,path:gn.emptyPath(),Au:!1,gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Um(t){const e=t._freezeSettings(),n=uh(t._databaseId);return new C9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function P9(t,e,n,r,i,s={}){const o=t.yu(s.merge||s.mergeFields?2:0,e,n,i);Bm("Data must be an object, but it was:",o,r);const l=LI(r,o);let c,f;if(s.merge)c=new Gn(o.fieldMask),f=o.fieldTransforms;else if(s.mergeFields){const g=[];for(const v of s.mergeFields){const _=Sg(e,v,n);if(!o.contains(_))throw new pe(te.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);HI(g,_)||g.push(_)}c=new Gn(g),f=o.fieldTransforms.filter(v=>c.covers(v.field))}else c=null,f=o.fieldTransforms;return new k9(new Un(l),c,f)}class vh extends Hm{_toFieldTransform(e){if(e.Tu!==2)throw e.Tu===1?e.fu(`${this._methodName}() can only appear at the top level of your update data`):e.fu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vh}}function R9(t,e,n,r){const i=t.yu(1,e,n);Bm("Data must be an object, but it was:",i,r);const s=[],o=Un.empty();hs(r,(c,f)=>{const g=Wm(e,c,n);f=an(f);const v=i.Vu(g);if(f instanceof vh)s.push(g);else{const _=Dl(f,v);_!=null&&(s.push(g),o.set(g,_))}});const l=new Gn(s);return new MI(o,l,i.fieldTransforms)}function D9(t,e,n,r,i,s){const o=t.yu(1,e,n),l=[Sg(e,r,n)],c=[i];if(s.length%2!=0)throw new pe(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<s.length;_+=2)l.push(Sg(e,s[_])),c.push(s[_+1]);const f=[],g=Un.empty();for(let _=l.length-1;_>=0;--_)if(!HI(f,l[_])){const m=l[_];let b=c[_];b=an(b);const I=o.Vu(m);if(b instanceof vh)f.push(m);else{const k=Dl(b,I);k!=null&&(f.push(m),g.set(m,k))}}const v=new Gn(f);return new MI(g,v,o.fieldTransforms)}function O9(t,e,n,r=!1){return Dl(n,t.yu(r?4:3,e))}function Dl(t,e){if(VI(t=an(t)))return Bm("Unsupported field value:",e,t),LI(t,e);if(t instanceof Hm)return function(r,i){if(!NI(i.Tu))throw i.fu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.fu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Au&&e.Tu!==4)throw e.fu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let c=Dl(l,i.mu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=an(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return bH(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Xt.fromDate(r);return{timestampValue:wu(i.serializer,s)}}if(r instanceof Xt){const s=new Xt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:wu(i.serializer,s)}}if(r instanceof Fm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ao)return{bytesValue:sI(i.serializer,r._byteString)};if(r instanceof Kn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.fu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Tm(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.fu(`Unsupported field value: ${dh(r)}`)}(t,e)}function LI(t,e){const n={};return DT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hs(t,(r,i)=>{const s=Dl(i,e.du(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function VI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Xt||t instanceof Fm||t instanceof Ao||t instanceof Kn||t instanceof Hm)}function Bm(t,e,n){if(!VI(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=dh(n);throw r==="an object"?e.fu(t+" a custom object"):e.fu(t+" "+r)}}function Sg(t,e,n){if((e=an(e))instanceof mh)return e._internalPath;if(typeof e=="string")return Wm(t,e);throw Au("Field path arguments must be of type string or ",t,!1,void 0,n)}const M9=new RegExp("[~\\*/\\[\\]]");function Wm(t,e,n){if(e.search(M9)>=0)throw Au(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new mh(...e.split("."))._internalPath}catch{throw Au(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Au(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new pe(te.INVALID_ARGUMENT,l+t+c)}function HI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Kn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new N9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(zm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class N9 extends FI{data(){return super.data()}}function zm(t,e){return typeof e=="string"?Wm(t,e):e instanceof mh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L9(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new pe(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jm{}class V9 extends jm{}function xI(t,e,...n){let r=[];e instanceof jm&&r.push(e),r=r.concat(n),function(s){const o=s.filter(c=>c instanceof qm).length,l=s.filter(c=>c instanceof yh).length;if(o>1||o>0&&l>0)throw new pe(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class yh extends V9{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new yh(e,n,r)}_apply(e){const n=this._parse(e);return BI(e._query,n),new Fo(e.firestore,e.converter,gg(e._query,n))}_parse(e){const n=Um(e.firestore);return function(s,o,l,c,f,g,v){let _;if(f.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new pe(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){ob(v,g);const m=[];for(const b of v)m.push(sb(c,s,b));_={arrayValue:{values:m}}}else _=sb(c,s,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||ob(v,g),_=O9(l,o,v,g==="in"||g==="not-in");return Qt.create(f,g,_)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function UI(t,e,n){const r=e,i=zm("where",t);return yh._create(i,r,n)}class qm extends jm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new qm(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:fr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const l=s.getFlattenedFilters();for(const c of l)BI(o,c),o=gg(o,c)}(e._query,n),new Fo(e.firestore,e.converter,gg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function sb(t,e,n){if(typeof(n=an(n))=="string"){if(n==="")throw new pe(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!BT(e)&&n.indexOf("/")!==-1)throw new pe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(It.fromString(n));if(!Ee.isDocumentKey(r))throw new pe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Pw(t,new Ee(r))}if(n instanceof Kn)return Pw(t,n._key);throw new pe(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dh(n)}.`)}function ob(t,e){if(!Array.isArray(t)||t.length===0)throw new pe(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function BI(t,e){const n=function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new pe(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class H9{convertValue(e,n="none"){switch(ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ce()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return hs(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Fm(Yt(e.latitude),Yt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=_m(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(il(e));default:return null}}convertTimestamp(e){const n=Si(e);return new Xt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=It.fromString(e);kt(uI(r));const i=new sl(r.get(1),r.get(3)),s=new Ee(r.popFirst(5));return i.isEqual(n)||Jr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F9(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class x9 extends FI{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(zm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Kc extends x9{data(e={}){return super.data(e)}}class U9{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Hc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Kc(this._firestore,this._userDataWriter,r.key,r,new Hc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const c=new Kc(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Hc(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const c=new Kc(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Hc(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,g=-1;return l.type!==0&&(f=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),g=o.indexOf(l.doc.key)),{type:B9(l.type),doc:c,oldIndex:f,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function B9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce()}}class W9 extends H9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ao(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Kn(this.firestore,null,n)}}function WI(t){t=bo(t,Fo);const e=bo(t.firestore,gh),n=DI(e),r=new W9(e);return L9(t._query),w9(n,t._query).then(i=>new U9(e,r,t,i))}function ns(t,e,n,...r){t=bo(t,Kn);const i=bo(t.firestore,gh),s=Um(i);let o;return o=typeof(e=an(e))=="string"||e instanceof mh?D9(s,"updateDoc",t._key,e,n,r):R9(s,"updateDoc",t._key,e),zI(i,[o.toMutation(t._key,Lr.exists(!0))])}function z9(t,e){const n=bo(t.firestore,gh),r=S9(t),i=F9(t.converter,e);return zI(n,[P9(Um(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Lr.exists(!1))]).then(()=>r)}function zI(t,e){return function(r,i){const s=new yi;return r.asyncQueue.enqueueAndForget(async()=>i9(await y9(r),i,s)),s.promise}(DI(t),e)}(function(e,n=!0){(function(i){Lo=i})(Oo),xr(new ur("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new gh(new U3(r.getProvider("auth-internal")),new j3(r.getProvider("app-check-internal")),function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new pe(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sl(f.options.projectId,g)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),rr(Tw,"4.3.0",e),rr(Tw,"4.3.0","esm2017")})();function Gm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ab(t){return t!==void 0&&t.enterprise!==void 0}class j9{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}function jI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const q9=jI,qI=new ls("auth","Firebase",jI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Su=new Bu("@firebase/auth");function G9(t,...e){Su.logLevel<=Ye.WARN&&Su.warn(`Auth (${Oo}): ${t}`,...e)}function Yc(t,...e){Su.logLevel<=Ye.ERROR&&Su.error(`Auth (${Oo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(t,...e){throw Km(t,...e)}function Hr(t,...e){return Km(t,...e)}function K9(t,e,n){const r=Object.assign(Object.assign({},q9()),{[e]:n});return new ls("auth","Firebase",r).create(e,{appName:t.name})}function Km(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return qI.create(t,...e)}function ke(t,e,...n){if(!t)throw Km(e,...n)}function Qr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Yc(e),new Error(e)}function ei(t,e){t||Qr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Y9(){return lb()==="http:"||lb()==="https:"}function lb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Y9()||_E()||"connection"in navigator)?navigator.onLine:!0}function $9(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,n){this.shortDelay=e,this.longDelay=n,ei(n>e,"Short delay should be less than long delay!"),this.isMobile=uL()||hL()}get(){return Q9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(t,e){ei(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J9=new Ol(3e4,6e4);function ds(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ps(t,e,n,r,i={}){return KI(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=gl(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),GI.fetch()(YI(t,t.config.apiHost,n,l),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))})}async function KI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},X9),e);try{const i=new Z9(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Fc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[c,f]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fc(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Fc(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Fc(t,"user-disabled",o);const g=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw K9(t,g,f);dr(t,g)}}catch(i){if(i instanceof gr)throw i;dr(t,"network-request-failed",{message:String(i)})}}async function Ml(t,e,n,r,i={}){const s=await ps(t,e,n,r,i);return"mfaPendingCredential"in s&&dr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function YI(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Ym(t.config,i):`${t.config.apiScheme}://${i}`}class Z9{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Hr(this.auth,"network-request-failed")),J9.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Fc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Hr(t,e,r);return i.customData._tokenResponse=n,i}async function ex(t,e){return ps(t,"GET","/v2/recaptchaConfig",ds(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tx(t,e){return ps(t,"POST","/v1/accounts:delete",e)}async function nx(t,e){return ps(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rx(t,e=!1){const n=an(t),r=await n.getIdToken(e),i=Qm(r);ke(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Fa(ip(i.auth_time)),issuedAtTime:Fa(ip(i.iat)),expirationTime:Fa(ip(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function ip(t){return Number(t)*1e3}function Qm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Yc("JWT malformed, contained fewer than 3 sections"),null;try{const i=gE(n);return i?JSON.parse(i):(Yc("Failed to decode base64 JWT payload"),null)}catch(i){return Yc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function ix(t){const e=Qm(t);return ke(e,"internal-error"),ke(typeof e.exp<"u","internal-error"),ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof gr&&sx(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function sx({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fa(this.lastLoginAt),this.creationTime=Fa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eu(t){var e;const n=t.auth,r=await t.getIdToken(),i=await cl(t,nx(n,{idToken:r}));ke(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?cx(s.providerUserInfo):[],l=lx(t.providerData,o),c=t.isAnonymous,f=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),g=c?f:!1,v={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new QI(s.createdAt,s.lastLoginAt),isAnonymous:g};Object.assign(t,v)}async function ax(t){const e=an(t);await Eu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function lx(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function cx(t){return t.map(e=>{var{providerId:n}=e,r=Gm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ux(t,e){const n=await KI(t,{},async()=>{const r=gl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=YI(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",GI.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ke(e.idToken,"internal-error"),ke(typeof e.idToken<"u","internal-error"),ke(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ix(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ke(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await ux(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ul;return r&&(ke(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ke(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ke(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ul,this.toJSON())}_performRefresh(){return Qr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(t,e){ke(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Yi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Gm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ox(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new QI(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await cl(this,this.stsTokenManager.getToken(this.auth,e));return ke(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return rx(this,e)}reload(){return ax(this)}_assign(e){this!==e&&(ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Yi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Eu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await cl(this,tx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,l,c,f,g;const v=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,b=(o=n.photoURL)!==null&&o!==void 0?o:void 0,I=(l=n.tenantId)!==null&&l!==void 0?l:void 0,k=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,D=(f=n.createdAt)!==null&&f!==void 0?f:void 0,M=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:L,emailVerified:H,isAnonymous:R,providerData:q,stsTokenManager:j}=n;ke(L&&j,e,"internal-error");const X=ul.fromJSON(this.name,j);ke(typeof L=="string",e,"internal-error"),ai(v,e.name),ai(_,e.name),ke(typeof H=="boolean",e,"internal-error"),ke(typeof R=="boolean",e,"internal-error"),ai(m,e.name),ai(b,e.name),ai(I,e.name),ai(k,e.name),ai(D,e.name),ai(M,e.name);const $=new Yi({uid:L,auth:e,email:_,emailVerified:H,displayName:v,isAnonymous:R,photoURL:b,phoneNumber:m,tenantId:I,stsTokenManager:X,createdAt:D,lastLoginAt:M});return q&&Array.isArray(q)&&($.providerData=q.map(K=>Object.assign({},K))),k&&($._redirectEventId=k),$}static async _fromIdTokenResponse(e,n,r=!1){const i=new ul;i.updateFromServerResponse(n);const s=new Yi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Eu(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb=new Map;function $r(t){ei(t instanceof Function,"Expected a class definition");let e=cb.get(t);return e?(ei(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,cb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}$I.type="NONE";const ub=$I;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(t,e,n){return`firebase:${t}:${e}:${n}`}class lo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Qc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Qc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Yi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new lo($r(ub),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=i[0]||$r(ub);const o=Qc(r,e.config.apiKey,e.name);let l=null;for(const f of n)try{const g=await f._get(o);if(g){const v=Yi._fromJSON(e,g);f!==s&&(l=v),s=f;break}}catch{}const c=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new lo(s,e,r):(s=c[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async f=>{if(f!==s)try{await f._remove(o)}catch{}})),new lo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ZI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(XI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tk(e))return"Blackberry";if(nk(e))return"Webos";if($m(e))return"Safari";if((e.includes("chrome/")||JI(e))&&!e.includes("edge/"))return"Chrome";if(ek(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function XI(t=In()){return/firefox\//i.test(t)}function $m(t=In()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function JI(t=In()){return/crios\//i.test(t)}function ZI(t=In()){return/iemobile/i.test(t)}function ek(t=In()){return/android/i.test(t)}function tk(t=In()){return/blackberry/i.test(t)}function nk(t=In()){return/webos/i.test(t)}function _h(t=In()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function hx(t=In()){var e;return _h(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function fx(){return fL()&&document.documentMode===10}function rk(t=In()){return _h(t)||ek(t)||nk(t)||tk(t)||/windows phone/i.test(t)||ZI(t)}function dx(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(t,e=[]){let n;switch(t){case"Browser":n=hb(In());break;case"Worker":n=`${hb(In())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Oo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const c=e(s);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gx(t,e={}){return ps(t,"GET","/v2/passwordPolicy",ds(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx=6;class vx{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:mx,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fb(this),this.idTokenSubscription=new fb(this),this.beforeStateQueue=new px(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$r(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await lo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Eu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?an(e):null;return n&&ke(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence($r(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gx(this),n=new vx(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ls("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&$r(e)||this._popupRedirectResolver;ke(n,this,"argument-error"),this.redirectPersistenceManager=await lo.create(this,[$r(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ke(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ik(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&G9(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function gs(t){return an(t)}class fb{constructor(e){this.auth=e,this.observer=null,this.addObserver=yL(n=>this.observer=n)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _x(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function sk(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Hr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",_x().appendChild(r)})}function wx(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const bx="https://www.google.com/recaptcha/enterprise.js?render=",Ax="recaptcha-enterprise",Sx="NO_RECAPTCHA";class Ex{constructor(e){this.type=Ax,this.auth=gs(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{ex(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const f=new j9(c);return s.tenantId==null?s._agentRecaptchaConfig=f:s._tenantRecaptchaConfigs[s.tenantId]=f,o(f.siteKey)}}).catch(c=>{l(c)})})}function i(s,o,l){const c=window.grecaptcha;ab(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(f=>{o(f)}).catch(()=>{o(Sx)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(l=>{if(!n&&ab(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}sk(bx+l).then(()=>{i(l,s,o)}).catch(c=>{o(c)})}}).catch(l=>{o(l)})})}}async function Tu(t,e,n,r=!1){const i=new Ex(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(t,e){const n=cs(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Ka(s,e??{}))return i;dr(i,"already-initialized")}return n.initialize({options:e})}function Ix(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map($r);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function kx(t,e,n){const r=gs(t);ke(r._canInitEmulator,r,"emulator-config-failed"),ke(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=ok(e),{host:o,port:l}=Cx(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Px()}function ok(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Cx(t){const e=ok(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:db(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:db(o)}}}function db(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Px(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Qr("not implemented")}_getIdTokenResponse(e){return Qr("not implemented")}_linkToIdToken(e,n){return Qr("not implemented")}_getReauthenticationResolver(e){return Qr("not implemented")}}async function Rx(t,e){return ps(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sp(t,e){return Ml(t,"POST","/v1/accounts:signInWithPassword",ds(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dx(t,e){return Ml(t,"POST","/v1/accounts:signInWithEmailLink",ds(t,e))}async function Ox(t,e){return Ml(t,"POST","/v1/accounts:signInWithEmailLink",ds(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl extends Xm{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new hl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new hl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await Tu(e,r,"signInWithPassword");return sp(e,i)}else return sp(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await Tu(e,r,"signInWithPassword");return sp(e,s)}else return Promise.reject(i)});case"emailLink":return Dx(e,{email:this._email,oobCode:this._password});default:dr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return Rx(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Ox(e,{idToken:n,email:this._email,oobCode:this._password});default:dr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function co(t,e){return Ml(t,"POST","/v1/accounts:signInWithIdp",ds(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx="http://localhost";class rs extends Xm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new rs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):dr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Gm(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new rs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return co(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,co(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,co(e,n)}buildRequest(){const e={requestUri:Mx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=gl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Lx(t){const e=Ia(ka(t)).link,n=e?Ia(ka(e)).deep_link_id:null,r=Ia(ka(t)).deep_link_id;return(r?Ia(ka(r)).link:null)||r||n||e||t}class Jm{constructor(e){var n,r,i,s,o,l;const c=Ia(ka(e)),f=(n=c.apiKey)!==null&&n!==void 0?n:null,g=(r=c.oobCode)!==null&&r!==void 0?r:null,v=Nx((i=c.mode)!==null&&i!==void 0?i:null);ke(f&&g&&v,"argument-error"),this.apiKey=f,this.operation=v,this.code=g,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=Lx(e);try{return new Jm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(){this.providerId=xo.PROVIDER_ID}static credential(e,n){return hl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Jm.parseLink(n);return ke(r,"argument-error"),hl._fromEmailAndCode(e,r.code,r.tenantId)}}xo.PROVIDER_ID="password";xo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl extends ak{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends Nl{constructor(){super("facebook.com")}static credential(e){return rs._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ci.credential(e.oauthAccessToken)}catch{return null}}}ci.FACEBOOK_SIGN_IN_METHOD="facebook.com";ci.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends Nl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return rs._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ui.credential(n,r)}catch{return null}}}ui.GOOGLE_SIGN_IN_METHOD="google.com";ui.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends Nl{constructor(){super("github.com")}static credential(e){return rs._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hi.credential(e.oauthAccessToken)}catch{return null}}}hi.GITHUB_SIGN_IN_METHOD="github.com";hi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends Nl{constructor(){super("twitter.com")}static credential(e,n){return rs._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return fi.credential(n,r)}catch{return null}}}fi.TWITTER_SIGN_IN_METHOD="twitter.com";fi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function op(t,e){return Ml(t,"POST","/v1/accounts:signUp",ds(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Yi._fromIdTokenResponse(e,r,i),o=pb(r);return new is({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=pb(r);return new is({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function pb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu extends gr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Iu.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Iu(e,n,r,i)}}function lk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Iu._fromErrorAndOperation(t,s,e,r):s})}async function Vx(t,e,n=!1){const r=await cl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return is._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hx(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await cl(t,lk(r,i,e,t),n);ke(s.idToken,r,"internal-error");const o=Qm(s.idToken);ke(o,r,"internal-error");const{sub:l}=o;return ke(t.uid===l,r,"user-mismatch"),is._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&dr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ck(t,e,n=!1){const r="signIn",i=await lk(t,r,e),s=await is._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Fx(t,e){return ck(gs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uk(t){const e=gs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function xx(t,e,n){var r;const i=gs(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const f=await Tu(i,s,"signUpPassword");o=op(i,f)}else o=op(i,s).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const g=await Tu(i,s,"signUpPassword");return op(i,g)}throw f});const l=await o.catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&uk(t),f}),c=await is._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(c.user),c}function Ux(t,e,n){return Fx(an(t),xo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&uk(t),r})}function Bx(t,e,n,r){return an(t).onIdTokenChanged(e,n,r)}function Wx(t,e,n){return an(t).beforeAuthStateChanged(e,n)}const ku="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ku,"1"),this.storage.removeItem(ku),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(){const t=In();return $m(t)||_h(t)}const jx=1e3,qx=10;class fk extends hk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=zx()&&dx(),this.fallbackToPolling=rk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);fx()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,qx):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},jx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}fk.type="LOCAL";const Gx=fk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk extends hk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}dk.type="SESSION";const pk=dk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new wh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async f=>f(n.origin,s)),c=await Kx(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,c)=>{const f=Zm("",20);i.port1.start();const g=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(v){const _=v;if(_.data.eventId===f)switch(_.data.status){case"ack":clearTimeout(g),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(_.data.response);break;default:clearTimeout(g),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(){return window}function Qx(t){Fr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(){return typeof Fr().WorkerGlobalScope<"u"&&typeof Fr().importScripts=="function"}async function $x(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Xx(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Jx(){return gk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk="firebaseLocalStorageDb",Zx=1,Cu="firebaseLocalStorage",vk="fbase_key";class Ll{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function bh(t,e){return t.transaction([Cu],e?"readwrite":"readonly").objectStore(Cu)}function e6(){const t=indexedDB.deleteDatabase(mk);return new Ll(t).toPromise()}function Tg(){const t=indexedDB.open(mk,Zx);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Cu,{keyPath:vk})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Cu)?e(r):(r.close(),await e6(),e(await Tg()))})})}async function gb(t,e,n){const r=bh(t,!0).put({[vk]:e,value:n});return new Ll(r).toPromise()}async function t6(t,e){const n=bh(t,!1).get(e),r=await new Ll(n).toPromise();return r===void 0?null:r.value}function mb(t,e){const n=bh(t,!0).delete(e);return new Ll(n).toPromise()}const n6=800,r6=3;class yk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>r6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wh._getInstance(Jx()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await $x(),!this.activeServiceWorker)return;this.sender=new Yx(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Xx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tg();return await gb(e,ku,"1"),await mb(e,ku),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>gb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>t6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>mb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=bh(i,!1).getAll();return new Ll(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),n6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yk.type="LOCAL";const i6=yk;new Ol(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s6(t,e){return e?$r(e):(ke(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev extends Xm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return co(e,this._buildIdpRequest())}_linkToIdToken(e,n){return co(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return co(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function o6(t){return ck(t.auth,new ev(t),t.bypassAuthState)}function a6(t){const{auth:e,user:n}=t;return ke(n,e,"internal-error"),Hx(n,new ev(t),t.bypassAuthState)}async function l6(t){const{auth:e,user:n}=t;return ke(n,e,"internal-error"),Vx(n,new ev(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return o6;case"linkViaPopup":case"linkViaRedirect":return l6;case"reauthViaPopup":case"reauthViaRedirect":return a6;default:dr(this.auth,"internal-error")}}resolve(e){ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6=new Ol(2e3,1e4);class no extends _k{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,no.currentPopupAction&&no.currentPopupAction.cancel(),no.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ke(e,this.auth,"internal-error"),e}async onExecution(){ei(this.filter.length===1,"Popup operations only handle one event");const e=Zm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Hr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Hr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,no.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,c6.get())};e()}}no.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6="pendingRedirect",$c=new Map;class h6 extends _k{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=$c.get(this.auth._key());if(!e){try{const r=await f6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}$c.set(this.auth._key(),e)}return this.bypassAuthState||$c.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function f6(t,e){const n=g6(e),r=p6(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function d6(t,e){$c.set(t._key(),e)}function p6(t){return $r(t._redirectPersistence)}function g6(t){return Qc(u6,t.config.apiKey,t.name)}async function m6(t,e,n=!1){const r=gs(t),i=s6(r,e),o=await new h6(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6=10*60*1e3;class y6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!wk(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Hr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=v6&&this.cachedEventUids.clear(),this.cachedEventUids.has(vb(e))}saveEventToCache(e){this.cachedEventUids.add(vb(e)),this.lastProcessedEventTime=Date.now()}}function vb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function wk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w6(t,e={}){return ps(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,A6=/^https?/;async function S6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await w6(t);for(const n of e)try{if(E6(n))return}catch{}dr(t,"unauthorized-domain")}function E6(t){const e=Eg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!A6.test(n))return!1;if(b6.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T6=new Ol(3e4,6e4);function yb(){const t=Fr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function I6(t){return new Promise((e,n)=>{var r,i,s;function o(){yb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yb(),n(Hr(t,"network-request-failed"))},timeout:T6.get()})}if(!((i=(r=Fr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Fr().gapi)===null||s===void 0)&&s.load)o();else{const l=wx("iframefcb");return Fr()[l]=()=>{gapi.load?o():n(Hr(t,"network-request-failed"))},sk(`https://apis.google.com/js/api.js?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Xc=null,e})}let Xc=null;function k6(t){return Xc=Xc||I6(t),Xc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6=new Ol(5e3,15e3),P6="__/auth/iframe",R6="emulator/auth/iframe",D6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},O6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function M6(t){const e=t.config;ke(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ym(e,R6):`https://${t.config.authDomain}/${P6}`,r={apiKey:e.apiKey,appName:t.name,v:Oo},i=O6.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${gl(r).slice(1)}`}async function N6(t){const e=await k6(t),n=Fr().gapi;return ke(n,t,"internal-error"),e.open({where:document.body,url:M6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:D6,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Hr(t,"network-request-failed"),l=Fr().setTimeout(()=>{s(o)},C6.get());function c(){Fr().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},V6=500,H6=600,F6="_blank",x6="http://localhost";class _b{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function U6(t,e,n,r=V6,i=H6){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},L6),{width:r.toString(),height:i.toString(),top:s,left:o}),f=In().toLowerCase();n&&(l=JI(f)?F6:n),XI(f)&&(e=e||x6,c.scrollbars="yes");const g=Object.entries(c).reduce((_,[m,b])=>`${_}${m}=${b},`,"");if(hx(f)&&l!=="_self")return B6(e||"",l),new _b(null);const v=window.open(e||"",l,g);ke(v,t,"popup-blocked");try{v.focus()}catch{}return new _b(v)}function B6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W6="__/auth/handler",z6="emulator/auth/handler",j6=encodeURIComponent("fac");async function wb(t,e,n,r,i,s){ke(t.config.authDomain,t,"auth-domain-config-required"),ke(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Oo,eventId:i};if(e instanceof ak){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",vL(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries(s||{}))o[g]=v}if(e instanceof Nl){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(o.scopes=g.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const g of Object.keys(l))l[g]===void 0&&delete l[g];const c=await t._getAppCheckToken(),f=c?`#${j6}=${encodeURIComponent(c)}`:"";return`${q6(t)}?${gl(l).slice(1)}${f}`}function q6({config:t}){return t.emulator?Ym(t,z6):`https://${t.authDomain}/${W6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap="webStorageSupport";class G6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pk,this._completeRedirectFn=m6,this._overrideRedirectResult=d6}async _openPopup(e,n,r,i){var s;ei((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await wb(e,n,r,Eg(),i);return U6(e,o,Zm())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await wb(e,n,r,Eg(),i);return Qx(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ei(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await N6(e),r=new y6(e);return n.register("authEvent",i=>(ke(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ap,{type:ap},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[ap];o!==void 0&&n(!!o),dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=S6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return rk()||$m()||_h()}}const K6=G6;var bb="@firebase/auth",Ab="1.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function $6(t){xr(new ur("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;ke(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ik(t)},f=new yx(r,i,s,c);return Ix(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),xr(new ur("auth-internal",e=>{const n=gs(e.getProvider("auth").getImmediate());return(r=>new Y6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),rr(bb,Ab,Q6(t)),rr(bb,Ab,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X6=5*60,J6=yE("authIdTokenMaxAge")||X6;let Sb=null;const Z6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>J6)return;const i=n==null?void 0:n.token;Sb!==i&&(Sb=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function bk(t=Kg()){const e=cs(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Tx(t,{popupRedirectResolver:K6,persistence:[i6,Gx,pk]}),r=yE("authTokenSyncURL");if(r){const s=Z6(r);Wx(n,s,()=>s(n.currentUser)),Bx(n,o=>s(o))}const i=mE("auth");return i&&kx(n,`http://${i}`),n}$6("Browser");const e5=(t,e)=>e.some(n=>t instanceof n);let Eb,Tb;function t5(){return Eb||(Eb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function n5(){return Tb||(Tb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ak=new WeakMap,Ig=new WeakMap,Sk=new WeakMap,lp=new WeakMap,tv=new WeakMap;function r5(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(wi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Ak.set(n,t)}).catch(()=>{}),tv.set(e,t),e}function i5(t){if(Ig.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Ig.set(t,e)}let kg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ig.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Sk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function s5(t){kg=t(kg)}function o5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(cp(this),e,...n);return Sk.set(r,e.sort?e.sort():[e]),wi(r)}:n5().includes(t)?function(...e){return t.apply(cp(this),e),wi(Ak.get(this))}:function(...e){return wi(t.apply(cp(this),e))}}function a5(t){return typeof t=="function"?o5(t):(t instanceof IDBTransaction&&i5(t),e5(t,t5())?new Proxy(t,kg):t)}function wi(t){if(t instanceof IDBRequest)return r5(t);if(lp.has(t))return lp.get(t);const e=a5(t);return e!==t&&(lp.set(t,e),tv.set(e,t)),e}const cp=t=>tv.get(t);function l5(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=wi(o);return r&&o.addEventListener("upgradeneeded",c=>{r(wi(o.result),c.oldVersion,c.newVersion,wi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),l}const c5=["get","getKey","getAll","getAllKeys","count"],u5=["put","add","delete","clear"],up=new Map;function Ib(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(up.get(e))return up.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=u5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||c5.includes(n)))return;const s=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(l.shift())),(await Promise.all([f[n](...l),i&&c.done]))[0]};return up.set(e,s),s}s5(t=>({...t,get:(e,n,r)=>Ib(e,n)||t.get(e,n,r),has:(e,n)=>!!Ib(e,n)||t.has(e,n)}));const Ek="@firebase/installations",nv="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk=1e4,Ik=`w:${nv}`,kk="FIS_v2",h5="https://firebaseinstallations.googleapis.com/v1",f5=60*60*1e3,d5="installations",p5="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g5={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ss=new ls(d5,p5,g5);function Ck(t){return t instanceof gr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk({projectId:t}){return`${h5}/projects/${t}/installations`}function Rk(t){return{token:t.token,requestStatus:2,expiresIn:v5(t.expiresIn),creationTime:Date.now()}}async function Dk(t,e){const r=(await e.json()).error;return ss.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Ok({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function m5(t,{refreshToken:e}){const n=Ok(t);return n.append("Authorization",y5(e)),n}async function Mk(t){const e=await t();return e.status>=500&&e.status<600?t():e}function v5(t){return Number(t.replace("s","000"))}function y5(t){return`${kk} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _5({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Pk(t),i=Ok(t),s=e.getImmediate({optional:!0});if(s){const f=await s.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const o={fid:n,authVersion:kk,appId:t.appId,sdkVersion:Ik},l={method:"POST",headers:i,body:JSON.stringify(o)},c=await Mk(()=>fetch(r,l));if(c.ok){const f=await c.json();return{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:Rk(f.authToken)}}else throw await Dk("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nk(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w5(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5=/^[cdef][\w-]{21}$/,Cg="";function A5(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=S5(t);return b5.test(n)?n:Cg}catch{return Cg}}function S5(t){return w5(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk=new Map;function Vk(t,e){const n=Ah(t);Hk(n,e),E5(n,e)}function Hk(t,e){const n=Lk.get(t);if(n)for(const r of n)r(e)}function E5(t,e){const n=T5();n&&n.postMessage({key:t,fid:e}),I5()}let qi=null;function T5(){return!qi&&"BroadcastChannel"in self&&(qi=new BroadcastChannel("[Firebase] FID Change"),qi.onmessage=t=>{Hk(t.data.key,t.data.fid)}),qi}function I5(){Lk.size===0&&qi&&(qi.close(),qi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k5="firebase-installations-database",C5=1,os="firebase-installations-store";let hp=null;function rv(){return hp||(hp=l5(k5,C5,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(os)}}})),hp}async function Pu(t,e){const n=Ah(t),i=(await rv()).transaction(os,"readwrite"),s=i.objectStore(os),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&Vk(t,e.fid),e}async function Fk(t){const e=Ah(t),r=(await rv()).transaction(os,"readwrite");await r.objectStore(os).delete(e),await r.done}async function Sh(t,e){const n=Ah(t),i=(await rv()).transaction(os,"readwrite"),s=i.objectStore(os),o=await s.get(n),l=e(o);return l===void 0?await s.delete(n):await s.put(l,n),await i.done,l&&(!o||o.fid!==l.fid)&&Vk(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iv(t){let e;const n=await Sh(t.appConfig,r=>{const i=P5(r),s=R5(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Cg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function P5(t){const e=t||{fid:A5(),registrationStatus:0};return xk(e)}function R5(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(ss.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=D5(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:O5(t)}:{installationEntry:e}}async function D5(t,e){try{const n=await _5(t,e);return Pu(t.appConfig,n)}catch(n){throw Ck(n)&&n.customData.serverCode===409?await Fk(t.appConfig):await Pu(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function O5(t){let e=await kb(t.appConfig);for(;e.registrationStatus===1;)await Nk(100),e=await kb(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await iv(t);return r||n}return e}function kb(t){return Sh(t,e=>{if(!e)throw ss.create("installation-not-found");return xk(e)})}function xk(t){return M5(t)?{fid:t.fid,registrationStatus:0}:t}function M5(t){return t.registrationStatus===1&&t.registrationTime+Tk<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N5({appConfig:t,heartbeatServiceProvider:e},n){const r=L5(t,n),i=m5(t,n),s=e.getImmediate({optional:!0});if(s){const f=await s.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const o={installation:{sdkVersion:Ik,appId:t.appId}},l={method:"POST",headers:i,body:JSON.stringify(o)},c=await Mk(()=>fetch(r,l));if(c.ok){const f=await c.json();return Rk(f)}else throw await Dk("Generate Auth Token",c)}function L5(t,{fid:e}){return`${Pk(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sv(t,e=!1){let n;const r=await Sh(t.appConfig,s=>{if(!Uk(s))throw ss.create("not-registered");const o=s.authToken;if(!e&&F5(o))return s;if(o.requestStatus===1)return n=V5(t,e),s;{if(!navigator.onLine)throw ss.create("app-offline");const l=U5(s);return n=H5(t,l),l}});return n?await n:r.authToken}async function V5(t,e){let n=await Cb(t.appConfig);for(;n.authToken.requestStatus===1;)await Nk(100),n=await Cb(t.appConfig);const r=n.authToken;return r.requestStatus===0?sv(t,e):r}function Cb(t){return Sh(t,e=>{if(!Uk(e))throw ss.create("not-registered");const n=e.authToken;return B5(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function H5(t,e){try{const n=await N5(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Pu(t.appConfig,r),n}catch(n){if(Ck(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Fk(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Pu(t.appConfig,r)}throw n}}function Uk(t){return t!==void 0&&t.registrationStatus===2}function F5(t){return t.requestStatus===2&&!x5(t)}function x5(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+f5}function U5(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function B5(t){return t.requestStatus===1&&t.requestTime+Tk<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W5(t){const e=t,{installationEntry:n,registrationPromise:r}=await iv(e);return r?r.catch(console.error):sv(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z5(t,e=!1){const n=t;return await j5(n),(await sv(n,e)).token}async function j5(t){const{registrationPromise:e}=await iv(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q5(t){if(!t||!t.options)throw fp("App Configuration");if(!t.name)throw fp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw fp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function fp(t){return ss.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk="installations",G5="installations-internal",K5=t=>{const e=t.getProvider("app").getImmediate(),n=q5(e),r=cs(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Y5=t=>{const e=t.getProvider("app").getImmediate(),n=cs(e,Bk).getImmediate();return{getId:()=>W5(n),getToken:i=>z5(n,i)}};function Q5(){xr(new ur(Bk,K5,"PUBLIC")),xr(new ur(G5,Y5,"PRIVATE"))}Q5();rr(Ek,nv);rr(Ek,nv,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ru="analytics",$5="firebase_id",X5="origin",J5=60*1e3,Z5="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ov="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bn=new Bu("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e7={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Yn=new ls("analytics","Analytics",e7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t7(t){if(!t.startsWith(ov)){const e=Yn.create("invalid-gtag-resource",{gtagURL:t});return Bn.warn(e.message),""}return t}function Wk(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function n7(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function r7(t,e){const n=n7("firebase-js-sdk-policy",{createScriptURL:t7}),r=document.createElement("script"),i=`${ov}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function i7(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function s7(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const c=(await Wk(n)).find(f=>f.measurementId===i);c&&await e[c.appId]}}catch(l){Bn.error(l)}t("config",i,s)}async function o7(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const l=await Wk(n);for(const c of o){const f=l.find(v=>v.measurementId===c),g=f&&e[f.appId];if(g)s.push(g);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){Bn.error(s)}}function a7(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[l,c]=o;await o7(t,e,n,l,c)}else if(s==="config"){const[l,c]=o;await s7(t,e,n,r,l,c)}else if(s==="consent"){const[l]=o;t("consent","update",l)}else if(s==="get"){const[l,c,f]=o;t("get",l,c,f)}else if(s==="set"){const[l]=o;t("set",l)}else t(s,...o)}catch(l){Bn.error(l)}}return i}function l7(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=a7(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function c7(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(ov)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u7=30,h7=1e3;class f7{constructor(e={},n=h7){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const zk=new f7;function d7(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function p7(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:d7(r)},s=Z5.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let l="";try{const c=await o.json();!((e=c.error)===null||e===void 0)&&e.message&&(l=c.error.message)}catch{}throw Yn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:l})}return o.json()}async function g7(t,e=zk,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Yn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Yn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new y7;return setTimeout(async()=>{l.abort()},n!==void 0?n:J5),jk({appId:r,apiKey:i,measurementId:s},o,l,e)}async function jk(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=zk){var s;const{appId:o,measurementId:l}=t;try{await m7(r,e)}catch(c){if(l)return Bn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:l};throw c}try{const c=await p7(t);return i.deleteThrottleMetadata(o),c}catch(c){const f=c;if(!v7(f)){if(i.deleteThrottleMetadata(o),l)return Bn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:o,measurementId:l};throw c}const g=Number((s=f==null?void 0:f.customData)===null||s===void 0?void 0:s.httpStatus)===503?rw(n,i.intervalMillis,u7):rw(n,i.intervalMillis),v={throttleEndTimeMillis:Date.now()+g,backoffCount:n+1};return i.setThrottleMetadata(o,v),Bn.debug(`Calling attemptFetch again in ${g} millis`),jk(t,v,r,i)}}function m7(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Yn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function v7(t){if(!(t instanceof gr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class y7{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function _7(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w7(){if(wE())try{await bE()}catch(t){return Bn.warn(Yn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Bn.warn(Yn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function b7(t,e,n,r,i,s,o){var l;const c=g7(t);c.then(m=>{n[m.measurementId]=m.appId,t.options.measurementId&&m.measurementId!==t.options.measurementId&&Bn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>Bn.error(m)),e.push(c);const f=w7().then(m=>{if(m)return r.getId()}),[g,v]=await Promise.all([c,f]);c7(s)||r7(s,g.measurementId),i("js",new Date);const _=(l=o==null?void 0:o.config)!==null&&l!==void 0?l:{};return _[X5]="firebase",_.update=!0,v!=null&&(_[$5]=v),i("config",g.measurementId,_),g.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A7{constructor(e){this.app=e}_delete(){return delete xa[this.app.options.appId],Promise.resolve()}}let xa={},Pb=[];const Rb={};let dp="dataLayer",S7="gtag",Db,qk,Ob=!1;function E7(){const t=[];if(_E()&&t.push("This is a browser extension environment."),dL()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Yn.create("invalid-analytics-context",{errorInfo:e});Bn.warn(n.message)}}function T7(t,e,n){E7();const r=t.options.appId;if(!r)throw Yn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Bn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Yn.create("no-api-key");if(xa[r]!=null)throw Yn.create("already-exists",{id:r});if(!Ob){i7(dp);const{wrappedGtag:s,gtagCore:o}=l7(xa,Pb,Rb,dp,S7);qk=s,Db=o,Ob=!0}return xa[r]=b7(t,Pb,Rb,e,Db,dp,n),new A7(t)}function I7(t=Kg()){t=an(t);const e=cs(t,Ru);return e.isInitialized()?e.getImmediate():k7(t)}function k7(t,e={}){const n=cs(t,Ru);if(n.isInitialized()){const i=n.getImmediate();if(Ka(e,n.getOptions()))return i;throw Yn.create("already-initialized")}return n.initialize({options:e})}function C7(t,e,n,r){t=an(t),_7(qk,xa[t.app.options.appId],e,n,r).catch(i=>Bn.error(i))}const Mb="@firebase/analytics",Nb="0.10.0";function P7(){xr(new ur(Ru,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return T7(r,i,n)},"PUBLIC")),xr(new ur("analytics-internal",t,"PRIVATE")),rr(Mb,Nb),rr(Mb,Nb,"esm2017");function t(e){try{const n=e.getProvider(Ru).getImmediate();return{logEvent:(r,i,s)=>C7(n,r,i,s)}}catch(n){throw Yn.create("interop-component-reg-failed",{reason:n})}}}P7();const fl={host:"https://api.pokemontcg.io/v2"};var pp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function av(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function R7(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var lv={exports:{}},Gk=function(e,n){return function(){for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];return e.apply(n,i)}},D7=Gk,ms=Object.prototype.toString;function cv(t){return ms.call(t)==="[object Array]"}function Pg(t){return typeof t>"u"}function O7(t){return t!==null&&!Pg(t)&&t.constructor!==null&&!Pg(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function M7(t){return ms.call(t)==="[object ArrayBuffer]"}function N7(t){return typeof FormData<"u"&&t instanceof FormData}function L7(t){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&t.buffer instanceof ArrayBuffer,e}function V7(t){return typeof t=="string"}function H7(t){return typeof t=="number"}function Kk(t){return t!==null&&typeof t=="object"}function Jc(t){if(ms.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function F7(t){return ms.call(t)==="[object Date]"}function x7(t){return ms.call(t)==="[object File]"}function U7(t){return ms.call(t)==="[object Blob]"}function Yk(t){return ms.call(t)==="[object Function]"}function B7(t){return Kk(t)&&Yk(t.pipe)}function W7(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}function z7(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function j7(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function uv(t,e){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),cv(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function Rg(){var t={};function e(i,s){Jc(t[s])&&Jc(i)?t[s]=Rg(t[s],i):Jc(i)?t[s]=Rg({},i):cv(i)?t[s]=i.slice():t[s]=i}for(var n=0,r=arguments.length;n<r;n++)uv(arguments[n],e);return t}function q7(t,e,n){return uv(e,function(i,s){n&&typeof i=="function"?t[s]=D7(i,n):t[s]=i}),t}function G7(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}var Xn={isArray:cv,isArrayBuffer:M7,isBuffer:O7,isFormData:N7,isArrayBufferView:L7,isString:V7,isNumber:H7,isObject:Kk,isPlainObject:Jc,isUndefined:Pg,isDate:F7,isFile:x7,isBlob:U7,isFunction:Yk,isStream:B7,isURLSearchParams:W7,isStandardBrowserEnv:j7,forEach:uv,merge:Rg,extend:q7,trim:z7,stripBOM:G7},js=Xn;function Lb(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Qk=function(e,n,r){if(!n)return e;var i;if(r)i=r(n);else if(js.isURLSearchParams(n))i=n.toString();else{var s=[];js.forEach(n,function(c,f){c===null||typeof c>"u"||(js.isArray(c)?f=f+"[]":c=[c],js.forEach(c,function(v){js.isDate(v)?v=v.toISOString():js.isObject(v)&&(v=JSON.stringify(v)),s.push(Lb(f)+"="+Lb(v))}))}),i=s.join("&")}if(i){var o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e},K7=Xn;function Eh(){this.handlers=[]}Eh.prototype.use=function(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1};Eh.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};Eh.prototype.forEach=function(e){K7.forEach(this.handlers,function(r){r!==null&&e(r)})};var Y7=Eh,Q7=Xn,$7=function(e,n){Q7.forEach(e,function(i,s){s!==n&&s.toUpperCase()===n.toUpperCase()&&(e[n]=i,delete e[s])})},$k=function(e,n,r,i,s){return e.config=n,r&&(e.code=r),e.request=i,e.response=s,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e},gp,Vb;function Xk(){if(Vb)return gp;Vb=1;var t=$k;return gp=function(n,r,i,s,o){var l=new Error(n);return t(l,r,i,s,o)},gp}var mp,Hb;function X7(){if(Hb)return mp;Hb=1;var t=Xk();return mp=function(n,r,i){var s=i.config.validateStatus;!i.status||!s||s(i.status)?n(i):r(t("Request failed with status code "+i.status,i.config,null,i.request,i))},mp}var vp,Fb;function J7(){if(Fb)return vp;Fb=1;var t=Xn;return vp=t.isStandardBrowserEnv()?function(){return{write:function(r,i,s,o,l,c){var f=[];f.push(r+"="+encodeURIComponent(i)),t.isNumber(s)&&f.push("expires="+new Date(s).toGMTString()),t.isString(o)&&f.push("path="+o),t.isString(l)&&f.push("domain="+l),c===!0&&f.push("secure"),document.cookie=f.join("; ")},read:function(r){var i=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),vp}var yp,xb;function Z7(){return xb||(xb=1,yp=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}),yp}var _p,Ub;function eU(){return Ub||(Ub=1,_p=function(e,n){return n?e.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):e}),_p}var wp,Bb;function tU(){if(Bb)return wp;Bb=1;var t=Z7(),e=eU();return wp=function(r,i){return r&&!t(i)?e(r,i):i},wp}var bp,Wb;function nU(){if(Wb)return bp;Wb=1;var t=Xn,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return bp=function(r){var i={},s,o,l;return r&&t.forEach(r.split(`
`),function(f){if(l=f.indexOf(":"),s=t.trim(f.substr(0,l)).toLowerCase(),o=t.trim(f.substr(l+1)),s){if(i[s]&&e.indexOf(s)>=0)return;s==="set-cookie"?i[s]=(i[s]?i[s]:[]).concat([o]):i[s]=i[s]?i[s]+", "+o:o}}),i},bp}var Ap,zb;function rU(){if(zb)return Ap;zb=1;var t=Xn;return Ap=t.isStandardBrowserEnv()?function(){var n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),i;function s(o){var l=o;return n&&(r.setAttribute("href",l),l=r.href),r.setAttribute("href",l),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return i=s(window.location.href),function(l){var c=t.isString(l)?s(l):l;return c.protocol===i.protocol&&c.host===i.host}}():function(){return function(){return!0}}(),Ap}var Sp,jb;function qb(){if(jb)return Sp;jb=1;var t=Xn,e=X7(),n=J7(),r=Qk,i=tU(),s=nU(),o=rU(),l=Xk();return Sp=function(f){return new Promise(function(v,_){var m=f.data,b=f.headers,I=f.responseType;t.isFormData(m)&&delete b["Content-Type"];var k=new XMLHttpRequest;if(f.auth){var D=f.auth.username||"",M=f.auth.password?unescape(encodeURIComponent(f.auth.password)):"";b.Authorization="Basic "+btoa(D+":"+M)}var L=i(f.baseURL,f.url);k.open(f.method.toUpperCase(),r(L,f.params,f.paramsSerializer),!0),k.timeout=f.timeout;function H(){if(k){var q="getAllResponseHeaders"in k?s(k.getAllResponseHeaders()):null,j=!I||I==="text"||I==="json"?k.responseText:k.response,X={data:j,status:k.status,statusText:k.statusText,headers:q,config:f,request:k};e(v,_,X),k=null}}if("onloadend"in k?k.onloadend=H:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(H)},k.onabort=function(){k&&(_(l("Request aborted",f,"ECONNABORTED",k)),k=null)},k.onerror=function(){_(l("Network Error",f,null,k)),k=null},k.ontimeout=function(){var j="timeout of "+f.timeout+"ms exceeded";f.timeoutErrorMessage&&(j=f.timeoutErrorMessage),_(l(j,f,f.transitional&&f.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",k)),k=null},t.isStandardBrowserEnv()){var R=(f.withCredentials||o(L))&&f.xsrfCookieName?n.read(f.xsrfCookieName):void 0;R&&(b[f.xsrfHeaderName]=R)}"setRequestHeader"in k&&t.forEach(b,function(j,X){typeof m>"u"&&X.toLowerCase()==="content-type"?delete b[X]:k.setRequestHeader(X,j)}),t.isUndefined(f.withCredentials)||(k.withCredentials=!!f.withCredentials),I&&I!=="json"&&(k.responseType=f.responseType),typeof f.onDownloadProgress=="function"&&k.addEventListener("progress",f.onDownloadProgress),typeof f.onUploadProgress=="function"&&k.upload&&k.upload.addEventListener("progress",f.onUploadProgress),f.cancelToken&&f.cancelToken.promise.then(function(j){k&&(k.abort(),_(j),k=null)}),m||(m=null),k.send(m)})},Sp}var fn=Xn,Gb=$7,iU=$k,sU={"Content-Type":"application/x-www-form-urlencoded"};function Kb(t,e){!fn.isUndefined(t)&&fn.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function oU(){var t;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(t=qb()),t}function aU(t,e,n){if(fn.isString(t))try{return(e||JSON.parse)(t),fn.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}var Th={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:oU(),transformRequest:[function(e,n){return Gb(n,"Accept"),Gb(n,"Content-Type"),fn.isFormData(e)||fn.isArrayBuffer(e)||fn.isBuffer(e)||fn.isStream(e)||fn.isFile(e)||fn.isBlob(e)?e:fn.isArrayBufferView(e)?e.buffer:fn.isURLSearchParams(e)?(Kb(n,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):fn.isObject(e)||n&&n["Content-Type"]==="application/json"?(Kb(n,"application/json"),aU(e)):e}],transformResponse:[function(e){var n=this.transitional,r=n&&n.silentJSONParsing,i=n&&n.forcedJSONParsing,s=!r&&this.responseType==="json";if(s||i&&fn.isString(e)&&e.length)try{return JSON.parse(e)}catch(o){if(s)throw o.name==="SyntaxError"?iU(o,this,"E_JSON_PARSE"):o}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};Th.headers={common:{Accept:"application/json, text/plain, */*"}};fn.forEach(["delete","get","head"],function(e){Th.headers[e]={}});fn.forEach(["post","put","patch"],function(e){Th.headers[e]=fn.merge(sU)});var hv=Th,lU=Xn,cU=hv,uU=function(e,n,r){var i=this||cU;return lU.forEach(r,function(o){e=o.call(i,e,n)}),e},Ep,Yb;function Jk(){return Yb||(Yb=1,Ep=function(e){return!!(e&&e.__CANCEL__)}),Ep}var Qb=Xn,Tp=uU,hU=Jk(),fU=hv;function Ip(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var dU=function(e){Ip(e),e.headers=e.headers||{},e.data=Tp.call(e,e.data,e.headers,e.transformRequest),e.headers=Qb.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),Qb.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var n=e.adapter||fU.adapter;return n(e).then(function(i){return Ip(e),i.data=Tp.call(e,i.data,i.headers,e.transformResponse),i},function(i){return hU(i)||(Ip(e),i&&i.response&&(i.response.data=Tp.call(e,i.response.data,i.response.headers,e.transformResponse))),Promise.reject(i)})},wn=Xn,Zk=function(e,n){n=n||{};var r={},i=["url","method","data"],s=["headers","auth","proxy","params"],o=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],l=["validateStatus"];function c(_,m){return wn.isPlainObject(_)&&wn.isPlainObject(m)?wn.merge(_,m):wn.isPlainObject(m)?wn.merge({},m):wn.isArray(m)?m.slice():m}function f(_){wn.isUndefined(n[_])?wn.isUndefined(e[_])||(r[_]=c(void 0,e[_])):r[_]=c(e[_],n[_])}wn.forEach(i,function(m){wn.isUndefined(n[m])||(r[m]=c(void 0,n[m]))}),wn.forEach(s,f),wn.forEach(o,function(m){wn.isUndefined(n[m])?wn.isUndefined(e[m])||(r[m]=c(void 0,e[m])):r[m]=c(void 0,n[m])}),wn.forEach(l,function(m){m in n?r[m]=c(e[m],n[m]):m in e&&(r[m]=c(void 0,e[m]))});var g=i.concat(s).concat(o).concat(l),v=Object.keys(e).concat(Object.keys(n)).filter(function(m){return g.indexOf(m)===-1});return wn.forEach(v,f),r};const pU="axios",gU="0.21.4",mU="Promise based HTTP client for the browser and node.js",vU="index.js",yU={test:"grunt test",start:"node ./sandbox/server.js",build:"NODE_ENV=production grunt build",preversion:"npm test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json",postversion:"git push && git push --tags",examples:"node ./examples/server.js",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",fix:"eslint --fix lib/**/*.js"},_U={type:"git",url:"https://github.com/axios/axios.git"},wU=["xhr","http","ajax","promise","node"],bU="Matt Zabriskie",AU="MIT",SU={url:"https://github.com/axios/axios/issues"},EU="https://axios-http.com",TU={coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},IU={"./lib/adapters/http.js":"./lib/adapters/xhr.js"},kU="dist/axios.min.js",CU="dist/axios.min.js",PU="./index.d.ts",RU={"follow-redirects":"^1.14.0"},DU=[{path:"./dist/axios.min.js",threshold:"5kB"}],OU={name:pU,version:gU,description:mU,main:vU,scripts:yU,repository:_U,keywords:wU,author:bU,license:AU,bugs:SU,homepage:EU,devDependencies:TU,browser:IU,jsdelivr:kU,unpkg:CU,typings:PU,dependencies:RU,bundlesize:DU};var e2=OU,fv={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){fv[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});var $b={},MU=e2.version.split(".");function t2(t,e){for(var n=e?e.split("."):MU,r=t.split("."),i=0;i<3;i++){if(n[i]>r[i])return!0;if(n[i]<r[i])return!1}return!1}fv.transitional=function(e,n,r){var i=n&&t2(n);function s(o,l){return"[Axios v"+e2.version+"] Transitional option '"+o+"'"+l+(r?". "+r:"")}return function(o,l,c){if(e===!1)throw new Error(s(l," has been removed in "+n));return i&&!$b[l]&&($b[l]=!0,console.warn(s(l," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,l,c):!0}};function NU(t,e,n){if(typeof t!="object")throw new TypeError("options must be an object");for(var r=Object.keys(t),i=r.length;i-- >0;){var s=r[i],o=e[s];if(o){var l=t[s],c=l===void 0||o(l,s,t);if(c!==!0)throw new TypeError("option "+s+" must be "+c);continue}if(n!==!0)throw Error("Unknown option "+s)}}var LU={isOlderVersion:t2,assertOptions:NU,validators:fv},n2=Xn,VU=Qk,Xb=Y7,Jb=dU,Ih=Zk,r2=LU,qs=r2.validators;function Vl(t){this.defaults=t,this.interceptors={request:new Xb,response:new Xb}}Vl.prototype.request=function(e){typeof e=="string"?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=Ih(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var n=e.transitional;n!==void 0&&r2.assertOptions(n,{silentJSONParsing:qs.transitional(qs.boolean,"1.0.0"),forcedJSONParsing:qs.transitional(qs.boolean,"1.0.0"),clarifyTimeoutError:qs.transitional(qs.boolean,"1.0.0")},!1);var r=[],i=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(e)===!1||(i=i&&_.synchronous,r.unshift(_.fulfilled,_.rejected))});var s=[];this.interceptors.response.forEach(function(_){s.push(_.fulfilled,_.rejected)});var o;if(!i){var l=[Jb,void 0];for(Array.prototype.unshift.apply(l,r),l=l.concat(s),o=Promise.resolve(e);l.length;)o=o.then(l.shift(),l.shift());return o}for(var c=e;r.length;){var f=r.shift(),g=r.shift();try{c=f(c)}catch(v){g(v);break}}try{o=Jb(c)}catch(v){return Promise.reject(v)}for(;s.length;)o=o.then(s.shift(),s.shift());return o};Vl.prototype.getUri=function(e){return e=Ih(this.defaults,e),VU(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};n2.forEach(["delete","get","head","options"],function(e){Vl.prototype[e]=function(n,r){return this.request(Ih(r||{},{method:e,url:n,data:(r||{}).data}))}});n2.forEach(["post","put","patch"],function(e){Vl.prototype[e]=function(n,r,i){return this.request(Ih(i||{},{method:e,url:n,data:r}))}});var HU=Vl,kp,Zb;function i2(){if(Zb)return kp;Zb=1;function t(e){this.message=e}return t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,kp=t,kp}var Cp,eA;function FU(){if(eA)return Cp;eA=1;var t=i2();function e(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var r;this.promise=new Promise(function(o){r=o});var i=this;n(function(o){i.reason||(i.reason=new t(o),r(i.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.source=function(){var r,i=new e(function(o){r=o});return{token:i,cancel:r}},Cp=e,Cp}var Pp,tA;function xU(){return tA||(tA=1,Pp=function(e){return function(r){return e.apply(null,r)}}),Pp}var Rp,nA;function UU(){return nA||(nA=1,Rp=function(e){return typeof e=="object"&&e.isAxiosError===!0}),Rp}var rA=Xn,BU=Gk,Zc=HU,WU=Zk,zU=hv;function s2(t){var e=new Zc(t),n=BU(Zc.prototype.request,e);return rA.extend(n,Zc.prototype,e),rA.extend(n,e),n}var pr=s2(zU);pr.Axios=Zc;pr.create=function(e){return s2(WU(pr.defaults,e))};pr.Cancel=i2();pr.CancelToken=FU();pr.isCancel=Jk();pr.all=function(e){return Promise.all(e)};pr.spread=xU();pr.isAxiosError=UU();lv.exports=pr;lv.exports.default=pr;var jU=lv.exports,qU=jU;const o2=av(qU);var GU=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[n]=i;for(n in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,n);if(o.value!==i||o.enumerable!==!0)return!1}return!0},iA=typeof Symbol<"u"&&Symbol,KU=GU,YU=function(){return typeof iA!="function"||typeof Symbol!="function"||typeof iA("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:KU()},sA={foo:{}},QU=Object,$U=function(){return{__proto__:sA}.foo===sA.foo&&!({__proto__:null}instanceof QU)},XU="Function.prototype.bind called on incompatible ",Dp=Array.prototype.slice,JU=Object.prototype.toString,ZU="[object Function]",eB=function(e){var n=this;if(typeof n!="function"||JU.call(n)!==ZU)throw new TypeError(XU+n);for(var r=Dp.call(arguments,1),i,s=function(){if(this instanceof i){var g=n.apply(this,r.concat(Dp.call(arguments)));return Object(g)===g?g:this}else return n.apply(e,r.concat(Dp.call(arguments)))},o=Math.max(0,n.length-r.length),l=[],c=0;c<o;c++)l.push("$"+c);if(i=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(s),n.prototype){var f=function(){};f.prototype=n.prototype,i.prototype=new f,f.prototype=null}return i},tB=eB,dv=Function.prototype.bind||tB,nB=dv,rB=nB.call(Function.call,Object.prototype.hasOwnProperty),We,So=SyntaxError,a2=Function,uo=TypeError,Op=function(t){try{return a2('"use strict"; return ('+t+").constructor;")()}catch{}},Qi=Object.getOwnPropertyDescriptor;if(Qi)try{Qi({},"")}catch{Qi=null}var Mp=function(){throw new uo},iB=Qi?function(){try{return arguments.callee,Mp}catch{try{return Qi(arguments,"callee").get}catch{return Mp}}}():Mp,Gs=YU(),sB=$U(),rn=Object.getPrototypeOf||(sB?function(t){return t.__proto__}:null),eo={},oB=typeof Uint8Array>"u"||!rn?We:rn(Uint8Array),$i={"%AggregateError%":typeof AggregateError>"u"?We:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?We:ArrayBuffer,"%ArrayIteratorPrototype%":Gs&&rn?rn([][Symbol.iterator]()):We,"%AsyncFromSyncIteratorPrototype%":We,"%AsyncFunction%":eo,"%AsyncGenerator%":eo,"%AsyncGeneratorFunction%":eo,"%AsyncIteratorPrototype%":eo,"%Atomics%":typeof Atomics>"u"?We:Atomics,"%BigInt%":typeof BigInt>"u"?We:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?We:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?We:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?We:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?We:Float32Array,"%Float64Array%":typeof Float64Array>"u"?We:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?We:FinalizationRegistry,"%Function%":a2,"%GeneratorFunction%":eo,"%Int8Array%":typeof Int8Array>"u"?We:Int8Array,"%Int16Array%":typeof Int16Array>"u"?We:Int16Array,"%Int32Array%":typeof Int32Array>"u"?We:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Gs&&rn?rn(rn([][Symbol.iterator]())):We,"%JSON%":typeof JSON=="object"?JSON:We,"%Map%":typeof Map>"u"?We:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Gs||!rn?We:rn(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?We:Promise,"%Proxy%":typeof Proxy>"u"?We:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?We:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?We:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Gs||!rn?We:rn(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?We:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Gs&&rn?rn(""[Symbol.iterator]()):We,"%Symbol%":Gs?Symbol:We,"%SyntaxError%":So,"%ThrowTypeError%":iB,"%TypedArray%":oB,"%TypeError%":uo,"%Uint8Array%":typeof Uint8Array>"u"?We:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?We:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?We:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?We:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?We:WeakMap,"%WeakRef%":typeof WeakRef>"u"?We:WeakRef,"%WeakSet%":typeof WeakSet>"u"?We:WeakSet};if(rn)try{null.error}catch(t){var aB=rn(rn(t));$i["%Error.prototype%"]=aB}var lB=function t(e){var n;if(e==="%AsyncFunction%")n=Op("async function () {}");else if(e==="%GeneratorFunction%")n=Op("function* () {}");else if(e==="%AsyncGeneratorFunction%")n=Op("async function* () {}");else if(e==="%AsyncGenerator%"){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&rn&&(n=rn(i.prototype))}return $i[e]=n,n},oA={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Hl=dv,Du=rB,cB=Hl.call(Function.call,Array.prototype.concat),uB=Hl.call(Function.apply,Array.prototype.splice),aA=Hl.call(Function.call,String.prototype.replace),Ou=Hl.call(Function.call,String.prototype.slice),hB=Hl.call(Function.call,RegExp.prototype.exec),fB=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,dB=/\\(\\)?/g,pB=function(e){var n=Ou(e,0,1),r=Ou(e,-1);if(n==="%"&&r!=="%")throw new So("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&n!=="%")throw new So("invalid intrinsic syntax, expected opening `%`");var i=[];return aA(e,fB,function(s,o,l,c){i[i.length]=l?aA(c,dB,"$1"):o||s}),i},gB=function(e,n){var r=e,i;if(Du(oA,r)&&(i=oA[r],r="%"+i[0]+"%"),Du($i,r)){var s=$i[r];if(s===eo&&(s=lB(r)),typeof s>"u"&&!n)throw new uo("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:s}}throw new So("intrinsic "+e+" does not exist!")},pv=function(e,n){if(typeof e!="string"||e.length===0)throw new uo("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new uo('"allowMissing" argument must be a boolean');if(hB(/^%?[^%]*%?$/,e)===null)throw new So("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=pB(e),i=r.length>0?r[0]:"",s=gB("%"+i+"%",n),o=s.name,l=s.value,c=!1,f=s.alias;f&&(i=f[0],uB(r,cB([0,1],f)));for(var g=1,v=!0;g<r.length;g+=1){var _=r[g],m=Ou(_,0,1),b=Ou(_,-1);if((m==='"'||m==="'"||m==="`"||b==='"'||b==="'"||b==="`")&&m!==b)throw new So("property names with quotes must have matching quotes");if((_==="constructor"||!v)&&(c=!0),i+="."+_,o="%"+i+"%",Du($i,o))l=$i[o];else if(l!=null){if(!(_ in l)){if(!n)throw new uo("base intrinsic for "+e+" exists, but the property is not available.");return}if(Qi&&g+1>=r.length){var I=Qi(l,_);v=!!I,v&&"get"in I&&!("originalValue"in I.get)?l=I.get:l=l[_]}else v=Du(l,_),l=l[_];v&&!c&&($i[o]=l)}}return l},l2={exports:{}};(function(t){var e=dv,n=pv,r=n("%Function.prototype.apply%"),i=n("%Function.prototype.call%"),s=n("%Reflect.apply%",!0)||e.call(i,r),o=n("%Object.getOwnPropertyDescriptor%",!0),l=n("%Object.defineProperty%",!0),c=n("%Math.max%");if(l)try{l({},"a",{value:1})}catch{l=null}t.exports=function(v){var _=s(e,i,arguments);if(o&&l){var m=o(_,"length");m.configurable&&l(_,"length",{value:1+c(0,v.length-(arguments.length-1))})}return _};var f=function(){return s(e,r,arguments)};l?l(t.exports,"apply",{value:f}):t.exports.apply=f})(l2);var mB=l2.exports,c2=pv,u2=mB,vB=u2(c2("String.prototype.indexOf")),yB=function(e,n){var r=c2(e,!!n);return typeof r=="function"&&vB(e,".prototype.")>-1?u2(r):r};const _B={},wB=Object.freeze(Object.defineProperty({__proto__:null,default:_B},Symbol.toStringTag,{value:"Module"})),bB=R7(wB);var gv=typeof Map=="function"&&Map.prototype,Np=Object.getOwnPropertyDescriptor&&gv?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Mu=gv&&Np&&typeof Np.get=="function"?Np.get:null,lA=gv&&Map.prototype.forEach,mv=typeof Set=="function"&&Set.prototype,Lp=Object.getOwnPropertyDescriptor&&mv?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Nu=mv&&Lp&&typeof Lp.get=="function"?Lp.get:null,cA=mv&&Set.prototype.forEach,AB=typeof WeakMap=="function"&&WeakMap.prototype,Ua=AB?WeakMap.prototype.has:null,SB=typeof WeakSet=="function"&&WeakSet.prototype,Ba=SB?WeakSet.prototype.has:null,EB=typeof WeakRef=="function"&&WeakRef.prototype,uA=EB?WeakRef.prototype.deref:null,TB=Boolean.prototype.valueOf,IB=Object.prototype.toString,kB=Function.prototype.toString,CB=String.prototype.match,vv=String.prototype.slice,gi=String.prototype.replace,PB=String.prototype.toUpperCase,hA=String.prototype.toLowerCase,h2=RegExp.prototype.test,fA=Array.prototype.concat,Rr=Array.prototype.join,RB=Array.prototype.slice,dA=Math.floor,Dg=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Vp=Object.getOwnPropertySymbols,Og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Eo=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Cn=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Eo||"symbol")?Symbol.toStringTag:null,f2=Object.prototype.propertyIsEnumerable,pA=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function gA(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||h2.call(/e/,e))return e;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var r=t<0?-dA(-t):dA(t);if(r!==t){var i=String(r),s=vv.call(e,i.length+1);return gi.call(i,n,"$&_")+"."+gi.call(gi.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return gi.call(e,n,"$&_")}var Mg=bB,mA=Mg.custom,vA=p2(mA)?mA:null,DB=function t(e,n,r,i){var s=n||{};if(li(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(li(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=li(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(li(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(li(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var l=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return m2(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return l?gA(e,c):c}if(typeof e=="bigint"){var f=String(e)+"n";return l?gA(e,f):f}var g=typeof s.depth>"u"?5:s.depth;if(typeof r>"u"&&(r=0),r>=g&&g>0&&typeof e=="object")return Ng(e)?"[Array]":"[Object]";var v=QB(s,r);if(typeof i>"u")i=[];else if(g2(i,e)>=0)return"[Circular]";function _(ye,ct,re){if(ct&&(i=RB.call(i),i.push(ct)),re){var Pe={depth:s.depth};return li(s,"quoteStyle")&&(Pe.quoteStyle=s.quoteStyle),t(ye,Pe,r+1,i)}return t(ye,s,r+1,i)}if(typeof e=="function"&&!yA(e)){var m=UB(e),b=xc(e,_);return"[Function"+(m?": "+m:" (anonymous)")+"]"+(b.length>0?" { "+Rr.call(b,", ")+" }":"")}if(p2(e)){var I=Eo?gi.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Og.call(e);return typeof e=="object"&&!Eo?Sa(I):I}if(GB(e)){for(var k="<"+hA.call(String(e.nodeName)),D=e.attributes||[],M=0;M<D.length;M++)k+=" "+D[M].name+"="+d2(OB(D[M].value),"double",s);return k+=">",e.childNodes&&e.childNodes.length&&(k+="..."),k+="</"+hA.call(String(e.nodeName))+">",k}if(Ng(e)){if(e.length===0)return"[]";var L=xc(e,_);return v&&!YB(L)?"["+Lg(L,v)+"]":"[ "+Rr.call(L,", ")+" ]"}if(NB(e)){var H=xc(e,_);return!("cause"in Error.prototype)&&"cause"in e&&!f2.call(e,"cause")?"{ ["+String(e)+"] "+Rr.call(fA.call("[cause]: "+_(e.cause),H),", ")+" }":H.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Rr.call(H,", ")+" }"}if(typeof e=="object"&&o){if(vA&&typeof e[vA]=="function"&&Mg)return Mg(e,{depth:g-r});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(BB(e)){var R=[];return lA&&lA.call(e,function(ye,ct){R.push(_(ct,e,!0)+" => "+_(ye,e))}),_A("Map",Mu.call(e),R,v)}if(jB(e)){var q=[];return cA&&cA.call(e,function(ye){q.push(_(ye,e))}),_A("Set",Nu.call(e),q,v)}if(WB(e))return Hp("WeakMap");if(qB(e))return Hp("WeakSet");if(zB(e))return Hp("WeakRef");if(VB(e))return Sa(_(Number(e)));if(FB(e))return Sa(_(Dg.call(e)));if(HB(e))return Sa(TB.call(e));if(LB(e))return Sa(_(String(e)));if(!MB(e)&&!yA(e)){var j=xc(e,_),X=pA?pA(e)===Object.prototype:e instanceof Object||e.constructor===Object,$=e instanceof Object?"":"null prototype",K=!X&&Cn&&Object(e)===e&&Cn in e?vv.call(Pi(e),8,-1):$?"Object":"",ve=X||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",he=ve+(K||$?"["+Rr.call(fA.call([],K||[],$||[]),": ")+"] ":"");return j.length===0?he+"{}":v?he+"{"+Lg(j,v)+"}":he+"{ "+Rr.call(j,", ")+" }"}return String(e)};function d2(t,e,n){var r=(n.quoteStyle||e)==="double"?'"':"'";return r+t+r}function OB(t){return gi.call(String(t),/"/g,"&quot;")}function Ng(t){return Pi(t)==="[object Array]"&&(!Cn||!(typeof t=="object"&&Cn in t))}function MB(t){return Pi(t)==="[object Date]"&&(!Cn||!(typeof t=="object"&&Cn in t))}function yA(t){return Pi(t)==="[object RegExp]"&&(!Cn||!(typeof t=="object"&&Cn in t))}function NB(t){return Pi(t)==="[object Error]"&&(!Cn||!(typeof t=="object"&&Cn in t))}function LB(t){return Pi(t)==="[object String]"&&(!Cn||!(typeof t=="object"&&Cn in t))}function VB(t){return Pi(t)==="[object Number]"&&(!Cn||!(typeof t=="object"&&Cn in t))}function HB(t){return Pi(t)==="[object Boolean]"&&(!Cn||!(typeof t=="object"&&Cn in t))}function p2(t){if(Eo)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!Og)return!1;try{return Og.call(t),!0}catch{}return!1}function FB(t){if(!t||typeof t!="object"||!Dg)return!1;try{return Dg.call(t),!0}catch{}return!1}var xB=Object.prototype.hasOwnProperty||function(t){return t in this};function li(t,e){return xB.call(t,e)}function Pi(t){return IB.call(t)}function UB(t){if(t.name)return t.name;var e=CB.call(kB.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function g2(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function BB(t){if(!Mu||!t||typeof t!="object")return!1;try{Mu.call(t);try{Nu.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function WB(t){if(!Ua||!t||typeof t!="object")return!1;try{Ua.call(t,Ua);try{Ba.call(t,Ba)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function zB(t){if(!uA||!t||typeof t!="object")return!1;try{return uA.call(t),!0}catch{}return!1}function jB(t){if(!Nu||!t||typeof t!="object")return!1;try{Nu.call(t);try{Mu.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function qB(t){if(!Ba||!t||typeof t!="object")return!1;try{Ba.call(t,Ba);try{Ua.call(t,Ua)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function GB(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function m2(t,e){if(t.length>e.maxStringLength){var n=t.length-e.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return m2(vv.call(t,0,e.maxStringLength),e)+r}var i=gi.call(gi.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,KB);return d2(i,"single",e)}function KB(t){var e=t.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return n?"\\"+n:"\\x"+(e<16?"0":"")+PB.call(e.toString(16))}function Sa(t){return"Object("+t+")"}function Hp(t){return t+" { ? }"}function _A(t,e,n,r){var i=r?Lg(n,r):Rr.call(n,", ");return t+" ("+e+") {"+i+"}"}function YB(t){for(var e=0;e<t.length;e++)if(g2(t[e],`
`)>=0)return!1;return!0}function QB(t,e){var n;if(t.indent==="	")n="	";else if(typeof t.indent=="number"&&t.indent>0)n=Rr.call(Array(t.indent+1)," ");else return null;return{base:n,prev:Rr.call(Array(e+1),n)}}function Lg(t,e){if(t.length===0)return"";var n=`
`+e.prev+e.base;return n+Rr.call(t,","+n)+`
`+e.prev}function xc(t,e){var n=Ng(t),r=[];if(n){r.length=t.length;for(var i=0;i<t.length;i++)r[i]=li(t,i)?e(t[i],t):""}var s=typeof Vp=="function"?Vp(t):[],o;if(Eo){o={};for(var l=0;l<s.length;l++)o["$"+s[l]]=s[l]}for(var c in t)li(t,c)&&(n&&String(Number(c))===c&&c<t.length||Eo&&o["$"+c]instanceof Symbol||(h2.call(/[^\w$]/,c)?r.push(e(c,t)+": "+e(t[c],t)):r.push(c+": "+e(t[c],t))));if(typeof Vp=="function")for(var f=0;f<s.length;f++)f2.call(t,s[f])&&r.push("["+e(s[f])+"]: "+e(t[s[f]],t));return r}var yv=pv,Uo=yB,$B=DB,XB=yv("%TypeError%"),Uc=yv("%WeakMap%",!0),Bc=yv("%Map%",!0),JB=Uo("WeakMap.prototype.get",!0),ZB=Uo("WeakMap.prototype.set",!0),eW=Uo("WeakMap.prototype.has",!0),tW=Uo("Map.prototype.get",!0),nW=Uo("Map.prototype.set",!0),rW=Uo("Map.prototype.has",!0),_v=function(t,e){for(var n=t,r;(r=n.next)!==null;n=r)if(r.key===e)return n.next=r.next,r.next=t.next,t.next=r,r},iW=function(t,e){var n=_v(t,e);return n&&n.value},sW=function(t,e,n){var r=_v(t,e);r?r.value=n:t.next={key:e,next:t.next,value:n}},oW=function(t,e){return!!_v(t,e)},aW=function(){var e,n,r,i={assert:function(s){if(!i.has(s))throw new XB("Side channel does not contain "+$B(s))},get:function(s){if(Uc&&s&&(typeof s=="object"||typeof s=="function")){if(e)return JB(e,s)}else if(Bc){if(n)return tW(n,s)}else if(r)return iW(r,s)},has:function(s){if(Uc&&s&&(typeof s=="object"||typeof s=="function")){if(e)return eW(e,s)}else if(Bc){if(n)return rW(n,s)}else if(r)return oW(r,s);return!1},set:function(s,o){Uc&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new Uc),ZB(e,s,o)):Bc?(n||(n=new Bc),nW(n,s,o)):(r||(r={key:{},next:null}),sW(r,s,o))}};return i},lW=String.prototype.replace,cW=/%20/g,Fp={RFC1738:"RFC1738",RFC3986:"RFC3986"},wv={default:Fp.RFC3986,formatters:{RFC1738:function(t){return lW.call(t,cW,"+")},RFC3986:function(t){return String(t)}},RFC1738:Fp.RFC1738,RFC3986:Fp.RFC3986},uW=wv,xp=Object.prototype.hasOwnProperty,xi=Array.isArray,Pr=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),hW=function(e){for(;e.length>1;){var n=e.pop(),r=n.obj[n.prop];if(xi(r)){for(var i=[],s=0;s<r.length;++s)typeof r[s]<"u"&&i.push(r[s]);n.obj[n.prop]=i}}},v2=function(e,n){for(var r=n&&n.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(r[i]=e[i]);return r},fW=function t(e,n,r){if(!n)return e;if(typeof n!="object"){if(xi(e))e.push(n);else if(e&&typeof e=="object")(r&&(r.plainObjects||r.allowPrototypes)||!xp.call(Object.prototype,n))&&(e[n]=!0);else return[e,n];return e}if(!e||typeof e!="object")return[e].concat(n);var i=e;return xi(e)&&!xi(n)&&(i=v2(e,r)),xi(e)&&xi(n)?(n.forEach(function(s,o){if(xp.call(e,o)){var l=e[o];l&&typeof l=="object"&&s&&typeof s=="object"?e[o]=t(l,s,r):e.push(s)}else e[o]=s}),e):Object.keys(n).reduce(function(s,o){var l=n[o];return xp.call(s,o)?s[o]=t(s[o],l,r):s[o]=l,s},i)},dW=function(e,n){return Object.keys(n).reduce(function(r,i){return r[i]=n[i],r},e)},pW=function(t,e,n){var r=t.replace(/\+/g," ");if(n==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},gW=function(e,n,r,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),r==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(g){return"%26%23"+parseInt(g.slice(2),16)+"%3B"});for(var l="",c=0;c<o.length;++c){var f=o.charCodeAt(c);if(f===45||f===46||f===95||f===126||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||s===uW.RFC1738&&(f===40||f===41)){l+=o.charAt(c);continue}if(f<128){l=l+Pr[f];continue}if(f<2048){l=l+(Pr[192|f>>6]+Pr[128|f&63]);continue}if(f<55296||f>=57344){l=l+(Pr[224|f>>12]+Pr[128|f>>6&63]+Pr[128|f&63]);continue}c+=1,f=65536+((f&1023)<<10|o.charCodeAt(c)&1023),l+=Pr[240|f>>18]+Pr[128|f>>12&63]+Pr[128|f>>6&63]+Pr[128|f&63]}return l},mW=function(e){for(var n=[{obj:{o:e},prop:"o"}],r=[],i=0;i<n.length;++i)for(var s=n[i],o=s.obj[s.prop],l=Object.keys(o),c=0;c<l.length;++c){var f=l[c],g=o[f];typeof g=="object"&&g!==null&&r.indexOf(g)===-1&&(n.push({obj:o,prop:f}),r.push(g))}return hW(n),e},vW=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},yW=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},_W=function(e,n){return[].concat(e,n)},wW=function(e,n){if(xi(e)){for(var r=[],i=0;i<e.length;i+=1)r.push(n(e[i]));return r}return n(e)},y2={arrayToObject:v2,assign:dW,combine:_W,compact:mW,decode:pW,encode:gW,isBuffer:yW,isRegExp:vW,maybeMap:wW,merge:fW},_2=aW,eu=y2,Wa=wv,bW=Object.prototype.hasOwnProperty,wA={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,n){return e+"["+n+"]"},repeat:function(e){return e}},qr=Array.isArray,AW=Array.prototype.push,w2=function(t,e){AW.apply(t,qr(e)?e:[e])},SW=Date.prototype.toISOString,bA=Wa.default,bn={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:eu.encode,encodeValuesOnly:!1,format:bA,formatter:Wa.formatters[bA],indices:!1,serializeDate:function(e){return SW.call(e)},skipNulls:!1,strictNullHandling:!1},EW=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Up={},TW=function t(e,n,r,i,s,o,l,c,f,g,v,_,m,b,I,k){for(var D=e,M=k,L=0,H=!1;(M=M.get(Up))!==void 0&&!H;){var R=M.get(e);if(L+=1,typeof R<"u"){if(R===L)throw new RangeError("Cyclic object value");H=!0}typeof M.get(Up)>"u"&&(L=0)}if(typeof c=="function"?D=c(n,D):D instanceof Date?D=v(D):r==="comma"&&qr(D)&&(D=eu.maybeMap(D,function(Pe){return Pe instanceof Date?v(Pe):Pe})),D===null){if(s)return l&&!b?l(n,bn.encoder,I,"key",_):n;D=""}if(EW(D)||eu.isBuffer(D)){if(l){var q=b?n:l(n,bn.encoder,I,"key",_);return[m(q)+"="+m(l(D,bn.encoder,I,"value",_))]}return[m(n)+"="+m(String(D))]}var j=[];if(typeof D>"u")return j;var X;if(r==="comma"&&qr(D))b&&l&&(D=eu.maybeMap(D,l)),X=[{value:D.length>0?D.join(",")||null:void 0}];else if(qr(c))X=c;else{var $=Object.keys(D);X=f?$.sort(f):$}for(var K=i&&qr(D)&&D.length===1?n+"[]":n,ve=0;ve<X.length;++ve){var he=X[ve],ye=typeof he=="object"&&typeof he.value<"u"?he.value:D[he];if(!(o&&ye===null)){var ct=qr(D)?typeof r=="function"?r(K,he):K:K+(g?"."+he:"["+he+"]");k.set(e,L);var re=_2();re.set(Up,k),w2(j,t(ye,ct,r,i,s,o,r==="comma"&&b&&qr(D)?null:l,c,f,g,v,_,m,b,I,re))}}return j},IW=function(e){if(!e)return bn;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=e.charset||bn.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=Wa.default;if(typeof e.format<"u"){if(!bW.call(Wa.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var i=Wa.formatters[r],s=bn.filter;return(typeof e.filter=="function"||qr(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:bn.addQueryPrefix,allowDots:typeof e.allowDots>"u"?bn.allowDots:!!e.allowDots,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:bn.charsetSentinel,delimiter:typeof e.delimiter>"u"?bn.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:bn.encode,encoder:typeof e.encoder=="function"?e.encoder:bn.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:bn.encodeValuesOnly,filter:s,format:r,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:bn.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:bn.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:bn.strictNullHandling}},kW=function(t,e){var n=t,r=IW(e),i,s;typeof r.filter=="function"?(s=r.filter,n=s("",n)):qr(r.filter)&&(s=r.filter,i=s);var o=[];if(typeof n!="object"||n===null)return"";var l;e&&e.arrayFormat in wA?l=e.arrayFormat:e&&"indices"in e?l=e.indices?"indices":"repeat":l="indices";var c=wA[l];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var f=c==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);for(var g=_2(),v=0;v<i.length;++v){var _=i[v];r.skipNulls&&n[_]===null||w2(o,TW(n[_],_,c,f,r.strictNullHandling,r.skipNulls,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,g))}var m=o.join(r.delimiter),b=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?b+="utf8=%26%2310003%3B&":b+="utf8=%E2%9C%93&"),m.length>0?b+m:""},To=y2,Vg=Object.prototype.hasOwnProperty,CW=Array.isArray,nn={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:To.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},PW=function(t){return t.replace(/&#(\d+);/g,function(e,n){return String.fromCharCode(parseInt(n,10))})},b2=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},RW="utf8=%26%2310003%3B",DW="utf8=%E2%9C%93",OW=function(e,n){var r={__proto__:null},i=n.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=n.parameterLimit===1/0?void 0:n.parameterLimit,o=i.split(n.delimiter,s),l=-1,c,f=n.charset;if(n.charsetSentinel)for(c=0;c<o.length;++c)o[c].indexOf("utf8=")===0&&(o[c]===DW?f="utf-8":o[c]===RW&&(f="iso-8859-1"),l=c,c=o.length);for(c=0;c<o.length;++c)if(c!==l){var g=o[c],v=g.indexOf("]="),_=v===-1?g.indexOf("="):v+1,m,b;_===-1?(m=n.decoder(g,nn.decoder,f,"key"),b=n.strictNullHandling?null:""):(m=n.decoder(g.slice(0,_),nn.decoder,f,"key"),b=To.maybeMap(b2(g.slice(_+1),n),function(I){return n.decoder(I,nn.decoder,f,"value")})),b&&n.interpretNumericEntities&&f==="iso-8859-1"&&(b=PW(b)),g.indexOf("[]=")>-1&&(b=CW(b)?[b]:b),Vg.call(r,m)?r[m]=To.combine(r[m],b):r[m]=b}return r},MW=function(t,e,n,r){for(var i=r?e:b2(e,n),s=t.length-1;s>=0;--s){var o,l=t[s];if(l==="[]"&&n.parseArrays)o=[].concat(i);else{o=n.plainObjects?Object.create(null):{};var c=l.charAt(0)==="["&&l.charAt(l.length-1)==="]"?l.slice(1,-1):l,f=parseInt(c,10);!n.parseArrays&&c===""?o={0:i}:!isNaN(f)&&l!==c&&String(f)===c&&f>=0&&n.parseArrays&&f<=n.arrayLimit?(o=[],o[f]=i):c!=="__proto__"&&(o[c]=i)}i=o}return i},NW=function(e,n,r,i){if(e){var s=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,l=/(\[[^[\]]*])/g,c=r.depth>0&&o.exec(s),f=c?s.slice(0,c.index):s,g=[];if(f){if(!r.plainObjects&&Vg.call(Object.prototype,f)&&!r.allowPrototypes)return;g.push(f)}for(var v=0;r.depth>0&&(c=l.exec(s))!==null&&v<r.depth;){if(v+=1,!r.plainObjects&&Vg.call(Object.prototype,c[1].slice(1,-1))&&!r.allowPrototypes)return;g.push(c[1])}return c&&g.push("["+s.slice(c.index)+"]"),MW(g,n,r,i)}},LW=function(e){if(!e)return nn;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=typeof e.charset>"u"?nn.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?nn.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:nn.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:nn.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:nn.arrayLimit,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:nn.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:nn.comma,decoder:typeof e.decoder=="function"?e.decoder:nn.decoder,delimiter:typeof e.delimiter=="string"||To.isRegExp(e.delimiter)?e.delimiter:nn.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:nn.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:nn.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:nn.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:nn.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:nn.strictNullHandling}},VW=function(t,e){var n=LW(e);if(t===""||t===null||typeof t>"u")return n.plainObjects?Object.create(null):{};for(var r=typeof t=="string"?OW(t,n):t,i=n.plainObjects?Object.create(null):{},s=Object.keys(r),o=0;o<s.length;++o){var l=s[o],c=NW(l,r[l],n,typeof t=="string");i=To.merge(i,c,n)}return n.allowSparse===!0?i:To.compact(i)},HW=kW,FW=VW,xW=wv,UW={formats:xW,parse:FW,stringify:HW};const BW=av(UW);function Lu(){return Lu=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lu.apply(this,arguments)}var A2=function(){var e={headers:{}};return fl.apiKey&&(e.headers["X-Api-Key"]=fl.apiKey),e},AA=function(e,n){return o2.get(fl.host+"/"+e+(n&&"?"+BW.stringify(n)),A2()).then(function(r){return r.data})};const Ks=function(t){return{find:function(n){return o2(fl.host+"/"+t+"/"+n,A2()).then(function(r){return r.data.data})},where:function(n){return AA(t,n)},all:function(n,r){n===void 0&&(n={}),r===void 0&&(r=[]);var i=function s(o,l){var c=l.page?l.page+1:1;return AA(o,Lu({},l,{page:c})).then(function(f){var g;return(g=r).push.apply(g,f.data),!f.totalCount||f.pageSize*f.page>=f.totalCount?r:s(o,Lu({},l,{page:c}))}).catch(function(f){return console.error(f)})};return i(t,n)}}};var WW=function(e){var n=e.apiKey;fl.apiKey=n};const Vu={configure:WW,card:Ks("cards"),set:Ks("sets"),type:Ks("types"),subtype:Ks("subtypes"),rarity:Ks("rarities"),supertype:Ks("supertypes")},dl=[{code:"base*",label:"Base"},{code:"bw*",label:"Black & White"},{code:"dp*",label:"Diamond & Pearl"},{code:"ecard*",label:"E-card"},{code:"ex*",label:"EX"},{code:"gym*",label:"Gym"},{code:"*hgss*",label:"HeartGold & SoulSilver"},{code:"np*",label:"NP"},{code:"neo*",label:"Neo"},{code:"pop*",label:"POP"},{code:"pl*",label:"Platinum"},{code:"sv*",label:"Scarlet & Violet"},{code:"sm*",label:"Sun & Moon"},{code:"swsh*",label:"Sword & Shield"},{code:"xy*",label:"XY"}],Hg=()=>window.innerWidth<768,S2=async()=>{Vu.configure({apiKey:"35c2a827-0d26-4c7a-898e-9cab6a3e629a"});const t=dl[Math.floor(Math.random()*dl.length)];let e=Math.floor(Math.random()*1017),n;try{const o=await(await fetch(`https://pokeapi.co/api/v2/pokemon/${e}`)).json();o&&(e=o.name)}catch(s){console.error(s)}const i=(await Vu.card.where({q:`( ${t.code?`set.id:${t.code}`:""} name:"*${e}*" )`,select:"id,name,number,supertype,subtypes,rarity,images,types,set,hp,attacks,weaknesses,resistances,retreatCost,cardmarket",orderBy:"-set.releaseDate,-number",pageSize:1e3})).data||[];if(i.length===0)return null;{let s=i[Math.floor(Math.random()*i.length)];(s.rarity==="Common"||s.rarity==="Uncommon")&&(s.isReverse=!!Math.round(Math.random())),s.set=s.set.id,n=s}if(n)return n},E2=async()=>{const t=[];for(;t.length<3;){const e=await S2();e&&t.push(e)}return t},zW={apiKey:"AIzaSyA8qt1Ut-HO470UlmCMvyziMaMQthCBg2o",authDomain:"pokedex-e9f84.firebaseapp.com",projectId:"pokedex-e9f84",storageBucket:"pokedex-e9f84.appspot.com",messagingSenderId:"313642448232",appId:"1:313642448232:web:8143800177a8f5fe5d12dd",measurementId:"G-H4YLX3ZFDG"},T2=EE(zW),bv=T9(T2);I7(T2);const jW=async(t,e)=>{const n=bk();return Ux(n,t,e).then(r=>({userData:r.user,errorCode:null,errorMessage:null})).catch(r=>{const i=r.code,s=r.message;return{userData:null,errorCode:i,errorMessage:s}})},qW=async(t,e,n)=>{const r=await E2(),i=bk();return xx(i,t,e).then(async s=>{const o=s.user;return await GW({email:o.email,uid:o.uid,nickname:n,photoURL:"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",collection:r,team:[],friends:[],friendRequests:[]}),{userData:o,errorCode:null,errorMessage:null}}).catch(s=>{const o=s.code,l=s.message;return{userData:null,errorCode:o,errorMessage:l}})},Ti=async t=>{const e=xI(Vm(bv,"users"),UI("uid","==",t)),r=(await WI(e)).docs[0];if(r)return r.ref},GW=async t=>{try{const e=await z9(Vm(bv,"users"),t)}catch(e){console.error("Error adding document: ",e)}},$n=async t=>{let e;const n=xI(Vm(bv,"users"),UI("uid","==",t));return(await WI(n)).forEach(i=>{i.data().uid&&(e=i.data())}),e},Av=async(t,e)=>{const n=await Ti(t);n&&await ns(n,e)},KW=async(t,e)=>{const n=await Ti(t),r=await Ti(e);if(!r)return new Error("Friend not found");const i=await $n(e),s=i.friendRequests?[...i.friendRequests,t]:[t];n&&r&&await ns(r,{friendRequests:s})},YW=async(t,e)=>{const n=await Ti(t),r=await Ti(e);if(!r)return new Error("Friend not found");const i=await $n(e),s=await $n(t),o=s.friendRequests?s.friendRequests.filter(f=>f!==e):[],l=s.friends?[...s.friends,e]:[e],c=i.friends?[...i.friends,t]:[t];n&&r&&(await ns(n,{friendRequests:o,friends:l}),await ns(r,{friends:c}))},QW=async(t,e)=>{const n=await Ti(t);if(!n)return new Error("User not found");const r=await $n(t),i=r.friendRequests?r.friendRequests.filter(s=>s!==e):[];n&&await ns(n,{friendRequests:i})},$W=async(t,e)=>{const n=await Ti(t),r=await Ti(e);if(!r)return new Error("Friend not found");const i=await $n(e),s=await $n(t),o=s.friends?s.friends.filter(c=>c!==e):[],l=i.friends?i.friends.filter(c=>c!==t):[];n&&r&&(await ns(n,{friends:o}),await ns(r,{friends:l}))};function SA(t){let e,n;return{c(){e=C("p"),n=_e(t[2])},m(r,i){U(r,e,i),T(e,n)},p(r,i){i&4&&Me(n,r[2])},d(r){r&&F(e)}}}function XW(t){let e,n,r,i,s,o,l,c,f,g,v,_,m,b,I=t[2]&&SA(t);return{c(){e=C("main"),n=C("h1"),n.textContent="Log in",r=B(),i=C("input"),s=B(),o=C("input"),l=B(),c=C("div"),f=C("button"),f.textContent="Login",g=B(),v=C("button"),v.textContent="Sign up",_=B(),I&&I.c(),S(n,"class","svelte-1dkjwsa"),S(i,"type","email"),S(i,"placeholder","Email"),S(i,"class","svelte-1dkjwsa"),S(o,"type","password"),S(o,"placeholder","Password"),S(o,"class","svelte-1dkjwsa"),S(f,"class","svelte-1dkjwsa"),S(v,"class","svelte-1dkjwsa"),S(c,"class","auth-buttons svelte-1dkjwsa"),S(e,"class","svelte-1dkjwsa")},m(k,D){U(k,e,D),T(e,n),T(e,r),T(e,i),Fn(i,t[0]),T(e,s),T(e,o),Fn(o,t[1]),T(e,l),T(e,c),T(c,f),T(c,g),T(c,v),T(e,_),I&&I.m(e,null),m||(b=[le(i,"input",t[5]),le(o,"input",t[6]),le(f,"click",t[7]),le(v,"click",t[8])],m=!0)},p(k,[D]){D&1&&i.value!==k[0]&&Fn(i,k[0]),D&2&&o.value!==k[1]&&Fn(o,k[1]),k[2]?I?I.p(k,D):(I=SA(k),I.c(),I.m(e,null)):I&&(I.d(1),I=null)},i:z,o:z,d(k){k&&F(e),I&&I.d(),m=!1,Zt(b)}}}function JW(t,e,n){let r,i="",s="",o="";async function l(){const _=await jW(i,s),{userData:m,errorMessage:b}=_;if(m){console.log(m,"userData");const{email:I,uid:k}=m,D=JSON.stringify({email:I,uid:k});sessionStorage.setItem("user",D),window.location.href="/showCase"}else n(2,o=b)}function c(){i=this.value,n(0,i)}function f(){s=this.value,n(1,s)}const g=()=>l(),v=()=>window.location.href="/signup";return t.$$.update=()=>{t.$$.dirty&16&&r&&(window.location.href="/showCase")},n(4,r=sessionStorage.getItem("user")),[i,s,o,l,r,c,f,g,v]}class ZW extends tt{constructor(e){super(),et(this,e,JW,XW,Fe,{})}}function EA(t){let e,n;return{c(){e=C("p"),n=_e(t[2])},m(r,i){U(r,e,i),T(e,n)},p(r,i){i&4&&Me(n,r[2])},d(r){r&&F(e)}}}function ez(t){let e,n,r,i,s,o,l,c,f,g,v,_,m,b,I,k,D=t[2]&&EA(t);return{c(){e=C("main"),n=C("h1"),n.textContent="Sign Up",r=B(),i=C("input"),s=B(),o=C("input"),l=B(),c=C("input"),f=B(),g=C("div"),v=C("button"),v.textContent="Back",_=B(),m=C("button"),m.textContent="Confirm",b=B(),D&&D.c(),S(n,"class","svelte-k4ei78"),S(i,"type","email"),S(i,"placeholder","Email"),S(i,"class","svelte-k4ei78"),S(o,"type","text"),S(o,"placeholder","Nickname"),S(o,"class","svelte-k4ei78"),S(c,"type","password"),S(c,"placeholder","Password"),S(c,"class","svelte-k4ei78"),S(v,"class","svelte-k4ei78"),S(m,"class","svelte-k4ei78"),S(g,"class","signup-buttons svelte-k4ei78"),S(e,"class","svelte-k4ei78")},m(M,L){U(M,e,L),T(e,n),T(e,r),T(e,i),Fn(i,t[0]),T(e,s),T(e,o),Fn(o,t[3]),T(e,l),T(e,c),Fn(c,t[1]),T(e,f),T(e,g),T(g,v),T(g,_),T(g,m),T(g,b),D&&D.m(g,null),I||(k=[le(i,"input",t[5]),le(o,"input",t[6]),le(c,"input",t[7]),le(v,"click",t[8]),le(m,"click",t[9])],I=!0)},p(M,[L]){L&1&&i.value!==M[0]&&Fn(i,M[0]),L&8&&o.value!==M[3]&&Fn(o,M[3]),L&2&&c.value!==M[1]&&Fn(c,M[1]),M[2]?D?D.p(M,L):(D=EA(M),D.c(),D.m(g,null)):D&&(D.d(1),D=null)},i:z,o:z,d(M){M&&F(e),D&&D.d(),I=!1,Zt(k)}}}function tz(t,e,n){let r="",i="",s="",o="";async function l(){const m=await qW(r,i,o),{userData:b,errorMessage:I}=m;b?window.location.href="/":n(2,s=I)}function c(){r=this.value,n(0,r)}function f(){o=this.value,n(3,o)}function g(){i=this.value,n(1,i)}return[r,i,s,o,l,c,f,g,()=>window.location.href="/",()=>l()]}class nz extends tt{constructor(e){super(),et(this,e,tz,ez,Fe,{})}}const Oa=Bi(void 0);function rz(t){let e,n;const r=t[4].default,i=Co(r,t,t[3],null);return{c(){e=C("div"),i&&i.c(),S(e,"class","card-grid svelte-1yq6rbs"),Kt(e,"active",t[1])},m(s,o){U(s,e,o),i&&i.m(e,null),t[5](e),n=!0},p(s,[o]){i&&i.p&&(!n||o&8)&&Ro(i,r,s,s[3],n?Po(r,s[3],o,null):Do(s[3]),null),(!n||o&2)&&Kt(e,"active",s[1])},i(s){n||(W(i,s),n=!0)},o(s){G(i,s),n=!1},d(s){s&&F(e),i&&i.d(s),t[5](null)}}}function iz(t,e,n){let r,i;Hn(t,Oa,f=>n(2,i=f));let{$$slots:s={},$$scope:o}=e,l;function c(f){lt[f?"unshift":"push"](()=>{l=f,n(0,l)})}return t.$$set=f=>{"$$scope"in f&&n(3,o=f.$$scope)},t.$$.update=()=>{t.$$.dirty&5&&n(1,r=l&&l.contains(i))},[l,r,i,o,s,c]}class kh extends tt{constructor(e){super(),et(this,e,iz,rz,Fe,{})}}const TA={bug:"/assets/images/types/bug.png",dark:"/assets/images/types/dark.png",dragon:"/assets/images/types/dragon.png",electric:"/assets/images/types/electric.png",fairy:"/assets/images/types/fairy.png",fighting:"/assets/images/types/fighting.png",fire:"/assets/images/types/fire.png",flying:"/assets/images/types/flying.png",ghost:"/assets/images/types/ghost.png",grass:"/assets/images/types/grass.png",ground:"/assets/images/types/ground.png",ice:"/assets/images/types/ice.png",normal:"/assets/images/types/normal.png",poison:"/assets/images/types/poison.png",psychic:"/assets/images/types/psychic.png",rock:"/assets/images/types/rock.png",steel:"/assets/images/types/steel.png",water:"/assets/images/types/water.png"};function IA(t,e,n){const r=t.slice();return r[11]=e[n],r[13]=n,r}function sz(t){return{c:z,m:z,p:z,d:z}}function oz(t){let e,n=t[14]&&kA(t);return{c(){n&&n.c(),e=Ve()},m(r,i){n&&n.m(r,i),U(r,e,i)},p(r,i){r[14]?n?n.p(r,i):(n=kA(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(r){r&&F(e),n&&n.d(r)}}}function kA(t){let e,n,r,i,s,o,l=t[14].name+"",c,f,g;function v(..._){return t[6](t[14],..._)}return{c(){e=C("div"),n=C("img"),s=B(),o=C("p"),c=_e(l),me(n.src,r=t[14].image)||S(n,"src",r),S(n,"alt",i=t[14].name),S(o,"class","svelte-97xrlx"),S(e,"class","evolution1 svelte-97xrlx")},m(_,m){U(_,e,m),T(e,n),T(e,s),T(e,o),T(o,c),f||(g=le(e,"click",v),f=!0)},p(_,m){t=_,m&2&&!me(n.src,r=t[14].image)&&S(n,"src",r),m&2&&i!==(i=t[14].name)&&S(n,"alt",i),m&2&&l!==(l=t[14].name+"")&&Me(c,l)},d(_){_&&F(e),f=!1,g()}}}function az(t){return{c:z,m:z,p:z,d:z}}function lz(t){return{c:z,m:z,p:z,d:z}}function cz(t){let e,n=t[10]&&CA(t);return{c(){n&&n.c(),e=Ve()},m(r,i){n&&n.m(r,i),U(r,e,i)},p(r,i){r[10]?n?n.p(r,i):(n=CA(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(r){r&&F(e),n&&n.d(r)}}}function CA(t){let e,n,r,i,s=De(t[10]),o=[];for(let l=0;l<s.length;l+=1)o[l]=PA(IA(t,s,l));return{c(){e=Gr("svg"),n=Gr("line"),r=B(),i=C("div");for(let l=0;l<o.length;l+=1)o[l].c();S(n,"x1","0"),S(n,"y1","70"),S(n,"x2","350"),S(n,"y2","70"),S(n,"stroke","white"),S(e,"class","svelte-97xrlx"),S(i,"class","evolution2 svelte-97xrlx")},m(l,c){U(l,e,c),T(e,n),U(l,r,c),U(l,i,c);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(i,null)},p(l,c){if(c&5){s=De(l[10]);let f;for(f=0;f<s.length;f+=1){const g=IA(l,s,f);o[f]?o[f].p(g,c):(o[f]=PA(g),o[f].c(),o[f].m(i,null))}for(;f<o.length;f+=1)o[f].d(1);o.length=s.length}},d(l){l&&(F(e),F(r),F(i)),Jt(o,l)}}}function PA(t){let e,n,r,i,s,o,l=t[11].name+"",c,f,g,v;function _(...m){return t[7](t[11],...m)}return{c(){e=C("div"),n=C("img"),s=B(),o=C("p"),c=_e(l),f=B(),me(n.src,r=t[11].image)||S(n,"src",r),S(n,"alt",i=t[11].name),S(o,"class","svelte-97xrlx"),S(e,"class","evolution2-iteration-"+t[13]+" evolution2-item svelte-97xrlx")},m(m,b){U(m,e,b),T(e,n),T(e,s),T(e,o),T(o,c),T(e,f),g||(v=le(e,"click",_),g=!0)},p(m,b){t=m,b&4&&!me(n.src,r=t[11].image)&&S(n,"src",r),b&4&&i!==(i=t[11].name)&&S(n,"alt",i),b&4&&l!==(l=t[11].name+"")&&Me(c,l)},d(m){m&&F(e),g=!1,v()}}}function uz(t){return{c:z,m:z,p:z,d:z}}function hz(t){return{c:z,m:z,p:z,d:z}}function fz(t){let e,n=t[9]&&RA(t);return{c(){n&&n.c(),e=Ve()},m(r,i){n&&n.m(r,i),U(r,e,i)},p(r,i){r[9]?n?n.p(r,i):(n=RA(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(r){r&&F(e),n&&n.d(r)}}}function RA(t){let e,n,r,i,s,o,l,c,f,g=t[9].name+"",v,_,m;function b(...I){return t[8](t[9],...I)}return{c(){e=Gr("svg"),n=Gr("line"),r=B(),i=C("div"),s=C("img"),c=B(),f=C("p"),v=_e(g),S(n,"x1","0"),S(n,"y1","70"),S(n,"x2","350"),S(n,"y2","70"),S(n,"stroke","white"),S(e,"class","svelte-97xrlx"),me(s.src,o=t[9].image)||S(s,"src",o),S(s,"alt",l=t[9].name),S(f,"class","svelte-97xrlx"),S(i,"class","evolution3 svelte-97xrlx")},m(I,k){U(I,e,k),T(e,n),U(I,r,k),U(I,i,k),T(i,s),T(i,c),T(i,f),T(f,v),_||(m=le(i,"click",b),_=!0)},p(I,k){t=I,k&8&&!me(s.src,o=t[9].image)&&S(s,"src",o),k&8&&l!==(l=t[9].name)&&S(s,"alt",l),k&8&&g!==(g=t[9].name+"")&&Me(v,g)},d(I){I&&(F(e),F(r),F(i)),_=!1,m()}}}function dz(t){return{c:z,m:z,p:z,d:z}}function pz(t){let e,n,r,i,s,o,l,c,f,g={ctx:t,current:null,token:null,hasCatch:!1,pending:az,then:oz,catch:sz,value:14};xn(s=t[1],g);let v={ctx:t,current:null,token:null,hasCatch:!1,pending:uz,then:cz,catch:lz,value:10};xn(l=t[2],v);let _={ctx:t,current:null,token:null,hasCatch:!1,pending:dz,then:fz,catch:hz,value:9};return xn(f=t[3],_),{c(){e=C("div"),n=C("h3"),n.textContent="Evolution chain",r=B(),i=C("div"),g.block.c(),o=B(),v.block.c(),c=B(),_.block.c(),S(n,"class","svelte-97xrlx"),S(i,"class","evolutions svelte-97xrlx"),S(e,"class","evolution-chain svelte-97xrlx")},m(m,b){U(m,e,b),T(e,n),T(e,r),T(e,i),g.block.m(i,g.anchor=null),g.mount=()=>i,g.anchor=o,T(i,o),v.block.m(i,v.anchor=null),v.mount=()=>i,v.anchor=c,T(i,c),_.block.m(i,_.anchor=null),_.mount=()=>i,_.anchor=null},p(m,[b]){t=m,g.ctx=t,b&2&&s!==(s=t[1])&&xn(s,g)||Gi(g,t,b),v.ctx=t,b&4&&l!==(l=t[2])&&xn(l,v)||Gi(v,t,b),_.ctx=t,b&8&&f!==(f=t[3])&&xn(f,_)||Gi(_,t,b)},i:z,o:z,d(m){m&&F(e),g.block.d(),g.token=null,g=null,v.block.d(),v.token=null,v=null,_.block.d(),_.token=null,_=null}}}function gz(t,e,n){let{evolutionChainData:r}=e,{triggerSearch:i}=e,s=r,o=null,l=null,c=null;const f=(_,m)=>{i(m,_.name)},g=(_,m)=>{i(m,_.name)},v=(_,m)=>{i(m,_.name)};return t.$$set=_=>{"evolutionChainData"in _&&n(4,r=_.evolutionChainData),"triggerSearch"in _&&n(0,i=_.triggerSearch)},t.$$.update=()=>{var _,m;if(t.$$.dirty&48&&r){if(s!==r&&(n(5,s=r),n(1,o=null),n(2,l=null),n(3,c=null)),n(1,o=fetch(r.chain.species.url).then(b=>b.json()).then(b=>{const{id:I,name:k}=b;return{id:I,name:k,image:`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${I}.png`}}).catch(b=>console.log(b))),r.chain.evolves_to.length>0){const b=[];r.chain.evolves_to.forEach(async I=>{n(2,l=await fetch(I.species.url).then(k=>k.json()).then(k=>{const{id:D,name:M}=k;if(b.push({id:D,name:M,image:`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${D}.png`}),b.length===r.chain.evolves_to.length)return b}).catch(k=>console.log(k)))})}n(3,c=fetch((m=(_=r.chain.evolves_to[0])==null?void 0:_.evolves_to[0])==null?void 0:m.species.url).then(b=>b.json()).then(b=>{const{id:I,name:k}=b;return{id:I,name:k,image:`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${I}.png`}}).catch(b=>console.log(b)))}},[i,o,l,c,r,s,f,g,v]}class mz extends tt{constructor(e){super(),et(this,e,gz,pz,Fe,{evolutionChainData:4,triggerSearch:0})}}function vz(t){let e,n=[{width:t[1]},{height:t[1]},{"stroke-width":"0"},{class:t[2]},t[0].a,t[4],{xmlns:"http://www.w3.org/2000/svg"}],r={};for(let i=0;i<n.length;i+=1)r=fo(r,n[i]);return{c(){e=Gr("svg"),j1(e,r)},m(i,s){U(i,e,s),e.innerHTML=t[3]},p(i,[s]){s&8&&(e.innerHTML=i[3]),j1(e,r=su(n,[s&2&&{width:i[1]},s&2&&{height:i[1]},{"stroke-width":"0"},s&4&&{class:i[2]},s&1&&i[0].a,s&16&&i[4],{xmlns:"http://www.w3.org/2000/svg"}]))},i:z,o:z,d(i){i&&F(e)}}}function yz(t,e,n){let{src:r}=e,{size:i="1em"}=e,{color:s=void 0}=e,{title:o=void 0}=e,{className:l=""}=e,c,f;return t.$$set=g=>{"src"in g&&n(0,r=g.src),"size"in g&&n(1,i=g.size),"color"in g&&n(5,s=g.color),"title"in g&&n(6,o=g.title),"className"in g&&n(2,l=g.className)},t.$$.update=()=>{t.$$.dirty&33&&(n(4,f={}),s&&(r.a.stroke!=="none"&&n(4,f.stroke=s,f),r.a.fill!=="none"&&n(4,f.fill=s,f))),t.$$.dirty&65&&n(3,c=(o?`<title>${o}</title>`:"")+r.c)},[r,i,l,c,f,s,o]}class Io extends tt{constructor(e){super(),et(this,e,yz,vz,Fe,{src:0,size:1,color:5,title:6,className:2})}}const _z={a:{viewBox:"0 0 512 512"},c:'<path d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"></path>'};function wz(t){let e,n;const r=t[2].default,i=Co(r,t,t[1],null);return{c(){e=C("dialog"),i&&i.c(),S(e,"class","dialog-content svelte-1fx7vnu")},m(s,o){U(s,e,o),i&&i.m(e,null),t[3](e),n=!0},p(s,[o]){i&&i.p&&(!n||o&2)&&Ro(i,r,s,s[1],n?Po(r,s[1],o,null):Do(s[1]),null)},i(s){n||(W(i,s),n=!0)},o(s){G(i,s),n=!1},d(s){s&&F(e),i&&i.d(s),t[3](null)}}}function bz(t,e,n){let{$$slots:r={},$$scope:i}=e,{dialog:s}=e;function o(l){lt[l?"unshift":"push"](()=>{s=l,n(0,s)})}return t.$$set=l=>{"dialog"in l&&n(0,s=l.dialog),"$$scope"in l&&n(1,i=l.$$scope)},[s,i,r,o]}class Az extends tt{constructor(e){super(),et(this,e,bz,wz,Fe,{dialog:0})}}function DA(t,e,n){const r=t.slice();return r[15]=e[n],r}function OA(t,e,n){const r=t.slice();return r[19]=e[n],r}function MA(t,e,n){const r=t.slice();return r[22]=e[n],r}function Sz(t){let e;return{c(){e=C("span"),S(e,"class","loader svelte-qhednx")},m(n,r){U(n,e,r)},p:z,i:z,o:z,d(n){n&&F(e)}}}function Ez(t){let e,n;return{c(){e=C("div"),n=_e(t[2])},m(r,i){U(r,e,i),T(e,n)},p(r,i){i&4&&Me(n,r[2])},i:z,o:z,d(r){r&&F(e)}}}function Tz(t){let e,n,r=t[1].name.toUpperCase()+"",i,s,o=t[1].id+"",l,c,f,g,v,_,m,b,I,k,D,M,L,H,R,q,j,X,$,K,ve,he,ye,ct,re,Pe,J,Ne,Ut,ut,Ie,Te,xe,Xe,rt,Ue,mt,Bt,Pn,xt,bt,vt,je,Je,ir=t[1].weight/10+"",St,Wt,sr,$t,Rn,mr,Be,zt=t[1].height*10+"",qe,Wn,dt,pt,Ot,jt,ie,Ct=t[1].base_experience+"",He,At,Ae,Mt,Jn,or,Fl,Mi,Zn,vs,xl,ar,ht;function ys(fe){t[10](fe)}let _s={triggerSearch:t[4]};t[0]!==void 0&&(_s.evolutionChainData=t[0]),J=new mz({props:_s}),lt.push(()=>Dt(J,"evolutionChainData",ys));function Ul(fe,it){return fe[1].description?kz:Iz}let er=Ul(t),zn=er(t),vr=De(t[1].stats),un=[];for(let fe=0;fe<vr.length;fe+=1)un[fe]=NA(MA(t,vr,fe));let Vt=t[1].abilities.length&&LA(t),ti=De(t[1].types),en=[];for(let fe=0;fe<ti.length;fe+=1)en[fe]=FA(DA(t,ti,fe));return{c(){e=C("div"),n=C("h3"),i=_e(r),s=_e(" #"),l=_e(o),c=B(),f=C("div"),g=C("div"),v=C("div"),_=C("img"),I=B(),k=C("img"),L=B(),H=C("img"),j=B(),X=C("img"),ve=B(),he=C("div"),ye=C("img"),Pe=B(),ae(J.$$.fragment),Ut=B(),ut=C("div"),Ie=C("div"),Te=C("div"),xe=C("div"),xe.innerHTML='<strong class="svelte-qhednx">Description</strong>',Xe=B(),rt=C("div"),zn.c(),Ue=B(),mt=C("div"),Bt=C("div"),Bt.innerHTML='<strong class="svelte-qhednx">General info</strong>',Pn=B(),xt=C("div"),bt=C("div"),vt=C("strong"),vt.textContent="Weight:",je=B(),Je=C("p"),St=_e(ir),Wt=_e(" kgs"),sr=B(),$t=C("div"),Rn=C("strong"),Rn.textContent="Height:",mr=B(),Be=C("p"),qe=_e(zt),Wn=_e(" cms"),dt=B(),pt=C("div"),Ot=C("strong"),Ot.textContent="Base experience:",jt=B(),ie=C("p"),He=_e(Ct),At=B(),Ae=C("div"),Mt=C("div"),Mt.innerHTML='<strong class="svelte-qhednx">Stats</strong>',Jn=B(),or=C("div");for(let fe=0;fe<un.length;fe+=1)un[fe].c();Fl=B(),Vt&&Vt.c(),Mi=B(),Zn=C("div"),vs=C("div"),vs.innerHTML='<strong class="svelte-qhednx">Types</strong>',xl=B(),ar=C("div");for(let fe=0;fe<en.length;fe+=1)en[fe].c();S(e,"class","pokedex-number svelte-qhednx"),me(_.src,m=t[1].sprites.front_default)||S(_,"src",m),S(_,"alt",b=t[1].name),me(k.src,D=t[1].sprites.back_default)||S(k,"src",D),S(k,"alt",M=t[1].name),me(H.src,R=t[1].sprites.front_shiny)||S(H,"src",R),S(H,"alt",q=t[1].name),me(X.src,$=t[1].sprites.back_shiny)||S(X,"src",$),S(X,"alt",K=t[1].name),S(v,"class","sprites-images svelte-qhednx"),me(ye.src,ct=t[1].sprites.other["official-artwork"].front_default)||S(ye,"src",ct),S(ye,"alt",re=t[1].name),S(he,"class","main-image svelte-qhednx"),S(g,"class","pokemonData-images svelte-qhednx"),S(xe,"class","description-header"),S(rt,"class","description-body"),S(Te,"class","pokemonData-description svelte-qhednx"),S(Bt,"class","info-header"),S(vt,"class","svelte-qhednx"),S(Je,"class","svelte-qhednx"),S(bt,"class","info-weight"),S(Rn,"class","svelte-qhednx"),S(Be,"class","svelte-qhednx"),S($t,"class","info-height"),S(Ot,"class","svelte-qhednx"),S(ie,"class","svelte-qhednx"),S(pt,"class","info-base-experience"),S(xt,"class","info-body"),S(mt,"class","main-info svelte-qhednx"),S(Ie,"class","top-info svelte-qhednx"),S(Mt,"class","stats-header"),S(or,"class","stats-body"),S(Ae,"class","pokemonData-stats svelte-qhednx"),S(vs,"class","types-header"),S(ar,"class","types-body"),S(Zn,"class","pokemonData-types svelte-qhednx"),S(ut,"class","pokemonData-info svelte-qhednx"),S(f,"class","pokemonData-content svelte-qhednx")},m(fe,it){U(fe,e,it),T(e,n),T(n,i),T(n,s),T(n,l),U(fe,c,it),U(fe,f,it),T(f,g),T(g,v),T(v,_),T(v,I),T(v,k),T(v,L),T(v,H),T(v,j),T(v,X),T(g,ve),T(g,he),T(he,ye),T(g,Pe),se(J,g,null),T(f,Ut),T(f,ut),T(ut,Ie),T(Ie,Te),T(Te,xe),T(Te,Xe),T(Te,rt),zn.m(rt,null),T(Ie,Ue),T(Ie,mt),T(mt,Bt),T(mt,Pn),T(mt,xt),T(xt,bt),T(bt,vt),T(bt,je),T(bt,Je),T(Je,St),T(Je,Wt),T(xt,sr),T(xt,$t),T($t,Rn),T($t,mr),T($t,Be),T(Be,qe),T(Be,Wn),T(xt,dt),T(xt,pt),T(pt,Ot),T(pt,jt),T(pt,ie),T(ie,He),T(ut,At),T(ut,Ae),T(Ae,Mt),T(Ae,Jn),T(Ae,or);for(let Dn=0;Dn<un.length;Dn+=1)un[Dn]&&un[Dn].m(or,null);T(ut,Fl),Vt&&Vt.m(ut,null),T(ut,Mi),T(ut,Zn),T(Zn,vs),T(Zn,xl),T(Zn,ar);for(let Dn=0;Dn<en.length;Dn+=1)en[Dn]&&en[Dn].m(ar,null);ht=!0},p(fe,it){(!ht||it&2)&&r!==(r=fe[1].name.toUpperCase()+"")&&Me(i,r),(!ht||it&2)&&o!==(o=fe[1].id+"")&&Me(l,o),(!ht||it&2&&!me(_.src,m=fe[1].sprites.front_default))&&S(_,"src",m),(!ht||it&2&&b!==(b=fe[1].name))&&S(_,"alt",b),(!ht||it&2&&!me(k.src,D=fe[1].sprites.back_default))&&S(k,"src",D),(!ht||it&2&&M!==(M=fe[1].name))&&S(k,"alt",M),(!ht||it&2&&!me(H.src,R=fe[1].sprites.front_shiny))&&S(H,"src",R),(!ht||it&2&&q!==(q=fe[1].name))&&S(H,"alt",q),(!ht||it&2&&!me(X.src,$=fe[1].sprites.back_shiny))&&S(X,"src",$),(!ht||it&2&&K!==(K=fe[1].name))&&S(X,"alt",K),(!ht||it&2&&!me(ye.src,ct=fe[1].sprites.other["official-artwork"].front_default))&&S(ye,"src",ct),(!ht||it&2&&re!==(re=fe[1].name))&&S(ye,"alt",re);const Dn={};if(it&16&&(Dn.triggerSearch=fe[4]),!Ne&&it&1&&(Ne=!0,Dn.evolutionChainData=fe[0],Rt(()=>Ne=!1)),J.$set(Dn),er===(er=Ul(fe))&&zn?zn.p(fe,it):(zn.d(1),zn=er(fe),zn&&(zn.c(),zn.m(rt,null))),(!ht||it&2)&&ir!==(ir=fe[1].weight/10+"")&&Me(St,ir),(!ht||it&2)&&zt!==(zt=fe[1].height*10+"")&&Me(qe,zt),(!ht||it&2)&&Ct!==(Ct=fe[1].base_experience+"")&&Me(He,Ct),it&2){vr=De(fe[1].stats);let wt;for(wt=0;wt<vr.length;wt+=1){const Ni=MA(fe,vr,wt);un[wt]?un[wt].p(Ni,it):(un[wt]=NA(Ni),un[wt].c(),un[wt].m(or,null))}for(;wt<un.length;wt+=1)un[wt].d(1);un.length=vr.length}if(fe[1].abilities.length?Vt?(Vt.p(fe,it),it&2&&W(Vt,1)):(Vt=LA(fe),Vt.c(),W(Vt,1),Vt.m(ut,Mi)):Vt&&(Qe(),G(Vt,1,1,()=>{Vt=null}),$e()),it&2){ti=De(fe[1].types);let wt;for(wt=0;wt<ti.length;wt+=1){const Ni=DA(fe,ti,wt);en[wt]?en[wt].p(Ni,it):(en[wt]=FA(Ni),en[wt].c(),en[wt].m(ar,null))}for(;wt<en.length;wt+=1)en[wt].d(1);en.length=ti.length}},i(fe){ht||(W(J.$$.fragment,fe),W(Vt),ht=!0)},o(fe){G(J.$$.fragment,fe),G(Vt),ht=!1},d(fe){fe&&(F(e),F(c),F(f)),oe(J),zn.d(),Jt(un,fe),Vt&&Vt.d(),Jt(en,fe)}}}function Iz(t){let e;return{c(){e=C("p"),e.textContent="No description available",S(e,"class","svelte-qhednx")},m(n,r){U(n,e,r)},p:z,d(n){n&&F(e)}}}function kz(t){let e,n=t[1].description+"",r;return{c(){e=C("p"),r=_e(n),S(e,"class","svelte-qhednx")},m(i,s){U(i,e,s),T(e,r)},p(i,s){s&2&&n!==(n=i[1].description+"")&&Me(r,n)},d(i){i&&F(e)}}}function NA(t){let e,n,r=t[22].stat.name.toUpperCase()+"",i,s,o,l,c=t[22].base_stat+"",f,g;return{c(){e=C("div"),n=C("strong"),i=_e(r),s=_e(":"),o=B(),l=C("p"),f=_e(c),g=B(),S(n,"class","svelte-qhednx"),S(l,"class","svelte-qhednx"),S(e,"class","stats-item")},m(v,_){U(v,e,_),T(e,n),T(n,i),T(n,s),T(e,o),T(e,l),T(l,f),T(e,g)},p(v,_){_&2&&r!==(r=v[22].stat.name.toUpperCase()+"")&&Me(i,r),_&2&&c!==(c=v[22].base_stat+"")&&Me(f,c)},d(v){v&&F(e)}}}function LA(t){let e,n,r,i={ctx:t,current:null,token:null,hasCatch:!1,pending:Rz,then:Pz,catch:Cz,value:18,blocks:[,,,]};return xn(n=t[9](t[1].abilities),i),{c(){e=Ve(),i.block.c()},m(s,o){U(s,e,o),i.block.m(s,i.anchor=o),i.mount=()=>e.parentNode,i.anchor=e,r=!0},p(s,o){t=s,i.ctx=t,o&2&&n!==(n=t[9](t[1].abilities))&&xn(n,i)||Gi(i,t,o)},i(s){r||(W(i.block),r=!0)},o(s){for(let o=0;o<3;o+=1){const l=i.blocks[o];G(l)}r=!1},d(s){s&&F(e),i.block.d(s),i.token=null,i=null}}}function Cz(t){return{c:z,m:z,p:z,i:z,o:z,d:z}}function Pz(t){let e,n,r,i,s=[],o=new Map,l,c=De(t[18]);const f=g=>g[19].ability.name;for(let g=0;g<c.length;g+=1){let v=OA(t,c,g),_=f(v);o.set(_,s[g]=HA(_,v))}return{c(){e=C("div"),n=C("div"),n.innerHTML='<strong class="svelte-qhednx">Abilities</strong>',r=B(),i=C("div");for(let g=0;g<s.length;g+=1)s[g].c();S(n,"class","abilities-header"),S(i,"class","abilities-body"),S(e,"class","pokemonData-abilities svelte-qhednx")},m(g,v){U(g,e,v),T(e,n),T(e,r),T(e,i);for(let _=0;_<s.length;_+=1)s[_]&&s[_].m(i,null);l=!0},p(g,v){v&770&&(c=De(g[18]),Qe(),s=Uu(s,v,f,1,g,c,o,i,jg,HA,null,OA),$e())},i(g){if(!l){for(let v=0;v<c.length;v+=1)W(s[v]);l=!0}},o(g){for(let v=0;v<s.length;v+=1)G(s[v]);l=!1},d(g){g&&F(e);for(let v=0;v<s.length;v+=1)s[v].d()}}}function VA(t){let e,n,r,i,s;n=new Io({props:{src:_z}});function o(){return t[11](t[19])}return{c(){e=C("div"),ae(n.$$.fragment),S(e,"class","dialog-info svelte-qhednx")},m(l,c){U(l,e,c),se(n,e,null),r=!0,i||(s=le(e,"click",o),i=!0)},p(l,c){t=l},i(l){r||(W(n.$$.fragment,l),r=!0)},o(l){G(n.$$.fragment,l),r=!1},d(l){l&&F(e),oe(n),i=!1,s()}}}function HA(t,e){let n,r,i=e[19].ability.name.charAt(0).toUpperCase()+e[19].ability.name.slice(1)+"",s,o,l=e[19].is_hidden?"*":"",c,f,g,v,_=e[19].description&&VA(e);return{key:t,first:null,c(){n=C("div"),r=C("strong"),s=_e(i),o=B(),c=_e(l),f=B(),_&&_.c(),g=B(),S(r,"class","svelte-qhednx"),S(n,"class","ability-item svelte-qhednx"),this.first=n},m(m,b){U(m,n,b),T(n,r),T(r,s),T(n,o),T(n,c),T(n,f),_&&_.m(n,null),T(n,g),v=!0},p(m,b){e=m,(!v||b&2)&&i!==(i=e[19].ability.name.charAt(0).toUpperCase()+e[19].ability.name.slice(1)+"")&&Me(s,i),(!v||b&2)&&l!==(l=e[19].is_hidden?"*":"")&&Me(c,l),e[19].description?_?(_.p(e,b),b&2&&W(_,1)):(_=VA(e),_.c(),W(_,1),_.m(n,g)):_&&(Qe(),G(_,1,1,()=>{_=null}),$e())},i(m){v||(W(_),v=!0)},o(m){G(_),v=!1},d(m){m&&F(n),_&&_.d()}}}function Rz(t){return{c:z,m:z,p:z,i:z,o:z,d:z}}function FA(t){let e,n,r,i,s,o,l=t[15].type.name.toUpperCase()+"",c,f;return{c(){e=C("div"),n=C("img"),s=B(),o=C("strong"),c=_e(l),f=B(),me(n.src,r=`${TA[t[15].type.name]}`)||S(n,"src",r),S(n,"alt",i=t[15].type.name),S(o,"class","svelte-qhednx"),S(e,"class","type")},m(g,v){U(g,e,v),T(e,n),T(e,s),T(e,o),T(o,c),T(o,f)},p(g,v){v&2&&!me(n.src,r=`${TA[g[15].type.name]}`)&&S(n,"src",r),v&2&&i!==(i=g[15].type.name)&&S(n,"alt",i),v&2&&l!==(l=g[15].type.name.toUpperCase()+"")&&Me(c,l)},d(g){g&&F(e)}}}function xA(t){let e,n,r;function i(o){t[13](o)}let s={$$slots:{default:[Dz]},$$scope:{ctx:t}};return t[5]!==void 0&&(s.dialog=t[5]),e=new Az({props:s}),lt.push(()=>Dt(e,"dialog",i)),e.$on("close",t[14]),{c(){ae(e.$$.fragment)},m(o,l){se(e,o,l),r=!0},p(o,l){const c={};l&33554624&&(c.$$scope={dirty:l,ctx:o}),!n&&l&32&&(n=!0,c.dialog=o[5],Rt(()=>n=!1)),e.$set(c)},i(o){r||(W(e.$$.fragment,o),r=!0)},o(o){G(e.$$.fragment,o),r=!1},d(o){oe(e,o)}}}function Dz(t){let e,n,r,i,s;return{c(){e=_e(t[6]),n=B(),r=C("button"),r.textContent="Got it!",S(r,"class","dialog-button svelte-qhednx")},m(o,l){U(o,e,l),U(o,n,l),U(o,r,l),i||(s=le(r,"click",t[12]),i=!0)},p(o,l){l&64&&Me(e,o[6])},d(o){o&&(F(e),F(n),F(r)),i=!1,s()}}}function Oz(t){let e,n,r,i,s;const o=[Tz,Ez,Sz],l=[];function c(g,v){return g[1]?0:g[2]&&!g[3]?1:g[3]?2:-1}~(n=c(t))&&(r=l[n]=o[n](t));let f=t[7]&&xA(t);return{c(){e=C("div"),r&&r.c(),i=B(),f&&f.c(),S(e,"class","pokedex-container svelte-qhednx")},m(g,v){U(g,e,v),~n&&l[n].m(e,null),T(e,i),f&&f.m(e,null),s=!0},p(g,[v]){let _=n;n=c(g),n===_?~n&&l[n].p(g,v):(r&&(Qe(),G(l[_],1,1,()=>{l[_]=null}),$e()),~n?(r=l[n],r?r.p(g,v):(r=l[n]=o[n](g),r.c()),W(r,1),r.m(e,i)):r=null),g[7]?f?(f.p(g,v),v&128&&W(f,1)):(f=xA(g),f.c(),W(f,1),f.m(e,null)):f&&(Qe(),G(f,1,1,()=>{f=null}),$e())},i(g){s||(W(r),W(f),s=!0)},o(g){G(r),G(f),s=!1},d(g){g&&F(e),~n&&l[n].d(),f&&f.d()}}}function Mz(t,e,n){let r,i,s=!1,{pokemonData:o}=e,{error:l}=e,{loading:c}=e,{triggerSearch:f}=e,{evolutionChainData:g}=e;const v=M=>{n(6,i=M),n(7,s=!0),setTimeout(()=>{i&&r.showModal()},300)},_=async M=>{if(M.length){const L=M.map(async H=>{const R=await fetch(H.ability.url);if(!R.ok)throw new Error(`Failed to fetch ability data for ${H.ability.name}`);const q=await R.json();return H.description=q.effect_entries.find(j=>j.language.name==="en").effect,H});try{return await Promise.all(L)}catch(H){console.error(H)}}return Promise.resolve([])};function m(M){g=M,n(0,g)}const b=M=>v(M.description),I=()=>{n(7,s=!1)};function k(M){r=M,n(5,r)}function D(M){zp.call(this,t,M)}return t.$$set=M=>{"pokemonData"in M&&n(1,o=M.pokemonData),"error"in M&&n(2,l=M.error),"loading"in M&&n(3,c=M.loading),"triggerSearch"in M&&n(4,f=M.triggerSearch),"evolutionChainData"in M&&n(0,g=M.evolutionChainData)},[g,o,l,c,f,r,i,s,v,_,m,b,I,k,D]}class Nz extends tt{constructor(e){super(),et(this,e,Mz,Oz,Fe,{pokemonData:1,error:2,loading:3,triggerSearch:4,evolutionChainData:0})}}const Lz=["swsh12pt5gg-GG35","swsh12pt5gg-GG36","swsh12pt5gg-GG37","swsh12pt5gg-GG38","swsh12pt5gg-GG39","swsh12pt5gg-GG40","swsh12pt5gg-GG41","swsh12pt5gg-GG42","swsh12pt5gg-GG43","swsh12pt5gg-GG44","swsh12pt5gg-GG45","swsh12pt5gg-GG46","swsh12pt5gg-GG47","swsh12pt5gg-GG48","swsh12pt5gg-GG49","swsh12pt5gg-GG50","swsh12pt5gg-GG51","swsh12pt5gg-GG52","swsh12pt5gg-GG53","swsh12pt5gg-GG54","swsh12pt5gg-GG55","swsh12pt5gg-GG56","swsh12-177","swsh12-181","swsh12-184","swsh12-186","swsh12tg-TG12","swsh12tg-TG13","swsh12tg-TG14","swsh12tg-TG15","swsh12tg-TG16","swsh12tg-TG17","swsh12tg-TG18","swsh12tg-TG19","swsh12tg-TG20","swsh12tg-TG21","swsh12tg-TG22","swsh11-177","swsh11-180","swsh11-186","swsh11tg-TG12","swsh11tg-TG13","swsh11tg-TG14","swsh11tg-TG15","swsh11tg-TG16","swsh11tg-TG17","swsh11tg-TG18","swsh11tg-TG19","swsh11tg-TG20","swsh11tg-TG21","swsh11tg-TG22","pgo-72","pgo-74","swsh10-161","swsh10-163","swsh10-167","swsh10-172","swsh10-175","swsh10-177","swsh10tg-TG13","swsh10tg-TG14","swsh10tg-TG15","swsh10tg-TG16","swsh10tg-TG17","swsh10tg-TG18","swsh10tg-TG19","swsh10tg-TG20","swsh10tg-TG21","swsh10tg-TG22","swsh10tg-TG23","swsh9-154","swsh9-156","swsh9-162","swsh9-166","swsh9tg-TG13","swsh9tg-TG14","swsh9tg-TG15","swsh9tg-TG16","swsh9tg-TG17","swsh9tg-TG18","swsh9tg-TG19","swsh9tg-TG20","swsh9tg-TG21","swsh9tg-TG22","swsh9tg-TG23","swsh8-245","swsh8-251","swsh8-252","swsh8-255","swsh8-257","swsh8-266","swsh8-269","swsh8-270","swsh8-271","swsh7-167","swsh7-175","swsh7-180","swsh7-182","swsh7-184","swsh7-186","swsh7-189","swsh7-192","swsh7-194","swsh7-196","swsh7-198","swsh7-205","swsh7-209","swsh7-212","swsh7-215","swsh7-218","swsh7-220","swsh6-164","swsh6-166","swsh6-168","swsh6-170","swsh6-172","swsh6-174","swsh6-177","swsh6-179","swsh6-183","swsh6-185","swsh6-201","swsh6-203","swsh6-205","swsh5-146","swsh5-151","swsh5-153","swsh5-155","swsh5-168","swsh5-170","swshp-SWSH179","swshp-SWSH180","swshp-SWSH181","swshp-SWSH182","swshp-SWSH183","swshp-SWSH184","swshp-SWSH204","swshp-SWSH260","swshp-SWSH261","swshp-SWSH262"],Vz={"swshp-SWSH001":{style:"SwHolo",etch:"Holo"},"swshp-SWSH002":{style:"SwHolo",etch:"Holo"},"swshp-SWSH003":{style:"SwHolo",etch:"Holo"},"swshp-SWSH004":{style:"SunPillar",etch:"Holo"},"swshp-SWSH005":{style:"SunPillar",etch:"Etched"},"swshp-SWSH006":{style:"SwHolo",etch:"Holo"},"swshp-SWSH007":{style:"SwHolo",etch:"Holo"},"swshp-SWSH008":{style:"SwHolo",etch:"Holo"},"swshp-SWSH009":{style:"SwHolo",etch:"Holo"},"swshp-SWSH010":{style:"Cosmos",etch:"Holo"},"swshp-SWSH011":{style:"Cosmos",etch:"Holo"},"swshp-SWSH012":{style:"Cosmos",etch:"Holo"},"swshp-SWSH013":{style:"Cosmos",etch:"Holo"},"swshp-SWSH014":{style:"SunPillar",etch:"Holo"},"swshp-SWSH015":{style:"SunPillar",etch:"Holo"},"swshp-SWSH016":{style:"SunPillar",etch:"Holo"},"swshp-SWSH017":{style:"SunPillar",etch:"Holo"},"swshp-SWSH018":{style:"SunPillar",etch:"Holo"},"swshp-SWSH019":{style:"SunPillar",etch:"Holo"},"swshp-SWSH020":{style:"FlatSilver",etch:"Holo"},"swshp-SWSH021":{style:"SunPillar",etch:"Holo"},"swshp-SWSH022":{style:"SwHolo",etch:"Holo"},"swshp-SWSH023":{style:"SwHolo",etch:"Holo"},"swshp-SWSH024":{style:"SwHolo",etch:"Holo"},"swshp-SWSH025":{style:"SwHolo",etch:"Holo"},"swshp-SWSH026":{style:"Cosmos",etch:"Holo"},"swshp-SWSH027":{style:"Cosmos",etch:"Holo"},"swshp-SWSH028":{style:"Cosmos",etch:"Holo"},"swshp-SWSH029":{style:"Cosmos",etch:"Holo"},"swshp-SWSH030":{style:"SunPillar",etch:"Holo"},"swshp-SWSH031":{style:"Cosmos",etch:"Holo"},"swshp-SWSH032":{style:"Cosmos",etch:"Holo"},"swshp-SWSH033":{style:"Cosmos",etch:"Holo"},"swshp-SWSH034":{style:"Cosmos",etch:"Holo"},"swshp-SWSH035":{style:"SwHolo",etch:"Holo"},"swshp-SWSH036":{style:"SwHolo",etch:"Holo"},"swshp-SWSH037":{style:"SwHolo",etch:"Holo"},"swshp-SWSH038":{style:"SwHolo",etch:"Holo"},"swshp-SWSH039":{style:"Cosmos",etch:"Holo"},"swshp-SWSH040":{style:"Cosmos",etch:"Holo"},"swshp-SWSH041":{style:"Cosmos",etch:"Holo"},"swshp-SWSH042":{style:"Cosmos",etch:"Holo"},"swshp-SWSH043":{style:"SunPillar",etch:"Holo"},"swshp-SWSH044":{style:"SunPillar",etch:"Etched"},"swshp-SWSH045":{style:"SunPillar",etch:"Etched"},"swshp-SWSH046":{style:"Cosmos",etch:"Holo"},"swshp-SWSH047":{style:"Cosmos",etch:"Holo"},"swshp-SWSH048":{style:"Cosmos",etch:"Holo"},"swshp-SWSH049":{style:"SunPillar",etch:"Holo"},"swshp-SWSH050":{style:"SunPillar",etch:"Etched"},"swshp-SWSH051":{style:"Cosmos",etch:"Holo"},"swshp-SWSH052":{style:"Cosmos",etch:"Holo"},"swshp-SWSH053":{style:"Cosmos",etch:"Holo"},"swshp-SWSH054":{style:"Cosmos",etch:"Holo"},"swshp-SWSH055":{style:"SunPillar",etch:"Holo"},"swshp-SWSH056":{style:"SunPillar",etch:"Holo"},"swshp-SWSH057":{style:"SunPillar",etch:"Holo"},"swshp-SWSH058":{style:"Cosmos",etch:"Holo"},"swshp-SWSH059":{style:"Cosmos",etch:"Holo"},"swshp-SWSH060":{style:"Cosmos",etch:"Holo"},"swshp-SWSH061":{style:"SunPillar",etch:"Holo"},"swshp-SWSH062":{style:"SunPillar",etch:"Etched"},"swshp-SWSH063":{style:"SunPillar",etch:"Holo"},"swshp-SWSH064":{style:"SunPillar",etch:"Holo"},"swshp-SWSH065":{style:"SunPillar",etch:"Holo"},"swshp-SWSH066":{style:"SwHolo",etch:"Holo"},"swshp-SWSH067":{style:"SwHolo",etch:"Holo"},"swshp-SWSH068":{style:"SwHolo",etch:"Holo"},"swshp-SWSH069":{style:"SwHolo",etch:"Holo"},"swshp-SWSH070":{style:"Cosmos",etch:"Holo"},"swshp-SWSH071":{style:"Cosmos",etch:"Holo"},"swshp-SWSH072":{style:"Cosmos",etch:"Holo"},"swshp-SWSH073":{style:"Cosmos",etch:"Holo"},"swshp-SWSH076":{style:"SwSecret",etch:"Etched"},"swshp-SWSH077":{style:"SwSecret",etch:"Etched"},"swshp-SWSH078":{style:"SunPillar",etch:"Holo"},"swshp-SWSH079":{style:"Cosmos",etch:"Holo"},"swshp-SWSH080":{style:"Cosmos",etch:"Holo"},"swshp-SWSH081":{style:"Cosmos",etch:"Holo"},"swshp-SWSH082":{style:"Cosmos",etch:"Holo"},"swshp-SWSH083":{style:"SunPillar",etch:"Holo"},"swshp-SWSH084":{style:"SunPillar",etch:"Etched"},"swshp-SWSH085":{style:"SunPillar",etch:"Etched"},"swshp-SWSH086":{style:"SunPillar",etch:"Etched"},"swshp-SWSH087":{style:"SunPillar",etch:"Etched"},"swshp-SWSH088":{style:"SwHolo",etch:"Holo"},"swshp-SWSH089":{style:"SwHolo",etch:"Holo"},"swshp-SWSH090":{style:"SwHolo",etch:"Holo"},"swshp-SWSH091":{style:"SwHolo",etch:"Holo"},"swshp-SWSH092":{style:"Cosmos",etch:"Holo"},"swshp-SWSH093":{style:"Cosmos",etch:"Holo"},"swshp-SWSH094":{style:"Cosmos",etch:"Holo"},"swshp-SWSH095":{style:"Cosmos",etch:"Holo"},"swshp-SWSH096":{style:"SunPillar",etch:"Etched"},"swshp-SWSH097":{style:"SwSecret",etch:"Etched"},"swshp-SWSH098":{style:"SunPillar",etch:"Etched"},"swshp-SWSH099":{style:"SwSecret",etch:"Etched"},"swshp-SWSH100":{style:"SunPillar",etch:"Holo"},"swshp-SWSH101":{style:"SunPillar",etch:"Holo"},"swshp-SWSH102":{style:"SunPillar",etch:"Etched"},"swshp-SWSH103":{style:"SunPillar",etch:"Etched"},"swshp-SWSH104":{style:"SunPillar",etch:"Holo"},"swshp-SWSH105":{style:"SunPillar",etch:"Holo"},"swshp-SWSH106":{style:"SunPillar",etch:"Holo"},"swshp-SWSH107":{style:"SunPillar",etch:"Holo"},"swshp-SWSH108":{style:"SunPillar",etch:"Holo"},"swshp-SWSH109":{style:"SunPillar",etch:"Holo"},"swshp-SWSH110":{style:"SunPillar",etch:"Holo"},"swshp-SWSH111":{style:"SunPillar",etch:"Holo"},"swshp-SWSH112":{style:"SwHolo",etch:"Holo"},"swshp-SWSH113":{style:"SwHolo",etch:"Holo"},"swshp-SWSH114":{style:"SwHolo",etch:"Holo"},"swshp-SWSH115":{style:"SwHolo",etch:"Holo"},"swshp-SWSH116":{style:"Cosmos",etch:"Holo"},"swshp-SWSH117":{style:"Cosmos",etch:"Holo"},"swshp-SWSH118":{style:"Cosmos",etch:"Holo"},"swshp-SWSH119":{style:"Cosmos",etch:"Holo"},"swshp-SWSH120":{style:"Cosmos",etch:"Holo"},"swshp-SWSH121":{style:"SunPillar",etch:"Etched"},"swshp-SWSH122":{style:"SwHolo",etch:"Holo"},"swshp-SWSH123":{style:"SwHolo",etch:"Holo"},"swshp-SWSH124":{style:"SwHolo",etch:"Holo"},"swshp-SWSH125":{style:"SwHolo",etch:"Holo"},"swshp-SWSH126":{style:"Cosmos",etch:"Holo"},"swshp-SWSH127":{style:"Cosmos",etch:"Holo"},"swshp-SWSH128":{style:"Cosmos",etch:"Holo"},"swshp-SWSH129":{style:"Cosmos",etch:"Holo"},"swshp-SWSH130":{style:"SunPillar",etch:"Holo"},"swshp-SWSH131":{style:"SunPillar",etch:"Holo"},"swshp-SWSH132":{style:"Cosmos",etch:"Holo"},"swshp-SWSH133":{style:"SunPillar",etch:"Holo"},"swshp-SWSH134":{style:"SunPillar",etch:"Holo"},"swshp-SWSH135":{style:"Cosmos",etch:"Holo"},"swshp-SWSH136":{style:"Cosmos",etch:"Holo"},"swshp-SWSH137":{style:"Cosmos",etch:"Holo"},"swshp-SWSH138":{style:"Cosmos",etch:"Holo"},"swshp-SWSH139":{style:"SunPillar",etch:"Holo"},"swshp-SWSH140":{style:"SunPillar",etch:"Holo"},"swshp-SWSH141":{style:"SunPillar",etch:"Holo"},"swshp-SWSH142":{style:"SunPillar",etch:"Holo"},"swshp-SWSH143":{style:"SunPillar",etch:"Holo"},"swshp-SWSH144":{style:"Cosmos",etch:"Holo"},"swshp-SWSH145":{style:"SwSecret",etch:"Etched"},"swshp-SWSH146":{style:"SwSecret",etch:"Etched"},"swshp-SWSH147":{style:"SunPillar",etch:"Holo"},"swshp-SWSH148":{style:"SunPillar",etch:"Holo"},"swshp-SWSH149":{style:"SunPillar",etch:"Holo"},"swshp-SWSH150":{style:"SunPillar",etch:"Holo"},"swshp-SWSH151":{style:"SunPillar",etch:"Holo"},"swshp-SWSH152":{style:"SunPillar",etch:"Etched"},"swshp-SWSH153":{style:"Cosmos",etch:"Holo"},"swshp-SWSH154":{style:"SunPillar",etch:"Holo"},"swshp-SWSH155":{style:"SunPillar",etch:"Holo"},"swshp-SWSH156":{style:"SunPillar",etch:"Holo"},"swshp-SWSH157":{style:"SunPillar",etch:"Holo"},"swshp-SWSH158":{style:"SunPillar",etch:"Holo"},"swshp-SWSH159":{style:"SunPillar",etch:"Holo"},"swshp-SWSH160":{style:"SunPillar",etch:"Holo"},"swshp-SWSH161":{style:"SunPillar",etch:"Holo"},"swshp-SWSH162":{style:"SunPillar",etch:"Holo"},"swshp-SWSH163":{style:"SunPillar",etch:"Holo"},"swshp-SWSH164":{style:"SunPillar",etch:"Holo"},"swshp-SWSH165":{style:"SunPillar",etch:"Holo"},"swshp-SWSH166":{style:"SunPillar",etch:"Holo"},"swshp-SWSH167":{style:"None",etch:"None"},"swshp-SWSH168":{style:"SwHolo",etch:"Holo"},"swshp-SWSH169":{style:"SwHolo",etch:"Holo"},"swshp-SWSH170":{style:"SwHolo",etch:"Holo"},"swshp-SWSH171":{style:"SwHolo",etch:"Holo"},"swshp-SWSH172":{style:"Cosmos",etch:"Holo"},"swshp-SWSH173":{style:"Cosmos",etch:"Holo"},"swshp-SWSH174":{style:"Cosmos",etch:"Holo"},"swshp-SWSH175":{style:"Cosmos",etch:"Holo"},"swshp-SWSH176":{style:"SunPillar",etch:"Holo"},"swshp-SWSH178":{style:"SwHolo",etch:"Holo"},"swshp-SWSH179":{style:"SunPillar",etch:"Etched"},"swshp-SWSH180":{style:"SwSecret",etch:"Etched"},"swshp-SWSH181":{style:"SunPillar",etch:"Etched"},"swshp-SWSH182":{style:"SwSecret",etch:"Etched"},"swshp-SWSH183":{style:"SunPillar",etch:"Etched"},"swshp-SWSH184":{style:"SwSecret",etch:"Etched"},"swshp-SWSH185":{style:"SwHolo",etch:"Holo"},"swshp-SWSH186":{style:"SwHolo",etch:"Holo"},"swshp-SWSH187":{style:"SwHolo",etch:"Holo"},"swshp-SWSH188":{style:"SwHolo",etch:"Holo"},"swshp-SWSH189":{style:"Cosmos",etch:"Holo"},"swshp-SWSH190":{style:"Cosmos",etch:"Holo"},"swshp-SWSH191":{style:"Cosmos",etch:"Holo"},"swshp-SWSH192":{style:"Cosmos",etch:"Holo"},"swshp-SWSH193":{style:"None",etch:"None"},"swshp-SWSH194":{style:"SunPillar",etch:"Holo"},"swshp-SWSH195":{style:"SunPillar",etch:"Etched"},"swshp-SWSH196":{style:"SunPillar",etch:"Holo"},"swshp-SWSH197":{style:"SunPillar",etch:"Etched"},"swshp-SWSH198":{style:"SunPillar",etch:"Holo"},"swshp-SWSH199":{style:"SunPillar",etch:"Holo"},"swshp-SWSH200":{style:"SunPillar",etch:"Holo"},"swshp-SWSH201":{style:"SunPillar",etch:"Holo"},"swshp-SWSH202":{style:"SunPillar",etch:"Holo"},"swshp-SWSH203":{style:"SunPillar",etch:"Holo"},"swshp-SWSH204":{style:"SunPillar",etch:"Holo"},"swshp-SWSH205":{style:"SwHolo",etch:"Holo"},"swshp-SWSH206":{style:"SwHolo",etch:"Holo"},"swshp-SWSH207":{style:"SwHolo",etch:"Holo"},"swshp-SWSH208":{style:"SwHolo",etch:"Holo"},"swshp-SWSH209":{style:"Cosmos",etch:"Holo"},"swshp-SWSH210":{style:"Cosmos",etch:"Holo"},"swshp-SWSH211":{style:"Cosmos",etch:"Holo"},"swshp-SWSH212":{style:"Cosmos",etch:"Holo"},"swshp-SWSH213":{style:"SunPillar",etch:"Etched"},"swshp-SWSH214":{style:"SunPillar",etch:"Etched"},"swshp-SWSH215":{style:"SunPillar",etch:"Holo"},"swshp-SWSH216":{style:"SunPillar",etch:"Holo"},"swshp-SWSH217":{style:"SunPillar",etch:"Holo"},"swshp-SWSH218":{style:"SunPillar",etch:"Holo"},"swshp-SWSH219":{style:"SunPillar",etch:"Holo"},"swshp-SWSH220":{style:"Cosmos",etch:"Holo"},"swshp-SWSH221":{style:"Cosmos",etch:"Holo"},"swshp-SWSH222":{style:"Cosmos",etch:"Holo"},"swshp-SWSH223":{style:"SunPillar",etch:"Holo"},"swshp-SWSH224":{style:"SunPillar",etch:"Holo"},"swshp-SWSH225":{style:"SunPillar",etch:"Holo"},"swshp-SWSH226":{style:"SunPillar",etch:"Etched"},"swshp-SWSH227":{style:"SunPillar",etch:"Etched"},"swshp-SWSH228":{style:"SunPillar",etch:"Etched"},"swshp-SWSH229":{style:"SunPillar",etch:"Etched"},"swshp-SWSH230":{style:"RadiantHolo",etch:"Etched"},"swshp-SWSH231":{style:"Cosmos",etch:"Holo"},"swshp-SWSH232":{style:"Cosmos",etch:"Holo"},"swshp-SWSH233":{style:"Cosmos",etch:"Holo"},"swshp-SWSH234":{style:"Cosmos",etch:"Holo"},"swshp-SWSH235":{style:"SunPillar",etch:"Etched"},"swshp-SWSH236":{style:"SunPillar",etch:"Etched"},"swshp-SWSH237":{style:"SunPillar",etch:"Holo"},"swshp-SWSH238":{style:"SunPillar",etch:"Holo"},"swshp-SWSH239":{style:"SunPillar",etch:"Holo"},"swshp-SWSH240":{style:"SwHolo",etch:"Holo"},"swshp-SWSH241":{style:"SwHolo",etch:"Holo"},"swshp-SWSH242":{style:"SwHolo",etch:"Holo"},"swshp-SWSH243":{style:"SwHolo",etch:"Holo"},"swshp-SWSH244":{style:"Cosmos",etch:"Holo"},"swshp-SWSH245":{style:"Cosmos",etch:"Holo"},"swshp-SWSH246":{style:"Cosmos",etch:"Holo"},"swshp-SWSH247":{style:"Cosmos",etch:"Holo"},"swshp-SWSH248":{style:"SunPillar",etch:"Etched"},"swshp-SWSH249":{style:"SunPillar",etch:"Etched"},"swshp-SWSH250":{style:"SunPillar",etch:"Holo"},"swshp-SWSH252":{style:"SunPillar",etch:"Holo"},"swshp-SWSH253":{style:"SunPillar",etch:"Etched"},"swshp-SWSH254":{style:"SunPillar",etch:"Etched"},"swshp-SWSH255":{style:"SunPillar",etch:"Etched"},"swshp-SWSH256":{style:"SunPillar",etch:"Etched"},"swshp-SWSH257":{style:"SunPillar",etch:"Holo"},"swshp-SWSH258":{style:"SunPillar",etch:"Holo"},"swshp-SWSH259":{style:"SunPillar",etch:"Holo"},"swshp-SWSH260":{style:"SunPillar",etch:"Etched"},"swshp-SWSH261":{style:"SunPillar",etch:"Etched"},"swshp-SWSH262":{style:"SunPillar",etch:"Etched"},"swshp-SWSH263":{style:"SunPillar",etch:"Holo"},"swshp-SWSH264":{style:"SunPillar",etch:"Etched"},"swshp-SWSH265":{style:"SunPillar",etch:"Etched"},"swshp-SWSH266":{style:"SunPillar",etch:"Holo"},"swshp-SWSH267":{style:"SunPillar",etch:"Etched"},"swshp-SWSH268":{style:"SunPillar",etch:"Etched"},"swshp-SWSH269":{style:"SwHolo",etch:"Holo"},"swshp-SWSH270":{style:"SwHolo",etch:"Holo"},"swshp-SWSH271":{style:"SwHolo",etch:"Holo"},"swshp-SWSH272":{style:"SwHolo",etch:"Holo"},"swshp-SWSH273":{style:"Cosmos",etch:"Holo"},"swshp-SWSH274":{style:"Cosmos",etch:"Holo"},"swshp-SWSH275":{style:"Cosmos",etch:"Holo"},"swshp-SWSH276":{style:"Cosmos",etch:"Holo"},"swshp-SWSH277":{style:"Cosmos",etch:"Holo"},"swshp-SWSH278":{style:"Cosmos",etch:"Holo"},"swshp-SWSH279":{style:"Cosmos",etch:"Holo"},"swshp-SWSH280":{style:"SunPillar",etch:"Holo"},"swshp-SWSH281":{style:"SunPillar",etch:"Holo"},"swshp-SWSH291":{style:"SunPillar",etch:"Etched"},"swshp-SWSH294":{style:"SunPillar",etch:"Holo"},"swshp-SWSH295":{style:"SunPillar",etch:"Holo"},"swshp-SWSH296":{style:"Rainbow",etch:"Holo"},"swshp-SWSH297":{style:"SunPillar",etch:"Etched"},"swshp-SWSH298":{style:"SunPillar",etch:"Etched"}};function UA(t){return Object.prototype.toString.call(t)==="[object Date]"}function Fg(t,e,n,r){if(typeof n=="number"||UA(n)){const i=r-n,s=(n-e)/(t.dt||1/60),o=t.opts.stiffness*i,l=t.opts.damping*s,c=(o-l)*t.inv_mass,f=(s+c)*t.dt;return Math.abs(f)<t.opts.precision&&Math.abs(i)<t.opts.precision?r:(t.settled=!1,UA(n)?new Date(n.getTime()+f):n+f)}else{if(Array.isArray(n))return n.map((i,s)=>Fg(t,e[s],n[s],r[s]));if(typeof n=="object"){const i={};for(const s in n)i[s]=Fg(t,e[s],n[s],r[s]);return i}else throw new Error(`Cannot spring ${typeof n} values`)}}function Ys(t,e={}){const n=Bi(t),{stiffness:r=.15,damping:i=.8,precision:s=.01}=e;let o,l,c,f=t,g=t,v=1,_=0,m=!1;function b(k,D={}){g=k;const M=c={};return t==null||D.hard||I.stiffness>=1&&I.damping>=1?(m=!0,o=tu(),f=k,n.set(t=g),Promise.resolve()):(D.soft&&(_=1/((D.soft===!0?.5:+D.soft)*60),v=0),l||(o=tu(),m=!1,l=Wg(L=>{if(m)return m=!1,l=null,!1;v=Math.min(v+_,1);const H={inv_mass:v,opts:I,settled:!0,dt:(L-o)*60/1e3},R=Fg(H,f,t,g);return o=L,f=t,n.set(t=R),H.settled&&(l=null),!H.settled})),new Promise(L=>{l.promise.then(()=>{M===c&&L()})}))}const I={set:b,update:(k,D)=>b(k(g,t),D),subscribe:n.subscribe,stiffness:r,damping:i,precision:s};return I}function Hz(t){const e=t-1;return e*e*e+1}const Ch=function(t){return t?{alpha:t.alpha,beta:t.beta,gamma:t.gamma}:{alpha:0,beta:0,gamma:0}},BA=t=>{const e=Ch(t);return{absolute:e,relative:{alpha:e.alpha-za.alpha,beta:e.beta-za.beta,gamma:e.gamma-za.gamma}}};let xg=!0,za=Ch();const Fz=()=>{xg=!0,za=Ch()},xz=fE(BA(),function(e){const n=function(r){xg&&(xg=!1,za=Ch(r));const i=BA(r);e(i)};return window.addEventListener("deviceorientation",n,!0),function(){window.removeEventListener("deviceorientation",n,!0)}}),cr=(t,e=3)=>parseFloat(t.toFixed(e)),Ea=(t,e=0,n=100)=>Math.min(Math.max(t,e),n),Qs=(t,e,n,r,i)=>cr(r+(i-r)*(t-e)/(n-e));const{window:Uz}=d4;function Bz(t){let e,n,r,i,s,o,l,c,f,g,v,_,m,b,I,k,D,M,L;return{c(){e=C("div"),n=C("div"),r=C("button"),i=C("img"),o=B(),l=C("div"),c=C("img"),v=B(),_=C("div"),m=B(),b=C("div"),S(i,"class","card__back"),me(i.src,s=t[19])||S(i,"src",s),S(i,"alt","The back of a Pokemon Card, a Pokeball in the center with Pokemon logo above and below"),S(i,"loading","lazy"),S(i,"width","660"),S(i,"height","921"),me(c.src,f=t[10])||S(c,"src",f),S(c,"alt",g="Front design of the "+t[5]+" Pokemon Card, with the stats and info around the edge"),S(c,"loading","lazy"),S(c,"width","660"),S(c,"height","921"),S(_,"class","card__shine"),S(b,"class","card__glare"),S(l,"class","card__front"),S(l,"style",I=t[28]+t[17]),S(r,"class","card__rotator"),S(r,"aria-label",k="Expand the Pokemon Card; "+t[5]+"."),S(r,"tabindex","0"),S(n,"class","card__translater"),S(e,"class",D="card "+t[1]+" / interactive / svelte-ann5al"),S(e,"data-number",t[0]),S(e,"data-set",t[6]),S(e,"data-subtypes",t[2]),S(e,"data-supertype",t[3]),S(e,"data-rarity",t[4]),S(e,"data-trainer-gallery",t[9]),S(e,"style",t[18]),Kt(e,"active",t[11]),Kt(e,"interacting",t[12]),Kt(e,"loading",t[13]),Kt(e,"masked",!!t[7])},m(H,R){U(H,e,R),T(e,n),T(n,r),T(r,i),T(r,o),T(r,l),T(l,c),T(l,v),T(l,_),T(l,m),T(l,b),t[43](e),M||(L=[le(Uz,"scroll",t[27]),le(c,"load",t[29]),le(r,"click",t[25]),le(r,"pointermove",t[23]),le(r,"mouseout",t[24]),le(r,"blur",t[26])],M=!0)},p(H,R){R[0]&1024&&!me(c.src,f=H[10])&&S(c,"src",f),R[0]&32&&g!==(g="Front design of the "+H[5]+" Pokemon Card, with the stats and info around the edge")&&S(c,"alt",g),R[0]&131072&&I!==(I=H[28]+H[17])&&S(l,"style",I),R[0]&32&&k!==(k="Expand the Pokemon Card; "+H[5]+".")&&S(r,"aria-label",k),R[0]&2&&D!==(D="card "+H[1]+" / interactive / svelte-ann5al")&&S(e,"class",D),R[0]&1&&S(e,"data-number",H[0]),R[0]&64&&S(e,"data-set",H[6]),R[0]&4&&S(e,"data-subtypes",H[2]),R[0]&8&&S(e,"data-supertype",H[3]),R[0]&16&&S(e,"data-rarity",H[4]),R[0]&512&&S(e,"data-trainer-gallery",H[9]),R[0]&262144&&S(e,"style",H[18]),R[0]&2050&&Kt(e,"active",H[11]),R[0]&4098&&Kt(e,"interacting",H[12]),R[0]&8194&&Kt(e,"loading",H[13]),R[0]&130&&Kt(e,"masked",!!H[7])},i:z,o:z,d(H){H&&F(e),t[43](null),M=!1,Zt(L)}}}function Wz(t,e,n){let r,i,s,o,l,c,f,g,v;Hn(t,xz,ie=>n(35,i=ie)),Hn(t,Oa,ie=>n(36,s=ie));let{id:_=""}=e,{name:m=""}=e,{number:b=""}=e,{set:I=""}=e,{types:k=""}=e,{subtypes:D="basic"}=e,{supertype:M="pokmon"}=e,{rarity:L="common"}=e,{img:H=""}=e,{back:R="https://tcg.pokemon.com/assets/img/global/tcg-card-back-2x.jpg"}=e,{foil:q=""}=e,{mask:j=""}=e,{showcase:X=!1}=e;const $={x:Math.random(),y:Math.random()},K={x:Math.floor($.x*734),y:Math.floor($.y*1280)};let ve=!1,he=R,ye="",ct=H.startsWith("http")?"":"https://images.pokemontcg.io/",re,Pe,J=!1,Ne=!1,Ut=!0,ut=!0,Ie=document.visibilityState==="visible";const Te={stiffness:.066,damping:.25},xe={stiffness:.033,damping:.45};let Xe=Ys({x:0,y:0},Te);Hn(t,Xe,ie=>n(41,g=ie));let rt=Ys({x:50,y:50,o:0},Te);Hn(t,rt,ie=>n(42,v=ie));let Ue=Ys({x:50,y:50},Te);Hn(t,Ue,ie=>n(39,c=ie));let mt=Ys({x:0,y:0},xe);Hn(t,mt,ie=>n(40,f=ie));let Bt=Ys({x:0,y:0},xe);Hn(t,Bt,ie=>n(37,o=ie));let Pn=Ys(1,xe);Hn(t,Pn,ie=>n(38,l=ie));let xt,bt,vt,je=X;const Je=()=>{je&&(clearTimeout(vt),clearTimeout(bt),clearInterval(xt),je=!1)},ir=ie=>{if(Je(),!Ie||s&&s!==re)return n(12,Ne=!1);n(12,Ne=!0),ie.type==="touchmove"&&(ie.clientX=ie.touches[0].clientX,ie.clientY=ie.touches[0].clientY);const He=ie.target.getBoundingClientRect(),At={x:ie.clientX-He.left,y:ie.clientY-He.top},Ae={x:Ea(cr(100/He.width*At.x)),y:Ea(cr(100/He.height*At.y))},Mt={x:Ae.x-50,y:Ae.y-50};pt({x:Qs(Ae.x,0,100,37,63),y:Qs(Ae.y,0,100,33,67)},{x:cr(-(Mt.x/3.5)),y:cr(Mt.y/2)},{x:cr(Ae.x),y:cr(Ae.y),o:1})},St=(ie,Ct=500)=>{setTimeout(function(){n(12,Ne=!1),n(14,Xe.stiffness=.01,Xe),n(14,Xe.damping=.06,Xe),Xe.set({x:0,y:0},{soft:1}),n(15,rt.stiffness=.01,rt),n(15,rt.damping=.06,rt),rt.set({x:50,y:50,o:0},{soft:1}),n(16,Ue.stiffness=.01,Ue),n(16,Ue.damping=.06,Ue),Ue.set({x:50,y:50},{soft:1})},Ct)},Wt=ie=>{s&&s===re?Vd(Oa,s=void 0,s):(Vd(Oa,s=re,s),Fz())},sr=ie=>{St(),Vd(Oa,s=void 0,s)},$t=ie=>{clearTimeout(Pe),Pe=setTimeout(()=>{s&&s===re&&Rn()},300)},Rn=()=>{const ie=re.getBoundingClientRect(),Ct=document.documentElement,He={x:cr(Ct.clientWidth/2-ie.x-ie.width/2),y:cr(Ct.clientHeight/2-ie.y-ie.height/2)};Bt.set({x:He.x,y:He.y})},mr=()=>{const ie=re.getBoundingClientRect();let Ct=100,He=window.innerWidth/ie.width*.9,At=window.innerHeight/ie.height*.9,Ae=1.75;Rn(),Ut&&(Ct=1e3,mt.set({x:360,y:0})),Ut=!1,Pn.set(Math.min(He,At,Ae)),St(null,Ct)},Be=()=>{Pn.set(1,{soft:!0}),Bt.set({x:0,y:0},{soft:!0}),mt.set({x:0,y:0},{soft:!0}),St(null,100)},zt=()=>{St(null,0),Pn.set(1,{hard:!0}),Bt.set({x:0,y:0},{hard:!0}),mt.set({x:0,y:0},{hard:!0}),Xe.set({x:0,y:0},{hard:!0})};let qe="";const Wn=`
    --seedx: ${$.x};
    --seedy: ${$.y};
    --cosmosbg: ${K.x}px ${K.y}px;
  `,dt=ie=>{const Ct=ie.relative.gamma,He=ie.relative.beta,At={x:16,y:18},Ae={x:Ea(Ct,-At.x,At.x),y:Ea(He,-At.y,At.y)};pt({x:Qs(Ae.x,-At.x,At.x,37,63),y:Qs(Ae.y,-At.y,At.y,33,67)},{x:cr(Ae.x*-1),y:cr(Ae.y)},{x:Qs(Ae.x,-At.x,At.x,0,100),y:Qs(Ae.y,-At.y,At.y,0,100),o:1})},pt=(ie,Ct,He)=>{n(16,Ue.stiffness=Te.stiffness,Ue),n(16,Ue.damping=Te.damping,Ue),n(14,Xe.stiffness=Te.stiffness,Xe),n(14,Xe.damping=Te.damping,Xe),n(15,rt.stiffness=Te.stiffness,rt),n(15,rt.damping=Te.damping,rt),Ue.set(ie),Xe.set(Ct),rt.set(He)};document.addEventListener("visibilitychange",ie=>{Ie=document.visibilityState==="visible",Je(),zt()});const Ot=ie=>{n(13,ut=!1),(j||q)&&n(17,qe=`
    --mask: url(${j});
    --foil: url(${q});
      `)};as(()=>{if(n(10,ye=ct+H),X&&Ie){let He=0;bt=setTimeout(()=>{if(n(12,Ne=!0),n(11,J=!0),n(14,Xe.stiffness=.02,Xe),n(14,Xe.damping=.5,Xe),n(15,rt.stiffness=.02,rt),n(15,rt.damping=.5,rt),n(16,Ue.stiffness=.02,Ue),n(16,Ue.damping=.5,Ue),Ie)xt=setInterval(function(){He+=.05,Xe.set({x:Math.sin(He)*25,y:Math.cos(He)*25}),rt.set({x:55+Math.sin(He)*55,y:55+Math.cos(He)*55,o:.8}),Ue.set({x:20+Math.sin(He)*20,y:20+Math.cos(He)*20})},20),vt=setTimeout(()=>{clearInterval(xt),St(null,0)},4e3);else{n(12,Ne=!1),n(11,J=!1);return}},2e3)}});function jt(ie){lt[ie?"unshift":"push"](()=>{re=ie,n(8,re)})}return t.$$set=ie=>{"id"in ie&&n(30,_=ie.id),"name"in ie&&n(5,m=ie.name),"number"in ie&&n(0,b=ie.number),"set"in ie&&n(6,I=ie.set),"types"in ie&&n(1,k=ie.types),"subtypes"in ie&&n(2,D=ie.subtypes),"supertype"in ie&&n(3,M=ie.supertype),"rarity"in ie&&n(4,L=ie.rarity),"img"in ie&&n(31,H=ie.img),"back"in ie&&n(32,R=ie.back),"foil"in ie&&n(33,q=ie.foil),"mask"in ie&&n(7,j=ie.mask),"showcase"in ie&&n(34,X=ie.showcase)},t.$$.update=()=>{t.$$.dirty[0]&256|t.$$.dirty[1]&32&&(s&&s===re?(mr(),n(11,J=!0)):(Be(),n(11,J=!1))),t.$$.dirty[1]&4032&&n(18,r=`
    --pointer-x: ${v.x}%;
    --pointer-y: ${v.y}%;
    --pointer-from-center: ${Ea(Math.sqrt((v.y-50)*(v.y-50)+(v.x-50)*(v.x-50))/50,0,1)};
    --pointer-from-top: ${v.y/100};
    --pointer-from-left: ${v.x/100};
    --card-opacity: ${v.o};
    --rotate-x: ${g.x+f.x}deg;
    --rotate-y: ${g.y+f.y}deg;
    --background-x: ${c.x}%;
    --background-y: ${c.y}%;
    --card-scale: ${l};
    --translate-x: ${o.x}px;
    --translate-y: ${o.y}px;
	`),t.$$.dirty[0]&1073741855&&(n(4,L=L.toLowerCase()),n(3,M=M.toLowerCase()),n(0,b=b.toLowerCase()),n(9,ve=!!b.match(/^[tg]g/i)||_==="swshp-SWSH076"||_==="swshp-SWSH077"),Array.isArray(k)&&n(1,k=k.join(" ").toLowerCase()),Array.isArray(D)&&n(2,D=D.join(" ").toLowerCase())),t.$$.dirty[0]&256|t.$$.dirty[1]&48&&s&&s===re&&(n(12,Ne=!0),dt(i))},[b,k,D,M,L,m,I,j,re,ve,ye,J,Ne,ut,Xe,rt,Ue,qe,r,he,mt,Bt,Pn,ir,St,Wt,sr,$t,Wn,Ot,_,H,R,q,X,i,s,o,l,c,f,g,v,jt]}class zz extends tt{constructor(e){super(),et(this,e,Wz,Bz,Fe,{id:30,name:5,number:0,set:6,types:1,subtypes:2,supertype:3,rarity:4,img:31,back:32,foil:33,mask:7,showcase:34},null,[-1,-1,-1])}}function jz(t){let e,n;const r=[t[0]];let i={};for(let s=0;s<r.length;s+=1)i=fo(i,r[s]);return e=new zz({props:i}),{c(){ae(e.$$.fragment)},m(s,o){se(e,s,o),n=!0},p(s,[o]){const l=o&1?su(r,[Ta(s[0])]):{};e.$set(l)},i(s){n||(W(e.$$.fragment,s),n=!0)},o(s){G(e.$$.fragment,s),n=!1},d(s){oe(e,s)}}}function Nt(t){return typeof t<"u"&&t!==null}function qz(t,e,n){let{id:r=void 0}=e,{name:i=void 0}=e,{number:s=void 0}=e,{set:o=void 0}=e,{types:l=void 0}=e,{subtypes:c=void 0}=e,{supertype:f=void 0}=e,{rarity:g=void 0}=e,{isReverse:v=!1}=e,{img:_=void 0}=e,{back:m=void 0}=e,{foil:b=void 0}=e,{mask:I=void 0}=e,{showcase:k=!1}=e;const D=Nt(s)&&s.toLowerCase().startsWith("sv"),M=Nt(s)&&!!s.match(/^[tg]g/i),L=Nt(r)&&Lz.includes(r)&&!D&&!M,H=Nt(o)&&o==="swshp";v&&(g=g+" Reverse Holo"),M&&(Nt(g)&&g.startsWith("Trainer Gallery")&&(g=g.replace(/Trainer Gallery\s*/,"")),Nt(g)&&g.includes("Rare Holo V")&&Nt(c)&&c.includes("VMAX")&&(g="Rare Holo VMAX"),Nt(g)&&g.includes("Rare Holo V")&&Nt(c)&&c.includes("VSTAR")&&(g="Rare Holo VSTAR")),H&&(r==="swshp-SWSH076"||r==="swshp-SWSH077"?g="Rare Secret":Nt(c)&&c.includes("V")?g="Rare Holo V":Nt(c)&&c.includes("V-UNION")?g="Rare Holo VUNION":Nt(c)&&c.includes("VMAX")?g="Rare Holo VMAX":Nt(c)&&c.includes("VSTAR")?g="Rare Holo VSTAR":Nt(c)&&c.includes("Radiant")&&(g="Radiant Rare"));function R(){return Nt(_)?_:Nt(o)&&Nt(s)?`https://images.pokemontcg.io/${o.toLowerCase()}/${s}_hires.png`:""}function q(K,ve="masks"){let he="holo",ye="reverse",ct="webp";if(Nt(K))return K===!1?"":K;if(!Nt(g)||!Nt(c)||!Nt(f)||!Nt(o)||!Nt(s))return"";const re=g.toLowerCase(),Pe=s.toString().toLowerCase().replace("swsh","").padStart(3,"0"),J=o.toString().toLowerCase().replace(/(tg|gg|sv)/,"");if(re==="rare holo"&&(ye="swholo"),re==="rare holo cosmos"&&(ye="cosmos"),re==="radiant rare"&&(he="etched",ye="radiantholo"),(re==="rare holo v"||re==="rare holo vunion"||re==="basic v")&&(he="holo",ye="sunpillar"),(re==="rare holo vmax"||re==="rare ultra"||re==="rare holo vstar")&&(he="etched",ye="sunpillar"),(re==="amazing rare"||re==="rare rainbow"||re==="rare secret")&&(he="etched",ye="swsecret"),D&&(he="etched",ye="sunpillar",(re==="rare shiny v"||re==="rare holo v"&&Pe.startsWith("sv"))&&n(1,g="Rare Shiny V"),(re==="rare shiny vmax"||re==="rare holo vmax"&&Pe.startsWith("sv"))&&(ye="swsecret",n(1,g="Rare Shiny VMAX"))),M&&(he="holo",ye="rainbow",(re.includes("rare holo v")||re.includes("rare ultra"))&&(he="etched",ye="sunpillar"),re.includes("rare secret")&&(he="etched",ye="swsecret")),L&&(he="etched",c.includes("VMAX")?(ye="swsecret",n(1,g="Rare Rainbow Alt")):ye="sunpillar"),H){let Ne=Vz[r];Ne&&(ye=Ne.style.toLowerCase(),he=Ne.etch.toLowerCase(),ye==="swholo"?n(1,g="Rare Holo"):ye==="cosmos"&&n(1,g="Rare Holo Cosmos"))}return`foils/${J}/${ve}/upscaled/${Pe}_foil_${he}_${ye}_2x.${ct}`}function j(){return q(b,"foils")}function X(){return q(I,"masks")}const $={img:R(),back:m,foil:j(),mask:X(),id:r,name:i,number:s,set:o,types:l,subtypes:c,supertype:f,rarity:g,showcase:k};return t.$$set=K=>{"id"in K&&n(2,r=K.id),"name"in K&&n(3,i=K.name),"number"in K&&n(4,s=K.number),"set"in K&&n(5,o=K.set),"types"in K&&n(6,l=K.types),"subtypes"in K&&n(7,c=K.subtypes),"supertype"in K&&n(8,f=K.supertype),"rarity"in K&&n(1,g=K.rarity),"isReverse"in K&&n(9,v=K.isReverse),"img"in K&&n(10,_=K.img),"back"in K&&n(11,m=K.back),"foil"in K&&n(12,b=K.foil),"mask"in K&&n(13,I=K.mask),"showcase"in K&&n(14,k=K.showcase)},[$,g,r,i,s,o,l,c,f,v,_,m,b,I,k]}class Ph extends tt{constructor(e){super(),et(this,e,qz,jz,Fe,{id:2,name:3,number:4,set:5,types:6,subtypes:7,supertype:8,rarity:1,isReverse:9,img:10,back:11,foil:12,mask:13,showcase:14})}}function Gz(t){let e,n;return e=new Ph({props:{id:"basep-16",name:"Computer Error",set:"basep",number:"16",img:"https://images.pokemontcg.io/basep/16_hires.png",supertype:"Trainer",subtypes:"Rocket's Secret Machine",rarity:"Promo",isReverse:!1}}),{c(){ae(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p:z,i(r){n||(W(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function Kz(t){let e,n;return e=new kh({props:{$$slots:{default:[Gz]},$$scope:{ctx:t}}}),{c(){ae(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p(r,[i]){const s={};i&1&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){n||(W(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}let Sv=class extends tt{constructor(e){super(),et(this,e,null,Kz,Fe,{})}};function WA(t,{delay:e=0,duration:n=400,easing:r=Hz,x:i=0,y:s=0,opacity:o=0}={}){const l=getComputedStyle(t),c=+l.opacity,f=l.transform==="none"?"":l.transform,g=c*(1-o),[v,_]=z1(i),[m,b]=z1(s);return{delay:e,duration:n,easing:r,css:(I,k)=>`
			transform: ${f} translate(${(1-I)*v}${_}, ${(1-I)*m}${b});
			opacity: ${c-g*k}`}}function Yz(t){let e,n,r,i,s,o,l,c,f;return{c(){e=C("li"),n=C("div"),r=C("img"),s=B(),o=C("strong"),l=_e(t[0]),me(r.src,i=t[2])||S(r,"src",i),S(o,"class","svelte-svbz3w"),S(n,"class","svelte-svbz3w"),S(e,"class","tab-item svelte-svbz3w"),Kt(e,"active",t[1])},m(g,v){U(g,e,v),T(e,n),T(n,r),T(n,s),T(n,o),T(o,l),c||(f=[le(n,"keypress",t[4]),le(e,"click",t[3])],c=!0)},p(g,[v]){v&4&&!me(r.src,i=g[2])&&S(r,"src",i),v&1&&Me(l,g[0]),v&2&&Kt(e,"active",g[1])},i:z,o:z,d(g){g&&F(e),c=!1,Zt(f)}}}function Qz(t,e,n){let{label:r,isActive:i,icon:s}=e;function o(c){zp.call(this,t,c)}function l(c){zp.call(this,t,c)}return t.$$set=c=>{"label"in c&&n(0,r=c.label),"isActive"in c&&n(1,i=c.isActive),"icon"in c&&n(2,s=c.icon)},[r,i,s,o,l]}class $z extends tt{constructor(e){super(),et(this,e,Qz,Yz,Fe,{label:0,isActive:1,icon:2})}}function zA(t,e,n){const r=t.slice();return r[5]=e[n].label,r[6]=e[n].icon,r[8]=n,r}function jA(t){let e,n,r=De(t[2]),i=[];for(let o=0;o<r.length;o+=1)i[o]=qA(zA(t,r,o));const s=o=>G(i[o],1,1,()=>{i[o]=null});return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=Ve()},m(o,l){for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(o,l);U(o,e,l),n=!0},p(o,l){if(l&13){r=De(o[2]);let c;for(c=0;c<r.length;c+=1){const f=zA(o,r,c);i[c]?(i[c].p(f,l),W(i[c],1)):(i[c]=qA(f),i[c].c(),W(i[c],1),i[c].m(e.parentNode,e))}for(Qe(),c=r.length;c<i.length;c+=1)s(c);$e()}},i(o){if(!n){for(let l=0;l<r.length;l+=1)W(i[l]);n=!0}},o(o){i=i.filter(Boolean);for(let l=0;l<i.length;l+=1)G(i[l]);n=!1},d(o){o&&F(e),Jt(i,o)}}}function qA(t){let e,n;function r(){return t[4](t[8])}return e=new $z({props:{label:t[5],icon:t[6],isActive:t[0]===t[8]}}),e.$on("click",r),{c(){ae(e.$$.fragment)},m(i,s){se(e,i,s),n=!0},p(i,s){t=i;const o={};s&4&&(o.label=t[5]),s&4&&(o.icon=t[6]),s&1&&(o.isActive=t[0]===t[8]),e.$set(o)},i(i){n||(W(e.$$.fragment,i),n=!0)},o(i){G(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function Xz(t){let e,n,r=Array.isArray(t[2]),i,s=r&&jA(t);return{c(){e=C("div"),n=C("ul"),s&&s.c(),S(n,"class","tabs-box svelte-1pklidg"),S(n,"id",t[1]),S(e,"class","tabs svelte-1pklidg")},m(o,l){U(o,e,l),T(e,n),s&&s.m(n,null),i=!0},p(o,[l]){l&4&&(r=Array.isArray(o[2])),r?s?(s.p(o,l),l&4&&W(s,1)):(s=jA(o),s.c(),W(s,1),s.m(n,null)):s&&(Qe(),G(s,1,1,()=>{s=null}),$e()),(!i||l&2)&&S(n,"id",o[1])},i(o){i||(W(s),i=!0)},o(o){G(s),i=!1},d(o){o&&F(e),s&&s.d()}}}function Jz(t,e,n){let{id:r=""}=e,{items:i=[]}=e,{activeTab:s=0}=e;const o=c=>{n(0,s=c)},l=c=>{o(c)};return t.$$set=c=>{"id"in c&&n(1,r=c.id),"items"in c&&n(2,i=c.items),"activeTab"in c&&n(0,s=c.activeTab)},[s,r,i,o,l]}class Zz extends tt{constructor(e){super(),et(this,e,Jz,Xz,Fe,{id:1,items:2,activeTab:0})}}function GA(t,e,n){const r=t.slice();return r[6]=e[n],r[8]=n,r}function ej(t){let e,n,r,i,s,o,l=De(t[1]),c=[];for(let f=0;f<l.length;f+=1)c[f]=KA(GA(t,l,f));return{c(){e=C("div"),n=C("h3"),n.textContent="LEVEL MOVES",r=B(),i=C("table"),s=C("tr"),s.innerHTML='<th class="svelte-dzfq6q">Move</th> <th class="svelte-dzfq6q">Level</th>',o=B();for(let f=0;f<c.length;f+=1)c[f].c();S(s,"class","svelte-dzfq6q"),S(i,"class","pokemon-level-movements-content svelte-dzfq6q"),S(e,"class","pokemon-level-movements svelte-dzfq6q")},m(f,g){U(f,e,g),T(e,n),T(e,r),T(e,i),T(i,s),T(i,o);for(let v=0;v<c.length;v+=1)c[v]&&c[v].m(i,null)},p(f,g){if(g&3){l=De(f[1]);let v;for(v=0;v<l.length;v+=1){const _=GA(f,l,v);c[v]?c[v].p(_,g):(c[v]=KA(_),c[v].c(),c[v].m(i,null))}for(;v<c.length;v+=1)c[v].d(1);c.length=l.length}},d(f){f&&F(e),Jt(c,f)}}}function KA(t){let e,n,r,i,s;return{c(){e=C("tr"),n=C("th"),n.textContent=`${t[6].name}`,r=B(),i=C("th"),i.textContent=`${t[6].level}`,s=B(),S(n,"class","svelte-dzfq6q"),S(i,"class","svelte-dzfq6q"),on(e,"background-color",t[0](t[8])),S(e,"class","pokemon-level-movement svelte-dzfq6q")},m(o,l){U(o,e,l),T(e,n),T(e,r),T(e,i),T(e,s)},p:z,d(o){o&&F(e)}}}function tj(t){let e,n=t[1].length>0&&ej(t);return{c(){n&&n.c(),e=Ve()},m(r,i){n&&n.m(r,i),U(r,e,i)},p(r,[i]){r[1].length>0&&n.p(r,i)},i:z,o:z,d(r){r&&F(e),n&&n.d(r)}}}function nj(t,e,n){let{data:r}=e,{selectedGame:i}=e,{mainColor:s}=e,{secondaryColor:o}=e;const l=f=>f%2===0?s:o;let c=[];return t.$$set=f=>{"data"in f&&n(2,r=f.data),"selectedGame"in f&&n(3,i=f.selectedGame),"mainColor"in f&&n(4,s=f.mainColor),"secondaryColor"in f&&n(5,o=f.secondaryColor)},t.$$.update=()=>{t.$$.dirty&12&&(r==null||r.map(f=>{var g,v;(g=f.version_group_details)!=null&&g.map(_=>_.version_group.name).includes(i)&&c.push({name:f.move.name,level:(v=f.version_group_details)==null?void 0:v[0].level_learned_at})}))},[l,c,r,i,s,o]}class rj extends tt{constructor(e){super(),et(this,e,nj,tj,Fe,{data:2,selectedGame:3,mainColor:4,secondaryColor:5})}}function YA(t,e,n){const r=t.slice();return r[6]=e[n],r[8]=n,r}function ij(t){let e,n,r,i,s,o,l=De(t[0]),c=[];for(let f=0;f<l.length;f+=1)c[f]=QA(YA(t,l,f));return{c(){e=C("div"),n=C("h3"),n.textContent="MACHINE MOVES",r=B(),i=C("table"),s=C("tr"),s.innerHTML='<th class="svelte-1a9n473">Move</th>',o=B();for(let f=0;f<c.length;f+=1)c[f].c();S(s,"class","svelte-1a9n473"),S(i,"class","pokemon-machine-movements-content svelte-1a9n473"),S(e,"class","pokemon-machine-movements svelte-1a9n473")},m(f,g){U(f,e,g),T(e,n),T(e,r),T(e,i),T(i,s),T(i,o);for(let v=0;v<c.length;v+=1)c[v]&&c[v].m(i,null)},p(f,g){if(g&3){l=De(f[0]);let v;for(v=0;v<l.length;v+=1){const _=YA(f,l,v);c[v]?c[v].p(_,g):(c[v]=QA(_),c[v].c(),c[v].m(i,null))}for(;v<c.length;v+=1)c[v].d(1);c.length=l.length}},d(f){f&&F(e),Jt(c,f)}}}function QA(t){let e,n,r;return{c(){e=C("tr"),n=C("th"),n.textContent=`${t[6].name}`,r=B(),S(n,"class","svelte-1a9n473"),on(e,"background-color",t[1](t[8])),S(e,"class","pokemon-machine-movement svelte-1a9n473")},m(i,s){U(i,e,s),T(e,n),T(e,r)},p:z,d(i){i&&F(e)}}}function sj(t){let e,n=t[0].length>0&&ij(t);return{c(){n&&n.c(),e=Ve()},m(r,i){n&&n.m(r,i),U(r,e,i)},p(r,[i]){r[0].length>0&&n.p(r,i)},i:z,o:z,d(r){r&&F(e),n&&n.d(r)}}}function oj(t,e,n){let{data:r}=e,{selectedGame:i}=e,{mainColor:s}=e,{secondaryColor:o}=e,l=[];const c=f=>f%2===0?s:o;return t.$$set=f=>{"data"in f&&n(2,r=f.data),"selectedGame"in f&&n(3,i=f.selectedGame),"mainColor"in f&&n(4,s=f.mainColor),"secondaryColor"in f&&n(5,o=f.secondaryColor)},t.$$.update=()=>{t.$$.dirty&12&&(r==null||r.map(f=>{var g;(g=f.version_group_details)!=null&&g.map(v=>v.version_group.name).includes(i)&&l.push({name:f.move.name})}))},[l,c,r,i,s,o]}class aj extends tt{constructor(e){super(),et(this,e,oj,sj,Fe,{data:2,selectedGame:3,mainColor:4,secondaryColor:5})}}function $A(t,e,n){const r=t.slice();return r[6]=e[n],r[8]=n,r}function lj(t){let e,n,r,i,s,o,l=De(t[0]),c=[];for(let f=0;f<l.length;f+=1)c[f]=XA($A(t,l,f));return{c(){e=C("div"),n=C("h3"),n.textContent="TUTOR MOVES",r=B(),i=C("table"),s=C("tr"),s.innerHTML='<th class="svelte-wtrjes">Move</th>',o=B();for(let f=0;f<c.length;f+=1)c[f].c();S(s,"class","svelte-wtrjes"),S(i,"class","pokemon-tutor-movements-content svelte-wtrjes"),S(e,"class","pokemon-tutor-movements svelte-wtrjes")},m(f,g){U(f,e,g),T(e,n),T(e,r),T(e,i),T(i,s),T(i,o);for(let v=0;v<c.length;v+=1)c[v]&&c[v].m(i,null)},p(f,g){if(g&3){l=De(f[0]);let v;for(v=0;v<l.length;v+=1){const _=$A(f,l,v);c[v]?c[v].p(_,g):(c[v]=XA(_),c[v].c(),c[v].m(i,null))}for(;v<c.length;v+=1)c[v].d(1);c.length=l.length}},d(f){f&&F(e),Jt(c,f)}}}function XA(t){let e,n,r;return{c(){e=C("tr"),n=C("th"),n.textContent=`${t[6].name}`,r=B(),S(n,"class","svelte-wtrjes"),on(e,"background-color",t[1](t[8])),S(e,"class","pokemon-tutor-movement svelte-wtrjes")},m(i,s){U(i,e,s),T(e,n),T(e,r)},p:z,d(i){i&&F(e)}}}function cj(t){let e,n=t[0].length>0&&lj(t);return{c(){n&&n.c(),e=Ve()},m(r,i){n&&n.m(r,i),U(r,e,i)},p(r,[i]){r[0].length>0&&n.p(r,i)},i:z,o:z,d(r){r&&F(e),n&&n.d(r)}}}function uj(t,e,n){let{data:r}=e,{selectedGame:i}=e,{mainColor:s}=e,{secondaryColor:o}=e,l=[];const c=f=>f%2===0?s:o;return t.$$set=f=>{"data"in f&&n(2,r=f.data),"selectedGame"in f&&n(3,i=f.selectedGame),"mainColor"in f&&n(4,s=f.mainColor),"secondaryColor"in f&&n(5,o=f.secondaryColor)},t.$$.update=()=>{t.$$.dirty&12&&(r==null||r.map(f=>{var g;(g=f.version_group_details)!=null&&g.map(v=>v.version_group.name).includes(i)&&l.push({name:f.move.name})}))},[l,c,r,i,s,o]}class hj extends tt{constructor(e){super(),et(this,e,uj,cj,Fe,{data:2,selectedGame:3,mainColor:4,secondaryColor:5})}}const fj={a:{viewBox:"0 0 512 512"},c:'<title></title><path d="M48,256c0,114.87,93.13,208,208,208s208-93.13,208-208S370.87,48,256,48,48,141.13,48,256Zm224-80.09L208.42,240H358v32H208.42L272,336.09,249.3,358.63,147.46,256,249.3,153.37Z"></path>'},Ke={alphaSaphire:"#26649C",black:"#444444",black2:"#424B50",blue:"#1111FF",brilliantDiamond:"#44BAE5",crystal:"#4FD9FF",diamond:"#AAAAFF",emerald:"#00A000",fireRed:"#FF7327",gold:"#DAA520",green:"#11BB11",heartgold:"#B69E00",leafGreen:"#00DD00",legendsArceus:"#36597B",letsGoEevee:"#D4924B",letsGoPikachu:"#F5DA26",moon:"#5599CA",omegaRuby:"#AB2813",pearl:"#FFAAAA",platinum:"#999999",red:"#FF1111",ruby:"#A00000",sapphire:"#0000A0",scarlet:"#F34134",shield:"#BF004F",shiningPearl:"#DA7D99",silver:"#C0C0C0",soulsilver:"#C0C0E1",sun:"#F1912B",sword:"#00A1E9",ultraMoon:"#226DB5",ultraSun:"#E95B2B",violet:"#8334B7",white:"#E1E1E1",white2:"#E3CED0",x:"#025DA6",xd:"#604E82",y:"#EA1A3E",yellow:"#FFD733"};function JA(t,e,n){const r=t.slice();return r[11]=e[n],r}function dj(t){let e,n,r,i,s,o,l,c,f,g,v,_,m,b;s=new Io({props:{color:t[4](t[3]).mainColor,src:fj}});const I=[vj,mj,gj],k=[];function D(M,L){return M[0]?0:M[1]&&!M[2]?1:M[2]?2:-1}return~(g=D(t))&&(v=k[g]=I[g](t)),{c(){e=C("div"),n=C("div"),r=C("div"),i=C("div"),ae(s.$$.fragment),o=B(),l=C("h2"),c=_e(t[3]),f=B(),v&&v.c(),S(i,"class","back-icon svelte-ue2sw0"),on(l,"color",t[4](t[3]).mainColor),S(l,"class","svelte-ue2sw0"),S(r,"class","movements-header svelte-ue2sw0"),S(n,"class","game-movements svelte-ue2sw0"),S(e,"class","movements-container svelte-ue2sw0")},m(M,L){U(M,e,L),T(e,n),T(n,r),T(r,i),se(s,i,null),T(r,o),T(r,l),T(l,c),T(n,f),~g&&k[g].m(n,null),_=!0,m||(b=le(i,"click",t[10]),m=!0)},p(M,L){const H={};L&24&&(H.color=M[4](M[3]).mainColor),s.$set(H),(!_||L&8)&&Me(c,M[3]),(!_||L&24)&&on(l,"color",M[4](M[3]).mainColor);let R=g;g=D(M),g===R?~g&&k[g].p(M,L):(v&&(Qe(),G(k[R],1,1,()=>{k[R]=null}),$e()),~g?(v=k[g],v?v.p(M,L):(v=k[g]=I[g](M),v.c()),W(v,1),v.m(n,null)):v=null)},i(M){_||(W(s.$$.fragment,M),W(v),_=!0)},o(M){G(s.$$.fragment,M),G(v),_=!1},d(M){M&&F(e),oe(s),~g&&k[g].d(),m=!1,b()}}}function pj(t){let e,n=De(t[8]),r=[];for(let i=0;i<n.length;i+=1)r[i]=nS(JA(t,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=Ve()},m(i,s){for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(i,s);U(i,e,s)},p(i,s){if(s&280){n=De(i[8]);let o;for(o=0;o<n.length;o+=1){const l=JA(i,n,o);r[o]?r[o].p(l,s):(r[o]=nS(l),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},i:z,o:z,d(i){i&&F(e),Jt(r,i)}}}function gj(t){let e;return{c(){e=C("span"),S(e,"class","loader svelte-ue2sw0")},m(n,r){U(n,e,r)},p:z,i:z,o:z,d(n){n&&F(e)}}}function mj(t){let e,n;return{c(){e=C("div"),n=_e(t[1])},m(r,i){U(r,e,i),T(e,n)},p(r,i){i&2&&Me(n,r[1])},i:z,o:z,d(r){r&&F(e)}}}function vj(t){var c,f,g;let e,n,r,i,s=((c=t[7])==null?void 0:c.length)>0&&ZA(t),o=((f=t[6])==null?void 0:f.length)>0&&eS(t),l=((g=t[5])==null?void 0:g.length)>0&&tS(t);return{c(){e=C("div"),s&&s.c(),n=B(),o&&o.c(),r=B(),l&&l.c(),S(e,"class","movements-tables svelte-ue2sw0")},m(v,_){U(v,e,_),s&&s.m(e,null),T(e,n),o&&o.m(e,null),T(e,r),l&&l.m(e,null),i=!0},p(v,_){var m,b,I;((m=v[7])==null?void 0:m.length)>0?s?(s.p(v,_),_&128&&W(s,1)):(s=ZA(v),s.c(),W(s,1),s.m(e,n)):s&&(Qe(),G(s,1,1,()=>{s=null}),$e()),((b=v[6])==null?void 0:b.length)>0?o?(o.p(v,_),_&64&&W(o,1)):(o=eS(v),o.c(),W(o,1),o.m(e,r)):o&&(Qe(),G(o,1,1,()=>{o=null}),$e()),((I=v[5])==null?void 0:I.length)>0?l?(l.p(v,_),_&32&&W(l,1)):(l=tS(v),l.c(),W(l,1),l.m(e,null)):l&&(Qe(),G(l,1,1,()=>{l=null}),$e())},i(v){i||(W(s),W(o),W(l),i=!0)},o(v){G(s),G(o),G(l),i=!1},d(v){v&&F(e),s&&s.d(),o&&o.d(),l&&l.d()}}}function ZA(t){let e,n;return e=new rj({props:{data:t[7],selectedGame:t[3],mainColor:t[4](t[3]).mainColor,secondaryColor:t[4](t[3]).secondaryColor}}),{c(){ae(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p(r,i){const s={};i&128&&(s.data=r[7]),i&8&&(s.selectedGame=r[3]),i&24&&(s.mainColor=r[4](r[3]).mainColor),i&24&&(s.secondaryColor=r[4](r[3]).secondaryColor),e.$set(s)},i(r){n||(W(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function eS(t){let e,n;return e=new aj({props:{data:t[6],selectedGame:t[3],mainColor:t[4](t[3]).mainColor,secondaryColor:t[4](t[3]).secondaryColor}}),{c(){ae(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p(r,i){const s={};i&64&&(s.data=r[6]),i&8&&(s.selectedGame=r[3]),i&24&&(s.mainColor=r[4](r[3]).mainColor),i&24&&(s.secondaryColor=r[4](r[3]).secondaryColor),e.$set(s)},i(r){n||(W(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function tS(t){let e,n;return e=new hj({props:{data:t[5],selectedGame:t[3],mainColor:t[4](t[3]).mainColor,secondaryColor:t[4](t[3]).secondaryColor}}),{c(){ae(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p(r,i){const s={};i&32&&(s.data=r[5]),i&8&&(s.selectedGame=r[3]),i&24&&(s.mainColor=r[4](r[3]).mainColor),i&24&&(s.secondaryColor=r[4](r[3]).secondaryColor),e.$set(s)},i(r){n||(W(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function nS(t){let e,n=t[11]+"",r,i,s;function o(){return t[9](t[11])}return{c(){e=C("div"),r=_e(n),on(e,"background","linear-gradient(90deg, "+t[4](t[11]).selectedColor+")"),S(e,"class","game svelte-ue2sw0")},m(l,c){U(l,e,c),T(e,r),i||(s=le(e,"click",o),i=!0)},p(l,c){t=l,c&16&&on(e,"background","linear-gradient(90deg, "+t[4](t[11]).selectedColor+")")},d(l){l&&F(e),i=!1,s()}}}function yj(t){let e,n,r,i;const s=[pj,dj],o=[];function l(c,f){return c[3]?1:0}return n=l(t),r=o[n]=s[n](t),{c(){e=C("div"),r.c(),S(e,"class","games-container svelte-ue2sw0")},m(c,f){U(c,e,f),o[n].m(e,null),i=!0},p(c,[f]){let g=n;n=l(c),n===g?o[n].p(c,f):(Qe(),G(o[g],1,1,()=>{o[g]=null}),$e(),r=o[n],r?r.p(c,f):(r=o[n]=s[n](c),r.c()),W(r,1),r.m(e,null))},i(c){i||(W(r),i=!0)},o(c){G(r),i=!1},d(c){c&&F(e),o[n].d()}}}function _j(t,e,n){let r,i,s,o,{pokemonData:l}=e,{error:c}=e,{loading:f}=e;const g=[];let v=null;const _=b=>{n(3,v=b)},m=()=>n(3,v=null);return t.$$set=b=>{"pokemonData"in b&&n(0,l=b.pokemonData),"error"in b&&n(1,c=b.error),"loading"in b&&n(2,f=b.loading)},t.$$.update=()=>{t.$$.dirty&1&&(l==null||l.moves.forEach(b=>{var I,k,D,M,L,H,R,q,j;((I=b.version_group_details)==null?void 0:I[0].level_learned_at)>0&&!g.includes((k=b.version_group_details)==null?void 0:k[0].version_group.name)&&g.push((D=b.version_group_details)==null?void 0:D[0].version_group.name),((M=b.version_group_details)==null?void 0:M[0].move_learn_method.name)==="machine"&&!g.includes((L=b.version_group_details)==null?void 0:L[0].version_group.name)&&g.push((H=b.version_group_details)==null?void 0:H[0].version_group.name),((R=b.version_group_details)==null?void 0:R[0].move_learn_method.name)==="tutor"&&!g.includes((q=b.version_group_details)==null?void 0:q[0].version_group.name)&&g.push((j=b.version_group_details)==null?void 0:j[0].version_group.name)})),t.$$.dirty&1&&n(7,r=l==null?void 0:l.moves.filter(b=>{var I;return((I=b.version_group_details)==null?void 0:I[0].level_learned_at)>0}).sort((b,I)=>{var k,D;return((k=b.version_group_details)==null?void 0:k[0].level_learned_at)-((D=I.version_group_details)==null?void 0:D[0].level_learned_at)})),t.$$.dirty&1&&n(6,i=l==null?void 0:l.moves.filter(b=>{var I;return((I=b.version_group_details)==null?void 0:I[0].move_learn_method.name)==="machine"})),t.$$.dirty&1&&n(5,s=l==null?void 0:l.moves.filter(b=>{var I;return((I=b.version_group_details)==null?void 0:I[0].move_learn_method.name)==="tutor"}))},n(4,o=b=>{let I=null,k=null,D=null,M=null;if(b!=null&&b.includes("lets-go-pikachu-lets-go-eevee"))I=`${Ke.letsGoPikachu}, ${Ke.letsGoEevee}`,D=`${Ke.letsGoPikachu}`,k=`${Ke.letsGoEevee}, ${Ke.letsGoPikachu}`,M=`${Ke.letsGoEevee}`;else if(b!=null&&b.includes("omega-ruby-alpha-sapphire"))I=`${Ke.omegaRuby}, ${Ke.alphaSaphire}`,D=`${Ke.omegaRuby}`,k=`${Ke.alphaSaphire}, ${Ke.omegaRuby}`,M=`${Ke.alphaSaphire}`;else if(b!=null&&b.includes("black-2-white-2"))I=`${Ke.black2}, ${Ke.white2}`,D=`${Ke.black2}`,k=`${Ke.white2}, ${Ke.black2}`,M=`${Ke.white2}`;else if(b!=null&&b.includes("ultra-sun-ultra-moon"))I=`${Ke.ultraSun}, ${Ke.ultraMoon}`,D=`${Ke.ultraSun}`,k=`${Ke.ultraMoon}, ${Ke.ultraSun}`,M=`${Ke.ultraMoon}`;else if(b!=null&&b.includes("-")){const[L,H]=b.split("-");I=`${Ke[L]}, ${Ke[H]}`,D=`${Ke[L]}`,k=`${Ke[H]}, ${Ke[L]}`,M=`${Ke[H]}`}else I=`${Ke[b]}, ${Ke[b]}`,D=`${Ke[b]}`,k=`${Ke[b]}, ${Ke[b]}`,M="#ccbbbb";return{selectedColor:I,hoverColor:k,mainColor:D,secondaryColor:M}}),[l,c,f,v,o,s,i,r,g,_,m]}class wj extends tt{constructor(e){super(),et(this,e,_j,yj,Fe,{pokemonData:0,error:1,loading:2})}}const ho={POKEDEX:1,MOVES:2,TCG:3},I2=[{id:ho.POKEDEX,label:"POKEDEX"},{id:ho.MOVES,label:"MOVES"},{id:ho.TCG,label:"TCG"}];function bj(t){let e,n,r,i,s,o,l,c,f,g;return{c(){e=C("section"),n=C("form"),r=C("input"),i=B(),s=Gr("svg"),o=Gr("path"),l=Gr("path"),c=Gr("path"),S(r,"type","search"),S(r,"pattern","^[a-zA-Z0-9 -.]*$"),S(r,"name","search"),S(r,"id","search"),S(r,"placeholder","Pikachu"),S(r,"class","svelte-11hr1dc"),S(n,"id","example-form"),S(n,"class","svelte-11hr1dc"),S(o,"stroke","none"),S(o,"d","M0 0h24v24H0z"),S(o,"fill","none"),S(l,"d","M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"),S(c,"d","M21 21l-6 -6"),S(s,"xmlns","http://www.w3.org/2000/svg"),S(s,"class","icon icon-tabler icon-tabler-search svelte-11hr1dc"),S(s,"width","24"),S(s,"height","24"),S(s,"viewBox","0 0 24 24"),S(s,"stroke-width","1.25"),S(s,"stroke","currentColor"),S(s,"fill","none"),S(s,"stroke-linecap","round"),S(s,"stroke-linejoin","round"),S(e,"class","search-area svelte-11hr1dc")},m(v,_){U(v,e,_),T(e,n),T(n,r),Fn(r,t[0]),T(e,i),T(e,s),T(s,o),T(s,l),T(s,c),f||(g=[le(r,"input",t[2]),le(n,"submit",t[3]),le(s,"click",t[4]),le(s,"keydown",t[5])],f=!0)},p(v,[_]){_&1&&r.value!==v[0]&&Fn(r,v[0])},i:z,o:z,d(v){v&&F(e),f=!1,Zt(g)}}}function Aj(t,e,n){let{query:r}=e,{triggerSearch:i}=e;function s(){r=this.value,n(0,r)}const o=f=>i(f),l=f=>i(f),c=f=>i(f);return t.$$set=f=>{"query"in f&&n(0,r=f.query),"triggerSearch"in f&&n(1,i=f.triggerSearch)},[r,i,s,o,l,c]}class Sj extends tt{constructor(e){super(),et(this,e,Aj,bj,Fe,{query:0,triggerSearch:1})}}function Ej(t){let e,n,r,i;return{c(){e=C("div"),n=C("a"),r=C("img"),S(r,"class","pokedex-title"),me(r.src,i="/assets/images/logos/title.png")||S(r,"src",i),S(r,"alt","title"),S(n,"href",t[0]),S(e,"class","title-images svelte-rkiuis")},m(s,o){U(s,e,o),T(e,n),T(n,r)},p:z,i:z,o:z,d(s){s&&F(e)}}}function Tj(t){return[sessionStorage.getItem("user")?"/showCase":"/"]}class Ij extends tt{constructor(e){super(),et(this,e,Tj,Ej,Fe,{})}}function kj(t){let e;return{c(){e=C("div"),e.innerHTML='<img class="pokedex-title" src="/assets/gifs/pokeball.gif" alt="pokeball"/> <h3>Search for a Pokemon or pokedex number</h3>',S(e,"class","no-data svelte-1mrxuf9")},m(n,r){U(n,e,r)},p:z,i:z,o:z,d(n){n&&F(e)}}}class Cj extends tt{constructor(e){super(),et(this,e,null,kj,Fe,{})}}function Pj(t,e,n){const r=t.slice();return r[6]=e[n],r}function rS(t,e,n){const r=t.slice();return r[6]=e[n],r}function Rj(t){let e,n,r,i,s=De(dl),o=[];for(let l=0;l<s.length;l+=1)o[l]=iS(rS(t,s,l));return{c(){e=C("div"),n=C("div"),n.textContent="Series",r=B(),i=C("div");for(let l=0;l<o.length;l+=1)o[l].c();S(n,"class","filter-header svelte-1h3yl4s"),S(i,"class","filters svelte-1h3yl4s"),S(e,"class","tcg-filters svelte-1h3yl4s")},m(l,c){U(l,e,c),T(e,n),T(e,r),T(e,i);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(i,null)},p(l,c){if(c&3){s=De(dl);let f;for(f=0;f<s.length;f+=1){const g=rS(l,s,f);o[f]?o[f].p(g,c):(o[f]=iS(g),o[f].c(),o[f].m(i,null))}for(;f<o.length;f+=1)o[f].d(1);o.length=s.length}},d(l){l&&F(e),Jt(o,l)}}}function Dj(t){let e,n,r;function i(){return t[3](t[6])}return{c(){e=C("div"),e.textContent=`${t[6].label}`,S(e,"class","filter svelte-1h3yl4s")},m(s,o){U(s,e,o),n||(r=le(e,"click",i),n=!0)},p(s,o){t=s},d(s){s&&F(e),n=!1,r()}}}function Oj(t){let e,n,r;return{c(){e=C("div"),e.textContent=`${t[6].label}`,S(e,"class","filter active svelte-1h3yl4s")},m(i,s){U(i,e,s),n||(r=le(e,"click",t[2]),n=!0)},p:z,d(i){i&&F(e),n=!1,r()}}}function iS(t){let e;function n(s,o){return s[6].code===s[0]?Oj:Dj}let r=n(t),i=r(t);return{c(){i.c(),e=Ve()},m(s,o){i.m(s,o),U(s,e,o)},p(s,o){r===(r=n(s))&&i?i.p(s,o):(i.d(1),i=r(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){s&&F(e),i.d(s)}}}function Mj(t){let e,n,r,i,s,o,l,c,f=De(dl),g=[];for(let v=0;v<f.length;v+=1)g[v]=Nj(Pj(t,f,v));return{c(){e=C("div"),n=C("div"),n.textContent="Series",r=B(),i=C("div"),s=C("select"),o=C("option"),o.textContent="All";for(let v=0;v<g.length;v+=1)g[v].c();S(n,"class","filter-header svelte-1h3yl4s"),o.__value="",Fn(o,o.__value),S(s,"class","filter svelte-1h3yl4s"),t[0]===void 0&&bi(()=>t[4].call(s)),S(i,"class","filters svelte-1h3yl4s"),S(e,"class","tcg-filters svelte-1h3yl4s")},m(v,_){U(v,e,_),T(e,n),T(e,r),T(e,i),T(i,s),T(s,o);for(let m=0;m<g.length;m+=1)g[m]&&g[m].m(s,null);q1(s,t[0],!0),l||(c=[le(s,"change",t[4]),le(s,"change",t[5])],l=!0)},p(v,_){_&1&&q1(s,v[0])},d(v){v&&F(e),Jt(g,v),l=!1,Zt(c)}}}function Nj(t){let e;return{c(){e=C("option"),e.textContent=`${t[6].label}`,e.__value=t[6].code,Fn(e,e.__value)},m(n,r){U(n,e,r)},p:z,d(n){n&&F(e)}}}function Lj(t){let e=!Hg(),n,r=Hg(),i,s=e&&Rj(t),o=r&&Mj(t);return{c(){s&&s.c(),n=B(),o&&o.c(),i=Ve()},m(l,c){s&&s.m(l,c),U(l,n,c),o&&o.m(l,c),U(l,i,c)},p(l,[c]){e&&s.p(l,c),r&&o.p(l,c)},i:z,o:z,d(l){l&&(F(n),F(i)),s&&s.d(l),o&&o.d(l)}}}function Vj(t,e,n){let{currentFilter:r=""}=e,{loadQuery:i=()=>{}}=e;const s=async()=>{n(0,r=""),await i()},o=async f=>{n(0,r=f.code),await i()};function l(){r=v4(this),n(0,r)}const c=async()=>{await i()};return t.$$set=f=>{"currentFilter"in f&&n(0,r=f.currentFilter),"loadQuery"in f&&n(1,i=f.loadQuery)},[r,i,s,o,l,c]}class Hj extends tt{constructor(e){super(),et(this,e,Vj,Lj,Fe,{currentFilter:0,loadQuery:1})}}function sS(t,e,n){const r=t.slice();return r[29]=e[n],r[31]=n,r}function Fj(t){let e,n;return e=new Cj({}),{c(){ae(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p:z,i(r){n||(W(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function xj(t){let e;return{c(){e=C("span"),S(e,"class","loader svelte-1j96g6u")},m(n,r){U(n,e,r)},p:z,i:z,o:z,d(n){n&&F(e)}}}function Uj(t){let e,n;return e=new Sv({}),{c(){ae(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p:z,i(r){n||(W(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function Bj(t){let e,n,r,i=t[12].id,s,o;function l(g){t[17](g)}let c={items:I2};t[1]!==void 0&&(c.activeTab=t[1]),e=new Zz({props:c}),lt.push(()=>Dt(e,"activeTab",l));let f=uS(t);return{c(){ae(e.$$.fragment),r=B(),f.c(),s=Ve()},m(g,v){se(e,g,v),U(g,r,v),f.m(g,v),U(g,s,v),o=!0},p(g,v){const _={};!n&&v[0]&2&&(n=!0,_.activeTab=g[1],Rt(()=>n=!1)),e.$set(_),v[0]&4096&&Fe(i,i=g[12].id)?(Qe(),G(f,1,1,z),$e(),f=uS(g),f.c(),W(f,1),f.m(s.parentNode,s)):f.p(g,v)},i(g){o||(W(e.$$.fragment,g),W(f),o=!0)},o(g){G(e.$$.fragment,g),G(f),o=!1},d(g){g&&(F(r),F(s)),oe(e,g),f.d(g)}}}function Wj(t){let e,n,r,i,s,o,l;function c(m){t[20](m)}let f={loadQuery:t[14]};t[5]!==void 0&&(f.currentFilter=t[5]),e=new Hj({props:f}),lt.push(()=>Dt(e,"currentFilter",c));let g=t[13]&&t[6]&&oS(),v=t[13]&&t[7].length&&!t[6]&&aS(t),_=t[8]&&!t[6]&&t[0].length&&cS();return{c(){ae(e.$$.fragment),r=B(),g&&g.c(),i=B(),v&&v.c(),s=B(),_&&_.c(),o=Ve()},m(m,b){se(e,m,b),U(m,r,b),g&&g.m(m,b),U(m,i,b),v&&v.m(m,b),U(m,s,b),_&&_.m(m,b),U(m,o,b),l=!0},p(m,b){const I={};!n&&b[0]&32&&(n=!0,I.currentFilter=m[5],Rt(()=>n=!1)),e.$set(I),m[13]&&m[6]?g||(g=oS(),g.c(),g.m(i.parentNode,i)):g&&(g.d(1),g=null),m[13]&&m[7].length&&!m[6]?v?(v.p(m,b),b[0]&8384&&W(v,1)):(v=aS(m),v.c(),W(v,1),v.m(s.parentNode,s)):v&&(Qe(),G(v,1,1,()=>{v=null}),$e()),m[8]&&!m[6]&&m[0].length?_?b[0]&321&&W(_,1):(_=cS(),_.c(),W(_,1),_.m(o.parentNode,o)):_&&(Qe(),G(_,1,1,()=>{_=null}),$e())},i(m){l||(W(e.$$.fragment,m),W(v),W(_),l=!0)},o(m){G(e.$$.fragment,m),G(v),G(_),l=!1},d(m){m&&(F(r),F(i),F(s),F(o)),oe(e,m),g&&g.d(m),v&&v.d(m),_&&_.d(m)}}}function zj(t){let e,n,r;function i(o){t[19](o)}let s={error:t[3],loading:t[4]};return t[9]!==void 0&&(s.pokemonData=t[9]),e=new wj({props:s}),lt.push(()=>Dt(e,"pokemonData",i)),{c(){ae(e.$$.fragment)},m(o,l){se(e,o,l),r=!0},p(o,l){const c={};l[0]&8&&(c.error=o[3]),l[0]&16&&(c.loading=o[4]),!n&&l[0]&512&&(n=!0,c.pokemonData=o[9],Rt(()=>n=!1)),e.$set(c)},i(o){r||(W(e.$$.fragment,o),r=!0)},o(o){G(e.$$.fragment,o),r=!1},d(o){oe(e,o)}}}function jj(t){let e,n,r,i;const s=[Qj,Yj,Kj,Gj],o=[];function l(c,f){return c[0]&&c[9]?0:c[3]?1:c[4]?2:!c[4]&&!c[9]?3:-1}return~(e=l(t))&&(n=o[e]=s[e](t)),{c(){n&&n.c(),r=Ve()},m(c,f){~e&&o[e].m(c,f),U(c,r,f),i=!0},p(c,f){let g=e;e=l(c),e===g?~e&&o[e].p(c,f):(n&&(Qe(),G(o[g],1,1,()=>{o[g]=null}),$e()),~e?(n=o[e],n?n.p(c,f):(n=o[e]=s[e](c),n.c()),W(n,1),n.m(r.parentNode,r)):n=null)},i(c){i||(W(n),i=!0)},o(c){G(n),i=!1},d(c){c&&F(r),~e&&o[e].d(c)}}}function oS(t){let e,n,r;return{c(){e=C("h3"),e.textContent="Fetching Cards...",n=B(),r=C("span"),S(r,"class","loader svelte-1j96g6u")},m(i,s){U(i,e,s),U(i,n,s),U(i,r,s)},d(i){i&&(F(e),F(n),F(r))}}}function aS(t){let e,n;return e=new kh({props:{$$slots:{default:[qj]},$$scope:{ctx:t}}}),{c(){ae(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p(r,i){const s={};i[0]&128|i[1]&2&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){n||(W(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function lS(t,e){let n,r,i;return r=new Ph({props:{id:e[29].id,name:e[29].name,set:e[29].set,number:e[29].number,types:e[29].types,supertype:e[29].supertype,subtypes:e[29].subtypes,rarity:e[29].rarity,isReverse:e[29].isReverse}}),{key:t,first:null,c(){n=Ve(),ae(r.$$.fragment),this.first=n},m(s,o){U(s,n,o),se(r,s,o),i=!0},p(s,o){e=s;const l={};o[0]&128&&(l.id=e[29].id),o[0]&128&&(l.name=e[29].name),o[0]&128&&(l.set=e[29].set),o[0]&128&&(l.number=e[29].number),o[0]&128&&(l.types=e[29].types),o[0]&128&&(l.supertype=e[29].supertype),o[0]&128&&(l.subtypes=e[29].subtypes),o[0]&128&&(l.rarity=e[29].rarity),o[0]&128&&(l.isReverse=e[29].isReverse),r.$set(l)},i(s){i||(W(r.$$.fragment,s),i=!0)},o(s){G(r.$$.fragment,s),i=!1},d(s){s&&F(n),oe(r,s)}}}function qj(t){let e=[],n=new Map,r,i,s=De(t[7]);const o=l=>l[29].id;for(let l=0;l<s.length;l+=1){let c=sS(t,s,l),f=o(c);n.set(f,e[l]=lS(f,c))}return{c(){for(let l=0;l<e.length;l+=1)e[l].c();r=Ve()},m(l,c){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(l,c);U(l,r,c),i=!0},p(l,c){c[0]&128&&(s=De(l[7]),Qe(),e=Uu(e,c,o,1,l,s,n,r.parentNode,jg,lS,r,sS),$e())},i(l){if(!i){for(let c=0;c<s.length;c+=1)W(e[c]);i=!0}},o(l){for(let c=0;c<e.length;c+=1)G(e[c]);i=!1},d(l){l&&F(r);for(let c=0;c<e.length;c+=1)e[c].d(l)}}}function cS(t){let e,n;return e=new Sv({}),{c(){ae(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},i(r){n||(W(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function Gj(t){let e;return{c(){e=C("h3"),e.textContent="Search for a Pokemon or pokedex number"},m(n,r){U(n,e,r)},p:z,i:z,o:z,d(n){n&&F(e)}}}function Kj(t){let e,n,r;return{c(){e=C("h3"),e.textContent="Fetching Pokemon...",n=B(),r=C("span"),S(r,"class","loader svelte-1j96g6u")},m(i,s){U(i,e,s),U(i,n,s),U(i,r,s)},p:z,i:z,o:z,d(i){i&&(F(e),F(n),F(r))}}}function Yj(t){let e,n;return e=new Sv({}),{c(){ae(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p:z,i(r){n||(W(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function Qj(t){let e,n,r;function i(o){t[18](o)}let s={triggerSearch:t[15],pokemonData:t[9],error:t[3],loading:t[4]};return t[10]!==void 0&&(s.evolutionChainData=t[10]),e=new Nz({props:s}),lt.push(()=>Dt(e,"evolutionChainData",i)),{c(){ae(e.$$.fragment)},m(o,l){se(e,o,l),r=!0},p(o,l){const c={};l[0]&512&&(c.pokemonData=o[9]),l[0]&8&&(c.error=o[3]),l[0]&16&&(c.loading=o[4]),!n&&l[0]&1024&&(n=!0,c.evolutionChainData=o[10],Rt(()=>n=!1)),e.$set(c)},i(o){r||(W(e.$$.fragment,o),r=!0)},o(o){G(e.$$.fragment,o),r=!1},d(o){oe(e,o)}}}function uS(t){let e,n,r,i,s,o;const l=[jj,zj,Wj],c=[];function f(g,v){return g[12].id===ho.POKEDEX?0:g[12].id===ho.MOVES?1:g[12].id===ho.TCG?2:-1}return~(n=f(t))&&(r=c[n]=l[n](t)),{c(){e=C("div"),r&&r.c(),S(e,"class","slide-wrapper svelte-1j96g6u"),on(e,"--back",t[12].back)},m(g,v){U(g,e,v),~n&&c[n].m(e,null),t[21](e),o=!0},p(g,v){t=g;let _=n;n=f(t),n===_?~n&&c[n].p(t,v):(r&&(Qe(),G(c[_],1,1,()=>{c[_]=null}),$e()),~n?(r=c[n],r?r.p(t,v):(r=c[n]=l[n](t),r.c()),W(r,1),r.m(e,null)):r=null),(!o||v[0]&4096)&&on(e,"--back",t[12].back)},i(g){o||(W(r),g&&bi(()=>{o&&(s&&s.end(1),i=lE(e,WA,{x:t[11].in,duration:500,opacity:1}),i.start())}),o=!0)},o(g){G(r),i&&i.invalidate(),g&&(s=cE(e,WA,{x:t[11].out,duration:500,opacity:1})),o=!1},d(g){g&&F(e),~n&&c[n].d(),t[21](null),g&&s&&s.end()}}}function $j(t){let e,n,r,i,s,o,l,c,f;e=new Ij({});function g(I){t[16](I)}let v={triggerSearch:t[15]};t[0]!==void 0&&(v.query=t[0]),r=new Sj({props:v}),lt.push(()=>Dt(r,"query",g));const _=[Bj,Uj,xj,Fj],m=[];function b(I,k){return I[9]||I[7].length>0?0:I[3]&&!I[6]?1:I[6]?2:3}return o=b(t),l=m[o]=_[o](t),{c(){ae(e.$$.fragment),n=B(),ae(r.$$.fragment),s=B(),l.c(),c=Ve()},m(I,k){se(e,I,k),U(I,n,k),se(r,I,k),U(I,s,k),m[o].m(I,k),U(I,c,k),f=!0},p(I,k){const D={};!i&&k[0]&1&&(i=!0,D.query=I[0],Rt(()=>i=!1)),r.$set(D);let M=o;o=b(I),o===M?m[o].p(I,k):(Qe(),G(m[M],1,1,()=>{m[M]=null}),$e(),l=m[o],l?l.p(I,k):(l=m[o]=_[o](I),l.c()),W(l,1),l.m(c.parentNode,c))},i(I){f||(W(e.$$.fragment,I),W(r.$$.fragment,I),W(l),f=!0)},o(I){G(e.$$.fragment,I),G(r.$$.fragment,I),G(l),f=!1},d(I){I&&(F(n),F(s),F(c)),oe(e,I),oe(r,I),m[o].d(I)}}}function Xj(t,e,n){let r,i,s="",o="",l=null,c=!1,f="",g=!1,v,_=[],m=!1,b=null,I=null;const k=()=>{n(0,s=""),o="",n(3,l=null),n(4,c=!1),n(6,g=!1),v=null,n(7,_=[]),n(8,m=!1),n(9,b=null),n(10,I=null)};Vu.configure({apiKey:"35c2a827-0d26-4c7a-898e-9cab6a3e629a"});const D=async()=>{o=s,!(!r||s.length===0)&&(n(6,g=!0),clearTimeout(v),v=setTimeout(()=>{console.log(f,"currentFilter"),console.log(s,"query"),Vu.card.where({q:`( ${f?`set.id:${f}`:""} name:"*${s}*" )`,select:"id,name,number,supertype,subtypes,rarity,images,types,set",orderBy:"-set.releaseDate,-number",pageSize:1e3}).then(re=>{const Pe=re.data||[];console.log(Pe,"cards"),n(7,_=[]),n(8,m=!1);let J=Pe.slice(0,1e3).map(Ne=>((Ne.rarity==="Common"||Ne.rarity==="Uncommon")&&(Ne.isReverse=!!Math.round(Math.random())),Ne.set=Ne.set.id,Ne));n(7,_=[...J]),_.length||n(8,m=!0),n(6,g=!1)}).catch(()=>{n(7,_=[]),n(6,g=!1),n(8,m=!0)})},666))},M=async()=>{n(4,c=!0);try{const re=await fetch(`https://pokeapi.co/api/v2/pokemon/${s.toLowerCase()}`);if(n(9,b=await re.json()),n(3,l=null),b){n(0,s=b.name);const J=await(await fetch(b.species.url)).json(),Ne=await fetch(J.evolution_chain.url);n(10,I=await Ne.json());const Ie=(await(await fetch(`https://pokeapi.co/api/v2/pokemon-species/${b.id}`)).json()).flavor_text_entries.find(Te=>Te.language.name==="en");n(9,b.description=Ie.flavor_text,b)}}catch{n(3,l="Pokemon not found"),n(9,b=null)}n(4,c=!1)};let L=0,H=0,R,q;function j(){if(L===H)return;const re=R.offsetWidth,Pe=L>H?1:-1;n(11,q={in:re*Pe,out:re*-Pe})}const X=async(re,Pe=null)=>{re.preventDefault(),Pe&&n(0,s=Pe),o!==s&&(await D(),await M())};function $(re){s=re,n(0,s)}function K(re){L=re,n(1,L)}function ve(re){I=re,n(10,I)}function he(re){b=re,n(9,b)}function ye(re){f=re,n(5,f)}function ct(re){lt[re?"unshift":"push"](()=>{R=re,n(2,R)})}return t.$$.update=()=>{t.$$.dirty[0]&1&&n(13,r=s.length>0),t.$$.dirty[0]&1&&s.length===0&&k(),t.$$.dirty[0]&6&&R&&(j(),H=L),t.$$.dirty[0]&2&&n(12,i=I2[L]),t.$$.dirty[0]&4},[s,L,R,l,c,f,g,_,m,b,I,q,i,r,D,X,$,K,ve,he,ye,ct]}class Jj extends tt{constructor(e){super(),et(this,e,Xj,$j,Fe,{},null,[-1,-1])}}const Zj={a:{viewBox:"0 0 24 24",fill:"none"},c:'<path d="M8 5H6C4.89543 5 4 5.89543 4 7V19C4 20.1046 4.89543 21 6 21H16C17.1046 21 18 20.1046 18 19V18M8 5C8 6.10457 8.89543 7 10 7H12C13.1046 7 14 6.10457 14 5M8 5C8 3.89543 8.89543 3 10 3H12C13.1046 3 14 3.89543 14 5M14 5H16C17.1046 5 18 5.89543 18 7V10M20 14H10M10 14L13 11M10 14L13 17" stroke="#4A5568" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>'},e8={a:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},c:'<path d="M16.972 6.251c-.967-.538-2.185-.188-2.72.777l-3.713 6.682-2.125-2.125c-.781-.781-2.047-.781-2.828 0-.781.781-.781 2.047 0 2.828l4 4c.378.379.888.587 1.414.587l.277-.02c.621-.087 1.166-.46 1.471-1.009l5-9c.537-.966.189-2.183-.776-2.72z"></path>'},t8={a:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},c:'<path d="M12 4c-4.419 0-8 3.582-8 8s3.581 8 8 8 8-3.582 8-8-3.581-8-8-8zm3.707 10.293c.391.391.391 1.023 0 1.414-.195.195-.451.293-.707.293s-.512-.098-.707-.293l-2.293-2.293-2.293 2.293c-.195.195-.451.293-.707.293s-.512-.098-.707-.293c-.391-.391-.391-1.023 0-1.414l2.293-2.293-2.293-2.293c-.391-.391-.391-1.023 0-1.414s1.023-.391 1.414 0l2.293 2.293 2.293-2.293c.391-.391 1.023-.391 1.414 0s.391 1.023 0 1.414l-2.293 2.293 2.293 2.293z"></path>'},n8={a:{viewBox:"0 0 24 24"},c:`<g><path fill="none" d="M0 0h24v24H0z"></path>
<path d="M4 8h16v13a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V8zm3-3V3a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v2h5v2H2V5h5zm2-1v1h6V4H9zm0 8v6h2v-6H9zm4 0v6h2v-6h-2z"></path></g>`};function hS(t,e,n){const r=t.slice();return r[17]=e[n],r}function fS(t,e,n){const r=t.slice();return r[17]=e[n],r}function dS(t){let e,n,r,i,s,o,l=t[0].nickname+"",c,f,g,v,_=t[0].email+"",m,b,I,k,D,M,L,H,R,q,j,X,$,K,ve,he,ye,ct,re,Pe,J,Ne,Ut,ut,Ie,Te,xe=t[0].uid+"",Xe,rt,Ue,mt,Bt,Pn,xt,bt,vt,je,Je,ir,St,Wt,sr,$t,Rn,mr,Be,zt,qe,Wn,dt,pt=t[1]&&pS(t);ut=new Io({props:{src:Zj}});const Ot=[i8,r8],jt=[];function ie(Ae,Mt){return Ae[0].friends.length===0?0:1}St=ie(t),Wt=jt[St]=Ot[St](t);const Ct=[c8,l8],He=[];function At(Ae,Mt){return Ae[0].friendRequests.length===0?0:1}return Be=At(t),zt=He[Be]=Ct[Be](t),{c(){e=C("div"),n=C("div"),r=C("img"),s=B(),o=C("h1"),c=_e(l),f=B(),g=C("h2"),v=_e("("),m=_e(_),b=_e(")"),I=B(),k=C("div"),D=C("div"),M=C("div"),L=C("h2"),L.textContent="Update profile",H=B(),R=C("form"),q=C("input"),j=B(),pt&&pt.c(),X=B(),$=C("label"),K=C("input"),ve=_e(`
                            Upload avatar`),he=B(),ye=C("button"),ye.textContent="Save",ct=B(),re=C("div"),Pe=C("div"),J=C("h2"),J.textContent="Friend code",Ne=B(),Ut=C("div"),ae(ut.$$.fragment),Ie=B(),Te=C("p"),Xe=_e(xe),rt=B(),Ue=C("h2"),Ue.textContent="Add friend",mt=B(),Bt=C("input"),Pn=B(),xt=C("button"),xt.textContent="Add friend",bt=B(),vt=C("div"),je=C("div"),Je=C("h2"),Je.textContent="Friends",ir=B(),Wt.c(),sr=B(),$t=C("div"),Rn=C("h2"),Rn.textContent="Friend requests",mr=B(),zt.c(),S(r,"class","user-photo svelte-1vnh0wi"),me(r.src,i="data:image/png;base64, "+t[0].photoURL)||S(r,"src",i),S(r,"alt","user profile picture"),S(n,"class","profile-frame svelte-1vnh0wi"),S(o,"class","user-name svelte-1vnh0wi"),S(g,"class","user-email svelte-1vnh0wi"),S(L,"class","update-profile-title svelte-1vnh0wi"),S(q,"class","nickname-input svelte-1vnh0wi"),S(q,"type","text"),S(q,"name","nickname"),S(q,"placeholder","Nickname"),S(K,"id","photo-input"),S(K,"type","file"),S(K,"accept","image/*"),S(K,"class","svelte-1vnh0wi"),S($,"class","custom-file-upload svelte-1vnh0wi"),S(ye,"type","submit"),S(ye,"class","svelte-1vnh0wi"),S(R,"class","svelte-1vnh0wi"),S(M,"class","update-profile-container svelte-1vnh0wi"),S(J,"class","friend-code-title svelte-1vnh0wi"),S(Ut,"class","friend-code-copy-icon svelte-1vnh0wi"),S(Pe,"class","friend-code-title-copy svelte-1vnh0wi"),S(Te,"class","friend-code svelte-1vnh0wi"),S(Te,"id","friend-code"),S(Ue,"class","friend-input-title svelte-1vnh0wi"),S(Bt,"class","friend-input svelte-1vnh0wi"),S(Bt,"type","text"),S(Bt,"name","add a friend"),S(Bt,"placeholder","Add a friend"),S(xt,"class","svelte-1vnh0wi"),S(re,"class","friend-code-container svelte-1vnh0wi"),S(D,"class","profile-content svelte-1vnh0wi"),S(Je,"class","friend-code-title svelte-1vnh0wi"),S(je,"class","friends-container svelte-1vnh0wi"),S(Rn,"class","friend-code-title svelte-1vnh0wi"),S($t,"class","friend-requests-container svelte-1vnh0wi"),S(vt,"class","friends-and-requests-container svelte-1vnh0wi"),S(k,"class","update-profile-and-fcode-container svelte-1vnh0wi"),S(e,"class","profile-info svelte-1vnh0wi")},m(Ae,Mt){U(Ae,e,Mt),T(e,n),T(n,r),T(e,s),T(e,o),T(o,c),T(e,f),T(e,g),T(g,v),T(g,m),T(g,b),T(e,I),T(e,k),T(k,D),T(D,M),T(M,L),T(M,H),T(M,R),T(R,q),T(R,j),pt&&pt.m(R,null),T(R,X),T(R,$),T($,K),T($,ve),T(R,he),T(R,ye),T(D,ct),T(D,re),T(re,Pe),T(Pe,J),T(Pe,Ne),T(Pe,Ut),se(ut,Ut,null),T(re,Ie),T(re,Te),T(Te,Xe),T(re,rt),T(re,Ue),T(re,mt),T(re,Bt),T(re,Pn),T(re,xt),T(k,bt),T(k,vt),T(vt,je),T(je,Je),T(je,ir),jt[St].m(je,null),T(vt,sr),T(vt,$t),T($t,Rn),T($t,mr),He[Be].m($t,null),qe=!0,Wn||(dt=[le(K,"change",t[3]),le(R,"submit",t[10]),le(Ut,"click",t[11]),le(xt,"click",t[12])],Wn=!0)},p(Ae,Mt){(!qe||Mt&1&&!me(r.src,i="data:image/png;base64, "+Ae[0].photoURL))&&S(r,"src",i),(!qe||Mt&1)&&l!==(l=Ae[0].nickname+"")&&Me(c,l),(!qe||Mt&1)&&_!==(_=Ae[0].email+"")&&Me(m,_),Ae[1]?pt?pt.p(Ae,Mt):(pt=pS(Ae),pt.c(),pt.m(R,X)):pt&&(pt.d(1),pt=null),(!qe||Mt&1)&&xe!==(xe=Ae[0].uid+"")&&Me(Xe,xe);let Jn=St;St=ie(Ae),St===Jn?jt[St].p(Ae,Mt):(Qe(),G(jt[Jn],1,1,()=>{jt[Jn]=null}),$e(),Wt=jt[St],Wt?Wt.p(Ae,Mt):(Wt=jt[St]=Ot[St](Ae),Wt.c()),W(Wt,1),Wt.m(je,null));let or=Be;Be=At(Ae),Be===or?He[Be].p(Ae,Mt):(Qe(),G(He[or],1,1,()=>{He[or]=null}),$e(),zt=He[Be],zt?zt.p(Ae,Mt):(zt=He[Be]=Ct[Be](Ae),zt.c()),W(zt,1),zt.m($t,null))},i(Ae){qe||(W(ut.$$.fragment,Ae),W(Wt),W(zt),qe=!0)},o(Ae){G(ut.$$.fragment,Ae),G(Wt),G(zt),qe=!1},d(Ae){Ae&&F(e),pt&&pt.d(),oe(ut),jt[St].d(),He[Be].d(),Wn=!1,Zt(dt)}}}function pS(t){let e,n;return{c(){e=C("img"),S(e,"class","user-photo-uploaded svelte-1vnh0wi"),me(e.src,n="data:image/png;base64, "+t[1])||S(e,"src",n),S(e,"alt","user profile picture")},m(r,i){U(r,e,i)},p(r,i){i&2&&!me(e.src,n="data:image/png;base64, "+r[1])&&S(e,"src",n)},d(r){r&&F(e)}}}function r8(t){let e,n,r,i={ctx:t,current:null,token:null,hasCatch:!1,pending:a8,then:o8,catch:s8,value:16,blocks:[,,,]};return xn(n=t[6](t[0].friends),i),{c(){e=Ve(),i.block.c()},m(s,o){U(s,e,o),i.block.m(s,i.anchor=o),i.mount=()=>e.parentNode,i.anchor=e,r=!0},p(s,o){t=s,i.ctx=t,o&1&&n!==(n=t[6](t[0].friends))&&xn(n,i)||Gi(i,t,o)},i(s){r||(W(i.block),r=!0)},o(s){for(let o=0;o<3;o+=1){const l=i.blocks[o];G(l)}r=!1},d(s){s&&F(e),i.block.d(s),i.token=null,i=null}}}function i8(t){let e;return{c(){e=C("p"),e.textContent="You have no friends yet",S(e,"class","friend-code svelte-1vnh0wi")},m(n,r){U(n,e,r)},p:z,i:z,o:z,d(n){n&&F(e)}}}function s8(t){return{c:z,m:z,p:z,i:z,o:z,d:z}}function o8(t){let e,n,r=De(t[16]),i=[];for(let o=0;o<r.length;o+=1)i[o]=gS(fS(t,r,o));const s=o=>G(i[o],1,1,()=>{i[o]=null});return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=Ve()},m(o,l){for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(o,l);U(o,e,l),n=!0},p(o,l){if(l&577){r=De(o[16]);let c;for(c=0;c<r.length;c+=1){const f=fS(o,r,c);i[c]?(i[c].p(f,l),W(i[c],1)):(i[c]=gS(f),i[c].c(),W(i[c],1),i[c].m(e.parentNode,e))}for(Qe(),c=r.length;c<i.length;c+=1)s(c);$e()}},i(o){if(!n){for(let l=0;l<r.length;l+=1)W(i[l]);n=!0}},o(o){i=i.filter(Boolean);for(let l=0;l<i.length;l+=1)G(i[l]);n=!1},d(o){o&&F(e),Jt(i,o)}}}function gS(t){let e,n,r,i,s,o,l=t[17].nickname+"",c,f,g,v,_,m,b,I,k;_=new Io({props:{src:n8}});function D(){return t[13](t[17])}return{c(){e=C("div"),n=C("div"),r=C("img"),s=B(),o=C("p"),c=_e(l),f=B(),g=C("div"),v=C("div"),ae(_.$$.fragment),m=B(),S(r,"class","friend-img svelte-1vnh0wi"),me(r.src,i="data:image/png;base64, "+t[17].photoURL)||S(r,"src",i),S(o,"class","friend-request-name svelte-1vnh0wi"),S(n,"class","friend-request-data svelte-1vnh0wi"),S(v,"class","friend-delete svelte-1vnh0wi"),S(g,"class","friend-request-buttons svelte-1vnh0wi"),S(e,"class","friend-request svelte-1vnh0wi")},m(M,L){U(M,e,L),T(e,n),T(n,r),T(n,s),T(n,o),T(o,c),T(e,f),T(e,g),T(g,v),se(_,v,null),T(e,m),b=!0,I||(k=le(v,"click",D),I=!0)},p(M,L){t=M,(!b||L&1&&!me(r.src,i="data:image/png;base64, "+t[17].photoURL))&&S(r,"src",i),(!b||L&1)&&l!==(l=t[17].nickname+"")&&Me(c,l)},i(M){b||(W(_.$$.fragment,M),b=!0)},o(M){G(_.$$.fragment,M),b=!1},d(M){M&&F(e),oe(_),I=!1,k()}}}function a8(t){return{c:z,m:z,p:z,i:z,o:z,d:z}}function l8(t){let e,n,r,i={ctx:t,current:null,token:null,hasCatch:!1,pending:f8,then:h8,catch:u8,value:16,blocks:[,,,]};return xn(n=t[6](t[0].friendRequests),i),{c(){e=Ve(),i.block.c()},m(s,o){U(s,e,o),i.block.m(s,i.anchor=o),i.mount=()=>e.parentNode,i.anchor=e,r=!0},p(s,o){t=s,i.ctx=t,o&1&&n!==(n=t[6](t[0].friendRequests))&&xn(n,i)||Gi(i,t,o)},i(s){r||(W(i.block),r=!0)},o(s){for(let o=0;o<3;o+=1){const l=i.blocks[o];G(l)}r=!1},d(s){s&&F(e),i.block.d(s),i.token=null,i=null}}}function c8(t){let e;return{c(){e=C("p"),e.textContent="You have no friend requests",S(e,"class","friend-code svelte-1vnh0wi")},m(n,r){U(n,e,r)},p:z,i:z,o:z,d(n){n&&F(e)}}}function u8(t){return{c:z,m:z,p:z,i:z,o:z,d:z}}function h8(t){let e,n,r=De(t[16]),i=[];for(let o=0;o<r.length;o+=1)i[o]=mS(hS(t,r,o));const s=o=>G(i[o],1,1,()=>{i[o]=null});return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=Ve()},m(o,l){for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(o,l);U(o,e,l),n=!0},p(o,l){if(l&449){r=De(o[16]);let c;for(c=0;c<r.length;c+=1){const f=hS(o,r,c);i[c]?(i[c].p(f,l),W(i[c],1)):(i[c]=mS(f),i[c].c(),W(i[c],1),i[c].m(e.parentNode,e))}for(Qe(),c=r.length;c<i.length;c+=1)s(c);$e()}},i(o){if(!n){for(let l=0;l<r.length;l+=1)W(i[l]);n=!0}},o(o){i=i.filter(Boolean);for(let l=0;l<i.length;l+=1)G(i[l]);n=!1},d(o){o&&F(e),Jt(i,o)}}}function mS(t){let e,n,r,i,s,o,l=t[17].nickname+"",c,f,g,v,_,m,b,I,k,D,M,L;_=new Io({props:{src:e8}});function H(){return t[14](t[17])}I=new Io({props:{src:t8}});function R(){return t[15](t[17])}return{c(){e=C("div"),n=C("div"),r=C("img"),s=B(),o=C("p"),c=_e(l),f=B(),g=C("div"),v=C("div"),ae(_.$$.fragment),m=B(),b=C("div"),ae(I.$$.fragment),k=B(),S(r,"class","friend-img svelte-1vnh0wi"),me(r.src,i="data:image/png;base64, "+t[17].photoURL)||S(r,"src",i),S(o,"class","friend-request-name svelte-1vnh0wi"),S(n,"class","friend-request-data svelte-1vnh0wi"),S(v,"class","friend-request-accept svelte-1vnh0wi"),S(b,"class","friend-request-reject svelte-1vnh0wi"),S(g,"class","friend-request-buttons svelte-1vnh0wi"),S(e,"class","friend-request svelte-1vnh0wi")},m(q,j){U(q,e,j),T(e,n),T(n,r),T(n,s),T(n,o),T(o,c),T(e,f),T(e,g),T(g,v),se(_,v,null),T(g,m),T(g,b),se(I,b,null),T(e,k),D=!0,M||(L=[le(v,"click",H),le(b,"click",R)],M=!0)},p(q,j){t=q,(!D||j&1&&!me(r.src,i="data:image/png;base64, "+t[17].photoURL))&&S(r,"src",i),(!D||j&1)&&l!==(l=t[17].nickname+"")&&Me(c,l)},i(q){D||(W(_.$$.fragment,q),W(I.$$.fragment,q),D=!0)},o(q){G(_.$$.fragment,q),G(I.$$.fragment,q),D=!1},d(q){q&&F(e),oe(_),oe(I),M=!1,Zt(L)}}}function f8(t){return{c:z,m:z,p:z,i:z,o:z,d:z}}function d8(t){let e,n,r=t[0]&&dS(t);return{c(){r&&r.c(),e=Ve()},m(i,s){r&&r.m(i,s),U(i,e,s),n=!0},p(i,[s]){i[0]?r?(r.p(i,s),s&1&&W(r,1)):(r=dS(i),r.c(),W(r,1),r.m(e.parentNode,e)):r&&(Qe(),G(r,1,1,()=>{r=null}),$e())},i(i){n||(W(r),n=!0)},o(i){G(r),n=!1},d(i){i&&F(e),r&&r.d(i)}}}function p8(t,e,n){let r,i=null;as(async()=>{const L=sessionStorage.getItem("user");await $n(JSON.parse(L).uid).then(H=>{H&&n(0,r=H)})});const s=async L=>{L.preventDefault();let H;if(L.target.nickname.value===""&&i===null){alert("Please enter a nickname or upload a profile picture");return}i===null?H={nickname:L.target.nickname.value}:L.target.nickname.value===""?H={photoURL:i}:H={nickname:L.target.nickname.value,photoURL:i},await Av(r.uid,H),window.location.reload()},o=async L=>{const H=L.target.files[0];if(H)if(H.size>701486)alert("File is too big! Please select a file smaller than 0.7MB.");else{const R=new FileReader;R.onload=q=>{n(1,i=q.target.result.split(",")[1])},R.readAsDataURL(H)}},l=async()=>{const L=document.getElementById("friend-code").textContent;try{await navigator.clipboard.writeText(L),alert("Copied to clipboard")}catch(H){console.error("Unable to copy text: "+H)}},c=async()=>{if(document.querySelector(".friend-input").value===""){alert("Please enter a friend code");return}if(document.querySelector(".friend-input").value===r.uid){alert("You cannot add yourself as a friend");return}const L=await KW(r.uid,document.querySelector(".friend-input").value);if(L){alert(L),document.querySelector(".friend-input").value="";return}alert("Friend request sent"),document.querySelector(".friend-input").value=""},f=async L=>{if(L.length){const H=L.map(async R=>{console.log(R,"friendRequest");const q=await $n(R);if(console.log(q,"response"),q)return{uid:R,nickname:q.nickname,photoURL:q.photoURL}});try{return await Promise.all(H)}catch(R){console.error(R)}}return Promise.resolve([])},g=async(L,H)=>{await YW(L,H),alert("Friend request accepted"),window.location.reload()},v=async(L,H)=>{await QW(L,H),alert("Friend request rejected"),window.location.reload()},_=async(L,H)=>{await $W(L,H),alert("Friend removed"),window.location.reload()};return[r,i,s,o,l,c,f,g,v,_,L=>s(L),()=>l(),()=>c(),L=>_(r.uid,L.uid),L=>g(r.uid,L.uid),L=>v(r.uid,L.uid)]}class g8 extends tt{constructor(e){super(),et(this,e,p8,d8,Fe,{})}}function m8(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}else return Array.from(t)}var Ev=!1;if(typeof window<"u"){var vS={get passive(){Ev=!0}};window.addEventListener("testPassive",null,vS),window.removeEventListener("testPassive",null,vS)}var Hu=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1),Xi=[],Fu=!1,k2=-1,ja=void 0,Ui=void 0,qa=void 0,C2=function(e){return Xi.some(function(n){return!!(n.options.allowTouchMove&&n.options.allowTouchMove(e))})},xu=function(e){var n=e||window.event;return C2(n.target)||n.touches.length>1?!0:(n.preventDefault&&n.preventDefault(),!1)},v8=function(e){if(qa===void 0){var n=!!e&&e.reserveScrollBarGap===!0,r=window.innerWidth-document.documentElement.clientWidth;if(n&&r>0){var i=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right"),10);qa=document.body.style.paddingRight,document.body.style.paddingRight=i+r+"px"}}ja===void 0&&(ja=document.body.style.overflow,document.body.style.overflow="hidden")},y8=function(){qa!==void 0&&(document.body.style.paddingRight=qa,qa=void 0),ja!==void 0&&(document.body.style.overflow=ja,ja=void 0)},_8=function(){return window.requestAnimationFrame(function(){if(Ui===void 0){Ui={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left};var e=window,n=e.scrollY,r=e.scrollX,i=e.innerHeight;document.body.style.position="fixed",document.body.style.top=-n,document.body.style.left=-r,setTimeout(function(){return window.requestAnimationFrame(function(){var s=i-window.innerHeight;s&&n>=i&&(document.body.style.top=-(n+s))})},300)}})},w8=function(){if(Ui!==void 0){var e=-parseInt(document.body.style.top,10),n=-parseInt(document.body.style.left,10);document.body.style.position=Ui.position,document.body.style.top=Ui.top,document.body.style.left=Ui.left,window.scrollTo(n,e),Ui=void 0}},b8=function(e){return e?e.scrollHeight-e.scrollTop<=e.clientHeight:!1},A8=function(e,n){var r=e.targetTouches[0].clientY-k2;return C2(e.target)?!1:n&&n.scrollTop===0&&r>0||b8(n)&&r<0?xu(e):(e.stopPropagation(),!0)},S8=function(e,n){if(!e){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(!Xi.some(function(i){return i.targetElement===e})){var r={targetElement:e,options:n||{}};Xi=[].concat(m8(Xi),[r]),Hu?_8():v8(n),Hu&&(e.ontouchstart=function(i){i.targetTouches.length===1&&(k2=i.targetTouches[0].clientY)},e.ontouchmove=function(i){i.targetTouches.length===1&&A8(i,e)},Fu||(document.addEventListener("touchmove",xu,Ev?{passive:!1}:void 0),Fu=!0))}},E8=function(e){if(!e){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}Xi=Xi.filter(function(n){return n.targetElement!==e}),Hu&&(e.ontouchstart=null,e.ontouchmove=null,Fu&&Xi.length===0&&(document.removeEventListener("touchmove",xu,Ev?{passive:!1}:void 0),Fu=!1)),Hu?w8():y8()},Ug={exports:{}};(function(t,e){(function(n,r){r(e)})(pp,function(n){function r(a,h){var u=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);h&&(d=d.filter(function(p){return Object.getOwnPropertyDescriptor(a,p).enumerable})),u.push.apply(u,d)}return u}function i(a){for(var h=1;h<arguments.length;h++){var u=arguments[h]!=null?arguments[h]:{};h%2?r(Object(u),!0).forEach(function(d){c(a,d,u[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(u)):r(Object(u)).forEach(function(d){Object.defineProperty(a,d,Object.getOwnPropertyDescriptor(u,d))})}return a}function s(a,h){if(!(a instanceof h))throw new TypeError("Cannot call a class as a function")}function o(a,h){for(var u=0;u<h.length;u++){var d=h[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,D(d.key),d)}}function l(a,h,u){return h&&o(a.prototype,h),u&&o(a,u),Object.defineProperty(a,"prototype",{writable:!1}),a}function c(a,h,u){return(h=D(h))in a?Object.defineProperty(a,h,{value:u,enumerable:!0,configurable:!0,writable:!0}):a[h]=u,a}function f(a,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(h&&h.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),h&&v(a,h)}function g(a){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)},g(a)}function v(a,h){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(u,d){return u.__proto__=d,u},v(a,h)}function _(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function m(a){var h=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,d=g(a);if(h){var p=g(this).constructor;u=Reflect.construct(d,arguments,p)}else u=d.apply(this,arguments);return function(y,w){if(w&&(typeof w=="object"||typeof w=="function"))return w;if(w!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _(y)}(this,u)}}function b(){return b=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(a,h,u){var d=function(y,w){for(;!Object.prototype.hasOwnProperty.call(y,w)&&(y=g(y))!==null;);return y}(a,h);if(d){var p=Object.getOwnPropertyDescriptor(d,h);return p.get?p.get.call(arguments.length<3?a:u):p.value}},b.apply(this,arguments)}function I(a,h){return function(u){if(Array.isArray(u))return u}(a)||function(u,d){var p=u==null?null:typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(p!=null){var y,w,A,E,P=[],O=!0,N=!1;try{if(A=(p=p.call(u)).next,d===0){if(Object(p)!==p)return;O=!1}else for(;!(O=(y=A.call(p)).done)&&(P.push(y.value),P.length!==d);O=!0);}catch(x){N=!0,w=x}finally{try{if(!O&&p.return!=null&&(E=p.return(),Object(E)!==E))return}finally{if(N)throw w}}return P}}(a,h)||function(u,d){if(u){if(typeof u=="string")return k(u,d);var p=Object.prototype.toString.call(u).slice(8,-1);if(p==="Object"&&u.constructor&&(p=u.constructor.name),p==="Map"||p==="Set")return Array.from(u);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return k(u,d)}}(a,h)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function k(a,h){(h==null||h>a.length)&&(h=a.length);for(var u=0,d=new Array(h);u<h;u++)d[u]=a[u];return d}function D(a){var h=function(u,d){if(typeof u!="object"||u===null)return u;var p=u[Symbol.toPrimitive];if(p!==void 0){var y=p.call(u,d||"default");if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(d==="string"?String:Number)(u)}(a,"string");return typeof h=="symbol"?h:String(h)}var M=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof pp<"u"?pp:typeof self<"u"?self:{};function L(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var H=L(function(a){return a===void 0}),R=function(){function a(h){s(this,a),c(this,"container",null),c(this,"constraintPosition",function(u){return u}),this.container=h}return l(a,[{key:"supported",get:function(){return!1}},{key:"startEvent",get:function(){return this.isResizable()?"resize:start":this.isSortable()?"sort:start":"drag:start"}},{key:"moveEvent",get:function(){return this.isResizable()?"resize:change":this.isSortable()?"sort:move":"drag:move"}},{key:"stopEvent",get:function(){return this.isResizable()?"resize:stop":this.isSortable()?"sort:stop":"drag:stop"}},{key:"isDraggable",value:function(){return this.container&&!H(this.container.dragging)}},{key:"isSortable",value:function(){return this.container&&!H(this.container.items)}},{key:"isResizable",value:function(){return this.container&&!H(this.container.resizing)}},{key:"attach",value:function(){this.supported&&(this.container.on(this.startEvent,this.onDragStart),this.container.on(this.moveEvent,this.onDragMove),this.container.on(this.stopEvent,this.onDragStop))}},{key:"detach",value:function(){this.supported&&(this.container.off(this.startEvent,this.onDragStart),this.container.off(this.moveEvent,this.onDragMove),this.container.off(this.stopEvent,this.onDragStop))}},{key:"onDragStart",value:function(h){}},{key:"onDragMove",value:function(h){}},{key:"onDragStop",value:function(h){}}]),a}();function q(a){return a&&a.ownerDocument||document}function j(a,h){a.classList?a.classList.add(h):function(u,d){return u.classList?!!d&&u.classList.contains(d):(" "+(u.className.baseVal||u.className)+" ").indexOf(" "+d+" ")!==-1}(a,h)||(typeof a.className=="string"?a.className=a.className+" "+h:a.setAttribute("class",(a.className&&a.className.baseVal||"")+" "+h))}var X=!(typeof window>"u"||!window.document||!window.document.createElement),$=!1,K=!1;try{var ve={get passive(){return $=!0},get once(){return K=$=!0}};X&&(window.addEventListener("test",ve,ve),window.removeEventListener("test",ve,!0))}catch{}function he(a,h){return function(u){var d=q(u);return d&&d.defaultView||window}(a).getComputedStyle(a,h)}var ye=/([A-Z])/g,ct=/^ms-/;function re(a){return function(h){return h.replace(ye,"-$1").toLowerCase()}(a).replace(ct,"-ms-")}var Pe=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function J(a,h){var u="",d="";if(typeof h=="string")return a.style.getPropertyValue(re(h))||he(a).getPropertyValue(re(h));Object.keys(h).forEach(function(p){var y=h[p];y||y===0?function(w){return!(!w||!Pe.test(w))}(p)?d+=p+"("+y+") ":u+=re(p)+": "+y+";":a.style.removeProperty(re(p))}),d&&(u+="transform: "+d+";"),a.style.cssText+=";"+u}function Ne(a,h,u,d){return function(p,y,w,A){if(A&&typeof A!="boolean"&&!K){var E=A.once,P=A.capture,O=w;!K&&E&&(O=w.__once||function N(x){this.removeEventListener(y,N,P),w.call(this,x)},w.__once=O),p.addEventListener(y,O,$?A:P)}p.addEventListener(y,w,A)}(a,h,u,d),function(){(function(p,y,w,A){var E=A&&typeof A!="boolean"?A.capture:A;p.removeEventListener(y,w,E),w.__once&&p.removeEventListener(y,w.__once,E)})(a,h,u,d)}}var Ut=new Date().getTime(),ut,Ie=function(a){var h=new Date().getTime(),u=Math.max(0,16-(h-Ut)),d=setTimeout(a,u);return Ut=h,d},Te=function(a,h){return a+(a?h[0].toUpperCase()+h.substr(1):h)+"AnimationFrame"};function xe(a,h){if(!ut){var u=document.body,d=u.matches||u.matchesSelector||u.webkitMatchesSelector||u.mozMatchesSelector||u.msMatchesSelector;ut=function(p,y){return d.call(p,y)}}return ut(a,h)}function Xe(a,h,u){a.closest&&!u&&a.closest(h);var d=a;do{if(xe(d,h))return d;d=d.parentElement}while(d&&d!==u&&d.nodeType===document.ELEMENT_NODE);return null}function rt(a,h){return a.contains?a.contains(h):a.compareDocumentPosition?a===h||!!(16&a.compareDocumentPosition(h)):void 0}X&&["","webkit","moz","o","ms"].some(function(a){var h=Te(a,"request");return h in window&&(Te(a,"cancel"),Ie=function(u){return window[h](u)}),!!Ie}),Function.prototype.bind.call(Function.prototype.call,[].slice);var Ue=Function.prototype.bind.call(Function.prototype.call,[].slice);function mt(a,h){return Ue(a.querySelectorAll(h))}function Bt(a){return"nodeType"in a&&a.nodeType===document.DOCUMENT_NODE}function Pn(a){return"window"in a&&a.window===a?a:Bt(a)&&a.defaultView||!1}function xt(a){var h=a==="pageXOffset"?"scrollLeft":"scrollTop";return function(u,d){var p=Pn(u);if(d===void 0)return p?p[a]:u[h];p?p.scrollTo(p[a],d):u[h]=d}}var bt=xt("pageXOffset"),vt=xt("pageYOffset");function je(a){var h=q(a),u={top:0,left:0,height:0,width:0},d=h&&h.documentElement;return d&&rt(d,a)?(a.getBoundingClientRect!==void 0&&(u=a.getBoundingClientRect()),u={top:u.top+vt(d)-(d.clientTop||0),left:u.left+bt(d)-(d.clientLeft||0),width:u.width,height:u.height}):u}function Je(a,h){var u=Pn(a);return u?u.innerHeight:h?a.clientHeight:je(a).height}var ir=/^(?:input|select|textarea|button)$/i,St=function(a){return!!a&&"offsetParent"in a};function Wt(a){for(var h=q(a),u=a&&a.offsetParent;St(u)&&u.nodeName!=="HTML"&&J(u,"position")==="static";)u=u.offsetParent;return u||h.documentElement}function sr(){return sr=Object.assign?Object.assign.bind():function(a){for(var h=1;h<arguments.length;h++){var u=arguments[h];for(var d in u)Object.prototype.hasOwnProperty.call(u,d)&&(a[d]=u[d])}return a},sr.apply(this,arguments)}function $t(a,h){var u,d={top:0,left:0};if(J(a,"position")==="fixed")u=a.getBoundingClientRect();else{var p=h||Wt(a);u=je(a),function(P){return P.nodeName&&P.nodeName.toLowerCase()}(p)!=="html"&&(d=je(p));var y=String(J(p,"borderTopWidth")||0);d.top+=parseInt(y,10)-vt(p)||0;var w=String(J(p,"borderLeftWidth")||0);d.left+=parseInt(w,10)-bt(p)||0}var A=String(J(a,"marginTop")||0),E=String(J(a,"marginLeft")||0);return sr({},u,{top:u.top-d.top-(parseInt(A,10)||0),left:u.left-d.left-(parseInt(E,10)||0)})}function Rn(a){return a&&a.parentNode?(a.parentNode.removeChild(a),a):null}function mr(a,h){return a.replace(new RegExp("(^|\\s)"+h+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Be(a,h){a.classList?a.classList.remove(h):typeof a.className=="string"?a.className=mr(a.className,h):a.setAttribute("class",mr(a.className&&a.className.baseVal||"",h))}function zt(a,h){var u=J(a,"position"),d=u==="absolute",p=a.ownerDocument;if(u==="fixed")return p||document;for(;(a=a.parentNode)&&!Bt(a);){var y=d&&J(a,"position")==="static",w=(J(a,"overflow")||"")+(J(a,"overflow-y")||"")+J(a,"overflow-x");if(!y&&/(auto|scroll)/.test(w)&&(h||Je(a)<a.scrollHeight))return a}return p||document}function qe(a,h){var u=Pn(a);return u?u.innerWidth:h?a.clientWidth:je(a).width}var Wn=function(a){return a&&a.Math==Math&&a},dt=Wn(typeof globalThis=="object"&&globalThis)||Wn(typeof window=="object"&&window)||Wn(typeof self=="object"&&self)||Wn(typeof M=="object"&&M)||function(){return this}()||Function("return this")(),pt={},Ot=function(a){try{return!!a()}catch{return!0}},jt=!Ot(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),ie={},Ct={}.propertyIsEnumerable,He=Object.getOwnPropertyDescriptor,At=He&&!Ct.call({1:2},1);ie.f=At?function(a){var h=He(this,a);return!!h&&h.enumerable}:Ct;var Ae=function(a,h){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:h}},Mt={}.toString,Jn=function(a){return Mt.call(a).slice(8,-1)},or=Jn,Fl="".split,Mi=Ot(function(){return!Object("z").propertyIsEnumerable(0)})?function(a){return or(a)=="String"?Fl.call(a,""):Object(a)}:Object,Zn=function(a){if(a==null)throw TypeError("Can't call method on "+a);return a},vs=Mi,xl=Zn,ar=function(a){return vs(xl(a))},ht=function(a){return typeof a=="object"?a!==null:typeof a=="function"},ys=ht,_s=function(a,h){if(!ys(a))return a;var u,d;if(h&&typeof(u=a.toString)=="function"&&!ys(d=u.call(a))||typeof(u=a.valueOf)=="function"&&!ys(d=u.call(a))||!h&&typeof(u=a.toString)=="function"&&!ys(d=u.call(a)))return d;throw TypeError("Can't convert object to primitive value")},Ul={}.hasOwnProperty,er=function(a,h){return Ul.call(a,h)},zn=ht,vr=dt.document,un=zn(vr)&&zn(vr.createElement),Vt=function(a){return un?vr.createElement(a):{}},ti=Vt,en=!jt&&!Ot(function(){return Object.defineProperty(ti("div"),"a",{get:function(){return 7}}).a!=7}),fe=jt,it=ie,Dn=Ae,wt=ar,Ni=_s,R2=er,D2=en,Tv=Object.getOwnPropertyDescriptor;pt.f=fe?Tv:function(a,h){if(a=wt(a),h=Ni(h,!0),D2)try{return Tv(a,h)}catch{}if(R2(a,h))return Dn(!it.f.call(a,h),a[h])};var ni={},O2=ht,yr=function(a){if(!O2(a))throw TypeError(String(a)+" is not an object");return a},M2=jt,N2=en,Iv=yr,L2=_s,kv=Object.defineProperty;ni.f=M2?kv:function(a,h,u){if(Iv(a),h=L2(h,!0),Iv(u),N2)try{return kv(a,h,u)}catch{}if("get"in u||"set"in u)throw TypeError("Accessors not supported");return"value"in u&&(a[h]=u.value),a};var V2=ni,H2=Ae,ws=jt?function(a,h,u){return V2.f(a,h,H2(1,u))}:function(a,h,u){return a[h]=u,a},Cv={exports:{}},Pv=dt,F2=ws,Rh=function(a,h){try{F2(Pv,a,h)}catch{Pv[a]=h}return h},x2=Rh,Rv="__core-js_shared__",Dh=dt[Rv]||x2(Rv,{}),Oh=Dh,U2=Function.toString;typeof Oh.inspectSource!="function"&&(Oh.inspectSource=function(a){return U2.call(a)});var Mh=Oh.inspectSource,B2=Mh,Dv=dt.WeakMap,W2=typeof Dv=="function"&&/native code/.test(B2(Dv)),Ov={exports:{}},Mv=Dh;(Ov.exports=function(a,h){return Mv[a]||(Mv[a]=h!==void 0?h:{})})("versions",[]).push({version:"3.10.1",mode:"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"});var Bl,Bo,Wl,Nh=Ov.exports,z2=0,j2=Math.random(),Nv=function(a){return"Symbol("+String(a===void 0?"":a)+")_"+(++z2+j2).toString(36)},q2=Nv,Lv=Nh("keys"),Vv=function(a){return Lv[a]||(Lv[a]=q2(a))},Lh={},G2=W2,K2=ht,Y2=ws,Hv=er,Fv=Dh,Q2=Vv,$2=Lh,X2=dt.WeakMap;if(G2){var bs=Fv.state||(Fv.state=new X2),J2=bs.get,Z2=bs.has,eC=bs.set;Bl=function(a,h){return h.facade=a,eC.call(bs,a,h),h},Bo=function(a){return J2.call(bs,a)||{}},Wl=function(a){return Z2.call(bs,a)}}else{var Wo=Q2("state");$2[Wo]=!0,Bl=function(a,h){return h.facade=a,Y2(a,Wo,h),h},Bo=function(a){return Hv(a,Wo)?a[Wo]:{}},Wl=function(a){return Hv(a,Wo)}}var Vh={set:Bl,get:Bo,has:Wl,enforce:function(a){return Wl(a)?Bo(a):Bl(a,{})},getterFor:function(a){return function(h){var u;if(!K2(h)||(u=Bo(h)).type!==a)throw TypeError("Incompatible receiver, "+a+" required");return u}}},tC=dt,xv=ws,nC=er,rC=Rh,iC=Mh,sC=Vh.get,oC=Vh.enforce,aC=String(String).split("String");(Cv.exports=function(a,h,u,d){var p,y=!!d&&!!d.unsafe,w=!!d&&!!d.enumerable,A=!!d&&!!d.noTargetGet;typeof u=="function"&&(typeof h!="string"||nC(u,"name")||xv(u,"name",h),(p=oC(u)).source||(p.source=aC.join(typeof h=="string"?h:""))),a!==tC?(y?!A&&a[h]&&(w=!0):delete a[h],w?a[h]=u:xv(a,h,u)):w?a[h]=u:rC(h,u)})(Function.prototype,"toString",function(){return typeof this=="function"&&sC(this).source||iC(this)});var zo=Cv.exports,Hh=dt,Fh=dt,Uv=function(a){return typeof a=="function"?a:void 0},jo=function(a,h){return arguments.length<2?Uv(Hh[a])||Uv(Fh[a]):Hh[a]&&Hh[a][h]||Fh[a]&&Fh[a][h]},Bv={},lC=Math.ceil,cC=Math.floor,xh=function(a){return isNaN(a=+a)?0:(a>0?cC:lC)(a)},uC=xh,hC=Math.min,As=function(a){return a>0?hC(uC(a),9007199254740991):0},fC=xh,dC=Math.max,pC=Math.min,Wv=function(a,h){var u=fC(a);return u<0?dC(u+h,0):pC(u,h)},gC=ar,mC=As,vC=Wv,zv=function(a){return function(h,u,d){var p,y=gC(h),w=mC(y.length),A=vC(d,w);if(a&&u!=u){for(;w>A;)if((p=y[A++])!=p)return!0}else for(;w>A;A++)if((a||A in y)&&y[A]===u)return a||A||0;return!a&&-1}},jv={includes:zv(!0),indexOf:zv(!1)},Uh=er,yC=ar,_C=jv.indexOf,wC=Lh,qv=function(a,h){var u,d=yC(a),p=0,y=[];for(u in d)!Uh(wC,u)&&Uh(d,u)&&y.push(u);for(;h.length>p;)Uh(d,u=h[p++])&&(~_C(y,u)||y.push(u));return y},Bh=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],bC=qv,AC=Bh.concat("length","prototype");Bv.f=Object.getOwnPropertyNames||function(a){return bC(a,AC)};var Gv={};Gv.f=Object.getOwnPropertySymbols;var Ss,zl,SC=Bv,EC=Gv,TC=yr,IC=jo("Reflect","ownKeys")||function(a){var h=SC.f(TC(a)),u=EC.f;return u?h.concat(u(a)):h},kC=er,CC=IC,PC=pt,RC=ni,DC=Ot,OC=/#|\.prototype\./,qo=function(a,h){var u=NC[MC(a)];return u==VC||u!=LC&&(typeof h=="function"?DC(h):!!h)},MC=qo.normalize=function(a){return String(a).replace(OC,".").toLowerCase()},NC=qo.data={},LC=qo.NATIVE="N",VC=qo.POLYFILL="P",Kv=qo,Wh=dt,HC=pt.f,FC=ws,xC=zo,UC=Rh,BC=function(a,h){for(var u=CC(h),d=RC.f,p=PC.f,y=0;y<u.length;y++){var w=u[y];kC(a,w)||d(a,w,p(h,w))}},WC=Kv,tn=function(a,h){var u,d,p,y,w,A=a.target,E=a.global,P=a.stat;if(u=E?Wh:P?Wh[A]||UC(A,{}):(Wh[A]||{}).prototype)for(d in h){if(y=h[d],p=a.noTargetGet?(w=HC(u,d))&&w.value:u[d],!WC(E?d:A+(P?".":"#")+d,a.forced)&&p!==void 0){if(typeof y==typeof p)continue;BC(y,p)}(a.sham||p&&p.sham)&&FC(y,"sham",!0),xC(u,d,y,a)}},Es=function(a){if(typeof a!="function")throw TypeError(String(a)+" is not a function");return a},zC=Es,zh=function(a,h,u){if(zC(a),h===void 0)return a;switch(u){case 0:return function(){return a.call(h)};case 1:return function(d){return a.call(h,d)};case 2:return function(d,p){return a.call(h,d,p)};case 3:return function(d,p,y){return a.call(h,d,p,y)}}return function(){return a.apply(h,arguments)}},jC=Zn,jh=function(a){return Object(jC(a))},qC=Jn,jl=Array.isArray||function(a){return qC(a)=="Array"},ql=Jn(dt.process)=="process",Gl=jo("navigator","userAgent")||"",qh=Gl,Yv=dt.process,Qv=Yv&&Yv.versions,$v=Qv&&Qv.v8;$v?zl=(Ss=$v.split("."))[0]+Ss[1]:qh&&(!(Ss=qh.match(/Edge\/(\d+)/))||Ss[1]>=74)&&(Ss=qh.match(/Chrome\/(\d+)/))&&(zl=Ss[1]);var Kl=zl&&+zl,GC=ql,Gh=Kl,KC=Ot,Xv=!!Object.getOwnPropertySymbols&&!KC(function(){return!Symbol.sham&&(GC?Gh===38:Gh>37&&Gh<41)}),YC=Xv&&!Symbol.sham&&typeof Symbol.iterator=="symbol",QC=dt,Jv=er,$C=Nv,Zv=Xv,XC=YC,Go=Nh("wks"),Ko=QC.Symbol,JC=XC?Ko:Ko&&Ko.withoutSetter||$C,On=function(a){return Jv(Go,a)&&(Zv||typeof Go[a]=="string")||(Zv&&Jv(Ko,a)?Go[a]=Ko[a]:Go[a]=JC("Symbol."+a)),Go[a]},ZC=ht,ey=jl,eP=On("species"),ty=function(a,h){var u;return ey(a)&&(typeof(u=a.constructor)!="function"||u!==Array&&!ey(u.prototype)?ZC(u)&&(u=u[eP])===null&&(u=void 0):u=void 0),new(u===void 0?Array:u)(h===0?0:h)},tP=zh,nP=Mi,rP=jh,iP=As,sP=ty,ny=[].push,ri=function(a){var h=a==1,u=a==2,d=a==3,p=a==4,y=a==6,w=a==7,A=a==5||y;return function(E,P,O,N){for(var x,V,Y=rP(E),Q=nP(Y),Z=tP(P,O,3),ee=iP(Q.length),de=0,Se=N||sP,we=h?Se(E,ee):u||w?Se(E,0):void 0;ee>de;de++)if((A||de in Q)&&(V=Z(x=Q[de],de,Y),a))if(h)we[de]=V;else if(V)switch(a){case 3:return!0;case 5:return x;case 6:return de;case 2:ny.call(we,x)}else switch(a){case 4:return!1;case 7:ny.call(we,x)}return y?-1:d||p?p:we}},Yo={forEach:ri(0),map:ri(1),filter:ri(2),some:ri(3),every:ri(4),find:ri(5),findIndex:ri(6),filterOut:ri(7)},oP=Ot,aP=Kl,lP=On("species"),Yl=function(a){return aP>=51||!oP(function(){var h=[];return(h.constructor={})[lP]=function(){return{foo:1}},h[a](Boolean).foo!==1})},cP=Yo.filter;tn({target:"Array",proto:!0,forced:!Yl("filter")},{filter:function(a){return cP(this,a,arguments.length>1?arguments[1]:void 0)}});var ry={};ry[On("toStringTag")]="z";var Kh=String(ry)==="[object z]",uP=Kh,Ql=Jn,hP=On("toStringTag"),fP=Ql(function(){return arguments}())=="Arguments",iy=uP?Ql:function(a){var h,u,d;return a===void 0?"Undefined":a===null?"Null":typeof(u=function(p,y){try{return p[y]}catch{}}(h=Object(a),hP))=="string"?u:fP?Ql(h):(d=Ql(h))=="Object"&&typeof h.callee=="function"?"Arguments":d},dP=iy,pP=Kh?{}.toString:function(){return"[object "+dP(this)+"]"};Kh||zo(Object.prototype,"toString",pP,{unsafe:!0});var gP=Ot,Qo=function(a,h){var u=[][a];return!!u&&gP(function(){u.call(null,h||function(){throw 1},1)})},mP=Yo.forEach,Yh=Qo("forEach")?[].forEach:function(a){return mP(this,a,arguments.length>1?arguments[1]:void 0)};tn({target:"Array",proto:!0,forced:[].forEach!=Yh},{forEach:Yh});var vP=dt,yP={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Qh=Yh,_P=ws;for(var wP in yP){var sy=vP[wP],$l=sy&&sy.prototype;if($l&&$l.forEach!==Qh)try{_P($l,"forEach",Qh)}catch{$l.forEach=Qh}}var bP=dt.Promise,AP=zo,SP=ni.f,EP=er,oy=On("toStringTag"),TP=jo,IP=ni,kP=jt,ay=On("species"),ly={},CP=ly,PP=On("iterator"),RP=Array.prototype,DP=iy,OP=ly,MP=On("iterator"),NP=yr,LP=yr,VP=function(a){return a!==void 0&&(CP.Array===a||RP[PP]===a)},HP=As,FP=zh,xP=function(a){if(a!=null)return a[MP]||a["@@iterator"]||OP[DP(a)]},cy=function(a){var h=a.return;if(h!==void 0)return NP(h.call(a)).value},$o=function(a,h){this.stopped=a,this.result=h},uy=On("iterator"),hy=!1;try{var UP=0,fy={next:function(){return{done:!!UP++}},return:function(){hy=!0}};fy[uy]=function(){return this},Array.from(fy,function(){throw 2})}catch{}var Ts,dy,$h,py=yr,BP=Es,WP=On("species"),gy=jo("document","documentElement"),my=/(?:iphone|ipod|ipad).*applewebkit/i.test(Gl),_r=dt,zP=Ot,jP=zh,vy=gy,yy=Vt,qP=my,GP=ql,Xl=_r.location,Xh=_r.setImmediate,Jh=_r.clearImmediate,KP=_r.process,_y=_r.MessageChannel,Zh=_r.Dispatch,ef=0,Xo={},wy="onreadystatechange",tf=function(a){if(Xo.hasOwnProperty(a)){var h=Xo[a];delete Xo[a],h()}},nf=function(a){return function(){tf(a)}},by=function(a){tf(a.data)},Ay=function(a){_r.postMessage(a+"",Xl.protocol+"//"+Xl.host)};Xh&&Jh||(Xh=function(a){for(var h=[],u=1;arguments.length>u;)h.push(arguments[u++]);return Xo[++ef]=function(){(typeof a=="function"?a:Function(a)).apply(void 0,h)},Ts(ef),ef},Jh=function(a){delete Xo[a]},GP?Ts=function(a){KP.nextTick(nf(a))}:Zh&&Zh.now?Ts=function(a){Zh.now(nf(a))}:_y&&!qP?($h=(dy=new _y).port2,dy.port1.onmessage=by,Ts=jP($h.postMessage,$h,1)):_r.addEventListener&&typeof postMessage=="function"&&!_r.importScripts&&Xl&&Xl.protocol!=="file:"&&!zP(Ay)?(Ts=Ay,_r.addEventListener("message",by,!1)):Ts=wy in yy("script")?function(a){vy.appendChild(yy("script"))[wy]=function(){vy.removeChild(this),tf(a)}}:function(a){setTimeout(nf(a),0)});var Jo,Li,Zo,ea,rf,sf,of,Sy,Ey={set:Xh,clear:Jh},YP=/web0s(?!.*chrome)/i.test(Gl),Vi=dt,QP=pt.f,$P=Ey.set,XP=my,JP=YP,af=ql,Ty=Vi.MutationObserver||Vi.WebKitMutationObserver,Iy=Vi.document,ky=Vi.process,lf=Vi.Promise,Cy=QP(Vi,"queueMicrotask"),Py=Cy&&Cy.value;Py||(Jo=function(){var a,h;for(af&&(a=ky.domain)&&a.exit();Li;){h=Li.fn,Li=Li.next;try{h()}catch(u){throw Li?ea():Zo=void 0,u}}Zo=void 0,a&&a.enter()},XP||af||JP||!Ty||!Iy?lf&&lf.resolve?(of=lf.resolve(void 0),Sy=of.then,ea=function(){Sy.call(of,Jo)}):ea=af?function(){ky.nextTick(Jo)}:function(){$P.call(Vi,Jo)}:(rf=!0,sf=Iy.createTextNode(""),new Ty(Jo).observe(sf,{characterData:!0}),ea=function(){sf.data=rf=!rf}));var ZP=Py||function(a){var h={fn:a,next:void 0};Zo&&(Zo.next=h),Li||(Li=h,ea()),Zo=h},cf={},Ry=Es,eR=function(a){var h,u;this.promise=new a(function(d,p){if(h!==void 0||u!==void 0)throw TypeError("Bad Promise constructor");h=d,u=p}),this.resolve=Ry(h),this.reject=Ry(u)};cf.f=function(a){return new eR(a)};var uf,Dy,Oy,My,tR=yr,nR=ht,rR=cf,iR=dt,ta=tn,Br=dt,Ny=jo,Jl=bP,sR=zo,oR=function(a,h,u){for(var d in h)AP(a,d,h[d],u);return a},aR=function(a,h,u){a&&!EP(a=u?a:a.prototype,oy)&&SP(a,oy,{configurable:!0,value:h})},lR=function(a){var h=TP(a),u=IP.f;kP&&h&&!h[ay]&&u(h,ay,{configurable:!0,get:function(){return this}})},cR=ht,hf=Es,uR=function(a,h,u){if(!(a instanceof h))throw TypeError("Incorrect "+(u?u+" ":"")+"invocation");return a},hR=Mh,Ly=function(a,h,u){var d,p,y,w,A,E,P,O=u&&u.that,N=!(!u||!u.AS_ENTRIES),x=!(!u||!u.IS_ITERATOR),V=!(!u||!u.INTERRUPTED),Y=FP(h,O,1+N+V),Q=function(ee){return d&&cy(d),new $o(!0,ee)},Z=function(ee){return N?(LP(ee),V?Y(ee[0],ee[1],Q):Y(ee[0],ee[1])):V?Y(ee,Q):Y(ee)};if(x)d=a;else{if(typeof(p=xP(a))!="function")throw TypeError("Target is not iterable");if(VP(p)){for(y=0,w=HP(a.length);w>y;y++)if((A=Z(a[y]))&&A instanceof $o)return A;return new $o(!1)}d=p.call(a)}for(E=d.next;!(P=E.call(d)).done;){try{A=Z(P.value)}catch(ee){throw cy(d),ee}if(typeof A=="object"&&A&&A instanceof $o)return A}return new $o(!1)},fR=function(a,h){if(!h&&!hy)return!1;var u=!1;try{var d={};d[uy]=function(){return{next:function(){return{done:u=!0}}}},a(d)}catch{}return u},dR=function(a,h){var u,d=py(a).constructor;return d===void 0||(u=py(d)[WP])==null?h:BP(u)},Vy=Ey.set,Hy=ZP,Fy=function(a,h){if(tR(a),nR(h)&&h.constructor===a)return h;var u=rR.f(a);return(0,u.resolve)(h),u.promise},pR=function(a,h){var u=iR.console;u&&u.error&&(arguments.length===1?u.error(a):u.error(a,h))},xy=cf,ff=function(a){try{return{error:!1,value:a()}}catch(h){return{error:!0,value:h}}},df=Vh,gR=Kv,na=ql,Uy=Kl,mR=On("species"),wr="Promise",By=df.get,vR=df.set,yR=df.getterFor(wr),Ln=Jl,Wy=Br.TypeError,pf=Br.document,gf=Br.process,zy=Ny("fetch"),Is=xy.f,_R=Is,wR=!!(pf&&pf.createEvent&&Br.dispatchEvent),jy=typeof PromiseRejectionEvent=="function",qy="unhandledrejection",ra=gR(wr,function(){if(hR(Ln)===String(Ln)&&(Uy===66||!na&&!jy))return!0;if(Uy>=51&&/native code/.test(Ln))return!1;var a=Ln.resolve(1),h=function(u){u(function(){},function(){})};return(a.constructor={})[mR]=h,!(a.then(function(){})instanceof h)}),bR=ra||!fR(function(a){Ln.all(a).catch(function(){})}),Gy=function(a){var h;return!(!cR(a)||typeof(h=a.then)!="function")&&h},mf=function(a,h){if(!a.notified){a.notified=!0;var u=a.reactions;Hy(function(){for(var d=a.value,p=a.state==1,y=0;u.length>y;){var w,A,E,P=u[y++],O=p?P.ok:P.fail,N=P.resolve,x=P.reject,V=P.domain;try{O?(p||(a.rejection===2&&SR(a),a.rejection=1),O===!0?w=d:(V&&V.enter(),w=O(d),V&&(V.exit(),E=!0)),w===P.promise?x(Wy("Promise-chain cycle")):(A=Gy(w))?A.call(w,N,x):N(w)):x(d)}catch(Y){V&&!E&&V.exit(),x(Y)}}a.reactions=[],a.notified=!1,h&&!a.rejection&&AR(a)})}},Ky=function(a,h,u){var d,p;wR?((d=pf.createEvent("Event")).promise=h,d.reason=u,d.initEvent(a,!1,!0),Br.dispatchEvent(d)):d={promise:h,reason:u},!jy&&(p=Br["on"+a])?p(d):a===qy&&pR("Unhandled promise rejection",u)},AR=function(a){Vy.call(Br,function(){var h,u=a.facade,d=a.value;if(Yy(a)&&(h=ff(function(){na?gf.emit("unhandledRejection",d,u):Ky(qy,u,d)}),a.rejection=na||Yy(a)?2:1,h.error))throw h.value})},Yy=function(a){return a.rejection!==1&&!a.parent},SR=function(a){Vy.call(Br,function(){var h=a.facade;na?gf.emit("rejectionHandled",h):Ky("rejectionhandled",h,a.value)})},ks=function(a,h,u){return function(d){a(h,d,u)}},Cs=function(a,h,u){a.done||(a.done=!0,u&&(a=u),a.value=h,a.state=2,mf(a,!0))},vf=function(a,h,u){if(!a.done){a.done=!0,u&&(a=u);try{if(a.facade===h)throw Wy("Promise can't be resolved itself");var d=Gy(h);d?Hy(function(){var p={done:!1};try{d.call(h,ks(vf,p,a),ks(Cs,p,a))}catch(y){Cs(p,y,a)}}):(a.value=h,a.state=1,mf(a,!1))}catch(p){Cs({done:!1},p,a)}}};ra&&(Ln=function(a){uR(this,Ln,wr),hf(a),uf.call(this);var h=By(this);try{a(ks(vf,h),ks(Cs,h))}catch(u){Cs(h,u)}},(uf=function(a){vR(this,{type:wr,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=oR(Ln.prototype,{then:function(a,h){var u=yR(this),d=Is(dR(this,Ln));return d.ok=typeof a!="function"||a,d.fail=typeof h=="function"&&h,d.domain=na?gf.domain:void 0,u.parent=!0,u.reactions.push(d),u.state!=0&&mf(u,!1),d.promise},catch:function(a){return this.then(void 0,a)}}),Dy=function(){var a=new uf,h=By(a);this.promise=a,this.resolve=ks(vf,h),this.reject=ks(Cs,h)},xy.f=Is=function(a){return a===Ln||a===Oy?new Dy(a):_R(a)},typeof Jl=="function"&&(My=Jl.prototype.then,sR(Jl.prototype,"then",function(a,h){var u=this;return new Ln(function(d,p){My.call(u,d,p)}).then(a,h)},{unsafe:!0}),typeof zy=="function"&&ta({global:!0,enumerable:!0,forced:!0},{fetch:function(a){return Fy(Ln,zy.apply(Br,arguments))}}))),ta({global:!0,wrap:!0,forced:ra},{Promise:Ln}),aR(Ln,wr,!1),lR(wr),Oy=Ny(wr),ta({target:wr,stat:!0,forced:ra},{reject:function(a){var h=Is(this);return h.reject.call(void 0,a),h.promise}}),ta({target:wr,stat:!0,forced:ra},{resolve:function(a){return Fy(this,a)}}),ta({target:wr,stat:!0,forced:bR},{all:function(a){var h=this,u=Is(h),d=u.resolve,p=u.reject,y=ff(function(){var w=hf(h.resolve),A=[],E=0,P=1;Ly(a,function(O){var N=E++,x=!1;A.push(void 0),P++,w.call(h,O).then(function(V){x||(x=!0,A[N]=V,--P||d(A))},p)}),--P||d(A)});return y.error&&p(y.value),u.promise},race:function(a){var h=this,u=Is(h),d=u.reject,p=ff(function(){var y=hf(h.resolve);Ly(a,function(w){y.call(h,w).then(u.resolve,d)})});return p.error&&d(p.value),u.promise}});var ER=Es,TR=ht,Qy=[].slice,yf={},IR=Function.bind||function(a){var h=ER(this),u=Qy.call(arguments,1),d=function(){var p=u.concat(Qy.call(arguments));return this instanceof d?function(y,w,A){if(!(w in yf)){for(var E=[],P=0;P<w;P++)E[P]="a["+P+"]";yf[w]=Function("C,a","return new C("+E.join(",")+")")}return yf[w](y,A)}(h,p.length,p):h.apply(a,p)};return TR(h.prototype)&&(d.prototype=h.prototype),d};tn({target:"Function",proto:!0},{bind:IR});var kR=_s,CR=ni,PR=Ae,$y=function(a,h,u){var d=kR(h);d in a?CR.f(a,d,PR(0,u)):a[d]=u},RR=tn,DR=ht,Xy=jl,Jy=Wv,OR=As,MR=ar,NR=$y,LR=On,VR=Yl("slice"),HR=LR("species"),FR=[].slice,xR=Math.max;RR({target:"Array",proto:!0,forced:!VR},{slice:function(a,h){var u,d,p,y=MR(this),w=OR(y.length),A=Jy(a,w),E=Jy(h===void 0?w:h,w);if(Xy(y)&&(typeof(u=y.constructor)!="function"||u!==Array&&!Xy(u.prototype)?DR(u)&&(u=u[HR])===null&&(u=void 0):u=void 0,u===Array||u===void 0))return FR.call(y,A,E);for(d=new(u===void 0?Array:u)(xR(E-A,0)),p=0;A<E;A++,p++)A in y&&NR(d,p,y[A]);return d.length=p,d}});var UR=yr,_f={},Zy=Ot;function e_(a,h){return RegExp(a,h)}_f.UNSUPPORTED_Y=Zy(function(){var a=e_("a","y");return a.lastIndex=2,a.exec("abcd")!=null}),_f.BROKEN_CARET=Zy(function(){var a=e_("^r","gy");return a.lastIndex=2,a.exec("str")!=null});var wf,bf,BR=function(){var a=UR(this),h="";return a.global&&(h+="g"),a.ignoreCase&&(h+="i"),a.multiline&&(h+="m"),a.dotAll&&(h+="s"),a.unicode&&(h+="u"),a.sticky&&(h+="y"),h},t_=_f,WR=Nh,Zl=RegExp.prototype.exec,zR=WR("native-string-replace",String.prototype.replace),n_=Zl,Af=(wf=/a/,bf=/b*/g,Zl.call(wf,"a"),Zl.call(bf,"a"),wf.lastIndex!==0||bf.lastIndex!==0),r_=t_.UNSUPPORTED_Y||t_.BROKEN_CARET,Sf=/()??/.exec("")[1]!==void 0;(Af||Sf||r_)&&(n_=function(a){var h,u,d,p,y=this,w=r_&&y.sticky,A=BR.call(y),E=y.source,P=0,O=a;return w&&((A=A.replace("y","")).indexOf("g")===-1&&(A+="g"),O=String(a).slice(y.lastIndex),y.lastIndex>0&&(!y.multiline||y.multiline&&a[y.lastIndex-1]!==`
`)&&(E="(?: "+E+")",O=" "+O,P++),u=new RegExp("^(?:"+E+")",A)),Sf&&(u=new RegExp("^"+E+"$(?!\\s)",A)),Af&&(h=y.lastIndex),d=Zl.call(w?u:y,O),w?d?(d.input=d.input.slice(P),d[0]=d[0].slice(P),d.index=y.lastIndex,y.lastIndex+=d[0].length):y.lastIndex=0:Af&&d&&(y.lastIndex=y.global?d.index+d[0].length:h),Sf&&d&&d.length>1&&zR.call(d[0],u,function(){for(p=1;p<arguments.length-2;p++)arguments[p]===void 0&&(d[p]=void 0)}),d});var Ef=n_;tn({target:"RegExp",proto:!0,forced:/./.exec!==Ef},{exec:Ef});var ec=`	
\v\f\r \u2028\u2029\uFEFF`,jR=Zn,tc="["+ec+"]",qR=RegExp("^"+tc+tc+"*"),GR=RegExp(tc+tc+"*$"),Tf=function(a){return function(h){var u=String(jR(h));return 1&a&&(u=u.replace(qR,"")),2&a&&(u=u.replace(GR,"")),u}},If={start:Tf(1),end:Tf(2),trim:Tf(3)},KR=If.trim,YR=ec,kf=dt.parseFloat,i_=1/kf(YR+"-0")!=-1/0?function(a){var h=KR(String(a)),u=kf(h);return u===0&&h.charAt(0)=="-"?-0:u}:kf;tn({global:!0,forced:parseFloat!=i_},{parseFloat:i_});var QR=If.trim,s_=ec,nc=dt.parseInt,$R=/^[+-]?0[Xx]/,o_=nc(s_+"08")!==8||nc(s_+"0x16")!==22?function(a,h){var u=QR(String(a));return nc(u,h>>>0||($R.test(u)?16:10))}:nc;tn({global:!0,forced:parseInt!=o_},{parseInt:o_});var XR=tn,JR=Ot,ZR=jl,eD=ht,tD=jh,nD=As,a_=$y,rD=ty,iD=Yl,sD=Kl,l_=On("isConcatSpreadable"),c_=9007199254740991,u_="Maximum allowed index exceeded",oD=sD>=51||!JR(function(){var a=[];return a[l_]=!1,a.concat()[0]!==a}),aD=iD("concat"),lD=function(a){if(!eD(a))return!1;var h=a[l_];return h!==void 0?!!h:ZR(a)};XR({target:"Array",proto:!0,forced:!oD||!aD},{concat:function(a){var h,u,d,p,y,w=tD(this),A=rD(w,0),E=0;for(h=-1,d=arguments.length;h<d;h++)if(lD(y=h===-1?w:arguments[h])){if(E+(p=nD(y.length))>c_)throw TypeError(u_);for(u=0;u<p;u++,E++)u in y&&a_(A,E,y[u])}else{if(E>=c_)throw TypeError(u_);a_(A,E++,y)}return A.length=E,A}});var cD=tn,uD=ar,hD=[].join,fD=Mi!=Object,dD=Qo("join",",");cD({target:"Array",proto:!0,forced:fD||!dD},{join:function(a){return hD.call(uD(this),a===void 0?",":a)}});var pD=function(){function a(u){var d=this;this._insertTag=function(p){var y;y=d.tags.length===0?d.insertionPoint?d.insertionPoint.nextSibling:d.prepend?d.container.firstChild:d.before:d.tags[d.tags.length-1].nextSibling,d.container.insertBefore(p,y),d.tags.push(p)},this.isSpeedy=u.speedy===void 0||u.speedy,this.tags=[],this.ctr=0,this.nonce=u.nonce,this.key=u.key,this.container=u.container,this.prepend=u.prepend,this.insertionPoint=u.insertionPoint,this.before=null}var h=a.prototype;return h.hydrate=function(u){u.forEach(this._insertTag)},h.insert=function(u){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(y){var w=document.createElement("style");return w.setAttribute("data-emotion",y.key),y.nonce!==void 0&&w.setAttribute("nonce",y.nonce),w.appendChild(document.createTextNode("")),w.setAttribute("data-s",""),w}(this));var d=this.tags[this.tags.length-1];if(this.isSpeedy){var p=function(y){if(y.sheet)return y.sheet;for(var w=0;w<document.styleSheets.length;w++)if(document.styleSheets[w].ownerNode===y)return document.styleSheets[w]}(d);try{p.insertRule(u,p.cssRules.length)}catch{}}else d.appendChild(document.createTextNode(u));this.ctr++},h.flush=function(){this.tags.forEach(function(u){return u.parentNode&&u.parentNode.removeChild(u)}),this.tags=[],this.ctr=0},a}(),yn="-ms-",h_="-moz-",st="-webkit-",f_="comm",Cf="rule",Pf="decl",d_="@keyframes",gD=Math.abs,rc=String.fromCharCode,mD=Object.assign;function p_(a){return a.trim()}function ot(a,h,u){return a.replace(h,u)}function Rf(a,h){return a.indexOf(h)}function hn(a,h){return 0|a.charCodeAt(h)}function ia(a,h,u){return a.slice(h,u)}function br(a){return a.length}function Df(a){return a.length}function ic(a,h){return h.push(a),a}var sc=1,Ps=1,g_=0,Vn=0,qt=0,Rs="";function oc(a,h,u,d,p,y,w){return{value:a,root:h,parent:u,type:d,props:p,children:y,line:sc,column:Ps,length:w,return:""}}function sa(a,h){return mD(oc("",null,null,"",null,null,0),a,{length:-a.length},h)}function vD(){return qt=Vn>0?hn(Rs,--Vn):0,Ps--,qt===10&&(Ps=1,sc--),qt}function jn(){return qt=Vn<g_?hn(Rs,Vn++):0,Ps++,qt===10&&(Ps=1,sc++),qt}function Ar(){return hn(Rs,Vn)}function ac(){return Vn}function oa(a,h){return ia(Rs,a,h)}function aa(a){switch(a){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function m_(a){return sc=Ps=1,g_=br(Rs=a),Vn=0,[]}function v_(a){return Rs="",a}function lc(a){return p_(oa(Vn-1,Of(a===91?a+2:a===40?a+1:a)))}function yD(a){for(;(qt=Ar())&&qt<33;)jn();return aa(a)>2||aa(qt)>3?"":" "}function _D(a,h){for(;--h&&jn()&&!(qt<48||qt>102||qt>57&&qt<65||qt>70&&qt<97););return oa(a,ac()+(h<6&&Ar()==32&&jn()==32))}function Of(a){for(;jn();)switch(qt){case a:return Vn;case 34:case 39:a!==34&&a!==39&&Of(qt);break;case 40:a===41&&Of(a);break;case 92:jn()}return Vn}function wD(a,h){for(;jn()&&a+qt!==57&&(a+qt!==84||Ar()!==47););return"/*"+oa(h,Vn-1)+"*"+rc(a===47?a:jn())}function bD(a){for(;!aa(Ar());)jn();return oa(a,Vn)}function AD(a){return v_(cc("",null,null,null,[""],a=m_(a),0,[0],a))}function cc(a,h,u,d,p,y,w,A,E){for(var P=0,O=0,N=w,x=0,V=0,Y=0,Q=1,Z=1,ee=1,de=0,Se="",we=p,nt=y,Ge=d,ue=Se;Z;)switch(Y=de,de=jn()){case 40:if(Y!=108&&hn(ue,N-1)==58){Rf(ue+=ot(lc(de),"&","&\f"),"&\f")!=-1&&(ee=-1);break}case 34:case 39:case 91:ue+=lc(de);break;case 9:case 10:case 13:case 32:ue+=yD(Y);break;case 92:ue+=_D(ac()-1,7);continue;case 47:switch(Ar()){case 42:case 47:ic(SD(wD(jn(),ac()),h,u),E);break;default:ue+="/"}break;case 123*Q:A[P++]=br(ue)*ee;case 125*Q:case 59:case 0:switch(de){case 0:case 125:Z=0;case 59+O:ee==-1&&(ue=ot(ue,/\f/g,"")),V>0&&br(ue)-N&&ic(V>32?__(ue+";",d,u,N-1):__(ot(ue," ","")+";",d,u,N-2),E);break;case 59:ue+=";";default:if(ic(Ge=y_(ue,h,u,P,O,p,A,Se,we=[],nt=[],N),y),de===123)if(O===0)cc(ue,h,Ge,Ge,we,y,N,A,nt);else switch(x===99&&hn(ue,3)===110?100:x){case 100:case 108:case 109:case 115:cc(a,Ge,Ge,d&&ic(y_(a,Ge,Ge,0,0,p,A,Se,p,we=[],N),nt),p,nt,N,A,d?we:nt);break;default:cc(ue,Ge,Ge,Ge,[""],nt,0,A,nt)}}P=O=V=0,Q=ee=1,Se=ue="",N=w;break;case 58:N=1+br(ue),V=Y;default:if(Q<1){if(de==123)--Q;else if(de==125&&Q++==0&&vD()==125)continue}switch(ue+=rc(de),de*Q){case 38:ee=O>0?1:(ue+="\f",-1);break;case 44:A[P++]=(br(ue)-1)*ee,ee=1;break;case 64:Ar()===45&&(ue+=lc(jn())),x=Ar(),O=N=br(Se=ue+=bD(ac())),de++;break;case 45:Y===45&&br(ue)==2&&(Q=0)}}return y}function y_(a,h,u,d,p,y,w,A,E,P,O){for(var N=p-1,x=p===0?y:[""],V=Df(x),Y=0,Q=0,Z=0;Y<d;++Y)for(var ee=0,de=ia(a,N+1,N=gD(Q=w[Y])),Se=a;ee<V;++ee)(Se=p_(Q>0?x[ee]+" "+de:ot(de,/&\f/g,x[ee])))&&(E[Z++]=Se);return oc(a,h,u,p===0?Cf:A,E,P,O)}function SD(a,h,u){return oc(a,h,u,f_,rc(qt),ia(a,2,-2),0)}function __(a,h,u,d){return oc(a,h,u,Pf,ia(a,0,d),ia(a,d+1,-1),d)}function Ds(a,h){for(var u="",d=Df(a),p=0;p<d;p++)u+=h(a[p],p,a,h)||"";return u}function ED(a,h,u,d){switch(a.type){case"@layer":if(a.children.length)break;case"@import":case Pf:return a.return=a.return||a.value;case f_:return"";case d_:return a.return=a.value+"{"+Ds(a.children,d)+"}";case Cf:a.value=a.props.join(",")}return br(u=Ds(a.children,d))?a.return=a.value+"{"+u+"}":""}function TD(a){var h=Object.create(null);return function(u){return h[u]===void 0&&(h[u]=a(u)),h[u]}}var ID=function(a,h,u){for(var d=0,p=0;d=p,p=Ar(),d===38&&p===12&&(h[u]=1),!aa(p);)jn();return oa(a,Vn)},kD=function(a,h){return v_(function(u,d){var p=-1,y=44;do switch(aa(y)){case 0:y===38&&Ar()===12&&(d[p]=1),u[p]+=ID(Vn-1,d,p);break;case 2:u[p]+=lc(y);break;case 4:if(y===44){u[++p]=Ar()===58?"&\f":"",d[p]=u[p].length;break}default:u[p]+=rc(y)}while(y=jn());return u}(m_(a),h))},w_=new WeakMap,CD=function(a){if(a.type==="rule"&&a.parent&&!(a.length<1)){for(var h=a.value,u=a.parent,d=a.column===u.column&&a.line===u.line;u.type!=="rule";)if(!(u=u.parent))return;if((a.props.length!==1||h.charCodeAt(0)===58||w_.get(u))&&!d){w_.set(a,!0);for(var p=[],y=kD(h,p),w=u.props,A=0,E=0;A<y.length;A++)for(var P=0;P<w.length;P++,E++)a.props[E]=p[A]?y[A].replace(/&\f/g,w[P]):w[P]+" "+y[A]}}},PD=function(a){if(a.type==="decl"){var h=a.value;h.charCodeAt(0)===108&&h.charCodeAt(2)===98&&(a.return="",a.value="")}};function b_(a,h){switch(function(u,d){return 45^hn(u,0)?(((d<<2^hn(u,0))<<2^hn(u,1))<<2^hn(u,2))<<2^hn(u,3):0}(a,h)){case 5103:return st+"print-"+a+a;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return st+a+a;case 5349:case 4246:case 4810:case 6968:case 2756:return st+a+h_+a+yn+a+a;case 6828:case 4268:return st+a+yn+a+a;case 6165:return st+a+yn+"flex-"+a+a;case 5187:return st+a+ot(a,/(\w+).+(:[^]+)/,st+"box-$1$2"+yn+"flex-$1$2")+a;case 5443:return st+a+yn+"flex-item-"+ot(a,/flex-|-self/,"")+a;case 4675:return st+a+yn+"flex-line-pack"+ot(a,/align-content|flex-|-self/,"")+a;case 5548:return st+a+yn+ot(a,"shrink","negative")+a;case 5292:return st+a+yn+ot(a,"basis","preferred-size")+a;case 6060:return st+"box-"+ot(a,"-grow","")+st+a+yn+ot(a,"grow","positive")+a;case 4554:return st+ot(a,/([^-])(transform)/g,"$1"+st+"$2")+a;case 6187:return ot(ot(ot(a,/(zoom-|grab)/,st+"$1"),/(image-set)/,st+"$1"),a,"")+a;case 5495:case 3959:return ot(a,/(image-set\([^]*)/,st+"$1$`$1");case 4968:return ot(ot(a,/(.+:)(flex-)?(.*)/,st+"box-pack:$3"+yn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+st+a+a;case 4095:case 3583:case 4068:case 2532:return ot(a,/(.+)-inline(.+)/,st+"$1$2")+a;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(br(a)-1-h>6)switch(hn(a,h+1)){case 109:if(hn(a,h+4)!==45)break;case 102:return ot(a,/(.+:)(.+)-([^]+)/,"$1"+st+"$2-$3$1"+h_+(hn(a,h+3)==108?"$3":"$2-$3"))+a;case 115:return~Rf(a,"stretch")?b_(ot(a,"stretch","fill-available"),h)+a:a}break;case 4949:if(hn(a,h+1)!==115)break;case 6444:switch(hn(a,br(a)-3-(~Rf(a,"!important")&&10))){case 107:return ot(a,":",":"+st)+a;case 101:return ot(a,/(.+:)([^;!]+)(;|!.+)?/,"$1"+st+(hn(a,14)===45?"inline-":"")+"box$3$1"+st+"$2$3$1"+yn+"$2box$3")+a}break;case 5936:switch(hn(a,h+11)){case 114:return st+a+yn+ot(a,/[svh]\w+-[tblr]{2}/,"tb")+a;case 108:return st+a+yn+ot(a,/[svh]\w+-[tblr]{2}/,"tb-rl")+a;case 45:return st+a+yn+ot(a,/[svh]\w+-[tblr]{2}/,"lr")+a}return st+a+yn+a+a}return a}var RD=[function(a,h,u,d){if(a.length>-1&&!a.return)switch(a.type){case Pf:a.return=b_(a.value,a.length);break;case d_:return Ds([sa(a,{value:ot(a.value,"@","@"+st)})],d);case Cf:if(a.length)return function(p,y){return p.map(y).join("")}(a.props,function(p){switch(function(y,w){return(y=w.exec(y))?y[0]:y}(p,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ds([sa(a,{props:[ot(p,/:(read-\w+)/,":-moz-$1")]})],d);case"::placeholder":return Ds([sa(a,{props:[ot(p,/:(plac\w+)/,":"+st+"input-$1")]}),sa(a,{props:[ot(p,/:(plac\w+)/,":-moz-$1")]}),sa(a,{props:[ot(p,/:(plac\w+)/,yn+"input-$1")]})],d)}return""})}}],DD=function(a){var h=a.key;if(h==="css"){var u=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(u,function(V){V.getAttribute("data-emotion").indexOf(" ")!==-1&&(document.head.appendChild(V),V.setAttribute("data-s",""))})}var d,p,y=a.stylisPlugins||RD,w={},A=[];d=a.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+h+' "]'),function(V){for(var Y=V.getAttribute("data-emotion").split(" "),Q=1;Q<Y.length;Q++)w[Y[Q]]=!0;A.push(V)});var E,P,O=[ED,(P=function(V){E.insert(V)},function(V){V.root||(V=V.return)&&P(V)})],N=function(V){var Y=Df(V);return function(Q,Z,ee,de){for(var Se="",we=0;we<Y;we++)Se+=V[we](Q,Z,ee,de)||"";return Se}}([CD,PD].concat(y,O));p=function(V,Y,Q,Z){E=Q,Ds(AD(V?V+"{"+Y.styles+"}":Y.styles),N),Z&&(x.inserted[Y.name]=!0)};var x={key:h,sheet:new pD({key:h,container:d,nonce:a.nonce,speedy:a.speedy,prepend:a.prepend,insertionPoint:a.insertionPoint}),nonce:a.nonce,inserted:w,registered:{},insert:p};return x.sheet.hydrate(A),x},OD={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},MD=/[A-Z]|^ms/g,ND=/_EMO_([^_]+?)_([^]*?)_EMO_/g,A_=function(a){return a.charCodeAt(1)===45},S_=function(a){return a!=null&&typeof a!="boolean"},Mf=TD(function(a){return A_(a)?a:a.replace(MD,"-$&").toLowerCase()}),E_=function(a,h){switch(a){case"animation":case"animationName":if(typeof h=="string")return h.replace(ND,function(u,d,p){return Sr={name:d,styles:p,next:Sr},d})}return OD[a]===1||A_(a)||typeof h!="number"||h===0?h:h+"px"};function la(a,h,u){if(u==null)return"";if(u.__emotion_styles!==void 0)return u;switch(typeof u){case"boolean":return"";case"object":if(u.anim===1)return Sr={name:u.name,styles:u.styles,next:Sr},u.name;if(u.styles!==void 0){var d=u.next;if(d!==void 0)for(;d!==void 0;)Sr={name:d.name,styles:d.styles,next:Sr},d=d.next;return u.styles+";"}return function(A,E,P){var O="";if(Array.isArray(P))for(var N=0;N<P.length;N++)O+=la(A,E,P[N])+";";else for(var x in P){var V=P[x];if(typeof V!="object")E!=null&&E[V]!==void 0?O+=x+"{"+E[V]+"}":S_(V)&&(O+=Mf(x)+":"+E_(x,V)+";");else if(!Array.isArray(V)||typeof V[0]!="string"||E!=null&&E[V[0]]!==void 0){var Y=la(A,E,V);switch(x){case"animation":case"animationName":O+=Mf(x)+":"+Y+";";break;default:O+=x+"{"+Y+"}"}}else for(var Q=0;Q<V.length;Q++)S_(V[Q])&&(O+=Mf(x)+":"+E_(x,V[Q])+";")}return O}(a,h,u);case"function":if(a!==void 0){var p=Sr,y=u(a);return Sr=p,la(a,h,y)}}if(h==null)return u;var w=h[u];return w!==void 0?w:u}var Sr,T_=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Nf=function(a,h,u){if(a.length===1&&typeof a[0]=="object"&&a[0]!==null&&a[0].styles!==void 0)return a[0];var d=!0,p="";Sr=void 0;var y=a[0];y==null||y.raw===void 0?(d=!1,p+=la(u,h,y)):p+=y[0];for(var w=1;w<a.length;w++)p+=la(u,h,a[w]),d&&(p+=y[w]);T_.lastIndex=0;for(var A,E="";(A=T_.exec(p))!==null;)E+="-"+A[1];var P=function(O){for(var N,x=0,V=0,Y=O.length;Y>=4;++V,Y-=4)N=1540483477*(65535&(N=255&O.charCodeAt(V)|(255&O.charCodeAt(++V))<<8|(255&O.charCodeAt(++V))<<16|(255&O.charCodeAt(++V))<<24))+(59797*(N>>>16)<<16),x=1540483477*(65535&(N^=N>>>24))+(59797*(N>>>16)<<16)^1540483477*(65535&x)+(59797*(x>>>16)<<16);switch(Y){case 3:x^=(255&O.charCodeAt(V+2))<<16;case 2:x^=(255&O.charCodeAt(V+1))<<8;case 1:x=1540483477*(65535&(x^=255&O.charCodeAt(V)))+(59797*(x>>>16)<<16)}return(((x=1540483477*(65535&(x^=x>>>13))+(59797*(x>>>16)<<16))^x>>>15)>>>0).toString(36)}(p)+E;return{name:P,styles:p,next:Sr}};function I_(a,h,u){var d="";return u.split(" ").forEach(function(p){a[p]!==void 0?h.push(a[p]+";"):d+=p+" "}),d}function k_(a,h){if(a.inserted[h.name]===void 0)return a.insert("",h,a.sheet,!0)}function C_(a,h,u){var d=[],p=I_(a,d,u);return d.length<2?u:p+h(d)}var LD=function a(h){for(var u="",d=0;d<h.length;d++){var p=h[d];if(p!=null){var y=void 0;switch(typeof p){case"boolean":break;case"object":if(Array.isArray(p))y=a(p);else for(var w in y="",p)p[w]&&w&&(y&&(y+=" "),y+=w);break;default:y=p}y&&(u&&(u+=" "),u+=y)}}return u},VD=function(a){var h=DD(a);h.sheet.speedy=function(d){this.isSpeedy=d},h.compat=!0;var u=function(){for(var d=arguments.length,p=new Array(d),y=0;y<d;y++)p[y]=arguments[y];var w=Nf(p,h.registered,void 0);return function(A,E,P){(function(x,V,Y){var Q=x.key+"-"+V.name;Y===!1&&x.registered[Q]===void 0&&(x.registered[Q]=V.styles)})(A,E,P);var O=A.key+"-"+E.name;if(A.inserted[E.name]===void 0){var N=E;do A.insert(E===N?"."+O:"",N,A.sheet,!0),N=N.next;while(N!==void 0)}}(h,w,!1),h.key+"-"+w.name};return{css:u,cx:function(){for(var d=arguments.length,p=new Array(d),y=0;y<d;y++)p[y]=arguments[y];return C_(h.registered,u,LD(p))},injectGlobal:function(){for(var d=arguments.length,p=new Array(d),y=0;y<d;y++)p[y]=arguments[y];var w=Nf(p,h.registered);k_(h,w)},keyframes:function(){for(var d=arguments.length,p=new Array(d),y=0;y<d;y++)p[y]=arguments[y];var w=Nf(p,h.registered),A="animation-"+w.name;return k_(h,{name:w.name,styles:"@keyframes "+A+"{"+w.styles+"}"}),A},hydrate:function(d){d.forEach(function(p){h.inserted[p]=!0})},flush:function(){h.registered={},h.inserted={},h.sheet.flush()},sheet:h.sheet,cache:h,getRegisteredStyles:I_.bind(null,h.registered),merge:C_.bind(null,h.registered,u)}}({key:"css"}),HD=VD.injectGlobal,FD=function(a,h){for(var u=-1,d=a==null?0:a.length;++u<d&&h(a[u],u,a)!==!1;);return a},xD=function(a){return function(h,u,d){for(var p=-1,y=Object(h),w=d(h),A=w.length;A--;){var E=w[a?A:++p];if(u(y[E],E,y)===!1)break}return h}},UD=xD(),BD=function(a,h){for(var u=-1,d=Array(a);++u<a;)d[u]=h(u);return d},P_=typeof M=="object"&&M&&M.Object===Object&&M,WD=P_,zD=typeof self=="object"&&self&&self.Object===Object&&self,Lf=WD||zD||Function("return this")(),ca=Lf.Symbol,R_=ca,D_=Object.prototype,jD=D_.hasOwnProperty,qD=D_.toString,ua=R_?R_.toStringTag:void 0,GD=function(a){var h=jD.call(a,ua),u=a[ua];try{a[ua]=void 0;var d=!0}catch{}var p=qD.call(a);return d&&(h?a[ua]=u:delete a[ua]),p},KD=Object.prototype.toString,YD=GD,QD=function(a){return KD.call(a)},O_=ca?ca.toStringTag:void 0,Os=function(a){return a==null?a===void 0?"[object Undefined]":"[object Null]":O_&&O_ in Object(a)?YD(a):QD(a)},Ms=function(a){return a!=null&&typeof a=="object"},$D=Os,XD=Ms,M_=function(a){return XD(a)&&$D(a)=="[object Arguments]"},JD=Ms,N_=Object.prototype,ZD=N_.hasOwnProperty,eO=N_.propertyIsEnumerable,tO=M_(function(){return arguments}())?M_:function(a){return JD(a)&&ZD.call(a,"callee")&&!eO.call(a,"callee")},nO=tO,uc=Array.isArray,Vf={exports:{}},rO=function(){return!1};(function(a,h){var u=Lf,d=rO,p=h&&!h.nodeType&&h,y=p&&a&&!a.nodeType&&a,w=y&&y.exports===p?u.Buffer:void 0,A=(w?w.isBuffer:void 0)||d;a.exports=A})(Vf,Vf.exports);var iO=Vf.exports,sO=/^(?:0|[1-9]\d*)$/,oO=function(a,h){var u=typeof a;return!!(h=h??9007199254740991)&&(u=="number"||u!="symbol"&&sO.test(a))&&a>-1&&a%1==0&&a<h},L_=function(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=9007199254740991},aO=Os,lO=L_,cO=Ms,Et={};Et["[object Float32Array]"]=Et["[object Float64Array]"]=Et["[object Int8Array]"]=Et["[object Int16Array]"]=Et["[object Int32Array]"]=Et["[object Uint8Array]"]=Et["[object Uint8ClampedArray]"]=Et["[object Uint16Array]"]=Et["[object Uint32Array]"]=!0,Et["[object Arguments]"]=Et["[object Array]"]=Et["[object ArrayBuffer]"]=Et["[object Boolean]"]=Et["[object DataView]"]=Et["[object Date]"]=Et["[object Error]"]=Et["[object Function]"]=Et["[object Map]"]=Et["[object Number]"]=Et["[object Object]"]=Et["[object RegExp]"]=Et["[object Set]"]=Et["[object String]"]=Et["[object WeakMap]"]=!1;var uO=function(a){return cO(a)&&lO(a.length)&&!!Et[aO(a)]},hO=function(a){return function(h){return a(h)}},Hf={exports:{}};(function(a,h){var u=P_,d=h&&!h.nodeType&&h,p=d&&a&&!a.nodeType&&a,y=p&&p.exports===d&&u.process,w=function(){try{var A=p&&p.require&&p.require("util").types;return A||y&&y.binding&&y.binding("util")}catch{}}();a.exports=w})(Hf,Hf.exports);var V_=Hf.exports,fO=uO,dO=hO,H_=V_&&V_.isTypedArray,pO=H_?dO(H_):fO,gO=BD,mO=nO,vO=uc,yO=iO,_O=oO,wO=pO,bO=Object.prototype.hasOwnProperty,AO=function(a,h){var u=vO(a),d=!u&&mO(a),p=!u&&!d&&yO(a),y=!u&&!d&&!p&&wO(a),w=u||d||p||y,A=w?gO(a.length,String):[],E=A.length;for(var P in a)!h&&!bO.call(a,P)||w&&(P=="length"||p&&(P=="offset"||P=="parent")||y&&(P=="buffer"||P=="byteLength"||P=="byteOffset")||_O(P,E))||A.push(P);return A},SO=Object.prototype,EO=function(a){var h=a&&a.constructor;return a===(typeof h=="function"&&h.prototype||SO)},F_=function(a,h){return function(u){return a(h(u))}},TO=F_(Object.keys,Object),IO=EO,kO=TO,CO=Object.prototype.hasOwnProperty,PO=function(a){if(!IO(a))return kO(a);var h=[];for(var u in Object(a))CO.call(a,u)&&u!="constructor"&&h.push(u);return h},RO=Os,DO=function(a){var h=typeof a;return a!=null&&(h=="object"||h=="function")},x_=function(a){if(!DO(a))return!1;var h=RO(a);return h=="[object Function]"||h=="[object GeneratorFunction]"||h=="[object AsyncFunction]"||h=="[object Proxy]"},Wr=L(x_),OO=x_,MO=L_,U_=function(a){return a!=null&&MO(a.length)&&!OO(a)},NO=AO,LO=PO,VO=U_,HO=UD,FO=function(a){return VO(a)?NO(a):LO(a)},xO=U_,UO=function(a,h){return function(u,d){if(u==null)return u;if(!xO(u))return a(u,d);for(var p=u.length,y=h?p:-1,w=Object(u);(h?y--:++y<p)&&d(w[y],y,w)!==!1;);return u}},BO=UO(function(a,h){return a&&HO(a,h,FO)}),WO=function(a){return a},zO=FD,jO=BO,qO=function(a){return typeof a=="function"?a:WO},GO=uc,ha=L(function(a,h){return(GO(a)?zO:jO)(a,qO(h))}),KO=F_(Object.getPrototypeOf,Object),YO=Os,QO=KO,$O=Ms,XO=Function.prototype,JO=Object.prototype,B_=XO.toString,ZO=JO.hasOwnProperty,eM=B_.call(Object),fa=L(function(a){if(!$O(a)||YO(a)!="[object Object]")return!1;var h=QO(a);if(h===null)return!0;var u=ZO.call(h,"constructor")&&h.constructor;return typeof u=="function"&&u instanceof u&&B_.call(u)==eM}),tM=function(a,h,u,d){var p=-1,y=a==null?0:a.length;for(d&&y&&(u=a[++p]);++p<y;)u=h(u,a[p],p,a);return u},nM=function(a){return function(h){return a==null?void 0:a[h]}}({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),rM=function(a,h){for(var u=-1,d=a==null?0:a.length,p=Array(d);++u<d;)p[u]=h(a[u],u,a);return p},iM=Os,sM=Ms,oM=rM,aM=uc,lM=function(a){return typeof a=="symbol"||sM(a)&&iM(a)=="[object Symbol]"},W_=ca?ca.prototype:void 0,z_=W_?W_.toString:void 0,cM=function a(h){if(typeof h=="string")return h;if(aM(h))return oM(h,a)+"";if(lM(h))return z_?z_.call(h):"";var u=h+"";return u=="0"&&1/h==-1/0?"-0":u},uM=cM,j_=function(a){return a==null?"":uM(a)},hM=nM,fM=j_,dM=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,pM=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g"),gM=function(a){return(a=fM(a))&&a.replace(dM,hM).replace(pM,"")},mM=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,vM=function(a){return a.match(mM)||[]},yM=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,_M=function(a){return yM.test(a)},q_="\\ud800-\\udfff",G_="\\u2700-\\u27bf",K_="a-z\\xdf-\\xf6\\xf8-\\xff",Y_="A-Z\\xc0-\\xd6\\xd8-\\xde",Q_="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",$_="["+Q_+"]",X_="\\d+",wM="["+G_+"]",J_="["+K_+"]",Z_="[^"+q_+Q_+X_+G_+K_+Y_+"]",e0="(?:\\ud83c[\\udde6-\\uddff]){2}",t0="[\\ud800-\\udbff][\\udc00-\\udfff]",Ns="["+Y_+"]",n0="(?:"+J_+"|"+Z_+")",bM="(?:"+Ns+"|"+Z_+")",r0="(?:['](?:d|ll|m|re|s|t|ve))?",i0="(?:['](?:D|LL|M|RE|S|T|VE))?",s0="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",o0="[\\ufe0e\\ufe0f]?",AM=o0+s0+("(?:\\u200d(?:"+["[^"+q_+"]",e0,t0].join("|")+")"+o0+s0+")*"),SM="(?:"+[wM,e0,t0].join("|")+")"+AM,EM=RegExp([Ns+"?"+J_+"+"+r0+"(?="+[$_,Ns,"$"].join("|")+")",bM+"+"+i0+"(?="+[$_,Ns+n0,"$"].join("|")+")",Ns+"?"+n0+"+"+r0,Ns+"+"+i0,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",X_,SM].join("|"),"g"),TM=vM,IM=_M,kM=j_,CM=function(a){return a.match(EM)||[]},PM=tM,RM=gM,DM=function(a,h,u){return a=kM(a),(h=u?void 0:h)===void 0?IM(a)?CM(a):TM(a):a.match(h)||[]},OM=RegExp("[']","g"),MM=function(a){return function(h){return PM(DM(RM(h).replace(OM,"")),a,"")}}(function(a,h,u){return a+(u?"-":"")+h.toLowerCase()}),NM=L(MM),Er=function(){function a(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};s(this,a),c(this,"data",null),c(this,"canceled",!1),this.data=h}return l(a,[{key:"type",get:function(){return this.constructor.type}},{key:"cancelable",get:function(){return this.constructor.cancelable}},{key:"cancel",value:function(){this.cancelable&&(this.canceled=!0)}}]),a}();c(Er,"type","event"),c(Er,"cancelable",!1);var hc=function(a){f(u,a);var h=m(u);function u(){return s(this,u),h.apply(this,arguments)}return l(u,[{key:"pageX",get:function(){return this.data.pageX||null}},{key:"pageY",get:function(){return this.data.pageY||null}},{key:"target",get:function(){return this.data.target||null},set:function(d){this.data.target=d}},{key:"caller",get:function(){return this.data.caller||null}},{key:"originalEvent",get:function(){return this.data.originalEvent||null}},{key:"preventDefault",value:function(){var d;(d=this.originalEvent)===null||d===void 0||d.preventDefault()}},{key:"stopPropagation",value:function(){var d;(d=this.originalEvent)===null||d===void 0||d.stopPropagation()}}]),u}(Er),Ff=function(a){f(u,a);var h=m(u);function u(){return s(this,u),h.apply(this,arguments)}return l(u)}(hc);c(Ff,"type","mouse:down"),c(Ff,"cancelable",!0);var xf=function(a){f(u,a);var h=m(u);function u(){return s(this,u),h.apply(this,arguments)}return l(u)}(hc);c(xf,"type","mouse:start"),c(xf,"cancelable",!0);var a0=function(a){f(u,a);var h=m(u);function u(){return s(this,u),h.apply(this,arguments)}return l(u)}(hc);c(a0,"type","mouse:move");var Uf=function(a){f(u,a);var h=m(u);function u(){return s(this,u),h.apply(this,arguments)}return l(u)}(hc);c(Uf,"type","mouse:stop");var LM=Function.prototype.bind.call(Function.prototype.call,[].slice),l0=function(a){a&&(a.previousDisplay?J(a,{display:a.previousDisplay}):a.style.display="")},Bf=function(a){a&&J(a,"display")!=="none"&&(a.previousDisplay=J(a,"display")||null,a.style.display="none")},c0=function(a){return a?Ne(a,"onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(h){return h.preventDefault()}):null},Ls=function(a){for(var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,u=a,d=[];u&&u.parentNode&&u.parentNode!==document&&(!h||!xe(u.parentNode,h));)d.push(u.parentNode),u=u.parentNode;return d},u0=function(a){for(var h=0,u=a;u&&u.previousElementSibling;)u=u.previousElementSibling,h++;return h},Tr=function(a,h){return a!==h&&rt(a,h)},h0=function(a,h){return a&&h&&h.parentNode&&h.parentNode.insertBefore(a,h),a},Wf=function(a,h){return a&&h&&h.parentNode&&(h.nextSibling?h.parentNode.insertBefore(a,h.nextSibling):h.parentNode.appendChild(a)),a},zf=function(a){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,p=document.createElement(a);return fa(h)&&ha(h,function(y,w){(function(A,E,P){if(A){if(P===void 0)return A.getAttribute(E);P||P===""?A.setAttribute(E,String(P)):A.removeAttribute(E)}})(p,w,y)}),u&&u.nodeType===1&&u.appendChild(p),d&&(p.innerHTML=d),p},da=function(a){return new Uf({target:a,originalEvent:VM("mouseup",a)})},VM=function(a,h){var u={button:0,bubbles:!0,cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,clientX:1,clientY:1,screenX:0,screenY:0,view:document.defaultView,target:h,relatedTarget:document.documentElement};return new MouseEvent("mouseup",u)},f0=function(a,h){if(a){var u=document.createEvent("HTMLEvents");u.initEvent(h,!1,!0),a.dispatchEvent(u)}},HM=function(a){var h=function(u){u===void 0&&(u=q());try{var d=u.activeElement;return d&&d.nodeName?d:null}catch{return u.body}}();Tr(h,a.target)||h===document.body||f0(h,"blur")},d0=function(a){return/(left|right)/.test(J(a,"float")||/(inline|table-cell)/.test(J(a,"display")))},p0=function(a){for(var h=[],u=[J(a,"borderTop"),J(a,"borderRight"),J(a,"borderBottom"),J(a,"borderLeft")],d=[J(a,"paddingTop"),J(a,"paddingRight"),J(a,"paddingBottom"),J(a,"paddingLeft")],p=0;p<4;p++)h[p]=(parseFloat(u[p])||0)+(parseFloat(d[p])||0);return{width:h[1]+h[3],height:h[0]+h[2]}},g0=function(a){var h=J(a,"position");/^(?:r|a|f)/.test(h)||J(a,{position:"relative"})},m0=function(a){var h=J(a,"position");/^(?:fixed|absolute)/.test(h)||J(a,{position:"absolute"})},ft=function(a,h){return parseInt(J(a,h),10)||0},FM=function(a){var h=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],u=J(a,"position"),d=u==="absolute";if(u==="fixed")return document;var p=h?/(auto|scroll|hidden)/:/(auto|scroll)/,y=Ls(a).filter(function(w){return(!d||J(w,"position")!=="static")&&p.test(J(w,"overflow")+J(w,"overflowX")+J(w,"overflowY"))});return y.length>0?y[0]:document},tr=function(a){var h=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return a===document||a===document.documentElement||h&&a===document.body},jf=null;jf||(jf=new(l(function a(){var h=this;s(this,a),c(this,"draggable",null),c(this,"droppables",{}),c(this,"getDroppables",function(u){return h.droppables[u]||[]}),c(this,"addDroppable",function(u,d){u&&d&&(h.droppables[d]||(h.droppables[d]=[]),h.droppables[d].push(u))}),c(this,"removeDroppable",function(u,d){u&&h.droppables[d]&&(h.droppables[d]=h.droppables[d].filter(function(p){return p!==u}))}),c(this,"prepareOffsets",function(u,d){var p=d.type;h.draggable=u,h.getDroppables(u.scope).forEach(function(y){y.refreshVisibility(),y.visible&&y.accept(u)&&(p==="mouse:start"&&y.activate(d),y.refreshProportions())})}),c(this,"onDragMove",function(u,d){h.getDroppables(u.scope).forEach(function(p){var y=p.intersect(u,d);if(y&&!p.isOver||!y&&p.isOver){var w,A=p.element,E=p.options,P=E.greedy,O=E.scope;if(P){var N=Ls(A).filter(function(x){return x[p.dataProperty]&&x[p.dataProperty].options.scope===O});N.length>0&&((w=N[0][p.dataProperty]).greedyChild=y,y&&w.out(d))}y?p.over(d):p.out(d),w&&!y&&w.over(d)}})}),c(this,"onDragStop",function(u,d){h.prepareOffsets(u,d)}),c(this,"drop",function(u,d){var p=null;return h.getDroppables(u.scope).forEach(function(y){y.intersect(u,d)&&(p=y.drop(d)||p),y.accept(u)&&y.deactivate(d)}),h.draggable=null,p})})));var Ht=jf,v0=function(a){f(u,a);var h=m(u);function u(d){var p;return s(this,u),c(_(p=h.call(this,d)),"scrollParent",null),c(_(p),"scrollParentOffset",null),c(_(p),"onDragStart",function(y){if(p.scroll){var w=p.container.helperAttrs;p.scrollParent||(p.scrollParent=w.scrollParent),tr(p.scrollParent,!1)||(p.scrollParentOffset=je(p.scrollParent))}}),c(_(p),"onDragMove",function(y){if(p.scroll){var w=!1,A=y.sensorEvent,E=_(p),P=E.scrollParent,O=E.scrollParentOffset,N=p.container.helperSize,x=p.container.offset.click,V=p.container.options,Y=V.axis,Q=V.scrollSensitivity,Z=V.scrollSpeed,ee=A.pageX-x.left-(tr(p.scrollParent,!1)?bt(document):0),de=A.pageY-x.top-(tr(p.scrollParent,!1)?vt(document):0);tr(p.scrollParent,!1)?(Y&&Y==="y"||(ee<Q?(bt(document,bt(document)-Z),w=!0):window.innerWidth-(ee+N.width)<Q&&(bt(document,bt(document)+Z),w=!0)),Y&&Y==="x"||(de<Q?(vt(document,vt(document)-Z),w=!0):window.innerHeight-(de+N.height)<Q&&(vt(document,vt(document)+Z),w=!0))):(Y&&Y==="y"||(O.left+P.offsetWidth-(ee+N.width)<Q?(P.scrollLeft=P.scrollLeft+Z,w=!0):ee-O.left<Q&&(P.scrollLeft=P.scrollLeft-Z,w=!0)),Y&&Y==="x"||(O.top+P.offsetHeight-(de+N.height)<Q?(P.scrollTop=P.scrollTop+Z,w=!0):de-O.top<Q&&(P.scrollTop=P.scrollTop-Z,w=!0))),w&&Ht.prepareOffsets(p.container,A)}}),p.attach(),p}return l(u,[{key:"supported",get:function(){return this.isDraggable()||this.isSortable()}},{key:"scroll",get:function(){return this.container.options.scroll}}]),u}(R),y0=function(a){f(u,a);var h=m(u);function u(d){var p;return s(this,u),c(_(p=h.call(this,d)),"constraintPosition",function(y){var w=p.container.startEvent;return p.axis==="y"?y.pageX=w.pageX:p.axis==="x"&&(y.pageY=w.pageY),y}),p.attach(),p}return l(u,[{key:"supported",get:function(){return this.isDraggable()||this.isSortable()}},{key:"axis",get:function(){var d=this.container.options.axis;return d===void 0?null:d}}]),u}(R),ii=function(a){f(u,a);var h=m(u);function u(){return s(this,u),h.apply(this,arguments)}return l(u,[{key:"sortable",get:function(){return this.data.sortable||null}}]),u}(Er);c(ii,"type","sortable");var _0=function(a){f(u,a);var h=m(u);function u(){return s(this,u),h.apply(this,arguments)}return l(u)}(ii);c(_0,"type","sortable:init");var Vs=function(a){f(u,a);var h=m(u);function u(){return s(this,u),h.apply(this,arguments)}return l(u,[{key:"sensorEvent",get:function(){return this.data.sensorEvent||null}},{key:"draggable",get:function(){return this.data.draggable||null}},{key:"peerSortable",get:function(){return this.data.sortable||null}}]),u}(ii);c(Vs,"type","sortable:activate");var w0=function(a){f(u,a);var h=m(u);function u(){return s(this,u),h.apply(this,arguments)}return l(u)}(Vs);c(w0,"type","sortable:over");var qf=function(a){f(u,a);var h=m(u);function u(){return s(this,u),h.apply(this,arguments)}return l(u)}(ii);c(qf,"type","sortable:change");var b0=function(a){f(u,a);var h=m(u);function u(){return s(this,u),h.apply(this,arguments)}return l(u,[{key:"item",get:function(){return this.data.item||null}},{key:"previousIndex",get:function(){return this.data.previousIndex||null}},{key:"peerSortable",get:function(){return this.data.peerSortable||null}}]),u}(ii);c(b0,"type","sortable:remove");var Gf=function(a){f(u,a);var h=m(u);function u(){return s(this,u),h.apply(this,arguments)}return l(u,[{key:"item",get:function(){return this.data.item||null}},{key:"newIndex",get:function(){return this.data.newIndex||null}},{key:"draggable",get:function(){return this.data.draggable||null}},{key:"peerSortable",get:function(){return this.data.peerSortable||null}}]),u}(ii);c(Gf,"type","sortable:receive");var Kf=function(a){f(u,a);var h=m(u);function u(){return s(this,u),h.apply(this,arguments)}return l(u,[{key:"item",get:function(){return this.data.item||null}},{key:"previousIndex",get:function(){return this.data.previousIndex||null}},{key:"newIndex",get:function(){return this.data.newIndex||null}},{key:"peerSortable",get:function(){return this.data.peerSortable||null}}]),u}(ii);c(Kf,"type","sortable:update");var A0=function(a){f(u,a);var h=m(u);function u(){return s(this,u),h.apply(this,arguments)}return l(u)}(Vs);c(A0,"type","sortable:out");var Yf=function(a){f(u,a);var h=m(u);function u(){return s(this,u),h.apply(this,arguments)}return l(u)}(Vs);c(Yf,"type","sortable:deactivate");var S0=function(a){f(u,a);var h=m(u);function u(){return s(this,u),h.apply(this,arguments)}return l(u)}(ii);c(S0,"type","sortable:destroy");var Hs="sortableInstance",E0=["n","s","e","w","ne","nw","se","sw"],xM='<svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 16 16"><g><polygon points="16,0 16,16 0,0" fill="darkgray" /></g></svg>',UM='<svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 16 16"><g><polygon points="0,16 16,16 16,0" fill="darkgray" /></g></svg>',BM='<svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 16 16"><g><polygon points="0,0 0,16 16,16" fill="darkgray" /></g></svg>',WM={n:{cursor:"n-resize",height:"7px",width:"100%",top:"-5px",left:"0"},s:{cursor:"s-resize",height:"7px",width:"100%",bottom:"-5px",left:"0"},e:{cursor:"e-resize",width:"7px",right:"-5px",top:"0",height:"100%"},w:{cursor:"w-resize",width:"7px",left:"-5px",top:"0",height:"100%"},nw:{cursor:"nw-resize",width:"12px",height:"12px",left:"1px",top:"1px",backgroundImage:"url('data:image/svg+xml;utf8,".concat(encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 16 16"><g><polygon points="0,0 0,16 16,0" fill="darkgray" /></g></svg>'),"')"),backgroundPosition:"center",backgroundRepeat:"no-repeat"},ne:{cursor:"ne-resize",width:"12px",height:"12px",right:"1px",top:"1px",backgroundImage:"url('data:image/svg+xml;utf8,".concat(encodeURIComponent(xM),"')"),backgroundPosition:"center",backgroundRepeat:"no-repeat"},se:{cursor:"se-resize",width:"12px",height:"12px",right:"1px",bottom:"1px",backgroundImage:"url('data:image/svg+xml;utf8,".concat(encodeURIComponent(UM),"')"),backgroundPosition:"center",backgroundRepeat:"no-repeat"},sw:{cursor:"sw-resize",width:"12px",height:"12px",left:"1px",bottom:"1px",backgroundImage:"url('data:image/svg+xml;utf8,".concat(encodeURIComponent(BM),"')"),backgroundPosition:"center",backgroundRepeat:"no-repeat"}},zM=function(a){f(u,a);var h=m(u);function u(d){var p;return s(this,u),c(_(p=h.call(this,d)),"onDragStart",function(y){p.connectToSortable&&(p.container.connectedSortables=[],mt(document,p.connectToSortable).forEach(function(w){var A=w[Hs];A&&!A.disabled&&(p.container.connectedSortables.push(A),A.refreshPositions(),A.trigger(new Vs({sortable:A,sensorEvent:y.sensorEvent,draggable:p.container})))}))}),c(_(p),"onDragMove",function(y){var w=y.sensorEvent;p.connectToSortable&&p.container.connectedSortables.forEach(function(A){var E=!1,P=p.container,O=P.helperSize,N=P.position,x=p.container.offset,V=x.click,Y=x.parent;A.helperSize=O,A.offset.click=V,A.position.absolute=N.absolute,A.intersectsWith(A.elementProportions)&&(E=!0,p.container.connectedSortables.forEach(function(Q){Q.helperSize=O,Q.offset.click=V,Q.position.absolute=N.absolute,Q!==A&&Q.intersectsWith(Q.elementProportions)&&Tr(A.element,Q.element)&&(E=!1)})),E?(A.isDraggableOver||(p.container.previousHelperParent||(p.container.previousHelperParent=p.container.helper.parentNode),p.container.helper[Hs]=A,A.element.appendChild(p.container.helper),A.previousHelper=A.options.helper,A.options.helper=function(){return p.container.helper},A.currentItem=p.container.helper,A.connectedDraggable=p.container,w.target=A.currentItem,A.over(null,p.container),A.isDraggableOver=!0,A.onDragStart({detail:w},!0,!0),A.offset.click=V,A.offset.parent.left-=Y.left-A.offset.parent.left,A.offset.parent.top-=Y.top-A.offset.parent.top,p.container.connectedSortables.forEach(function(Q){return Q.refreshPositions()})),A.currentItem&&(A.onDragMove({detail:w},!1,!0),y.position=A.position.current)):!E&&A.isDraggableOver&&(A.previousRevert=A.options.revert,A.options.revert=!1,A.out(null,p.container),A.isDraggableOver=!1,A.cancelHelperRemoval=A.helper===A.currentItem,A.placeholder&&A.placeholder.parentNode.removeChild(A.placeholder),A.onDragStop({detail:w},!0),A.options.helper=A.previousHelper,A.previousHelper=null,A.options.revert=A.previousRevert,A.previousRevert=null,p.container.previousHelperParent.appendChild(p.container.helper),p.container.helper[Hs]=null,p.container.calculateOffsets(w),p.container.calculatePosition(w),p.container.connectedSortables.forEach(function(Q){return Q.refreshPositions()}),y.position=p.container.position.current)})}),c(_(p),"onDragStop",function(y){var w=y.sensorEvent;p.connectToSortable&&(p.container.cancelHelperRemoval=!1,p.container.connectedSortables.forEach(function(A){A.isDraggableOver?(delete p.container.helper[Hs],p.container.cancelHelperRemoval=!0,A.cancelHelperRemoval=!1,A.options.helper=A.previousHelper,A.previousHelper=null,A.previousRevert=A.options.revert,A.options.revert=!1,y.droppedSortable=A,A.out(null,p.container),A.isDraggableOver=!1,A.currentItemStyle={position:J(A.placeholder,"position"),left:ft(A.placeholder,"left"),top:ft(A.placeholder,"top")},A.onDragStop({detail:w},!0),A.options.revert=A.previousRevert,A.previousRevert=null,A.currentItem=null,A.connectedDraggable=null,p.container.helper[Hs]=null,p.container.connectedSortables.forEach(function(E){return E.refreshPositions()})):A.cancelHelperRemoval=!1,A.trigger(new Yf({sortable:A,sensorEvent:w,draggable:p.container})),A.currentItem=null,A.connectedDraggable=null}),p.container.connectedSortables=[])}),p.attach(),p}return l(u,[{key:"supported",get:function(){return this.isSortable()}},{key:"connectToSortable",get:function(){return this.container.options.connectToSortable||null}}]),u}(R);tn({target:"Array",stat:!0},{isArray:jl});var T0=function(a){f(u,a);var h=m(u);function u(d){var p;return s(this,u),c(_(p=h.call(this,d)),"constraintPosition",function(y){if(p.containment){var w=I(p.containment,4),A=w[0],E=w[1],P=w[2],O=w[3],N=p.container.containmentContainer,x=p.container.offset.click;if(N){var V=je(N);A+=V.left,E+=V.top,P+=V.left,O+=V.top}y.pageX-x.left<A&&(y.pageX=A+x.left),y.pageY-x.top<E&&(y.pageY=E+x.top),y.pageX-x.left>P&&(y.pageX=P+x.left),y.pageY-x.top>O&&(y.pageY=O+x.top)}return y}),p.attach(),p}return l(u,[{key:"supported",get:function(){return this.isDraggable()||this.isSortable()}},{key:"containment",get:function(){if(this.container.containmentCoords===void 0){var d=this.container.options.containment,p=this.container.offset,y=p.parent,w=p.relative,A=this.container,E=A.helper,P=A.helperSize,O=A.margins;if(d==="window")this.container.containmentCoords=[window.pageXOffset-y.left-w.left,window.pageYOffset-y.top-w.top,window.pageXOffset+window.innerWidth-P.width-O.left,window.pageYOffset+window.innerHeight-P.height-O.top];else if(d==="document")this.container.containmentCoords=[0,0,qe(document)-P.width-O.left,Je(document)-P.height-O.top];else if(Array.isArray(d)&&d.length===4)this.container.containmentCoords=d;else{var N=d==="parent"?E.parentNode:document.querySelector(d);if(N){var x=/(scroll|auto)/.test(J(N,"overflow"));this.container.containmentContainer=N,this.container.containmentCoords=[ft(N,"borderLeftWidth")+ft(N,"paddingLeft"),ft(N,"borderTopWidth")+ft(N,"paddingTop"),(x?Math.max(N.scrollWidth,N.offsetWidth):N.offsetWidth)-ft(N,"borderRightWidth")-ft(N,"paddingRight")-P.width-O.left-O.right,(x?Math.max(N.scrollHeight,N.offsetHeight):N.offsetHeight)-ft(N,"borderBottomWidth")-ft(N,"paddingBottom")-P.height-O.top-O.bottom]}else this.container.containmentCoords=null}}return this.container.containmentCoords}}]),u}(R),I0=function(a){f(u,a);var h=m(u);function u(d){var p;return s(this,u),c(_(p=h.call(this,d)),"constraintPosition",function(y){if(p.grid){var w,A,E,P,O=I(p.grid,2),N=O[0],x=O[1],V=p.container,Y=V.containmentCoords,Q=V.containmentContainer,Z=V.startEvent,ee=p.container.offset.click;if(Y){var de=I(Y,4);if(w=de[0],E=de[1],A=de[2],P=de[3],Y&&Q){var Se=je(Q);w+=Se.left,E+=Se.top,A+=Se.left,P+=Se.top}}var we=N?Z.pageX+Math.round((y.pageX-Z.pageX)/N)*N:Z.pageX,nt=x?Z.pageY+Math.round((y.pageY-Z.pageY)/x)*x:Z.pageY;Y?(we-ee.left>=w||we-ee.left>A?y.pageX=we:y.pageX=we+N,nt-ee.top>=E||nt-ee.top>P?y.pageY=nt:y.pageY=nt+x):(y.pageX=we,y.pageY=nt)}return y}),p.attach(),p}return l(u,[{key:"supported",get:function(){return this.isDraggable()||this.isSortable()}},{key:"grid",get:function(){var d=this.container.options;return Array.isArray(d.grid)&&d.grid.length===2?d.grid:null}}]),u}(R),jM=function(a){f(u,a);var h=m(u);function u(d){var p;return s(this,u),c(_(p=h.call(this,d)),"containmentContainer",null),c(_(p),"containmentAttrs",{offset:null,position:null,size:null}),c(_(p),"onDragStart",function(y){var w=p.container.helper,A=p.container.options.containment;if(A==="document")p.containmentContainer=document,p.containmentAttrs.offset={left:0,top:0},p.containmentAttrs.position={left:0,top:0},p.containmentAttrs.size={width:qe(document),height:Je(document)||document.body.parentNode.scrollHeight};else{var E=[],P=A==="parent"?w.parentNode:document.querySelector(A);P&&(p.containmentContainer=P,["Top","Right","Bottom","Left"].forEach(function(O){E[O.toLowerCase()]=ft(P,"padding".concat(O))}),p.containmentAttrs.offset=je(P),p.containmentAttrs.position=$t(P),p.containmentAttrs.size={width:qe(P)-E.left-E.right,height:Je(P)-E.top-E.bottom})}}),c(_(p),"onDragMove",function(y){var w=p.container.offset.helper,A={left:0,top:0},E=y.size,P=y.position,O=p.container,N=O.aspectRatio,x=O.helper,V=p.container.options.containment,Y=p.container.currentAttrs,Q=Y.size,Z=Y.position,ee=_(p).containmentContainer,de=p.containmentAttrs,Se=de.size,we=de.offset;ee&&(ee!==document&&J(ee,"position")==="static"&&(A=we),Z.left<0&&(E.width+=Z.left,N&&(E.height=E.width/N),P.left=0),Z.top<0&&(E.height+=Z.top,N&&(E.width=E.height*N),P.top=0),V==="parent"&&/absolute|relative/.test(J(ee,"position"))?(w.left=A.left+Z.left,w.top=A.top+Z.top):w=je(x),Q.width+(w.left-A.left)>=Se.width&&(E.width=Se.width-(w.left-A.left),N&&(E.height=Q.width/N)),Q.height+(w.top-A.top)>=Se.height&&(E.height=Se.height-(w.top-A.top),N&&(E.width=Q.height*N)))}),p.attach(),p}return l(u,[{key:"supported",get:function(){return this.isResizable()}}]),u}(R),qM=function(a){f(u,a);var h=m(u);function u(d){var p;return s(this,u),c(_(p=h.call(this,d)),"onDragMove",function(y){if(p.grid){var w=I(p.grid,2),A=w[0],E=w[1],P=y.size,O=y.position,N=p.container,x=N.currentDirection,V=N.helper,Y=p.container.originalAttrs,Q=Y.size,Z=Y.position,ee=p.container.options,de=ee.minWidth,Se=ee.maxWidth,we=ee.minHeight,nt=ee.maxHeight,Ge={x:Q.width+Math.round((P.width-Q.width)/A)*A,y:Q.height+Math.round((P.height-Q.height)/E)*E},ue={width:Ge.x,height:Ge.y};if(de&&de>ue.width&&(ue.width+=A),Se&&Se<ue.width&&(ue.width-=A),we&&we>ue.height&&(ue.height+=E),nt&&nt<ue.height&&(ue.height-=E),/^(se|s|e)$/.test(x))P.width=ue.width,P.height=ue.height;else if(/^(ne)$/.test(x))P.width=ue.width,P.height=ue.height,O.top=Z.top-Ge.y;else if(/^(sw)$/.test(x))P.width=ue.width,P.height=ue.height,O.left=Z.left-Ge.x;else{var _t=p0(V);ue.width-A>0?(P.width=ue.width,O.left=Z.left-Ge.x):(P.width=A-_t.width,O.left=Z.left+Q.width-ue.width),ue.height-E>0?(P.height=ue.height,O.top=Z.top-Ge.y):(P.height=E-_t.height,O.top=Z.top+Q.height-ue.height)}}}),p.attach(),p}return l(u,[{key:"supported",get:function(){return this.isResizable()}},{key:"grid",get:function(){var d=this.container.options;return Array.isArray(d.grid)&&d.grid.length===2?d.grid:null}}]),u}(R),k0={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},Qf={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},GM=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],fc={CSS:{},springs:{}};function Ir(a,h,u){return Math.min(Math.max(a,h),u)}function pa(a,h){return a.indexOf(h)>-1}function $f(a,h){return a.apply(null,h)}var be={arr:function(a){return Array.isArray(a)},obj:function(a){return pa(Object.prototype.toString.call(a),"Object")},pth:function(a){return be.obj(a)&&a.hasOwnProperty("totalLength")},svg:function(a){return a instanceof SVGElement},inp:function(a){return a instanceof HTMLInputElement},dom:function(a){return a.nodeType||be.svg(a)},str:function(a){return typeof a=="string"},fnc:function(a){return typeof a=="function"},und:function(a){return a===void 0},nil:function(a){return be.und(a)||a===null},hex:function(a){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a)},rgb:function(a){return/^rgb/.test(a)},hsl:function(a){return/^hsl/.test(a)},col:function(a){return be.hex(a)||be.rgb(a)||be.hsl(a)},key:function(a){return!k0.hasOwnProperty(a)&&!Qf.hasOwnProperty(a)&&a!=="targets"&&a!=="keyframes"}};function C0(a){var h=/\(([^)]+)\)/.exec(a);return h?h[1].split(",").map(function(u){return parseFloat(u)}):[]}function P0(a,h){var u=C0(a),d=Ir(be.und(u[0])?1:u[0],.1,100),p=Ir(be.und(u[1])?100:u[1],.1,100),y=Ir(be.und(u[2])?10:u[2],.1,100),w=Ir(be.und(u[3])?0:u[3],.1,100),A=Math.sqrt(p/d),E=y/(2*Math.sqrt(p*d)),P=E<1?A*Math.sqrt(1-E*E):0,O=1,N=E<1?(E*A-w)/P:-w+A;function x(V){var Y=h?h*V/1e3:V;return Y=E<1?Math.exp(-Y*E*A)*(O*Math.cos(P*Y)+N*Math.sin(P*Y)):(O+N*Y)*Math.exp(-Y*A),V===0||V===1?V:1-Y}return h?x:function(){var V=fc.springs[a];if(V)return V;for(var Y=1/6,Q=0,Z=0;;)if(x(Q+=Y)===1){if(++Z>=16)break}else Z=0;var ee=Q*Y*1e3;return fc.springs[a]=ee,ee}}function KM(a){return a===void 0&&(a=10),function(h){return Math.ceil(Ir(h,1e-6,1)*a)*(1/a)}}var Fs,dc,YM=function(){var a=.1;function h(w,A){return 1-3*A+3*w}function u(w,A){return 3*A-6*w}function d(w){return 3*w}function p(w,A,E){return((h(A,E)*w+u(A,E))*w+d(A))*w}function y(w,A,E){return 3*h(A,E)*w*w+2*u(A,E)*w+d(A)}return function(w,A,E,P){if(0<=w&&w<=1&&0<=E&&E<=1){var O=new Float32Array(11);if(w!==A||E!==P)for(var N=0;N<11;++N)O[N]=p(N*a,w,E);return function(V){return w===A&&E===P||V===0||V===1?V:p(x(V),A,P)}}function x(V){for(var Y=0,Q=1;Q!==10&&O[Q]<=V;++Q)Y+=a;--Q;var Z=Y+(V-O[Q])/(O[Q+1]-O[Q])*a,ee=y(Z,w,E);return ee>=.001?function(de,Se,we,nt){for(var Ge=0;Ge<4;++Ge){var ue=y(Se,we,nt);if(ue===0)return Se;Se-=(p(Se,we,nt)-de)/ue}return Se}(V,Z,w,E):ee===0?Z:function(de,Se,we,nt,Ge){var ue,_t,si=0;do(ue=p(_t=Se+(we-Se)/2,nt,Ge)-de)>0?we=_t:Se=_t;while(Math.abs(ue)>1e-7&&++si<10);return _t}(V,Y,Y+a,w,E)}}}(),R0=(Fs={linear:function(){return function(a){return a}}},dc={Sine:function(){return function(a){return 1-Math.cos(a*Math.PI/2)}},Circ:function(){return function(a){return 1-Math.sqrt(1-a*a)}},Back:function(){return function(a){return a*a*(3*a-2)}},Bounce:function(){return function(a){for(var h,u=4;a<((h=Math.pow(2,--u))-1)/11;);return 1/Math.pow(4,3-u)-7.5625*Math.pow((3*h-2)/22-a,2)}},Elastic:function(a,h){a===void 0&&(a=1),h===void 0&&(h=.5);var u=Ir(a,1,10),d=Ir(h,.1,2);return function(p){return p===0||p===1?p:-u*Math.pow(2,10*(p-1))*Math.sin((p-1-d/(2*Math.PI)*Math.asin(1/u))*(2*Math.PI)/d)}}},["Quad","Cubic","Quart","Quint","Expo"].forEach(function(a,h){dc[a]=function(){return function(u){return Math.pow(u,h+2)}}}),Object.keys(dc).forEach(function(a){var h=dc[a];Fs["easeIn"+a]=h,Fs["easeOut"+a]=function(u,d){return function(p){return 1-h(u,d)(1-p)}},Fs["easeInOut"+a]=function(u,d){return function(p){return p<.5?h(u,d)(2*p)/2:1-h(u,d)(-2*p+2)/2}},Fs["easeOutIn"+a]=function(u,d){return function(p){return p<.5?(1-h(u,d)(1-2*p))/2:(h(u,d)(2*p-1)+1)/2}}}),Fs);function Xf(a,h){if(be.fnc(a))return a;var u=a.split("(")[0],d=R0[u],p=C0(a);switch(u){case"spring":return P0(a,h);case"cubicBezier":return $f(YM,p);case"steps":return $f(KM,p);default:return $f(d,p)}}function D0(a){try{return document.querySelectorAll(a)}catch{return}}function pc(a,h){for(var u=a.length,d=arguments.length>=2?arguments[1]:void 0,p=[],y=0;y<u;y++)if(y in a){var w=a[y];h.call(d,w,y,a)&&p.push(w)}return p}function gc(a){return a.reduce(function(h,u){return h.concat(be.arr(u)?gc(u):u)},[])}function O0(a){return be.arr(a)?a:(be.str(a)&&(a=D0(a)||a),a instanceof NodeList||a instanceof HTMLCollection?[].slice.call(a):[a])}function Jf(a,h){return a.some(function(u){return u===h})}function Zf(a){var h={};for(var u in a)h[u]=a[u];return h}function ed(a,h){var u=Zf(a);for(var d in a)u[d]=h.hasOwnProperty(d)?h[d]:a[d];return u}function mc(a,h){var u=Zf(a);for(var d in h)u[d]=be.und(a[d])?h[d]:a[d];return u}function QM(a){return be.rgb(a)?(u=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(h=a))?"rgba("+u[1]+",1)":h:be.hex(a)?function(d){var p=d.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(w,A,E,P){return A+A+E+E+P+P}),y=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(p);return"rgba("+parseInt(y[1],16)+","+parseInt(y[2],16)+","+parseInt(y[3],16)+",1)"}(a):be.hsl(a)?function(d){var p,y,w,A=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(d)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(d),E=parseInt(A[1],10)/360,P=parseInt(A[2],10)/100,O=parseInt(A[3],10)/100,N=A[4]||1;function x(Q,Z,ee){return ee<0&&(ee+=1),ee>1&&(ee-=1),ee<1/6?Q+6*(Z-Q)*ee:ee<.5?Z:ee<2/3?Q+(Z-Q)*(2/3-ee)*6:Q}if(P==0)p=y=w=O;else{var V=O<.5?O*(1+P):O+P-O*P,Y=2*O-V;p=x(Y,V,E+1/3),y=x(Y,V,E),w=x(Y,V,E-1/3)}return"rgba("+255*p+","+255*y+","+255*w+","+N+")"}(a):void 0;var h,u}function zr(a){var h=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(a);if(h)return h[1]}function td(a,h){return be.fnc(a)?a(h.target,h.id,h.total):a}function kr(a,h){return a.getAttribute(h)}function nd(a,h,u){if(Jf([u,"deg","rad","turn"],zr(h)))return h;var d=fc.CSS[h+u];if(!be.und(d))return d;var p=document.createElement(a.tagName),y=a.parentNode&&a.parentNode!==document?a.parentNode:document.body;y.appendChild(p),p.style.position="absolute",p.style.width=100+u;var w=100/p.offsetWidth;y.removeChild(p);var A=w*parseFloat(h);return fc.CSS[h+u]=A,A}function M0(a,h,u){if(h in a.style){var d=h.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),p=a.style[h]||getComputedStyle(a).getPropertyValue(d)||"0";return u?nd(a,p,u):p}}function rd(a,h){return be.dom(a)&&!be.inp(a)&&(!be.nil(kr(a,h))||be.svg(a)&&a[h])?"attribute":be.dom(a)&&Jf(GM,h)?"transform":be.dom(a)&&h!=="transform"&&M0(a,h)?"css":a[h]!=null?"object":void 0}function N0(a){if(be.dom(a)){for(var h,u=a.style.transform||"",d=/(\w+)\(([^)]*)\)/g,p=new Map;h=d.exec(u);)p.set(h[1],h[2]);return p}}function $M(a,h,u,d){var p=pa(h,"scale")?1:0+function(w){return pa(w,"translate")||w==="perspective"?"px":pa(w,"rotate")||pa(w,"skew")?"deg":void 0}(h),y=N0(a).get(h)||p;return u&&(u.transforms.list.set(h,y),u.transforms.last=h),d?nd(a,y,d):y}function id(a,h,u,d){switch(rd(a,h)){case"transform":return $M(a,h,d,u);case"css":return M0(a,h,u);case"attribute":return kr(a,h);default:return a[h]||0}}function sd(a,h){var u=/^(\*=|\+=|-=)/.exec(a);if(!u)return a;var d=zr(a)||0,p=parseFloat(h),y=parseFloat(a.replace(u[0],""));switch(u[0][0]){case"+":return p+y+d;case"-":return p-y+d;case"*":return p*y+d}}function L0(a,h){if(be.col(a))return QM(a);if(/\s/g.test(a))return a;var u=zr(a),d=u?a.substr(0,a.length-u.length):a;return h?d+h:d}function od(a,h){return Math.sqrt(Math.pow(h.x-a.x,2)+Math.pow(h.y-a.y,2))}function V0(a){for(var h,u=a.points,d=0,p=0;p<u.numberOfItems;p++){var y=u.getItem(p);p>0&&(d+=od(h,y)),h=y}return d}function H0(a){if(a.getTotalLength)return a.getTotalLength();switch(a.tagName.toLowerCase()){case"circle":return function(h){return 2*Math.PI*kr(h,"r")}(a);case"rect":return function(h){return 2*kr(h,"width")+2*kr(h,"height")}(a);case"line":return function(h){return od({x:kr(h,"x1"),y:kr(h,"y1")},{x:kr(h,"x2"),y:kr(h,"y2")})}(a);case"polyline":return V0(a);case"polygon":return function(h){var u=h.points;return V0(h)+od(u.getItem(u.numberOfItems-1),u.getItem(0))}(a)}}function F0(a,h){var u=h||{},d=u.el||function(P){for(var O=P.parentNode;be.svg(O)&&be.svg(O.parentNode);)O=O.parentNode;return O}(a),p=d.getBoundingClientRect(),y=kr(d,"viewBox"),w=p.width,A=p.height,E=u.viewBox||(y?y.split(" "):[0,0,w,A]);return{el:d,viewBox:E,x:E[0]/1,y:E[1]/1,w,h:A,vW:E[2],vH:E[3]}}function XM(a,h,u){function d(O){O===void 0&&(O=0);var N=h+O>=1?h+O:0;return a.el.getPointAtLength(N)}var p=F0(a.el,a.svg),y=d(),w=d(-1),A=d(1),E=u?1:p.w/p.vW,P=u?1:p.h/p.vH;switch(a.property){case"x":return(y.x-p.x)*E;case"y":return(y.y-p.y)*P;case"angle":return 180*Math.atan2(A.y-w.y,A.x-w.x)/Math.PI}}function x0(a,h){var u=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,d=L0(be.pth(a)?a.totalLength:a,h)+"";return{original:d,numbers:d.match(u)?d.match(u).map(Number):[0],strings:be.str(a)||h?d.split(u):[]}}function ad(a){return pc(a?gc(be.arr(a)?a.map(O0):O0(a)):[],function(h,u,d){return d.indexOf(h)===u})}function U0(a){var h=ad(a);return h.map(function(u,d){return{target:u,id:d,total:h.length,transforms:{list:N0(u)}}})}function JM(a,h){var u=Zf(h);if(/^spring/.test(u.easing)&&(u.duration=P0(u.easing)),be.arr(a)){var d=a.length;d===2&&!be.obj(a[0])?a={value:a}:be.fnc(h.duration)||(u.duration=h.duration/d)}var p=be.arr(a)?a:[a];return p.map(function(y,w){var A=be.obj(y)&&!be.pth(y)?y:{value:y};return be.und(A.delay)&&(A.delay=w?0:h.delay),be.und(A.endDelay)&&(A.endDelay=w===p.length-1?h.endDelay:0),A}).map(function(y){return mc(y,u)})}function ZM(a,h){var u=[],d=h.keyframes;for(var p in d&&(h=mc(function(y){for(var w=pc(gc(y.map(function(O){return Object.keys(O)})),function(O){return be.key(O)}).reduce(function(O,N){return O.indexOf(N)<0&&O.push(N),O},[]),A={},E=function(O){var N=w[O];A[N]=y.map(function(x){var V={};for(var Y in x)be.key(Y)?Y==N&&(V.value=x[Y]):V[Y]=x[Y];return V})},P=0;P<w.length;P++)E(P);return A}(d),h)),h)be.key(p)&&u.push({name:p,tweens:JM(h[p],a)});return u}function eN(a,h){var u;return a.tweens.map(function(d){var p=function(V,Y){var Q={};for(var Z in V){var ee=td(V[Z],Y);be.arr(ee)&&(ee=ee.map(function(de){return td(de,Y)})).length===1&&(ee=ee[0]),Q[Z]=ee}return Q.duration=parseFloat(Q.duration),Q.delay=parseFloat(Q.delay),Q}(d,h),y=p.value,w=be.arr(y)?y[1]:y,A=zr(w),E=id(h.target,a.name,A,h),P=u?u.to.original:E,O=be.arr(y)?y[0]:P,N=zr(O)||zr(E),x=A||N;return be.und(w)&&(w=P),p.from=x0(O,x),p.to=x0(sd(w,O),x),p.start=u?u.end:0,p.end=p.start+p.delay+p.duration+p.endDelay,p.easing=Xf(p.easing,p.duration),p.isPath=be.pth(y),p.isPathTargetInsideSVG=p.isPath&&be.svg(h.target),p.isColor=be.col(p.from.original),p.isColor&&(p.round=1),u=p,p})}var B0={css:function(a,h,u){return a.style[h]=u},attribute:function(a,h,u){return a.setAttribute(h,u)},object:function(a,h,u){return a[h]=u},transform:function(a,h,u,d,p){if(d.list.set(h,u),h===d.last||p){var y="";d.list.forEach(function(w,A){y+=A+"("+w+") "}),a.style.transform=y}}};function W0(a,h){U0(a).forEach(function(u){for(var d in h){var p=td(h[d],u),y=u.target,w=zr(p),A=id(y,d,w,u),E=sd(L0(p,w||zr(A)),A),P=rd(y,d);B0[P](y,d,E,u.transforms,!0)}})}function tN(a,h){return pc(gc(a.map(function(u){return h.map(function(d){return function(p,y){var w=rd(p.target,y.name);if(w){var A=eN(y,p),E=A[A.length-1];return{type:w,property:y.name,animatable:p,tweens:A,duration:E.end,delay:A[0].delay,endDelay:E.endDelay}}}(u,d)})})),function(u){return!be.und(u)})}function z0(a,h){var u=a.length,d=function(y){return y.timelineOffset?y.timelineOffset:0},p={};return p.duration=u?Math.max.apply(Math,a.map(function(y){return d(y)+y.duration})):h.duration,p.delay=u?Math.min.apply(Math,a.map(function(y){return d(y)+y.delay})):h.delay,p.endDelay=u?p.duration-Math.max.apply(Math,a.map(function(y){return d(y)+y.duration-y.endDelay})):h.endDelay,p}var j0=0,lr=[],q0=function(){var a;function h(u){for(var d=lr.length,p=0;p<d;){var y=lr[p];y.paused?(lr.splice(p,1),d--):(y.tick(u),p++)}a=p>0?requestAnimationFrame(h):void 0}return typeof document<"u"&&document.addEventListener("visibilitychange",function(){Pt.suspendWhenDocumentHidden&&(G0()?a=cancelAnimationFrame(a):(lr.forEach(function(u){return u._onDocumentVisibility()}),q0()))}),function(){a||G0()&&Pt.suspendWhenDocumentHidden||!(lr.length>0)||(a=requestAnimationFrame(h))}}();function G0(){return!!document&&document.hidden}function Pt(a){a===void 0&&(a={});var h,u=0,d=0,p=0,y=0,w=null;function A(Z){var ee=window.Promise&&new Promise(function(de){return w=de});return Z.finished=ee,ee}var E=function(Z){var ee=ed(k0,Z),de=ed(Qf,Z),Se=ZM(de,Z),we=U0(Z.targets),nt=tN(we,Se),Ge=z0(nt,de),ue=j0;return j0++,mc(ee,{id:ue,children:[],animatables:we,animations:nt,duration:Ge.duration,delay:Ge.delay,endDelay:Ge.endDelay})}(a);function P(){var Z=E.direction;Z!=="alternate"&&(E.direction=Z!=="normal"?"normal":"reverse"),E.reversed=!E.reversed,h.forEach(function(ee){return ee.reversed=E.reversed})}function O(Z){return E.reversed?E.duration-Z:Z}function N(){u=0,d=O(E.currentTime)*(1/Pt.speed)}function x(Z,ee){ee&&ee.seek(Z-ee.timelineOffset)}function V(Z){for(var ee=0,de=E.animations,Se=de.length;ee<Se;){var we=de[ee],nt=we.animatable,Ge=we.tweens,ue=Ge.length-1,_t=Ge[ue];ue&&(_t=pc(Ge,function(a4){return Z<a4.end})[0]||_t);for(var si=Ir(Z-_t.start-_t.delay,0,_t.duration)/_t.duration,jr=isNaN(si)?1:_t.easing(si),Ic=_t.to.strings,Od=_t.round,Md=[],o4=_t.to.numbers.length,ma=void 0,va=0;va<o4;va++){var kc=void 0,V1=_t.to.numbers[va],H1=_t.from.numbers[va]||0;kc=_t.isPath?XM(_t.value,jr*V1,_t.isPathTargetInsideSVG):H1+jr*(V1-H1),Od&&(_t.isColor&&va>2||(kc=Math.round(kc*Od)/Od)),Md.push(kc)}var F1=Ic.length;if(F1){ma=Ic[0];for(var ya=0;ya<F1;ya++){Ic[ya];var x1=Ic[ya+1],Nd=Md[ya];isNaN(Nd)||(ma+=x1?Nd+x1:Nd+" ")}}else ma=Md[0];B0[we.type](nt.target,we.property,ma,nt.transforms),we.currentValue=ma,ee++}}function Y(Z){E[Z]&&!E.passThrough&&E[Z](E)}function Q(Z){var ee=E.duration,de=E.delay,Se=ee-E.endDelay,we=O(Z);E.progress=Ir(we/ee*100,0,100),E.reversePlayback=we<E.currentTime,h&&function(nt){if(E.reversePlayback)for(var Ge=y;Ge--;)x(nt,h[Ge]);else for(var ue=0;ue<y;ue++)x(nt,h[ue])}(we),!E.began&&E.currentTime>0&&(E.began=!0,Y("begin")),!E.loopBegan&&E.currentTime>0&&(E.loopBegan=!0,Y("loopBegin")),we<=de&&E.currentTime!==0&&V(0),(we>=Se&&E.currentTime!==ee||!ee)&&V(ee),we>de&&we<Se?(E.changeBegan||(E.changeBegan=!0,E.changeCompleted=!1,Y("changeBegin")),Y("change"),V(we)):E.changeBegan&&(E.changeCompleted=!0,E.changeBegan=!1,Y("changeComplete")),E.currentTime=Ir(we,0,ee),E.began&&Y("update"),Z>=ee&&(d=0,E.remaining&&E.remaining!==!0&&E.remaining--,E.remaining?(u=p,Y("loopComplete"),E.loopBegan=!1,E.direction==="alternate"&&P()):(E.paused=!0,E.completed||(E.completed=!0,Y("loopComplete"),Y("complete"),!E.passThrough&&"Promise"in window&&(w(),A(E)))))}return A(E),E.reset=function(){var Z=E.direction;E.passThrough=!1,E.currentTime=0,E.progress=0,E.paused=!0,E.began=!1,E.loopBegan=!1,E.changeBegan=!1,E.completed=!1,E.changeCompleted=!1,E.reversePlayback=!1,E.reversed=Z==="reverse",E.remaining=E.loop,h=E.children;for(var ee=y=h.length;ee--;)E.children[ee].reset();(E.reversed&&E.loop!==!0||Z==="alternate"&&E.loop===1)&&E.remaining++,V(E.reversed?E.duration:0)},E._onDocumentVisibility=N,E.set=function(Z,ee){return W0(Z,ee),E},E.tick=function(Z){p=Z,u||(u=p),Q((p+(d-u))*Pt.speed)},E.seek=function(Z){Q(O(Z))},E.pause=function(){E.paused=!0,N()},E.play=function(){E.paused&&(E.completed&&E.reset(),E.paused=!1,lr.push(E),N(),q0())},E.reverse=function(){P(),E.completed=!E.reversed,N()},E.restart=function(){E.reset(),E.play()},E.remove=function(Z){Y0(ad(Z),E)},E.reset(),E.autoplay&&E.play(),E}function K0(a,h){for(var u=h.length;u--;)Jf(a,h[u].animatable.target)&&h.splice(u,1)}function Y0(a,h){var u=h.animations,d=h.children;K0(a,u);for(var p=d.length;p--;){var y=d[p],w=y.animations;K0(a,w),w.length||y.children.length||d.splice(p,1)}u.length||d.length||h.pause()}Pt.version="3.2.1",Pt.speed=1,Pt.suspendWhenDocumentHidden=!0,Pt.running=lr,Pt.remove=function(a){for(var h=ad(a),u=lr.length;u--;)Y0(h,lr[u])},Pt.get=id,Pt.set=W0,Pt.convertPx=nd,Pt.path=function(a,h){var u=be.str(a)?D0(a)[0]:a,d=h||100;return function(p){return{property:p,el:u,svg:F0(u),totalLength:H0(u)*(d/100)}}},Pt.setDashoffset=function(a){var h=H0(a);return a.setAttribute("stroke-dasharray",h),h},Pt.stagger=function(a,h){h===void 0&&(h={});var u=h.direction||"normal",d=h.easing?Xf(h.easing):null,p=h.grid,y=h.axis,w=h.from||0,A=w==="first",E=w==="center",P=w==="last",O=be.arr(a),N=parseFloat(O?a[0]:a),x=O?parseFloat(a[1]):0,V=zr(O?a[1]:a)||0,Y=h.start||0+(O?N:0),Q=[],Z=0;return function(ee,de,Se){if(A&&(w=0),E&&(w=(Se-1)/2),P&&(w=Se-1),!Q.length){for(var we=0;we<Se;we++){if(p){var nt=E?(p[0]-1)/2:w%p[0],Ge=E?(p[1]-1)/2:Math.floor(w/p[0]),ue=nt-we%p[0],_t=Ge-Math.floor(we/p[0]),si=Math.sqrt(ue*ue+_t*_t);y==="x"&&(si=-ue),y==="y"&&(si=-_t),Q.push(si)}else Q.push(Math.abs(w-we));Z=Math.max.apply(Math,Q)}d&&(Q=Q.map(function(jr){return d(jr/Z)*Z})),u==="reverse"&&(Q=Q.map(function(jr){return y?jr<0?-1*jr:-jr:Math.abs(Z-jr)}))}return Y+(O?(x-N)/Z:N)*(Math.round(100*Q[de])/100)+V}},Pt.timeline=function(a){a===void 0&&(a={});var h=Pt(a);return h.duration=0,h.add=function(u,d){var p=lr.indexOf(h),y=h.children;function w(x){x.passThrough=!0}p>-1&&lr.splice(p,1);for(var A=0;A<y.length;A++)w(y[A]);var E=mc(u,ed(Qf,a));E.targets=E.targets||a.targets;var P=h.duration;E.autoplay=!1,E.direction=h.direction,E.timelineOffset=be.und(d)?P:sd(d,P),w(h),h.seek(E.timelineOffset);var O=Pt(E);w(O),y.push(O);var N=z0(y,a);return h.delay=N.delay,h.endDelay=N.endDelay,h.duration=N.duration,h.seek(0),h.reset(),h.autoplay&&h.play(),h},h},Pt.easing=Xf,Pt.penner=R0,Pt.random=function(a,h){return Math.floor(Math.random()*(h-a+1))+a};var nN=function(a){f(u,a);var h=m(u);function u(d){var p;return s(this,u),c(_(p=h.call(this,d)),"onDragStop",function(y){var w=p.container.options,A=w.animate,E=w.animateDuration;if(A){var P={},O=p.container,N=O.element,x=O.helper,V=p.container.originalAttrs.position,Y=p.container.currentAttrs.position;P.width="".concat(qe(x),"px"),P.height="".concat(Je(x),"px"),P.top="".concat(ft(N,"top")+(Y.top-V.top),"px"),P.left="".concat(ft(N,"left")+(Y.left-V.left),"px"),Pt(i(i({},P),{targets:[N],duration:E,easing:"linear",update:function(){p.container.currentAttrs.size={width:qe(N),height:Je(N)},p.container.currentAttrs.position={left:ft(N,"left"),top:ft(N,"top")},p.container.updateResizableElements(p.container.currentAttrs.size)}}))}}),p.attach(),p}return l(u,[{key:"supported",get:function(){return this.isResizable()}}]),u}(R),rN=function(a){f(u,a);var h=m(u);function u(d){var p;return s(this,u),c(_(p=h.call(this,d)),"ghost",null),c(_(p),"onDragStart",function(y){if(p.container.options.ghost){var w=p.container.originalElement,A=p.container.currentAttrs.size;p.ghost=w.cloneNode(!0),J(p.ghost,{display:"block",position:"relative",width:"".concat(A.width,"px"),height:"".concat(A.height,"px"),top:"0px",left:"0px",margin:"0px",opacity:.25}),j(p.ghost,p.container.ghostClass),p.container.helper.appendChild(p.ghost)}}),c(_(p),"onDragMove",function(y){if(p.ghost){var w=p.container.currentAttrs.size;J(p.ghost,{width:"".concat(w.width,"px"),height:"".concat(w.height,"px")})}}),c(_(p),"onDragStop",function(y){p.ghost&&(p.container.helper.removeChild(p.ghost),p.ghost=null)}),p.attach(),p}return l(u,[{key:"supported",get:function(){return this.isResizable()}}]),u}(R),iN=tn,sN=Es,Q0=jh,$0=Ot,oN=Qo,ld=[],X0=ld.sort,aN=$0(function(){ld.sort(void 0)}),lN=$0(function(){ld.sort(null)}),cN=oN("sort");iN({target:"Array",proto:!0,forced:aN||!lN||!cN},{sort:function(a){return a===void 0?X0.call(Q0(this)):X0.call(Q0(this),sN(a))}});var cd,uN=function(a){f(u,a);var h=m(u);function u(d){var p;return s(this,u),c(_(p=h.call(this,d)),"onDragStart",function(y){if(p.stack.length>0){var w=p.container.helper,A=p.stack.sort(function(P,O){return ft(P,"zIndex")-ft(O,"zIndex")}),E=ft(A[0],"zIndex");A.forEach(function(P,O){J(P,{zIndex:E+O})}),J(w,{zIndex:E+A.length})}}),p.attach(),p}return l(u,[{key:"supported",get:function(){return this.isDraggable()}},{key:"stack",get:function(){var d=this.container.options;return d.stack?mt(document,d.stack):[]}}]),u}(R),hN=qv,fN=Bh,dN=Object.keys||function(a){return hN(a,fN)},pN=ni,gN=yr,mN=dN,vN=jt?Object.defineProperties:function(a,h){gN(a);for(var u,d=mN(h),p=d.length,y=0;p>y;)pN.f(a,u=d[y++],h[u]);return a},yN=yr,_N=vN,J0=Bh,wN=Lh,bN=gy,AN=Vt,ud="prototype",hd="script",Z0=Vv("IE_PROTO"),fd=function(){},e1=function(a){return"<"+hd+">"+a+"</"+hd+">"},vc=function(){try{cd=document.domain&&new ActiveXObject("htmlfile")}catch{}var a,h,u;vc=cd?function(p){p.write(e1("")),p.close();var y=p.parentWindow.Object;return p=null,y}(cd):(h=AN("iframe"),u="java"+hd+":",h.style.display="none",bN.appendChild(h),h.src=String(u),(a=h.contentWindow.document).open(),a.write(e1("document.F=Object")),a.close(),a.F);for(var d=J0.length;d--;)delete vc[ud][J0[d]];return vc()};wN[Z0]=!0;var SN=Object.create||function(a,h){var u;return a!==null?(fd[ud]=yN(a),u=new fd,fd[ud]=null,u[Z0]=a):u=vc(),h===void 0?u:_N(u,h)},EN=ni,dd=On("unscopables"),pd=Array.prototype;pd[dd]==null&&EN.f(pd,dd,{configurable:!0,value:SN(null)});var TN=tn,IN=Yo.find,kN=function(a){pd[dd][a]=!0},gd="find",t1=!0;gd in[]&&Array(1)[gd](function(){t1=!1}),TN({target:"Array",proto:!0,forced:t1},{find:function(a){return IN(this,a,arguments.length>1?arguments[1]:void 0)}}),kN(gd);var Hi=function(a){f(u,a);var h=m(u);function u(d,p){var y,w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return s(this,u),c(_(y=h.call(this,d)),"property",null),c(_(y),"target",null),c(_(y),"previousValue",null),c(_(y),"onDragStart",function(A){y.target||(y.target=y.container.helper),y.value===null||y.isSortableInDraggable()||(y.previousValue=y.getPreviousValue(),J(y.target,c({},y.property,y.value)))}),c(_(y),"onDragStop",function(A){y.previousValue!==null&&(J(y.target,c({},y.property,y.previousValue)),y.target=null)}),y.property=p,y.target=w?w instanceof HTMLElement?w:document.querySelector(w):null,y.attach(),y}return l(u,[{key:"supported",get:function(){return this.isDraggable()||this.isSortable()}},{key:"detach",value:function(){this.constructor.propertyCache=[],b(g(u.prototype),"detach",this).call(this)}},{key:"value",get:function(){var d=this.container.options;return this.property&&!H(d[this.property])?d[this.property]:null}},{key:"isSortableInDraggable",value:function(){return this.isDraggable()&&this.container.connectedDraggable}},{key:"getPreviousValue",value:function(){var d=this,p=this.constructor.propertyCache,y=p.find(function(w){return w.element===d.target&&w.property===d.property});return y||(y={element:this.target,property:this.property,value:J(this.target,this.property)},p.push(y)),y.value}}]),u}(R);c(Hi,"propertyCache",[]);var yc=function(){function a(h){s(this,a),c(this,"caller",null),c(this,"active",!1),c(this,"lastEvent",null),this.caller=h}return l(a,[{key:"attach",value:function(){}},{key:"detach",value:function(){}},{key:"cancel",value:function(h){}},{key:"trigger",value:function(h){var u=document.createEvent("Event");u.detail=h,u.initEvent(h.type,!0,!0),document.dispatchEvent(u),this.lastEvent=u}}]),a}(),_c=function(a){a.preventDefault()},md=function(a){f(u,a);var h=m(u);function u(d){var p;return s(this,u),c(_(p=h.call(this,d)),"pageX",null),c(_(p),"pageY",null),c(_(p),"startEvent",null),c(_(p),"mouseMoved",!1),c(_(p),"cancel",function(y){p.onMouseUp(y)}),c(_(p),"onMouseDown",function(y){if(!(y.which!==1||y.button!==0||y.ctrlKey||y.metaKey||p.caller.options.skip&&y.target.nodeName&&Xe(y.target,p.caller.options.skip))){p.active&&p.onMouseUp(y);var w=new Ff({pageX:y.pageX,pageY:y.pageY,target:y.target,caller:p.caller,originalEvent:y});p.pageX=y.pageX,p.pageY=y.pageY,p.startEvent=y,p.trigger(w),w.canceled||(document.addEventListener("dragstart",_c),document.addEventListener("mousemove",p.checkThresholds),document.addEventListener("mouseup",p.onMouseUp))}}),c(_(p),"checkThresholds",function(y){var w=_(p).startEvent,A=p.caller.options.distance;p.pageX=y.pageX,p.pageY=y.pageY,Math.max(Math.abs(y.pageX-w.pageX),Math.abs(y.pageY-w.pageY))>=A&&(document.removeEventListener("mousemove",p.checkThresholds),p.startDrag())}),c(_(p),"onMouseMove",function(y){p.active&&p.trigger(new a0({pageX:y.pageX,pageY:y.pageY,target:document.elementFromPoint(y.pageX,y.pageY),caller:p.caller,originalEvent:y}))}),c(_(p),"onMouseUp",function(y){clearTimeout(p.startTimeout),document.removeEventListener("dragstart",_c),document.removeEventListener("mousemove",p.checkThresholds),document.removeEventListener("mouseup",p.onMouseUp),p.active&&(p.active=!1,p.trigger(new Uf({pageX:y.pageX,pageY:y.pageY,target:document.elementFromPoint(y.pageX,y.pageY),caller:p.caller,originalEvent:y}))),document.removeEventListener("contextmenu",_c,!0),document.removeEventListener("mousemove",p.onMouseMove),y.preventDefault()}),p.attach(),p}return l(u,[{key:"attach",value:function(){document.addEventListener("mousedown",this.onMouseDown,!0)}},{key:"detach",value:function(){document.removeEventListener("mousedown",this.onMouseDown,!0)}},{key:"startDrag",value:function(){var d=this.startEvent,p=new xf({pageX:d.pageX,pageY:d.pageY,target:d.target,caller:this.caller,originalEvent:d});this.trigger(p),this.active=!p.canceled,this.active&&(document.addEventListener("contextmenu",_c,!0),document.addEventListener("mousemove",this.onMouseMove))}}]),u}(yc),CN=Yo.map;tn({target:"Array",proto:!0,forced:!Yl("map")},{map:function(a){return CN(this,a,arguments.length>1?arguments[1]:void 0)}});var PN=Yo.some;tn({target:"Array",proto:!0,forced:!Qo("some")},{some:function(a){return PN(this,a,arguments.length>1?arguments[1]:void 0)}});var n1=dt,RN=[].slice,r1=function(a){return function(h,u){var d=arguments.length>2,p=d?RN.call(arguments,2):void 0;return a(d?function(){(typeof h=="function"?h:Function(h)).apply(this,p)}:h,u)}};tn({global:!0,bind:!0,forced:/MSIE .\./.test(Gl)},{setTimeout:r1(n1.setTimeout),setInterval:r1(n1.setInterval)});var i1,vd={exports:{}},xs=typeof Reflect=="object"?Reflect:null,s1=xs&&typeof xs.apply=="function"?xs.apply:function(a,h,u){return Function.prototype.apply.call(a,h,u)};i1=xs&&typeof xs.ownKeys=="function"?xs.ownKeys:Object.getOwnPropertySymbols?function(a){return Object.getOwnPropertyNames(a).concat(Object.getOwnPropertySymbols(a))}:function(a){return Object.getOwnPropertyNames(a)};var o1=Number.isNaN||function(a){return a!=a};function yt(){yt.init.call(this)}vd.exports=yt,vd.exports.once=function(a,h){return new Promise(function(u,d){function p(w){a.removeListener(h,y),d(w)}function y(){typeof a.removeListener=="function"&&a.removeListener("error",p),u([].slice.call(arguments))}p1(a,h,y,{once:!0}),h!=="error"&&function(w,A,E){typeof w.on=="function"&&p1(w,"error",A,E)}(a,p,{once:!0})})},yt.EventEmitter=yt,yt.prototype._events=void 0,yt.prototype._eventsCount=0,yt.prototype._maxListeners=void 0;var a1=10;function wc(a){if(typeof a!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof a)}function l1(a){return a._maxListeners===void 0?yt.defaultMaxListeners:a._maxListeners}function c1(a,h,u,d){var p,y,w,A;if(wc(u),(y=a._events)===void 0?(y=a._events=Object.create(null),a._eventsCount=0):(y.newListener!==void 0&&(a.emit("newListener",h,u.listener?u.listener:u),y=a._events),w=y[h]),w===void 0)w=y[h]=u,++a._eventsCount;else if(typeof w=="function"?w=y[h]=d?[u,w]:[w,u]:d?w.unshift(u):w.push(u),(p=l1(a))>0&&w.length>p&&!w.warned){w.warned=!0;var E=new Error("Possible EventEmitter memory leak detected. "+w.length+" "+String(h)+" listeners added. Use emitter.setMaxListeners() to increase limit");E.name="MaxListenersExceededWarning",E.emitter=a,E.type=h,E.count=w.length,A=E,console&&console.warn&&console.warn(A)}return a}function DN(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u1(a,h,u){var d={fired:!1,wrapFn:void 0,target:a,type:h,listener:u},p=DN.bind(d);return p.listener=u,d.wrapFn=p,p}function h1(a,h,u){var d=a._events;if(d===void 0)return[];var p=d[h];return p===void 0?[]:typeof p=="function"?u?[p.listener||p]:[p]:u?function(y){for(var w=new Array(y.length),A=0;A<w.length;++A)w[A]=y[A].listener||y[A];return w}(p):d1(p,p.length)}function f1(a){var h=this._events;if(h!==void 0){var u=h[a];if(typeof u=="function")return 1;if(u!==void 0)return u.length}return 0}function d1(a,h){for(var u=new Array(h),d=0;d<h;++d)u[d]=a[d];return u}function p1(a,h,u,d){if(typeof a.on=="function")d.once?a.once(h,u):a.on(h,u);else{if(typeof a.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof a);a.addEventListener(h,function p(y){d.once&&a.removeEventListener(h,p),u(y)})}}Object.defineProperty(yt,"defaultMaxListeners",{enumerable:!0,get:function(){return a1},set:function(a){if(typeof a!="number"||a<0||o1(a))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+a+".");a1=a}}),yt.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},yt.prototype.setMaxListeners=function(a){if(typeof a!="number"||a<0||o1(a))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+a+".");return this._maxListeners=a,this},yt.prototype.getMaxListeners=function(){return l1(this)},yt.prototype.emit=function(a){for(var h=[],u=1;u<arguments.length;u++)h.push(arguments[u]);var d=a==="error",p=this._events;if(p!==void 0)d=d&&p.error===void 0;else if(!d)return!1;if(d){var y;if(h.length>0&&(y=h[0]),y instanceof Error)throw y;var w=new Error("Unhandled error."+(y?" ("+y.message+")":""));throw w.context=y,w}var A=p[a];if(A===void 0)return!1;if(typeof A=="function")s1(A,this,h);else{var E=A.length,P=d1(A,E);for(u=0;u<E;++u)s1(P[u],this,h)}return!0},yt.prototype.addListener=function(a,h){return c1(this,a,h,!1)},yt.prototype.on=yt.prototype.addListener,yt.prototype.prependListener=function(a,h){return c1(this,a,h,!0)},yt.prototype.once=function(a,h){return wc(h),this.on(a,u1(this,a,h)),this},yt.prototype.prependOnceListener=function(a,h){return wc(h),this.prependListener(a,u1(this,a,h)),this},yt.prototype.removeListener=function(a,h){var u,d,p,y,w;if(wc(h),(d=this._events)===void 0)return this;if((u=d[a])===void 0)return this;if(u===h||u.listener===h)--this._eventsCount==0?this._events=Object.create(null):(delete d[a],d.removeListener&&this.emit("removeListener",a,u.listener||h));else if(typeof u!="function"){for(p=-1,y=u.length-1;y>=0;y--)if(u[y]===h||u[y].listener===h){w=u[y].listener,p=y;break}if(p<0)return this;p===0?u.shift():function(A,E){for(;E+1<A.length;E++)A[E]=A[E+1];A.pop()}(u,p),u.length===1&&(d[a]=u[0]),d.removeListener!==void 0&&this.emit("removeListener",a,w||h)}return this},yt.prototype.off=yt.prototype.removeListener,yt.prototype.removeAllListeners=function(a){var h,u,d;if((u=this._events)===void 0)return this;if(u.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):u[a]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete u[a]),this;if(arguments.length===0){var p,y=Object.keys(u);for(d=0;d<y.length;++d)(p=y[d])!=="removeListener"&&this.removeAllListeners(p);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(h=u[a])=="function")this.removeListener(a,h);else if(h!==void 0)for(d=h.length-1;d>=0;d--)this.removeListener(a,h[d]);return this},yt.prototype.listeners=function(a){return h1(this,a,!0)},yt.prototype.rawListeners=function(a){return h1(this,a,!1)},yt.listenerCount=function(a,h){return typeof a.listenerCount=="function"?a.listenerCount(h):f1.call(a,h)},yt.prototype.listenerCount=f1,yt.prototype.eventNames=function(){return this._eventsCount>0?i1(this._events):[]};var g1=function(a){f(u,a);var h=m(u);function u(){var d;s(this,u);for(var p=arguments.length,y=new Array(p),w=0;w<p;w++)y[w]=arguments[w];return c(_(d=h.call.apply(h,[this].concat(y))),"wrappedListeners",[]),d}return l(u,[{key:"wrapListener",value:function(d){var p=this.wrappedListeners.find(function(y){return y.listener===d});return p?this.wrappedListeners=this.wrappedListeners.filter(function(y){return y!==p}):(p={listener:d,wrapped:function(y){y&&y.canceled||d(y)}},this.wrappedListeners.push(p)),p}},{key:"addListener",value:function(d,p){b(g(u.prototype),"addListener",this).call(this,d,this.wrapListener(p))}},{key:"prependListener",value:function(d,p){b(g(u.prototype),"prependListener",this).call(this,d,this.wrapListener(p))}},{key:"removeListener",value:function(d,p){b(g(u.prototype),"off",this).call(this,d,this.wrapListener(p))}}]),u}(L(vd.exports)),yd=function(a){f(u,a);var h=m(u);function u(){return s(this,u),h.apply(this,arguments)}return l(u,[{key:"draggable",get:function(){return this.data.draggable||null}}]),u}(Er);c(yd,"type","draggable");var m1=function(a){f(u,a);var h=m(u);function u(){return s(this,u),h.apply(this,arguments)}return l(u)}(yd);c(m1,"type","draggable:init");var v1=function(a){f(u,a);var h=m(u);function u(){return s(this,u),h.apply(this,arguments)}return l(u)}(yd);c(v1,"type","draggable:destroy");var bc=function(a){f(u,a);var h=m(u);function u(){return s(this,u),h.apply(this,arguments)}return l(u,[{key:"source",get:function(){return this.data.source||null}},{key:"helper",get:function(){return this.data.helper||null}},{key:"sensorEvent",get:function(){return this.data.sensorEvent||null}},{key:"originalEvent",get:function(){return this.data.originalEvent||null}}]),u}(Er);c(bc,"type","drag");var _d=function(a){f(u,a);var h=m(u);function u(){return s(this,u),h.apply(this,arguments)}return l(u)}(bc);c(_d,"type","drag:start"),c(_d,"cancelable",!0);var wd=function(a){f(u,a);var h=m(u);function u(){return s(this,u),h.apply(this,arguments)}return l(u,[{key:"position",get:function(){return this.data.position||null},set:function(d){this.data.position=d}}]),u}(bc);c(wd,"type","drag:move"),c(wd,"cancelable",!0);var y1=function(a){f(u,a);var h=m(u);function u(){return s(this,u),h.apply(this,arguments)}return l(u,[{key:"droppable",get:function(){return this.data.droppable||null},set:function(d){this.data.droppable=d}}]),u}(bc);c(y1,"type","drag:stop");var ga=function(){function a(h){var u=this,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(s(this,a),c(this,"element",null),c(this,"margins",null),c(this,"dragging",!1),c(this,"reverting",!1),c(this,"helper",null),c(this,"helperSize",null),c(this,"helperAttrs",null),c(this,"startEvent",null),c(this,"offset",{element:null,click:null,scroll:null,parent:null,relative:null}),c(this,"position",{original:null,current:null,absolute:null}),c(this,"emitter",new g1),c(this,"options",{}),c(this,"plugins",[]),c(this,"sensors",[]),c(this,"pendingDestroy",!1),c(this,"cancelHelperRemoval",!1),c(this,"containmentCoords",void 0),c(this,"containmentContainer",null),c(this,"scrollListeners",[]),c(this,"connectedSortables",[]),c(this,"droppedSortable",null),c(this,"setup",function(){u.addPlugin(new y0(u)),u.addPlugin(new T0(u)),u.addPlugin(new I0(u)),u.addPlugin(new Hi(u,"cursor")),u.addPlugin(new Hi(u,"opacity")),u.addPlugin(new Hi(u,"zIndex")),u.addPlugin(new uN(u)),u.addPlugin(new v0(u)),u.addPlugin(new zM(u)),u.addSensor(new md(u)),document.addEventListener("mouse:down",u.onMouseDown),document.addEventListener("mouse:start",u.onDragStart),document.addEventListener("mouse:move",u.onDragMove),document.addEventListener("mouse:stop",u.onDragStop),u.options.helper==="clone"||Wr(u.options.helper)||g0(u.element),u.element[u.dataProperty]=u,j(u.element,u.elementClass),u.findHandles().forEach(function(y){j(y,u.handleClass)}),u.trigger(new m1({draggable:u}))}),c(this,"onMouseDown",function(y){var w=y.detail;w.caller===u&&(u.disabled||u.reverting?w.cancel():u.isInsideHandle(w)||w.cancel())}),c(this,"onDragStart",function(y){var w=y.detail;if(w.caller===u){if(HM(w),u.dragging=!0,u.helper=u.createHelper(w),!u.helper)return w.cancel(),void u.clear();j(u.helper,u.helperClass),u.startEvent=w,u.cacheMargins(),u.cacheHelperSize(),u.cacheHelperAttrs(),u.position.absolute=je(u.element),u.calculateOffsets(w),u.calculatePosition(w,!1);var A=new _d({source:u.element,helper:u.helper,sensorEvent:w,originalEvent:w.originalEvent});u.trigger(A),A.canceled?u.onDragCancel(da(u.helper)):(u.cacheHelperSize(),Ht.prepareOffsets(u,w),u.onDragMove(y,!0),u.scrollListeners=Ls(u.element,"body").map(function(E){return Ne(E,"scroll",function(){return Ht.prepareOffsets(u,y)})}))}}),c(this,"onDragCancel",function(y){var w=y.detail;u.scrollListeners.forEach(function(A){return A()}),u.scrollListeners=[],Ht.onDragStop(u,w),u.findHandles().some(function(A){return A===w.target})&&f0(u.element,"focus"),u.sensors.forEach(function(A){return A.cancel(y)}),u.clear()}),c(this,"onDragMove",function(y){var w=arguments.length>1&&arguments[1]!==void 0&&arguments[1],A=y.detail;if(A.caller===u){u.helperAttrs.hasFixedParent&&(u.offset.parent=u.getParentOffset()),u.calculatePosition(A);var E=new wd({source:u.element,helper:u.helper,sensorEvent:A,originalEvent:A.originalEvent,position:u.position.current});w?u.plugins.forEach(function(P){E.canceled||P.onDragMove(E)}):u.trigger(E),E.canceled||(u.position.current=E.position,J(u.helper,{left:u.position.current.left+"px",top:u.position.current.top+"px"}),Ht.onDragMove(u,A))}}),c(this,"onDragStop",function(y){var w=y.detail;if(w.caller===u){var A=u.options,E=A.revert,P=A.revertDuration,O=u.position.original,N=new y1({source:u.element,helper:u.helper,droppable:Ht.drop(u,w),sensorEvent:w,originalEvent:w.originalEvent});E==="invalid"&&!N.droppable||E==="valid"&&N.droppable||Wr(E)&&E(u.element,N.droppable)||E?(u.reverting=!0,Pt({targets:[u.helper],left:O.left+"px",top:O.top+"px",duration:P,easing:"linear",complete:function(){u.reverting=!1,u.trigger(N),N.canceled||u.clear()}})):(u.trigger(N),N.canceled||u.clear())}}),!(h instanceof HTMLElement))throw new Error("Invalid element");this.element=h,this.options=i(i({},this.constructor.defaultOptions),fa(d)?d:{}),fa(p)&&ha(p,function(y,w){u.on(w,y)}),setTimeout(function(){u.setup()},0)}return l(a,[{key:"addPlugin",value:function(h){h instanceof R&&this.plugins.push(h)}},{key:"addSensor",value:function(h){h instanceof yc&&this.sensors.push(h)}},{key:"setDisabled",value:function(h){this.setOption("disabled",!!h)}},{key:"setOption",value:function(h,u){switch(h){case"appendTo":case"axis":case"connectToSortable":case"cursor":case"disabled":case"distance":case"grid":case"helper":case"opacity":case"revert":case"revertDuration":case"scope":case"scroll":case"scrollSensitivity":case"scrollSpeed":case"skip":case"stack":case"zIndex":this.options[h]=u;break;case"containment":this.options.containment=u,this.containmentCoords=void 0;break;default:throw new Error("The option ".concat(h," is invalid or can't be changed dinamically"))}}},{key:"on",value:function(h,u){this.emitter.on(h,u)}},{key:"off",value:function(h,u){this.emitter.off(h,u)}},{key:"cancel",value:function(){this.dragging?this.onDragCancel(da(this.helper)):this.clear()}},{key:"destroy",value:function(){var h=this;this.dragging?this.pendingDestroy=!0:(this.plugins.forEach(function(u){return u.detach()}),this.sensors.forEach(function(u){return u.detach()}),document.removeEventListener("mouse:start",this.onDragStart),document.removeEventListener("mouse:move",this.onDragMove),document.removeEventListener("mouse:stop",this.onDragStop),delete this.element[this.dataProperty],Be(this.element,this.elementClass),this.findHandles().forEach(function(u){Be(u,h.handleClass)}),this.trigger(new v1({draggable:this})))}},{key:"disabled",get:function(){return this.options.disabled}},{key:"dataProperty",get:function(){return"draggableInstance"}},{key:"elementClass",get:function(){return"ui-draggable"}},{key:"handleClass",get:function(){return"ui-draggable-handle"}},{key:"helperClass",get:function(){return"ui-draggable-helper"}},{key:"scope",get:function(){return this.options.scope}},{key:"proportions",get:function(){var h=this.position.absolute,u=this.margins,d=this.helperSize;return{left:h.left+u.left,top:h.top+u.top,right:h.left+u.left+d.width,bottom:h.top+u.top+d.height,width:d.width,height:d.height}}},{key:"trigger",value:function(h){this.emitter.emit(h.type,h),/^drag:/.test(h.type)&&(this.position.absolute=this.convertPosition(this.position.current,"absolute"))}},{key:"findHandles",value:function(){var h=this.options.handle;return h?mt(this.element,h):[this.element]}},{key:"isInsideHandle",value:function(h){var u=!1;return this.findHandles().forEach(function(d){u||d!==h.target&&!Tr(d,h.target)||(u=!0)}),u}},{key:"createHelper",value:function(h){var u=null,d=this.options,p=d.appendTo,y=d.helper;if(Wr(y)?u=y.apply(this.element,[h]):y==="clone"?((u=this.element.cloneNode(!0)).removeAttribute("id"),u.removeAttribute(this.dataProperty),u[this.dataProperty]=this):u=this.element,u instanceof HTMLElement){if(!Xe(u,"body")){var w=p==="parent"?this.element.parentNode:document.querySelector(p);w instanceof HTMLElement&&w.appendChild(u)}return Wr(y)&&u===this.element&&g0(this.element),u!==this.element&&m0(u),u}return null}},{key:"cacheMargins",value:function(){this.margins={left:ft(this.element,"marginLeft")||0,top:ft(this.element,"marginTop")||0,right:ft(this.element,"marginRight")||0,bottom:ft(this.element,"marginBottom")||0}}},{key:"cacheHelperSize",value:function(){this.helperSize={width:qe(this.helper),height:Je(this.helper)}}},{key:"cacheHelperAttrs",value:function(){this.helperAttrs={cssPosition:J(this.helper,"position"),scrollParent:FM(this.helper,!1),offsetParent:Wt(this.helper),hasFixedParent:Ls(this.helper).some(function(h){return J(h,"position")==="fixed"})}}},{key:"calculateOffsets",value:function(h){var u=this.position.absolute;this.offset.click={left:h.pageX-u.left-this.margins.left,top:h.pageY-u.top-this.margins.top},this.offset.parent=this.getParentOffset(),this.offset.relative=this.getRelativeOffset()}},{key:"getParentOffset",value:function(){var h=this.helperAttrs,u=h.cssPosition,d=h.scrollParent,p=h.offsetParent,y=tr(p)?{left:0,top:0}:je(p);return u==="absolute"&&d!==document&&Tr(d,p)&&(y.left+=bt(d),y.top+=vt(d)),{left:y.left+ft(p,"borderLeftWidth")||0,top:y.top+ft(p,"borderTopWidth")||0}}},{key:"getRelativeOffset",value:function(){var h=this.helperAttrs,u=h.cssPosition,d=h.scrollParent;if(u!=="relative")return{left:0,top:0};var p=$t(this.helper),y=!!d&&tr(d);return{left:p.left-(ft(this.helper,"left")||0)+(y?bt(d):0),top:p.top-(ft(this.helper,"top")||0)+(y?vt(d):0)}}},{key:"constraintPosition",value:function(h){var u={pageX:h.pageX,pageY:h.pageY};return this.plugins.forEach(function(d){u=d.constraintPosition(u)}),u}},{key:"calculatePosition",value:function(h){var u=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1]?this.constraintPosition(h):h,d=u.pageX,p=u.pageY,y=this.helperAttrs,w=y.cssPosition,A=y.offsetParent,E=y.scrollParent,P=tr(E);P&&this.offset.scroll||(this.offset.scroll={left:P?0:bt(E),top:P?0:vt(E)}),w==="relative"&&E===document&&E!==A&&(this.offset.relative=this.getRelativeOffset());var O=this.offset,N=O.click,x=O.scroll,V=O.parent,Y=O.relative,Q={left:d-N.left-V.left-Y.left+(w==="fixed"?-x.left:P?0:x.left),top:p-N.top-V.top-Y.top+(w==="fixed"?-x.top:P?0:x.top)};this.position.original||(this.position.original=Q),this.position.current=Q,this.position.absolute=this.convertPosition(Q,"absolute")}},{key:"convertPosition",value:function(h,u){var d=this.helperAttrs,p=d.cssPosition,y=d.scrollParent,w=this.offset,A=w.scroll,E=w.parent,P=w.relative,O=u==="absolute"?1:-1,N=tr(y);return{left:h.left+E.left*O+P.left*O-(p==="fixed"?-A.left:(N?0:A.left)*O),top:h.top+E.top*O+P.top*O-(p==="fixed"?-A.top:(N?0:A.top)*O)}}},{key:"clear",value:function(){if(this.helper){var h=this.options.helper;Be(this.helper,this.helperClass),this.dragging=!1,this.helper&&h==="clone"&&!this.cancelHelperRemoval&&this.helper.parentNode.removeChild(this.helper),this.cancelHelperRemoval=!1,this.helper=null}this.pendingDestroy&&(this.destroy(),this.pendingDestroy=!1)}}]),a}();c(ga,"defaultOptions",{appendTo:"parent",axis:null,connectToSortable:null,containment:null,cursor:null,disabled:!1,distance:0,grid:null,handle:null,helper:"original",opacity:null,revert:!1,revertDuration:200,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:10,skip:"input, textarea, button, select, option",stack:null,zIndex:null});var Ac=function(a){f(u,a);var h=m(u);function u(){return s(this,u),h.apply(this,arguments)}return l(u,[{key:"droppable",get:function(){return this.data.droppable||null}}]),u}(Er);c(Ac,"type","droppable");var _1=function(a){f(u,a);var h=m(u);function u(){return s(this,u),h.apply(this,arguments)}return l(u)}(Ac);c(_1,"type","droppable:init");var Us=function(a){f(u,a);var h=m(u);function u(){return s(this,u),h.apply(this,arguments)}return l(u,[{key:"sensorEvent",get:function(){return this.data.sensorEvent||null}},{key:"draggable",get:function(){return this.data.draggable||null}}]),u}(Ac);c(Us,"type","droppable:activate");var w1=function(a){f(u,a);var h=m(u);function u(){return s(this,u),h.apply(this,arguments)}return l(u)}(Us);c(w1,"type","droppable:over");var b1=function(a){f(u,a);var h=m(u);function u(){return s(this,u),h.apply(this,arguments)}return l(u)}(Us);c(b1,"type","droppable:drop");var A1=function(a){f(u,a);var h=m(u);function u(){return s(this,u),h.apply(this,arguments)}return l(u)}(Us);c(A1,"type","droppable:out");var S1=function(a){f(u,a);var h=m(u);function u(){return s(this,u),h.apply(this,arguments)}return l(u)}(Us);c(S1,"type","droppable:deactivate");var E1=function(a){f(u,a);var h=m(u);function u(){return s(this,u),h.apply(this,arguments)}return l(u)}(Ac);c(E1,"type","droppable:destroy");var bd=function(){function a(h){var u=this,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(s(this,a),c(this,"element",null),c(this,"isOver",!1),c(this,"visible",!0),c(this,"greedyChild",!1),c(this,"emitter",new g1),c(this,"options",{}),c(this,"size",null),c(this,"offset",null),c(this,"setup",function(){var y=u.options.scope;u.element[u.dataProperty]=u,j(u.element,u.elementClass),Ht.addDroppable(u,y),u.trigger(new _1({droppable:u}))}),!(h instanceof HTMLElement))throw new Error("Invalid element");this.element=h,this.options=i(i({},this.constructor.defaultOptions),fa(d)?d:{}),fa(p)&&ha(p,function(y,w){u.on(w,y)}),setTimeout(this.setup,0)}return l(a,[{key:"setDisabled",value:function(h){this.setOption("disabled",!!h)}},{key:"setOption",value:function(h,u){switch(h){case"accept":case"disabled":case"greedy":case"tolerance":this.options[h]=u;break;case"scope":u!==this.options.scope&&(Ht.removeDroppable(this,this.options.scope),this.options.scope=u,Ht.addDroppable(this,u));break;default:throw new Error("The option ".concat(h," is invalid or can't be changed dinamically"))}}},{key:"destroy",value:function(){var h=this.options.scope;delete this.element[this.dataProperty],Be(this.element,this.elementClass),Ht.removeDroppable(this,h),this.trigger(new E1({droppable:this}))}},{key:"disabled",get:function(){return this.options.disabled}},{key:"dataProperty",get:function(){return"droppableInstance"}},{key:"elementClass",get:function(){return"ui-droppable"}},{key:"activeClass",get:function(){return"ui-droppable-active"}},{key:"hoverClass",get:function(){return"ui-droppable-hover"}},{key:"greedy",get:function(){return this.options.greedy}},{key:"scope",get:function(){return this.options.scope}},{key:"proportions",get:function(){return this.offset||(this.offset=je(this.element)),this.size||(this.size={width:qe(this.element),height:Je(this.element)}),{left:this.offset.left,top:this.offset.top,right:this.offset.left+this.size.width,bottom:this.offset.top+this.size.height,width:this.size.width,height:this.size.height}}},{key:"refreshVisibility",value:function(){this.visible=J(this.element,"display")!=="none"}},{key:"refreshProportions",value:function(){this.offset=je(this.element),this.size={width:qe(this.element),height:Je(this.element)}}},{key:"intersect",value:function(h,u){var d=this.options.tolerance;return!(this.disabled||this.greedyChild||!this.visible)&&function(p,y,w,A){switch(w){case"fit":return p.left>=y.left&&p.top>=y.top&&p.right>=y.right&&p.bottom>=y.bottom;case"intersect":return y.left<p.left+p.width/2&&y.right>p.right-p.width/2&&y.top<p.top+p.height/2&&y.bottom>p.bottom-p.height/2;case"pointer":return A.pageX>y.left&&A.pageX<y.right&&A.pageY>y.top&&A.pageY<y.bottom;case"touch":return(p.left>=y.left&&p.left<=y.right||p.right>=y.left&&p.right<=y.right||p.left<y.left&&p.right>y.right)&&(p.top>=y.top&&p.top<=y.top||p.bottom>=y.bottom&&p.bottom<=y.bottom||p.top<y.top&&p.bottom>y.bottom);default:return!1}}(h.proportions,this.proportions,d,u)}},{key:"accept",value:function(h){var u=this.options.accept;return!(this.disabled||!this.visible)&&!!h&&(u==="*"||(Wr(u)?u(h.currentItem||h.element):xe(h.currentItem||h.element,u)))}},{key:"activate",value:function(h){var u=Ht.draggable;j(this.element,this.activeClass),u&&this.trigger(new Us({droppable:this,sensorEvent:h,draggable:u}))}},{key:"over",value:function(h){var u=Ht.draggable;u&&(u.currentItem||u.element)!==this.element&&this.accept(u)&&(j(this.element,this.hoverClass),this.isOver=!0,this.trigger(new w1({droppable:this,sensorEvent:h,draggable:u})))}},{key:"drop",value:function(h){var u=this,d=Ht.draggable,p=!1;if(d&&(d.currentItem&&d.element)!==this.element){if(mt(this.element,":not(.ui-draggable-dragging)").filter(function(y){return y[u.dataProperty]}).forEach(function(y){var w=y[u.dataProperty];!p&&w.greedy&&w.scope===d.scope&&w.intersect(d,h)&&w.accept(d)&&(p=!0)}),p)return null;if(this.accept(d))return Be(this.element,this.activeClass),Be(this.element,this.hoverClass),this.isOver=!1,this.trigger(new b1({droppable:this,sensorEvent:h,draggable:d})),this}return null}},{key:"out",value:function(h){var u=Ht.draggable;u&&(u.currentItem||u.element)!==this.element&&this.accept(u)&&(Be(this.element,this.hoverClass),this.isOver=!1,this.trigger(new A1({droppable:this,sensorEvent:h,draggable:u})))}},{key:"deactivate",value:function(h){var u=Ht.draggable;Be(this.element,this.activeClass),this.isOver=!1,u&&this.trigger(new S1({droppable:this,sensorEvent:h,draggable:u}))}},{key:"on",value:function(h,u){this.emitter.on(h,u)}},{key:"off",value:function(h,u){this.emitter.off(h,u)}},{key:"trigger",value:function(h){this.emitter.emit(h.type,h)}}]),a}();c(bd,"defaultOptions",{accept:"*",disabled:!1,greedy:!1,scope:"default",tolerance:"intersect"});var Sc=function(a){f(u,a);var h=m(u);function u(){return s(this,u),h.apply(this,arguments)}return l(u,[{key:"source",get:function(){return this.data.source||null}},{key:"helper",get:function(){return this.data.helper||null}},{key:"placeholder",get:function(){return this.data.placeholder||null}},{key:"sensorEvent",get:function(){return this.data.sensorEvent||null}},{key:"originalEvent",get:function(){return this.data.originalEvent||null}}]),u}(Er);c(Sc,"type","sort");var Ad=function(a){f(u,a);var h=m(u);function u(){return s(this,u),h.apply(this,arguments)}return l(u)}(Sc);c(Ad,"type","sort:start"),c(Ad,"cancelable",!0);var Sd=function(a){f(u,a);var h=m(u);function u(){return s(this,u),h.apply(this,arguments)}return l(u,[{key:"position",get:function(){return this.data.position||null}}]),u}(Sc);c(Sd,"type","sort:move"),c(Sd,"cancelable",!0);var Ed=function(a){f(u,a);var h=m(u);function u(){return s(this,u),h.apply(this,arguments)}return l(u,[{key:"droppable",get:function(){return this.data.droppable||null}}]),u}(Sc);c(Ed,"type","sort:stop"),c(Ed,"cancelable",!0);var Td=function(a){f(u,a);var h=m(u);function u(){var d;s(this,u);for(var p=arguments.length,y=new Array(p),w=0;w<p;w++)y[w]=arguments[w];return c(_(d=h.call.apply(h,[this].concat(y))),"connectedSortables",[]),c(_(d),"currentConnectedSortable",null),c(_(d),"connectedDraggable",null),c(_(d),"items",[]),c(_(d),"currentItem",null),c(_(d),"currentItemStyle",{}),c(_(d),"currentItemProps",null),c(_(d),"elementProportions",null),c(_(d),"placeholder",null),c(_(d),"isOver",!1),c(_(d),"isDraggableOver",!1),c(_(d),"floating",!1),c(_(d),"previousPosition",null),c(_(d),"resetCurrentItem",!1),c(_(d),"rearrangeIteration",0),c(_(d),"setup",function(){d.addPlugin(new y0(_(d))),d.addPlugin(new T0(_(d))),d.addPlugin(new I0(_(d))),d.addPlugin(new Hi(_(d),"cursor")),d.addPlugin(new Hi(_(d),"opacity")),d.addPlugin(new Hi(_(d),"zIndex")),d.addPlugin(new v0(_(d))),d.addSensor(new md(_(d))),document.addEventListener("mouse:down",d.onMouseDown),document.addEventListener("mouse:start",d.onDragStart),document.addEventListener("mouse:move",d.onDragMove),document.addEventListener("mouse:stop",d.onDragStop),d.element[d.dataProperty]=_(d),j(d.element,d.elementClass),d.refresh(),d.offset.element=je(d.element),d.trigger(new _0({sortable:_(d)}))}),c(_(d),"onMouseDown",function(A){var E=A.detail;E.caller===_(d)&&(d.disabled||d.reverting?E.cancel():d.findItem(E)||E.cancel())}),c(_(d),"onDragStart",function(A){var E=arguments.length>1&&arguments[1]!==void 0&&arguments[1],P=arguments.length>2&&arguments[2]!==void 0&&arguments[2],O=A.detail;if(O.caller===_(d)||P)if(d.disabled||d.reverting)O.cancel();else if(d.refreshItems(),d.currentItem=d.findItem(O),d.currentItem)if(d.currentItemProps={previous:d.currentItem.previousElementSibling,parent:d.currentItem.parentNode,previousIndex:u0(d.currentItem)},d.refreshPositions(),d.isInsideHandle(O))if(d.helper=d.createHelper(O),d.helper){d.createPlaceholder(),j(d.helper,d.helperClass),d.cacheMargins(),d.currentConnectedSortable=_(d),d.dragging=!0,d.cacheHelperSize(),d.helperAttrs={scrollParent:zt(d.helper,!1)},d.startEvent=O,d.calculateOffsets(O),d.calculatePosition(O,!1),d.items=d.items.filter(function(x){return x.element!==d.currentItem}),m0(d.helper),d.helperAttrs.cssPosition="absolute",d.helper!==d.currentItem&&Bf(d.currentItem);var N=new Ad({source:d.currentItem,sensorEvent:O,originalEvent:O.originalEvent});d.trigger(N),N.canceled?d.onDragCancel(da(d.helper)):(d.cacheHelperSize(),E||d.connectedSortables.forEach(function(x){x.trigger(new Vs({sortable:x,sensorEvent:O,peerSortable:_(d)}))}),Ht.prepareOffsets(_(d),O),d.onDragMove(A,!0,P),d.scrollListeners=Ls(d.element,"body").map(function(x){return Ne(x,"scroll",function(){return Ht.prepareOffsets(_(d),A)})}))}else O.cancel();else O.cancel();else O.cancel()}),c(_(d),"onDragCancel",function(A){var E=A.detail;d.scrollListeners.forEach(function(P){return P()}),d.scrollListeners=[],Ht.onDragStop(_(d),E),d.sensors.forEach(function(P){return P.cancel(A)}),d.clear()}),c(_(d),"onDragMove",function(A){var E=arguments.length>1&&arguments[1]!==void 0&&arguments[1],P=arguments.length>2&&arguments[2]!==void 0&&arguments[2],O=A.detail;if(O.caller===_(d)&&d.dragging||P){if(d.calculatePosition(O),d.previousPosition||(d.previousPosition=d.position.absolute),!E){var N=new Sd({source:d.currentItem,helper:d.helper,placeholder:d.placeholder,sensorEvent:O,originalEvent:O.originalEvent,position:d.position.current});if(d.trigger(N),N.canceled)return}J(d.helper,{left:d.position.current.left+"px",top:d.position.current.top+"px"});var x=null;d.items.forEach(function(V){if(!x&&V.instance===d.currentConnectedSortable){var Y=d.getPointerIntersection(V);if(Y){var Q=d.options.tolerance,Z=V.element;if(Z!==d.currentItem&&Z!==d.placeholder[Y===1?"nextElementSibling":"previousElementSibling"]&&!Tr(d.placeholder,Z)){var ee=Y===1?"down":"up";(Q==="pointer"||d.intersectsWithSides(V))&&(d.rearrange(null,V,ee),d.trigger(new qf({sortable:_(d)})),x=V)}}}}),d.contactSortables(O),Ht.onDragMove(_(d),O),d.previousPosition=d.position.absolute}}),c(_(d),"onDragStop",function(A){var E=arguments.length>1&&arguments[1]!==void 0&&arguments[1],P=A.detail;if(P.caller===_(d)&&d.dragging||E){var O=d.options,N=O.revert,x=O.revertDuration,V=d.position.original,Y=new Ed({source:d.currentItem,helper:d.helper,droppable:Ht.drop(_(d),P),sensorEvent:P,originalEvent:P.originalEvent});N==="invalid"&&!Y.droppable||N==="valid"&&Y.droppable||Wr(N)&&N(d.currentItem,Y.droppable)||N?(d.reverting=!0,Pt({targets:[d.helper],left:V.left+"px",top:V.top+"px",duration:x,easing:"linear",complete:function(){d.reverting=!1,d.trigger(Y),Y.canceled||d.clear()}})):(d.trigger(Y),Y.canceled||(d.applyChanges(),d.clear()))}}),d}return l(u,[{key:"setOption",value:function(d,p){switch(d){case"appendTo":case"axis":case"connectWith":case"cursor":case"disabled":case"distance":case"dropOnEmpty":case"forceHelperSize":case"forcePlaceholderSize":case"hidePlaceholder":case"grid":case"items":case"helper":case"opacity":case"revert":case"revertDuration":case"scope":case"scroll":case"scrollSensitivity":case"scrollSpeed":case"skip":case"tolerance":case"zIndex":this.options[d]=p;break;case"containment":this.options.containment=p,this.containmentCoords=void 0;break;default:throw new Error("The option ".concat(d," is invalid or can't be changed dinamically"))}}},{key:"cancel",value:function(){this.resetCurrentItem=!0,b(g(u.prototype),"cancel",this).call(this)}},{key:"destroy",value:function(){var d=this;this.dragging?this.pendingDestroy=!0:(this.plugins.forEach(function(p){return p.detach()}),this.sensors.forEach(function(p){return p.detach()}),document.removeEventListener("mouse:start",this.onDragStart),document.removeEventListener("mouse:move",this.onDragMove),document.removeEventListener("mouse:stop",this.onDragStop),delete this.element[this.dataProperty],Be(this.element,this.elementClass),this.items.forEach(function(p){return delete p.element[d.dataProperty]}),this.findHandles().forEach(function(p){Be(p,d.handleClass)}),this.trigger(new S0({sortable:this})))}},{key:"dataProperty",get:function(){return Hs}},{key:"elementClass",get:function(){return"ui-sortable"}},{key:"handleClass",get:function(){return"ui-sortable-handle"}},{key:"helperClass",get:function(){return"ui-sortable-helper"}},{key:"placeholderClass",get:function(){return"ui-sortable-placeholder"}},{key:"over",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.isOver||(this.trigger(new w0({sortable:this,peerSortable:d,draggable:p})),this.isOver=!0)}},{key:"out",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.isOver&&(this.trigger(new A0({sortable:this,peerSortable:d,draggable:p})),this.isOver=!1)}},{key:"refresh",value:function(){var d=this;this.refreshItems(),this.refreshPositions(),this.findHandles().forEach(function(p){j(p,d.handleClass)})}},{key:"refreshItems",value:function(){var d=this,p=this.options.connectWith;this.connectedSortables=[this],this.items=this.findItems(),(p?mt(document,p):[]).forEach(function(y){var w=y[d.dataProperty];w&&w!==d&&!w.disabled&&(d.items=d.items.concat(w.findItems(null,d.currentItem)),d.connectedSortables.push(w))})}},{key:"refreshPositions",value:function(){var d=this,p=this.options.axis;this.floating=!!this.items.length&&(p==="x"||d0(this.items[0].element)),this.helper&&this.helperAttrs&&this.helperAttrs.offsetParent&&(this.offset.parent=this.getParentOffset()),this.items.forEach(function(y){if(!d.currentConnectedSortable||d.currentConnectedSortable===d||y.element===d.currentItem){var w=je(y.element),A=w.width,E=w.height,P=w.left,O=w.top;y.width=A,y.height=E,y.left=P,y.top=O}}),this.connectedSortables.forEach(function(y){return y.cacheElementProportions()})}},{key:"findItem",value:function(d){var p=this,y=Ls(d.target).find(function(w){return w!==p.element&&w[p.dataProperty]===p});return y||d.target===this.element||d.target[this.dataProperty]!==this||(y=d.target),y}},{key:"findItems",value:function(){var d=this,p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,w=[],A=this.options.items,E=function(P){return P[d.dataProperty]=d,{element:P,instance:d,width:0,height:0,left:0,top:0}};if(Wr(A)){if(w=A({options:this.options,item:y||this.currentItem}),!Array.isArray(w))return[]}else w=A?mt(this.element,A):LM(this.element.childNodes).filter(function(P){return P.nodeType===1});return Wr(p)?w.filter(p).map(E):w.map(E)}},{key:"findClosestItem",value:function(d,p){var y=this,w=null,A=1e4,E=p.floating||d0(this.currentItem),P=!1,O=null,N=E?"pageX":"pageY";return this.items.forEach(function(x){Tr(p.element,x.element)&&x.element!==y.currentItem&&(P=!1,O=je(x.element)[E?"left":"top"],d[N]-O>x[E?"width":"height"]/2&&(P=!0),Math.abs(d[N]-O)<A&&(A=Math.abs(d[N]-O),w=x))}),{item:w,nearBottom:P}}},{key:"findHandles",value:function(){var d=[],p=this.options.handle;return this.items.forEach(function(y){p?d=d.concat(mt(y.element,p)):d.push(y.element)}),d}},{key:"createHelper",value:function(d){var p=null,y=this.options,w=y.appendTo,A=y.helper,E=y.forceHelperSize;if(Wr(A)?p=A.apply(this.element,[d,this.currentItem]):A==="clone"?((p=this.currentItem.cloneNode(!0)).removeAttribute("id"),p.removeAttribute(this.dataProperty),p[this.dataProperty]=this):p=this.currentItem,p instanceof HTMLElement){if(!Xe(p,"body")){var P=w==="parent"?this.currentItem.parentNode:document.querySelector(w);if(!(P instanceof HTMLElement))return null;P.appendChild(p)}return p===this.currentItem&&(this.currentItemStyle={width:qe(this.currentItem),height:Je(this.currentItem),position:J(this.currentItem,"position"),left:J(this.currentItem,"left"),top:J(this.currentItem,"top")}),p.style.width&&!E||J(p,{width:qe(this.currentItem)+"px",boxSizing:"border-box"}),p.style.height&&!E||J(p,{height:Je(this.currentItem)+"px",boxSizing:"border-box"}),p}return null}},{key:"createPlaceholder",value:function(){if(this.placeholder)this.updatePlaceholder(this,this.placeholder);else{var d=this.currentItem.nodeName.toLowerCase(),p=document.createElement(d);if(p.className=this.currentItem.className,j(p,this.placeholderClass),Be(p,this.helperClass),d==="thead"||d==="tbody"){var y=document.createElement("tr");p.appendChild(y),this.createTableRowPlaceholder(this.currentItem.querySelector("tr"),y,d==="thead"?"th":"tr")}else d==="tr"?this.createTableRowPlaceholder(this.currentItem,p,"tr"):d==="img"&&p.setAttribute("src",this.currentItem.getAttribute("src"));this.placeholder=Wf(p,this.currentItem),this.updatePlaceholder(this,p)}}},{key:"createTableRowPlaceholder",value:function(d,p,y){mt(d,y).forEach(function(w){var A=document.createElement(y);A.innerHTML="&#160;",A.setAttribute("colspan",w.getAttribute("colspan")),p.appendChild(A)})}},{key:"updatePlaceholder",value:function(d,p){var y=d.options,w=y.forcePlaceholderSize;y.hidePlaceholder?J(p,{visibility:"hidden"}):w&&(qe(p)||J(p,{width:qe(this.currentItem)+"px"}),Je(p)||J(p,{height:Je(this.currentItem)+"px"}))}},{key:"cacheMargins",value:function(){this.margins={left:parseInt(J(this.currentItem,"marginLeft"),10)||0,top:parseInt(J(this.currentItem,"marginTop"),10)||0,right:parseInt(J(this.currentItem,"marginRight"),10)||0,bottom:parseInt(J(this.currentItem,"marginBottom"),10)||0}}},{key:"cacheElementProportions",value:function(){this.elementProportions=je(this.element)}},{key:"calculateOffsets",value:function(d){var p=je(this.currentItem);this.offset.click={left:d.pageX-p.left-this.margins.left,top:d.pageY-p.top-this.margins.top},this.offset.parent=this.getParentOffset(),this.offset.relative=this.getRelativeOffset()}},{key:"getParentOffset",value:function(){return this.helperAttrs.offsetParent=Wt(this.helper),b(g(u.prototype),"getParentOffset",this).call(this)}},{key:"calculatePosition",value:function(d){var p=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1]?this.constraintPosition(d):d,y=p.pageX,w=p.pageY,A=this.helperAttrs.scrollParent,E=this.helperAttrs,P=E.cssPosition,O=E.offsetParent,N=tr(A);P!=="absolute"||A!==document&&Tr(A,O)||(N=tr(A=O)),P==="relative"&&A===document&&A!==O&&(this.offset.relative=this.getRelativeOffset()),this.offset.scroll={left:bt(A),top:vt(A)};var x=this.offset,V=x.click,Y=x.parent,Q=x.relative,Z=x.scroll,ee={left:y-V.left-Y.left-Q.left+(P==="fixed"?-Z.left:N?0:Z.left),top:w-V.top-Y.top-Q.top+(P==="fixed"?-Z.top:N?0:Z.top)};this.position.original||(this.position.original=ee),this.position.current=ee,this.position.absolute=this.convertPosition(ee,"absolute")}},{key:"convertPosition",value:function(d,p){var y=this.helperAttrs.scrollParent,w=this.helperAttrs,A=w.cssPosition,E=w.offsetParent,P=this.offset,O=P.parent,N=P.relative,x=p==="absolute"?1:-1,V=tr(y);return A!=="absolute"||y!==document&&Tr(y,E)||(V=tr(y=E)),{left:d.left+O.left*x+N.left*x-(A==="fixed"?-bt(y):(V?0:bt(y))*x),top:d.top+O.top*x+N.top*x-(A==="fixed"?-vt(y):(V?0:vt(y))*x)}}},{key:"getDragDirection",value:function(d){var p=this.position.absolute[d==="x"?"left":"top"]-this.previousPosition[d==="x"?"left":"top"];return p!==0?p>0?d==="x"?"right":"down":d==="x"?"left":"up":null}},{key:"getPointerIntersection",value:function(d){var p=this.options.axis,y=this.offset.click,w=this.position.absolute,A=w.left+y.left,E=w.top+y.top;if(!((p==="y"||A>=d.left&&A<d.left+d.width)&&(p==="x"||E>=d.top&&E<d.top+d.height)))return 0;var P=this.getDragDirection("x"),O=this.getDragDirection("y");return this.floating?P==="right"||O==="bottom"?2:1:O==="down"?2:1}},{key:"intersectsWith",value:function(d){var p=this.options,y=p.axis,w=p.tolerance,A=this.helperSize,E=A.width,P=A.height,O=this.offset.click,N=this.position.absolute,x=N.left+O.left,V=N.top+O.top;return N.left,O.left,N.top,O.top,w==="pointer"||this.floating&&E>d.width||!this.floating&&P>d.height?(y==="y"||x>d.left&&x<d.left+d.width)&&(y==="x"||V>d.top&&V<d.top+d.height):d.left<N.left+E/2&&d.left+d.width>N.left+E/2&&d.top<N.top+P/2&&d.top+d.height>N.top+P/2}},{key:"intersectsWithSides",value:function(d){var p=d.width,y=d.height,w=d.left,A=d.top,E=this.offset.click,P=this.position.absolute,O=P.left+E.left,N=P.top+E.top,x=w+p/2,V=A+y/2,Y=this.getDragDirection("x"),Q=this.getDragDirection("y");return this.floating&&Y?Y==="right"&&O>=x&&O<x+p||Y==="left"&&!(O>=x&&O<x+p):Q==="down"&&N>=V&&N<V+y||Q==="up"&&!(N>=V&&N<V+y)}},{key:"contactSortables",value:function(d){var p=this,y=null,w=null,A=new qf({sortable:this});this.connectedSortables.forEach(function(E){Tr(p.currentItem,E.element)||(p.intersectsWith(E.elementProportions)?y&&Tr(E.element,y.element)||(y=E):E.out(p))}),y&&(this.connectedSortables.length===1?y.over(null):((w=this.findClosestItem(d,y)).item||this.options.dropOnEmpty)&&(this.currentConnectedSortable===y?y.over(this):(w.item?this.rearrange(null,w.item,w.nearBottom?"up":"down"):this.rearrange(y.element),this.trigger(A),y.over(this),y.trigger(A),this.currentConnectedSortable=y,this.updatePlaceholder(y,this.placeholder))))}},{key:"rearrange",value:function(){var d=this,p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(p instanceof HTMLElement)p.appendChild(this.placeholder);else{if(!(y&&y.element instanceof HTMLElement))return;y.element.parentNode.insertBefore(this.placeholder,w==="down"?y.element:y.element.nextSibling)}this.rearrangeIteration=this.rearrangeIteration?this.rearrangeIteration++:1;var A=this.rearrangeIteration;setTimeout(function(){A===d.rearrangeIteration&&d.refreshPositions()})}},{key:"applyChanges",value:function(){var d=this,p=null;if(this.helper&&this.currentItem&&(h0(this.currentItem,this.placeholder),p=u0(this.currentItem),this.helper===this.currentItem?(ha(this.currentItemStyle,function(E,P){E!=="auto"&&E!=="static"||(d.currentItemStyle[P]="")}),J(this.currentItem,this.currentItemStyle)):l0(this.currentItem),this.resetCurrentItem)){var y=this.currentItemProps,w=y.previous,A=y.parent;w?Wf(this.currentItem,w):h0(this.currentItem,A.firstElementChild),this.resetCurrentItem=!1}this.connectedDraggable&&this.trigger(new Gf({sortable:this,item:this.connectedDraggable.element,newIndex:p,draggable:this.connectedDraggable})),(this.connectedDraggable||this.currentItemProps.previous!==function(E,P,O){for(var N=null,x=E,V=P==="previous"?"previousElementSibling":"nextElementSibling";x&&x[V];){if(!O||!xe(x[V],O)){N=x[V];break}x=x[V]}return N}(this.currentItem,"previous",".".concat(this.helperClass))||this.currentItemProps.parent!==this.currentItem.parentNode)&&this.trigger(new Kf({sortable:this,item:this.currentItem,previousIndex:this.currentItemProps.previousIndex,newIndex:p,peerSortable:this.currentConnectedSortable!==this?this.currentConnectedSortable:null})),this.currentConnectedSortable!==this&&(this.trigger(new b0({sortable:this,item:this.currentItem,previousIndex:this.currentItemProps.previousIndex,peerSortable:this.currentConnectedSortable})),this.currentConnectedSortable.trigger(new Gf({sortable:this.currentConnectedSortable,item:this.currentItem,newIndex:p,peerSortable:this})),this.currentConnectedSortable.trigger(new Kf({sortable:this.currentConnectedSortable,peerSortable:this,previousIndex:this.currentItemProps.previousIndex,newIndex:p}))),this.connectedSortables.forEach(function(E){E.out(d),E.trigger(new Yf({sortable:E,peerSortable:d}))})}},{key:"clear",value:function(){this.placeholder&&(this.placeholder.parentNode&&this.placeholder.parentNode.removeChild(this.placeholder),this.placeholder=null),this.helper&&(Be(this.helper,this.helperClass),this.helper===this.currentItem||this.cancelHelperRemoval||this.helper.parentNode.removeChild(this.helper),this.cancelHelperRemoval=!1,this.helper=null),this.connectedDraggable=null,this.currentItem=null,this.currentItemProps=null,this.dragging=!1,this.pendingDestroy&&(this.destroy(),this.pendingDestroy=!1)}}]),u}(ga);c(Td,"defaultOptions",{appendTo:"parent",axis:null,connectWith:null,containment:null,cursor:null,disabled:!1,distance:0,dropOnEmpty:!0,forceHelperSize:!1,forcePlaceholderSize:!1,hidePlaceholder:!1,grid:null,handle:null,helper:"original",items:null,opacity:null,revert:!1,revertDuration:200,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:10,skip:"input, textarea, button, select, option",tolerance:"intersect",zIndex:null});var T1=zo,Ec=Ot,Id=On,ON=ws,MN=Id("species"),NN=!Ec(function(){var a=/./;return a.exec=function(){var h=[];return h.groups={a:"7"},h},"".replace(a,"$<a>")!=="7"}),I1="a".replace(/./,"$0")==="$0",k1=Id("replace"),C1=!!/./[k1]&&/./[k1]("a","$0")==="",LN=!Ec(function(){var a=/(?:)/,h=a.exec;a.exec=function(){return h.apply(this,arguments)};var u="ab".split(a);return u.length!==2||u[0]!=="a"||u[1]!=="b"}),VN=xh,HN=Zn,P1=function(a){return function(h,u){var d,p,y=String(HN(h)),w=VN(u),A=y.length;return w<0||w>=A?a?"":void 0:(d=y.charCodeAt(w))<55296||d>56319||w+1===A||(p=y.charCodeAt(w+1))<56320||p>57343?a?y.charAt(w):d:a?y.slice(w,w+2):p-56320+(d-55296<<10)+65536}},FN={codeAt:P1(!1),charAt:P1(!0)}.charAt,xN=Jn,UN=Ef,BN=function(a,h,u,d){var p=Id(a),y=!Ec(function(){var N={};return N[p]=function(){return 7},""[a](N)!=7}),w=y&&!Ec(function(){var N=!1,x=/a/;return a==="split"&&((x={}).constructor={},x.constructor[MN]=function(){return x},x.flags="",x[p]=/./[p]),x.exec=function(){return N=!0,null},x[p](""),!N});if(!y||!w||a==="replace"&&(!NN||!I1||C1)||a==="split"&&!LN){var A=/./[p],E=u(p,""[a],function(N,x,V,Y,Q){return x.exec===RegExp.prototype.exec?y&&!Q?{done:!0,value:A.call(x,V,Y)}:{done:!0,value:N.call(V,x,Y)}:{done:!1}},{REPLACE_KEEPS_$0:I1,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:C1}),P=E[0],O=E[1];T1(String.prototype,a,P),T1(RegExp.prototype,p,h==2?function(N,x){return O.call(N,this,x)}:function(N){return O.call(N,this)})}d&&ON(RegExp.prototype[p],"sham",!0)},WN=yr,zN=As,jN=Zn,qN=function(a,h,u){return h+(u?FN(a,h).length:1)},R1=function(a,h){var u=a.exec;if(typeof u=="function"){var d=u.call(a,h);if(typeof d!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return d}if(xN(a)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return UN.call(a,h)};BN("match",1,function(a,h,u){return[function(d){var p=jN(this),y=d==null?void 0:d[a];return y!==void 0?y.call(d,p):new RegExp(d)[a](String(p))},function(d){var p=u(h,d,this);if(p.done)return p.value;var y=WN(d),w=String(this);if(!y.global)return R1(y,w);var A=y.unicode;y.lastIndex=0;for(var E,P=[],O=0;(E=R1(y,w))!==null;){var N=String(E[0]);P[O]=N,N===""&&(y.lastIndex=qN(w,zN(y.lastIndex),A)),O++}return O===0?null:P}]});var GN=Ot,D1=ec,KN=If.trim;tn({target:"String",proto:!0,forced:function(a){return GN(function(){return!!D1[a]()||""[a]()!=""||D1[a].name!==a})}("trim")},{trim:function(){return KN(this)}});var YN=tn,QN=jv.indexOf,$N=Qo,O1=[].indexOf,M1=!!O1&&1/[1].indexOf(1,-0)<0,XN=$N("indexOf");YN({target:"Array",proto:!0,forced:M1||!XN},{indexOf:function(a){return M1?O1.apply(this,arguments)||0:QN(this,a,arguments.length>1?arguments[1]:void 0)}});var JN=Lf.isFinite,Mn=L(function(a){return typeof a=="number"&&JN(a)}),ZN=Os,e4=uc,t4=Ms,n4=L(function(a){return typeof a=="string"||!e4(a)&&t4(a)&&ZN(a)=="[object String]"}),kd=function(a){f(u,a);var h=m(u);function u(){return s(this,u),h.apply(this,arguments)}return l(u,[{key:"resizable",get:function(){return this.data.resizable||null}}]),u}(Er);c(kd,"type","resizable");var N1=function(a){f(u,a);var h=m(u);function u(){return s(this,u),h.apply(this,arguments)}return l(u)}(kd);c(N1,"type","resizable:init");var L1=function(a){f(u,a);var h=m(u);function u(){return s(this,u),h.apply(this,arguments)}return l(u)}(kd);c(L1,"type","resizable:destroy");var Cd=function(a){f(u,a);var h=m(u);function u(){return s(this,u),h.apply(this,arguments)}return l(u,[{key:"element",get:function(){return this.data.element||null}},{key:"helper",get:function(){return this.data.helper||null}},{key:"originalElement",get:function(){return this.data.originalElement||null}},{key:"originalSize",get:function(){return this.data.originalSize||null}},{key:"originalPosition",get:function(){return this.data.originalPosition||null}},{key:"size",get:function(){return this.data.size||null}},{key:"position",get:function(){return this.data.position||null}},{key:"sensorEvent",get:function(){return this.data.sensorEvent||null}},{key:"originalEvent",get:function(){return this.data.originalEvent||null}}]),u}(Er),Pd=function(a){f(u,a);var h=m(u);function u(){return s(this,u),h.apply(this,arguments)}return l(u)}(Cd);c(Pd,"type","resize:start"),c(Pd,"cancelable",!0);var Rd=function(a){f(u,a);var h=m(u);function u(){return s(this,u),h.apply(this,arguments)}return l(u)}(Cd);c(Rd,"type","resize:change"),c(Rd,"cancelable",!0);var Dd=function(a){f(u,a);var h=m(u);function u(){return s(this,u),h.apply(this,arguments)}return l(u)}(Cd);c(Dd,"type","resize:stop"),c(Dd,"cancelable",!0);var r4={n:function(a,h){return{height:Math.max(a.size.height-h.y,0),top:a.position.top+h.y}},s:function(a,h){return{height:Math.max(a.size.height+h.y,0)}},e:function(a,h){return{width:Math.max(a.size.width+h.x,0)}},w:function(a,h){return{width:Math.max(a.size.width-h.x,0),left:a.position.left+h.x}},ne:function(a,h){return{width:Math.max(a.size.width+h.x,0),height:Math.max(a.size.height-h.y,0),top:a.position.top+h.y}},nw:function(a,h){return{width:Math.max(a.size.width-h.x,0),height:Math.max(a.size.height-h.y,0),top:a.position.top+h.y,left:a.position.left+h.x}},se:function(a,h){return{width:Math.max(a.size.width+h.x,0),height:Math.max(a.size.height+h.y,0)}},sw:function(a,h){return{width:Math.max(a.size.width-h.x,0),height:Math.max(a.size.height+h.y,0),left:a.position.left+h.x}}},i4=/^(canvas|textarea|input|select|button|img)$/i,Tc=function(a){f(u,a);var h=m(u);function u(){var d;s(this,u);for(var p=arguments.length,y=new Array(p),w=0;w<p;w++)y[w]=arguments[w];return c(_(d=h.call.apply(h,[this].concat(y))),"originalElement",null),c(_(d),"originalResize",null),c(_(d),"pressing",!1),c(_(d),"resizing",!1),c(_(d),"wrapped",!1),c(_(d),"currentHandle",null),c(_(d),"currentDirection",null),c(_(d),"handleDirections",[]),c(_(d),"handleElements",[]),c(_(d),"helper",null),c(_(d),"offset",{click:null,helper:null}),c(_(d),"originalAttrs",{}),c(_(d),"currentAttrs",{}),c(_(d),"previousAttrs",{}),c(_(d),"aspectRatio",null),c(_(d),"resizableElements",[]),c(_(d),"listeners",[]),c(_(d),"setup",function(){var A=d.options.autoHide;d.addPlugin(new qM(_(d))),d.addPlugin(new jM(_(d))),d.addPlugin(new nN(_(d))),d.addPlugin(new rN(_(d))),d.addSensor(new md(_(d))),document.addEventListener("mouse:down",d.onMouseDown),document.addEventListener("mouse:stop",function(){d.pressing=!1}),document.addEventListener("mouse:start",d.onDragStart),document.addEventListener("mouse:move",d.onDragMove),document.addEventListener("mouse:stop",d.onDragStop),d.originalElement=d.element,j(d.element,d.elementClass),J(d.element,{position:"relative"}),d.element.nodeName.match(i4)?d.createWrapper():d.element[d.dataProperty]=_(d),d.createHandles(),A&&(j(d.element,d.autoHideClass),d.listeners.push(Ne(d.element,"mouseenter",function(){d.disabled||(Be(d.element,d.autoHideClass),d.handleElements.forEach(function(E){return l0(E)}))})),d.listeners.push(Ne(d.element,"mouseleave",function(){d.disabled||d.resizing||(j(d.element,d.autoHideClass),d.handleElements.forEach(function(E){return Bf(E)}))}))),d.trigger(new N1({resizable:_(d)}))}),c(_(d),"onMouseDown",function(A){var E=A.detail;E.caller===_(d)&&d.currentHandle&&d.currentDirection&&(d.disabled?E.cancel():d.isInsideHandle(E)?d.pressing=!0:E.cancel())}),c(_(d),"onDragStart",function(A){var E,P=d.options.aspectRatio,O=A.detail;if(O.caller===_(d)&&d.currentHandle&&d.currentDirection){d.resizing=!0,d.helper=d.createHelper(O),d.offset.click={left:O.pageX,top:O.pageY},d.offset.helper=je(d.helper),d.initializeResize(),d.aspectRatio=Mn(P)?P:null;var N=new Pd({source:d.element,helper:d.helper,originalElement:d.originalElement,originalSize:d.originalAttrs.size,originalPosition:d.originalAttrs.position,size:d.currentAttrs.size,position:d.currentAttrs.position,sensorEvent:O,originalEvent:O.originalEvent});d.trigger(N),N.canceled?d.onDragCancel(da(d.helper)):(j(d.helper,d.resizingClass),E=J(d.currentHandle,"cursor"),J(document.body,{cursor:E&&E!=="auto"?E:"".concat(d.elementClass,"-").concat(d.currentDirection)}))}}),c(_(d),"onDragCancel",function(A){d.sensors.forEach(function(E){return E.cancel(A)}),d.clear()}),c(_(d),"onDragMove",function(A){var E=A.detail;if(E.caller===_(d)&&d.currentHandle&&d.currentDirection){d.previousAttrs={size:i({},d.currentAttrs.size),position:i({},d.currentAttrs.position)},d.calculateResize(E);var P=new Rd({element:d.element,helper:d.helper,originalElement:d.originalElement,originalSize:d.originalAttrs.size,originalPosition:d.originalAttrs.position,size:d.currentAttrs.size,position:d.currentAttrs.position,sensorEvent:E,originalEvent:E.originalEvent});d.trigger(P),P.canceled||(d.currentAttrs.size=i({},P.size),d.currentAttrs.position=i({},P.position),d.applyResize(),d.helper===d.element&&d.updateResizableElements())}}),c(_(d),"onDragStop",function(A){var E={},P=d.options,O=P.animate,N=P.flex,x=d.originalAttrs,V=x.size,Y=x.position,Q=d.currentAttrs,Z=Q.size,ee=Q.position,de=A.detail;if(de.caller===_(d)&&d.currentHandle&&d.currentDirection){E[N?"flexBasis":"width"]="".concat(qe(d.helper),"px"),E.height="".concat(Je(d.helper),"px"),E.top="".concat(ft(d.helper,"top"),"px"),E.left="".concat(ft(d.helper,"left"),"px"),J(d.helper,Z),O||(J(d.element,E),d.updateResizableElements());var Se,we=new Dd({source:d.element,helper:d.helper,originalElement:d.originalElement,originalSize:d.originalAttrs.size,originalPosition:d.originalAttrs.position,size:Z,position:ee,sensorEvent:de,originalEvent:de.originalEvent});d.trigger(we),we.canceled?(J(d.element,(c(Se={},N?"flexBasis":"width","".concat(V.width,"px")),c(Se,"height","".concat(V.height,"px")),c(Se,"top","".concat(Y.top,"px")),c(Se,"left","".concat(Y.left,"px")),Se)),d.clear(),d.updateResizableElements()):d.clear()}}),d}return l(u,[{key:"setOption",value:function(d,p){switch(d){case"animate":case"animateDuration":case"aspectRatio":case"disabled":case"distance":case"ghost":case"grid":case"maxHeight":case"maxWidth":case"minHeight":case"minWidth":case"zIndex":this.options[d]=p;break;case"containment":this.options.containment=p,this.containmentCoords=void 0;break;default:throw new Error("The option ".concat(d," is invalid or can't be changed dinamically"))}}},{key:"cancel",value:function(){this.resizing?this.onDragCancel(da(this.helper)):this.clear()}},{key:"destroy",value:function(){this.resizing?this.pendingDestroy=!0:(this.plugins.forEach(function(d){return d.detach()}),this.sensors.forEach(function(d){return d.detach()}),document.removeEventListener("mouse:start",this.onDragStart),document.removeEventListener("mouse:move",this.onDragMove),document.removeEventListener("mouse:stop",this.onDragStop),Be(this.element,this.elementClass),this.wrapped?this.destroyWrapper():delete this.element[this.dataProperty],this.originalElement&&this.originalResize&&J(this.originalElement,{resize:this.originalResize}),this.destroyHandles(),this.listeners.forEach(function(d){return d()}),this.trigger(new L1({sortable:this})))}},{key:"dataProperty",get:function(){return"resizableInstance"}},{key:"elementClass",get:function(){return"ui-resizable"}},{key:"wrapperClass",get:function(){return"ui-resizable-wrapper"}},{key:"autoHideClass",get:function(){return"ui-resizable-autohide"}},{key:"handleClass",get:function(){return"ui-resizable-handle"}},{key:"handleDirectionProperty",get:function(){return"resizableDirection"}},{key:"helperClass",get:function(){return"ui-resizable-helper"}},{key:"resizingClass",get:function(){return"ui-resizable-resizing"}},{key:"ghostClass",get:function(){return"ui-resizable-ghost"}},{key:"createWrapper",value:function(){var d=zf("div",null,this.element.parentNode);j(d,this.wrapperClass),J(d,{position:J(this.element,"position"),width:qe(this.element),height:Je(this.element),top:J(this.element,"top"),left:J(this.element,"left"),marginTop:J(this.originalElement,"marginTop"),marginRight:J(this.originalElement,"marginRight"),marginBottom:J(this.originalElement,"marginBottom"),marginLeft:J(this.originalElement,"marginLeft")}),d[this.dataProperty]=this,J(this.originalElement,{display:"block",position:"static",zoom:1}),this.originalResize=J(this.originalElement,"resize"),J(this.originalElement,{resize:"none"}),this.resizableElements.push(this.originalElement),this.updateResizableElements(),this.wrapped=!0}},{key:"destroyWrapper",value:function(){var d,p=this.element,y=this.options.flex;J(this.originalElement,(c(d={position:J(p,"position")},y?"flexBasis":"width",qe(p)),c(d,"height",Je(p)),c(d,"top",J(p,"top")),c(d,"left",J(p,"left")),d)),Wf(this.originalElement,p),Rn(p),delete p[this.dataProperty]}},{key:"createHandles",value:function(){var d=this,p=this.options.handles,y=this.options,w=y.autoHide,A=y.zIndex;p&&n4(p)?p==="all"&&(p=E0.join(",")):p="e,s,se",this.handleDirections=p.split(",").map(function(E){return E.trim()}),this.handleDirections.forEach(function(E){if(E0.indexOf(E)!==-1){var P=zf("div",null,d.element);if(j(P,d.handleClass),j(P,"".concat(d.elementClass,"-").concat(E)),u.injectedStyles[E]||(x="".concat(d.elementClass,"-").concat(E),V=i(i({},WM[E]),{display:"block",position:"absolute"}),Y=[".".concat(x," {")],ha(V,function(Q,Z){Y.push("".concat(NM(Z),": ").concat(Q,";"))}),Y.push("}"),HD(Y.join(`
`)),u.injectedStyles=!0),c0(P),J(P,{zIndex:A+(E.length===2?1:0)}),d.listeners.push(Ne(P,"mouseover",function(Q){d.pressing||(d.currentHandle=Q.target,d.currentDirection=Q.target[d.handleDirectionProperty])})),P[d.handleDirectionProperty]=E,w&&Bf(P),d.wrapped&&function(Q){return!!Q&&ir.test(Q.nodeName)}(d.originalElement)){var O=/sw|ne|nw|se|n|s/.test(E)?Je(P):qe(P),N=/ne|nw|n/.test(E)?"Top":/se|sw|s/.test(E)?"Bottom":/^e$/.test(E)?"Right":"Left";J(P,c({},"padding".concat(N),O)),d.updateResizableElements()}d.handleElements.push(P)}var x,V,Y})}},{key:"findHandles",value:function(){return this.handleElements}},{key:"destroyHandles",value:function(){var d=this;this.handleElements.forEach(function(p){delete p[d.handleDirectionProperty],Rn(p)})}},{key:"createHelper",value:function(){var d,p,y=this.options,w=y.animate,A=y.flex,E=y.ghost,P=y.zIndex,O=je(this.element);return w||E?(j(d=zf("div",null,document.body),this.helperClass),J(d,(c(p={},A?"flexBasis":"width","".concat(qe(this.element),"px")),c(p,"height","".concat(Je(this.element),"px")),c(p,"position","absolute"),c(p,"left","".concat(O.left,"px")),c(p,"top","".concat(O.top,"px")),c(p,"zIndex",(P||1)+1),p)),c0(d)):d=this.element,d}},{key:"initializeResize",value:function(){var d={top:ft(this.helper,"top"),left:ft(this.helper,"left")};this.originalAttrs={size:{width:qe(this.element),height:Je(this.element)},position:i({},d)},this.currentAttrs={size:i({},this.originalAttrs.size),position:i({},d)}}},{key:"calculateResize",value:function(d){var p=d.pageX,y=d.pageY,w=this.aspectRatio,A=this.currentDirection,E=this.offset.click,P=this.currentAttrs,O=P.size,N=P.position,x={y:y-E.top,x:p-E.left},V=r4[this.currentDirection](this.originalAttrs,x);w&&(Mn(V.width)?V.height=V.width/w:Mn(V.height)&&(V.width=V.height*w),A==="sw"&&(V.left=N.left+(O.width-V.width),V.top=null),A==="nw"&&(V.top=N.top+(O.height-V.height),V.left=N.left+(O.width-V.width))),V=this.applyBoundaries(V),this.offset.helper=je(this.helper),Mn(V.width)&&(this.currentAttrs.size.width=V.width),Mn(V.height)&&(this.currentAttrs.size.height=V.height),Mn(V.top)&&(this.currentAttrs.position.top=V.top),Mn(V.left)&&(this.currentAttrs.position.left=V.left)}},{key:"applyBoundaries",value:function(d){var p={minWidth:Mn(this.options.minWidth)?Math.max(this.options.minWidth,0):0,maxWidth:Mn(this.options.maxWidth)?this.options.maxWidth:1/0,minHeight:Mn(this.options.minHeight)?Math.max(this.options.minHeight,0):0,maxHeight:Mn(this.options.maxHeight)?this.options.maxHeight:1/0},y=this.originalAttrs,w=y.size,A=y.position,E=/sw|nw|w/.test(this.currentDirection),P=/nw|ne|n/.test(this.currentDirection);return Mn(d.width)&&p.minWidth>d.width&&(d.width=p.minWidth,E&&(d.left=A.left+w.width-p.minWidth)),Mn(d.width)&&p.maxWidth<d.width&&(d.width=p.maxWidth,E&&(d.left=A.left+w.width-p.maxWidth)),Mn(d.height)&&p.minHeight>d.height&&(d.height=p.minHeight,P&&(d.top=A.top+w.height-p.minHeight)),Mn(d.height)&&p.maxHeight<d.height&&(d.height=p.maxHeight,P&&(d.top=A.top+w.height-p.maxHeight)),d}},{key:"applyResize",value:function(){var d={},p=this.options.flex,y=this.currentAttrs,w=y.size,A=y.position,E=this.previousAttrs,P=E.size,O=E.position;return w.width!==P.width&&(d[p?"flexBasis":"width"]="".concat(w.width,"px")),w.height!==P.height&&(d.height="".concat(w.height,"px")),A.top!==O.top&&(d.top="".concat(A.top,"px")),A.left!==O.left&&(d.left="".concat(A.left,"px")),J(this.helper,d),d}},{key:"updateResizableElements",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(this.resizableElements.length){var p=this.options.flex,y=d&&d.width&&d.height?d:{width:qe(this.helper||this.element),height:Je(this.helper||this.element)};this.resizableElements.forEach(function(w){var A,E=p0(w);J(w,(c(A={},p?"flexBasis":"width","".concat(y.width-E.width,"px")),c(A,"height","".concat(y.height-E.height,"px")),A))})}}},{key:"clear",value:function(){this.resizing=!1,this.originalAttrs={},this.currentAttrs={},this.previousAttrs={},this.offset={click:null,helper:null},this.aspectRatio=null,this.helper&&this.helper!==this.element&&(this.helper.parentNode.removeChild(this.helper),this.helper=null),J(document.body,{cursor:"auto"}),Be(this.element,this.resizingClass),this.pendingDestroy&&(this.destroy(),this.pendingDestroy=!1)}}]),u}(ga);c(Tc,"defaultOptions",{animate:!1,animateDuration:500,aspectRatio:!1,autoHide:!1,containment:null,disabled:!1,distance:0,flex:!1,ghost:!1,grid:null,handles:"e,s,se",maxHeight:null,maxWidth:null,minHeight:null,minWidth:null,zIndex:1}),c(Tc,"injectedStyles",{});var s4={Plugin:R,Sensor:yc,Draggable:ga,Droppable:bd,DragDropManager:Ht,Sortable:Td,Resizable:Tc};n.DragDropManager=Ht,n.Draggable=ga,n.Droppable=bd,n.Plugin=R,n.Resizable=Tc,n.Sensor=yc,n.Sortable=Td,n.default=s4,Object.defineProperty(n,"__esModule",{value:!0})})})(Ug,Ug.exports);var T8=Ug.exports;const I8=av(T8);var k8={"sortable:init":qn("sortable:init"),"sortable:activate":qn("sortable:activate"),"sort:start":qn("sort:start"),"sort:move":qn("sort:move"),"sort:stop":qn("sort:stop"),"sortable:over":qn("sortable:over"),"sortable:change":qn("sortable:change"),"sortable:remove":qn("sortable:remove"),"sortable:receive":qn("sortable:receive"),"sortable:update":qn("sortable:update"),"sortable:out":qn("sortable:out"),"sortable:deactivate":qn("sortable:deactivate"),"sortable:destroy":qn("sortable:destroy")};function C8(t,e){new I8.Sortable(t,e,k8)}function qn(t){return function(e){var n=e.data;[n.source,n.draggable&&n.draggable.element,n.droppable&&n.droppable.element,n.sortable&&n.sortable.element].forEach(function(r){r!=null&&r.dispatchEvent(new CustomEvent(t,{detail:n}))})}}function P8(t){function e(n){var r=n.target;if(r.matches(t)){var i;switch(n.type){case"touchstart":i="mousedown";break;case"touchmove":i="mousemove";break;case"touchend":i="mouseup";break;case"touchcancel":i="mouseup";break;default:return}var s=n.changedTouches[0],o=s.clientX,l=s.pageX,c=window.pageXOffset,f=s.clientY,g=s.pageY,v=window.pageYOffset;l===0&&Math.floor(o)>Math.floor(l)||g===0&&Math.floor(f)>Math.floor(g)?(o-=c,f-=v):(o<l-c||f<g-v)&&(o=l-c,f=g-v);var _=new MouseEvent(i,{bubbles:!0,cancelable:!0,screenX:s.screenX,screenY:s.screenY,clientX:o,clientY:f,pageX:l,pageY:g,buttons:1,button:0,ctrlKey:n.ctrlKey,shiftKey:n.shiftKey,altKey:n.altKey,metaKey:n.metaKey});s.target.dispatchEvent(_)}}document.addEventListener("touchstart",e,!0),document.addEventListener("touchmove",e,!0),document.addEventListener("touchend",e,!0),document.addEventListener("touchcancel",e,!0)}function yS(t,e,n){const r=t.slice();return r[14]=e[n],r[16]=n,r}function _S(t,e,n){const r=t.slice();return r[17]=e[n],r[16]=n,r}function wS(t){let e,n;return e=new kh({props:{$$slots:{default:[R8]},$$scope:{ctx:t}}}),{c(){ae(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p(r,i){const s={};i&524289&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){n||(W(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function bS(t,e){let n,r,i,s;function o(){return e[8](e[17])}return{key:t,first:null,c(){n=C("img"),me(n.src,r="https://images.pokemontcg.io/"+e[17].set.toLowerCase()+"/"+e[17].number+"_hires.png")||S(n,"src",r),S(n,"class","svelte-j0re9k"),this.first=n},m(l,c){U(l,n,c),i||(s=le(n,"click",o),i=!0)},p(l,c){e=l,c&1&&!me(n.src,r="https://images.pokemontcg.io/"+e[17].set.toLowerCase()+"/"+e[17].number+"_hires.png")&&S(n,"src",r)},d(l){l&&F(n),i=!1,s()}}}function R8(t){let e=[],n=new Map,r,i=De(t[0].collection);const s=o=>o[17].id;for(let o=0;o<i.length;o+=1){let l=_S(t,i,o),c=s(l);n.set(c,e[o]=bS(c,l))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();r=Ve()},m(o,l){for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(o,l);U(o,r,l)},p(o,l){l&33&&(i=De(o[0].collection),e=Uu(e,l,s,1,o,i,n,r.parentNode,T4,bS,r,_S))},d(o){o&&F(r);for(let l=0;l<e.length;l+=1)e[l].d(o)}}}function D8(t){let e,n,r,i,s;function o(){return t[9](t[16])}return{c(){e=C("div"),n=C("img"),S(n,"class","team-card svelte-j0re9k"),me(n.src,r="https://images.pokemontcg.io/"+t[14].set.toLowerCase()+"/"+t[14].number+"_hires.png")||S(n,"src",r),S(e,"class","card-container svelte-j0re9k")},m(l,c){U(l,e,c),T(e,n),i||(s=le(n,"click",o),i=!0)},p(l,c){t=l,c&4&&!me(n.src,r="https://images.pokemontcg.io/"+t[14].set.toLowerCase()+"/"+t[14].number+"_hires.png")&&S(n,"src",r)},d(l){l&&F(e),i=!1,s()}}}function O8(t){let e,n;return{c(){e=C("img"),S(e,"class","team-card svelte-j0re9k"),me(e.src,n="https://images.pokemontcg.io/basep/16_hires.png")||S(e,"src",n)},m(r,i){U(r,e,i)},p:z,d(r){r&&F(e)}}}function AS(t){let e,n;function r(o,l){return o[14]==null?O8:D8}let i=r(t),s=i(t);return{c(){e=C("div"),s.c(),n=B(),S(e,"class","card-team svelte-j0re9k"),S(e,"data-card-index",t[16])},m(o,l){U(o,e,l),s.m(e,null),T(e,n)},p(o,l){i===(i=r(o))&&s?s.p(o,l):(s.d(1),s=i(o),s&&(s.c(),s.m(e,n)))},d(o){o&&F(e),s.d()}}}function M8(t){let e,n,r,i,s,o,l,c,f,g,v,_,m=t[0]&&t[0].collection.length&&wS(t),b=De(t[2]),I=[];for(let k=0;k<b.length;k+=1)I[k]=AS(yS(t,b,k));return{c(){e=C("div"),n=C("div"),m&&m.c(),r=B(),i=C("div"),s=C("h1"),s.textContent="TEAM",o=B(),l=C("div");for(let k=0;k<I.length;k+=1)I[k].c();c=B(),f=C("button"),f.textContent="Save",S(n,"class","team-collection-container svelte-j0re9k"),S(s,"class","svelte-j0re9k"),S(l,"class","sortable svelte-j0re9k"),S(f,"class","team-save svelte-j0re9k"),S(i,"class","team-container svelte-j0re9k"),S(e,"class","center-container svelte-j0re9k")},m(k,D){U(k,e,D),T(e,n),m&&m.m(n,null),T(e,r),T(e,i),T(i,s),T(i,o),T(i,l);for(let M=0;M<I.length;M+=1)I[M]&&I[M].m(l,null);t[10](l),T(i,c),T(i,f),g=!0,v||(_=[f4(C8.call(null,l,{cursor:"grabbing",zIndex:10})),le(l,"sortable:init",t[3]),le(l,"sortable:destroy",SS),le(l,"sortable:activate",SS),le(l,"sortable:deactivate",W8),le(l,"sort:start",N8),le(l,"sort:move",L8),le(l,"sort:stop",V8),le(l,"sortable:over",H8),le(l,"sortable:out",B8),le(l,"sortable:change",F8),le(l,"sortable:update",t[4]),le(l,"sortable:remove",x8),le(l,"sortable:receive",U8),le(f,"click",t[11])],v=!0)},p(k,[D]){if(k[0]&&k[0].collection.length?m?(m.p(k,D),D&1&&W(m,1)):(m=wS(k),m.c(),W(m,1),m.m(n,null)):m&&(Qe(),G(m,1,1,()=>{m=null}),$e()),D&68){b=De(k[2]);let M;for(M=0;M<b.length;M+=1){const L=yS(k,b,M);I[M]?I[M].p(L,D):(I[M]=AS(L),I[M].c(),I[M].m(l,null))}for(;M<I.length;M+=1)I[M].d(1);I.length=b.length}},i(k){g||(W(m),g=!0)},o(k){G(m),g=!1},d(k){k&&F(e),m&&m.d(),Jt(I,k),t[10](null),v=!1,Zt(_)}}}function SS(){S8(document.body)}function N8(){}function L8(){}function V8(){}function H8(){}function F8(){}function x8(){}function U8(){}function B8(){}function W8(){E8(document.body)}function z8(t,e,n){P8(".sortable > div");let r,i,s=[],o=[],l=[null,null,null];as(async()=>{const D=sessionStorage.getItem("user");await $n(JSON.parse(D).uid).then(M=>{M&&(n(0,r=M),n(2,l=(r==null?void 0:r.team)||[null,null,null]))})});function c(){i&&(s=Array.from(i.querySelectorAll(".card-team")))}function f(){s.length===0&&(s=Array.from(i.querySelectorAll(".card-team")));const D=[...l];Array.from(i.querySelectorAll(".card-team")).reduce((L,H,R)=>(H.getAttribute("data-card-index")!==null&&L.push(H),L),[]).forEach((L,H)=>{const R=L.getAttribute("data-card-index");o[H]=D[R]})}const g=D=>{if(l.find(H=>(H==null?void 0:H.id)==D.id)){alert("Card already in team!");return}const L=l.findIndex(H=>H==null);n(2,l[L]=D,l),n(2,l=[...l])},v=D=>{n(2,l[D]=null,l),n(2,l=[...l])},_=async()=>{if(o.includes(null)||l.includes(null)){alert("You need a full team!");return}await Av(r.uid,{...r,team:o.length?o:l}),alert("Team Saved!"),window.location.href="/team"},m=D=>g(D),b=D=>v(D);function I(D){lt[D?"unshift":"push"](()=>{i=D,n(1,i)})}return[r,i,l,c,f,g,v,_,m,b,I,async()=>await _()]}class j8 extends tt{constructor(e){super(),et(this,e,z8,M8,Fe,{})}}const ES=[{img:"/assets/images/backgrounds/battlefields/bf1.png"},{img:"/assets/images/backgrounds/battlefields/bf2.webp"},{img:"/assets/images/backgrounds/battlefields/bf3.jpeg"},{img:"/assets/images/backgrounds/battlefields/bf4.jpeg"},{img:"/assets/images/backgrounds/battlefields/bf5.png"}],TS=[{img:"/assets/images/characters/oak.png",name:"Prof. Oak"},{img:"/assets/images/characters/agatha.webp",name:"Agatha"},{img:"/assets/images/characters/blasco.png",name:"Blasco"},{img:"/assets/images/characters/Gary.webp",name:"Gary"},{img:"/assets/images/characters/jessie.png",name:"Jessie"},{img:"/assets/images/characters/james.png",name:"James"},{img:"/assets/images/characters/giovanni.webp",name:"Giovanni"},{img:"/assets/images/characters/lorelei.webp",name:"Lorelei"},{img:"/assets/images/characters/misty.webp",name:"Misty"},{img:"/assets/images/characters/brock.webp",name:"Brock"},{img:"/assets/images/characters/blaine.png",name:"Blaine"}],Wc={colorless:{debilidades:["fighting"],fortalezas:[]},fire:{debilidades:["water","rock","fire"],fortalezas:["grass","ice"]},water:{debilidades:["llightning","grass"],fortalezas:["fire","rock"]},grass:{debilidades:["fire","ice","posion","flight","bug"],fortalezas:["water","ground"]},lightning:{debilidades:["ground"],fortalezas:["water"]},fighting:{debilidades:["flight","psychic","fairy"],fortalezas:["colorless","ice","rock"]},rock:{debilidades:["water","grass","fighting","ground","metal"],fortalezas:["fire","ice","flight"]},ice:{debilidades:["fire","fighting","rock","metal"],fortalezas:["grass","ground","flight"]},posion:{debilidades:["ground","psychic"],fortalezas:["grass","fairy"]},flight:{debilidades:["lightning","ice","rock"],fortalezas:["grass","fighting","bug"]},psychic:{debilidades:["bug","ghost","darkness"],fortalezas:["fighting","posion"]},bug:{debilidades:["fire","flight","rock"],fortalezas:["grass","psychic","darkness"]},ghost:{debilidades:["colorless","fighting"],fortalezas:["psychic","ghost"]},darkness:{debilidades:["fighting","bug","fairy"],fortalezas:["psychic","darkness"]},dragon:{debilidades:["ice","dragon","fairy"],fortalezas:["dragon"]},metal:{debilidades:["fire","fighting","ground"],fortalezas:["ice","rock"]},fairy:{debilidades:["posion","metal"],fortalezas:["fighting","bug","dragon"]}};function q8(t,e){const n=IS(t,e),r=IS(e,t);return{tipo1:n,tipo2:r}}function IS(t,e){if(Wc[t]&&Wc[e]){const n=Wc[e].debilidades,r=Wc[e].fortalezas;return n.includes(t)?2:r.includes(t)?.5:1}else return 0}function kS(){return Math.random()<.0625?2:1}function CS(){return Math.random()<.0625?0:1}function PS(t){return parseInt(t.replace(/\D/g,""))}function G8(t){if(!t||t.length===0)return null;t.sort((i,s)=>s.cost-i.cost);const e=t.reduce((i,s)=>i+s.cost,0),n=Math.random()*e;let r=0;for(const i of t)if(r+=i.cost,n<r)return i;return t[Math.floor(Math.random()*t.length)]}const K8=(t,e,n,r)=>{const{tipo1:i,tipo2:s}=q8(t.types[0].toLowerCase(),e.types[0].toLowerCase()),o=[],l=G8(e.attacks.filter(k=>k.damage!=="")),c=r?0:PS(n.damage),f=PS(l?l.damage:"10"),g=kS(),v=kS(),_=CS(),m=CS(),b=t.hp-f*s*v*_,I=e.hp-c*i*g*m;return!r&&o.push(`${t.name}: ha atacado a ${e.name} con ${n.name} y ha hecho ${c*i*g*m} de dao`),!r&&g===2&&o.push("CRITICO!!!"),!r&&m===0&&o.push("FALLO!!!"),o.push(`${e.name}: ha atacado a ${t.name} con ${l?l.name:"combat"} y ha hecho ${f*s*v*_} de dao`),v===2&&o.push("CRITICO!!!"),_===0&&o.push("FALLO!!!"),{userCardHp:b<0?0:b,pcCardHp:I<0?0:I,message:o}};function RS(t,e,n){const r=t.slice();return r[37]=e[n],r}function DS(t,e,n){const r=t.slice();return r[34]=e[n],r}function OS(t,e,n){const r=t.slice();return r[42]=e[n],r}function MS(t,e,n){const r=t.slice();return r[42]=e[n],r}function NS(t,e,n){const r=t.slice();return r[34]=e[n],r}function Y8(t){let e,n,r,i,s,o,l,c,f=t[0].nickname+"",g,v,_,m,b,I,k,D,M,L,H=t[14].name+"",R,q;function j(K,ve){return K[5]?Z8:J8}let X=j(t),$=X(t);return{c(){e=C("div"),n=C("div"),r=C("div"),i=C("div"),s=C("img"),l=B(),c=C("h2"),g=_e(f),v=B(),_=C("div"),_.innerHTML='<h2 class="battle-vs svelte-1v17zfd">VS</h2>',m=B(),b=C("div"),I=C("div"),k=C("img"),M=B(),L=C("h2"),R=_e(H),q=B(),$.c(),S(s,"class","user-photo svelte-1v17zfd"),me(s.src,o="data:image/png;base64, "+t[0].photoURL)||S(s,"src",o),S(s,"alt","user profile picture"),S(i,"class","start-battle-user-image svelte-1v17zfd"),S(c,"class","svelte-1v17zfd"),S(r,"class","start-battle-user-side svelte-1v17zfd"),S(_,"class","start-battle svelte-1v17zfd"),S(k,"class","pc-photo svelte-1v17zfd"),me(k.src,D=t[14].img)||S(k,"src",D),S(k,"alt","pc profile picture"),S(I,"class","start-battle-pc-image svelte-1v17zfd"),S(L,"class","svelte-1v17zfd"),S(b,"class","start-battle-pc-side svelte-1v17zfd"),S(n,"class","start-battle-content svelte-1v17zfd"),S(e,"class","start-battle-container svelte-1v17zfd"),on(e,"background-image","url("+t[13]+")")},m(K,ve){U(K,e,ve),T(e,n),T(n,r),T(r,i),T(i,s),T(r,l),T(r,c),T(c,g),T(n,v),T(n,_),T(n,m),T(n,b),T(b,I),T(I,k),T(b,M),T(b,L),T(L,R),T(e,q),$.m(e,null)},p(K,ve){ve[0]&1&&!me(s.src,o="data:image/png;base64, "+K[0].photoURL)&&S(s,"src",o),ve[0]&1&&f!==(f=K[0].nickname+"")&&Me(g,f),ve[0]&16384&&!me(k.src,D=K[14].img)&&S(k,"src",D),ve[0]&16384&&H!==(H=K[14].name+"")&&Me(R,H),X===(X=j(K))&&$?$.p(K,ve):($.d(1),$=X(K),$&&($.c(),$.m(e,null))),ve[0]&8192&&on(e,"background-image","url("+K[13]+")")},d(K){K&&F(e),$.d()}}}function Q8(t){let e,n,r,i,s,o,l,c,f;function g(R,q){return R[8]?tq:eq}let v=g(t),_=v(t);function m(R,q){return R[7]?rq:nq}let b=m(t),I=b(t),k=De(t[6]),D=[];for(let R=0;R<k.length;R+=1)D[R]=FS(DS(t,k,R));function M(R,q){if(!R[9])return aq;if(!R[10])return oq}let L=M(t),H=L&&L(t);return{c(){e=C("div"),n=C("div"),_.c(),r=B(),i=C("div"),I.c(),s=B(),o=C("div"),l=C("div");for(let R=0;R<D.length;R+=1)D[R].c();c=B(),f=C("div"),H&&H.c(),S(n,"class","pc-side svelte-1v17zfd"),S(i,"class","user-side svelte-1v17zfd"),S(l,"class","battle-messages svelte-1v17zfd"),S(f,"class","battle-buttons svelte-1v17zfd"),S(o,"class","battle-actions svelte-1v17zfd"),S(e,"class","battlefield svelte-1v17zfd"),on(e,"background-image","url("+t[13]+")")},m(R,q){U(R,e,q),T(e,n),_.m(n,null),T(e,r),T(e,i),I.m(i,null),T(e,s),T(e,o),T(o,l);for(let j=0;j<D.length;j+=1)D[j]&&D[j].m(l,null);T(o,c),T(o,f),H&&H.m(f,null)},p(R,q){if(v===(v=g(R))&&_?_.p(R,q):(_.d(1),_=v(R),_&&(_.c(),_.m(n,null))),b===(b=m(R))&&I?I.p(R,q):(I.d(1),I=b(R),I&&(I.c(),I.m(i,null))),q[0]&64){k=De(R[6]);let j;for(j=0;j<k.length;j+=1){const X=DS(R,k,j);D[j]?D[j].p(X,q):(D[j]=FS(X),D[j].c(),D[j].m(l,null))}for(;j<D.length;j+=1)D[j].d(1);D.length=k.length}L===(L=M(R))&&H?H.p(R,q):(H&&H.d(1),H=L&&L(R),H&&(H.c(),H.m(f,null))),q[0]&8192&&on(e,"background-image","url("+R[13]+")")},d(R){R&&F(e),_.d(),I.d(),Jt(D,R),H&&H.d()}}}function $8(t){let e,n;return{c(){e=C("div"),n=C("p"),n.textContent="Loading...",S(e,"class","battlefield svelte-1v17zfd"),on(e,"background-image","url("+t[13]+")")},m(r,i){U(r,e,i),T(e,n)},p(r,i){i[0]&8192&&on(e,"background-image","url("+r[13]+")")},d(r){r&&F(e)}}}function X8(t){let e,n,r,i,s,o,l,c,f,g=t[0].nickname+"",v,_,m,b,I,k,D,M,L,H,R,q=t[14].name+"",j,X,$=!Hg(),K,ve,he=t[12]?"SORRY, YOU HAVE BEEN DEFEATED, TRY AGAIN!":"CONGRATULATIONS, YOU WON THE BATTLE!",ye,ct,re,Pe,J,Ne,Ut,ut,Ie=$&&uq(t);return{c(){e=C("div"),n=C("div"),r=C("div"),i=C("div"),s=C("img"),c=B(),f=C("h2"),v=_e(g),_=B(),m=C("div"),m.innerHTML='<h2 class="battle-vs svelte-1v17zfd">VS</h2>',b=B(),I=C("div"),k=C("div"),D=C("img"),H=B(),R=C("h2"),j=_e(q),X=B(),Ie&&Ie.c(),K=B(),ve=C("h2"),ye=_e(he),ct=B(),re=C("div"),Pe=C("div"),Pe.textContent="Go to battle",J=B(),Ne=C("div"),Ne.textContent="Go to Summon",S(s,"class","user-photo svelte-1v17zfd"),me(s.src,o="data:image/png;base64, "+t[0].photoURL)||S(s,"src",o),S(s,"alt","user profile picture"),S(i,"class",l="start-battle-user-image "+(t[12]&&"user-defeated")+" svelte-1v17zfd"),S(f,"class","svelte-1v17zfd"),S(r,"class","start-battle-user-side svelte-1v17zfd"),S(m,"class","start-battle svelte-1v17zfd"),S(D,"class","pc-photo svelte-1v17zfd"),me(D.src,M=t[14].img)||S(D,"src",M),S(D,"alt","pc profile picture"),S(k,"class",L="start-battle-pc-image "+(t[11]&&"user-defeated")+" svelte-1v17zfd"),S(R,"class","svelte-1v17zfd"),S(I,"class","start-battle-pc-side svelte-1v17zfd"),S(n,"class","start-battle-content svelte-1v17zfd"),S(ve,"class","svelte-1v17zfd"),S(Pe,"class","goto-battle svelte-1v17zfd"),S(Ne,"class","goto-summon svelte-1v17zfd"),S(re,"class","final-buttons svelte-1v17zfd"),S(e,"class","start-battle-container svelte-1v17zfd"),on(e,"background-image","url("+t[13]+")")},m(Te,xe){U(Te,e,xe),T(e,n),T(n,r),T(r,i),T(i,s),T(r,c),T(r,f),T(f,v),T(n,_),T(n,m),T(n,b),T(n,I),T(I,k),T(k,D),T(I,H),T(I,R),T(R,j),T(e,X),Ie&&Ie.m(e,null),T(e,K),T(e,ve),T(ve,ye),T(e,ct),T(e,re),T(re,Pe),T(re,J),T(re,Ne),Ut||(ut=[le(Pe,"click",t[21]),le(Ne,"click",t[22])],Ut=!0)},p(Te,xe){xe[0]&1&&!me(s.src,o="data:image/png;base64, "+Te[0].photoURL)&&S(s,"src",o),xe[0]&4096&&l!==(l="start-battle-user-image "+(Te[12]&&"user-defeated")+" svelte-1v17zfd")&&S(i,"class",l),xe[0]&1&&g!==(g=Te[0].nickname+"")&&Me(v,g),xe[0]&16384&&!me(D.src,M=Te[14].img)&&S(D,"src",M),xe[0]&2048&&L!==(L="start-battle-pc-image "+(Te[11]&&"user-defeated")+" svelte-1v17zfd")&&S(k,"class",L),xe[0]&16384&&q!==(q=Te[14].name+"")&&Me(j,q),$&&Ie.p(Te,xe),xe[0]&4096&&he!==(he=Te[12]?"SORRY, YOU HAVE BEEN DEFEATED, TRY AGAIN!":"CONGRATULATIONS, YOU WON THE BATTLE!")&&Me(ye,he),xe[0]&8192&&on(e,"background-image","url("+Te[13]+")")},d(Te){Te&&F(e),Ie&&Ie.d(),Ut=!1,Zt(ut)}}}function J8(t){let e,n;return{c(){e=C("div"),n=_e(t[4]),S(e,"class","start-battle-countdown svelte-1v17zfd")},m(r,i){U(r,e,i),T(e,n)},p(r,i){i[0]&16&&Me(n,r[4])},d(r){r&&F(e)}}}function Z8(t){let e,n,r;return{c(){e=C("div"),e.textContent="Start",S(e,"class","start-battle-button svelte-1v17zfd")},m(i,s){U(i,e,s),n||(r=le(e,"click",t[27]),n=!0)},p:z,d(i){i&&F(e),n=!1,r()}}}function eq(t){let e;return{c(){e=C("p"),e.textContent="loading..."},m(n,r){U(n,e,r)},p:z,d(n){n&&F(e)}}}function tq(t){let e,n,r,i,s,o,l,c=t[14].name+"",f,g,v,_,m,b,I,k,D,M,L,H=t[8].hp+"",R,q=De(t[2]),j=[];for(let X=0;X<q.length;X+=1)j[X]=LS(MS(t,q,X));return{c(){e=C("div"),n=C("div"),r=C("div"),i=C("img"),o=B(),l=C("h2"),f=_e(c),g=_e(" Team"),v=B(),_=C("div");for(let X=0;X<j.length;X+=1)j[X].c();m=B(),b=C("div"),I=C("img"),D=B(),M=C("p"),L=_e("HP: "),R=_e(H),S(i,"class","pc-photo-team-img svelte-1v17zfd"),me(i.src,s=t[14].img)||S(i,"src",s),S(i,"alt","pc profile picture"),S(r,"class","pc-photo-team svelte-1v17zfd"),S(l,"class","svelte-1v17zfd"),S(n,"class","pc-team-description svelte-1v17zfd"),S(_,"class","pc-team svelte-1v17zfd"),S(e,"class","pc-team-container svelte-1v17zfd"),me(I.src,k="https://images.pokemontcg.io/"+t[8].set.toLowerCase()+"/"+t[8].number+"_hires.png")||S(I,"src",k),S(I,"class","svelte-1v17zfd"),S(b,"class","pc-card-in-battle svelte-1v17zfd")},m(X,$){U(X,e,$),T(e,n),T(n,r),T(r,i),T(n,o),T(n,l),T(l,f),T(l,g),T(e,v),T(e,_);for(let K=0;K<j.length;K+=1)j[K]&&j[K].m(_,null);U(X,m,$),U(X,b,$),T(b,I),T(b,D),T(b,M),T(M,L),T(M,R)},p(X,$){if($[0]&16384&&!me(i.src,s=X[14].img)&&S(i,"src",s),$[0]&16384&&c!==(c=X[14].name+"")&&Me(f,c),$[0]&98564){q=De(X[2]);let K;for(K=0;K<q.length;K+=1){const ve=MS(X,q,K);j[K]?j[K].p(ve,$):(j[K]=LS(ve),j[K].c(),j[K].m(_,null))}for(;K<j.length;K+=1)j[K].d(1);j.length=q.length}$[0]&256&&!me(I.src,k="https://images.pokemontcg.io/"+X[8].set.toLowerCase()+"/"+X[8].number+"_hires.png")&&S(I,"src",k),$[0]&256&&H!==(H=X[8].hp+"")&&Me(R,H)},d(X){X&&(F(e),F(m),F(b)),Jt(j,X)}}}function LS(t){let e,n,r;return{c(){e=C("img"),S(e,"class",n="pc-team-card "+t[15](t[42],t[8])+" "+t[16](t[42])+" svelte-1v17zfd"),me(e.src,r="https://images.pokemontcg.io/"+t[42].set.toLowerCase()+"/"+t[42].number+"_hires.png")||S(e,"src",r)},m(i,s){U(i,e,s)},p(i,s){s[0]&260&&n!==(n="pc-team-card "+i[15](i[42],i[8])+" "+i[16](i[42])+" svelte-1v17zfd")&&S(e,"class",n),s[0]&4&&!me(e.src,r="https://images.pokemontcg.io/"+i[42].set.toLowerCase()+"/"+i[42].number+"_hires.png")&&S(e,"src",r)},d(i){i&&F(e)}}}function nq(t){let e;return{c(){e=C("p"),e.textContent="loading..."},m(n,r){U(n,e,r)},p:z,d(n){n&&F(e)}}}function rq(t){let e,n,r,i,s,o,l=t[7].hp+"",c,f,g,v,_,m,b,I,k,D=t[0].nickname+"",M,L,H,R,q=De(t[1]),j=[];for(let X=0;X<q.length;X+=1)j[X]=VS(OS(t,q,X));return{c(){e=C("div"),n=C("img"),i=B(),s=C("p"),o=_e("HP: "),c=_e(l),f=B(),g=C("div"),v=C("div"),_=C("div"),m=C("img"),I=B(),k=C("h2"),M=_e(D),L=_e(" Team"),H=B(),R=C("div");for(let X=0;X<j.length;X+=1)j[X].c();me(n.src,r="https://images.pokemontcg.io/"+t[7].set.toLowerCase()+"/"+t[7].number+"_hires.png")||S(n,"src",r),S(n,"class","svelte-1v17zfd"),S(e,"class","user-card-in-battle svelte-1v17zfd"),S(m,"class","user-photo-team-img svelte-1v17zfd"),me(m.src,b="data:image/png;base64, "+t[0].photoURL)||S(m,"src",b),S(m,"alt","user profile picture"),S(_,"class","user-photo-team svelte-1v17zfd"),S(k,"class","svelte-1v17zfd"),S(v,"class","user-team-description svelte-1v17zfd"),S(R,"class","user-team svelte-1v17zfd"),S(g,"class","user-team-container svelte-1v17zfd")},m(X,$){U(X,e,$),T(e,n),T(e,i),T(e,s),T(s,o),T(s,c),U(X,f,$),U(X,g,$),T(g,v),T(v,_),T(_,m),T(v,I),T(v,k),T(k,M),T(k,L),T(g,H),T(g,R);for(let K=0;K<j.length;K+=1)j[K]&&j[K].m(R,null)},p(X,$){if($[0]&128&&!me(n.src,r="https://images.pokemontcg.io/"+X[7].set.toLowerCase()+"/"+X[7].number+"_hires.png")&&S(n,"src",r),$[0]&128&&l!==(l=X[7].hp+"")&&Me(c,l),$[0]&1&&!me(m.src,b="data:image/png;base64, "+X[0].photoURL)&&S(m,"src",b),$[0]&1&&D!==(D=X[0].nickname+"")&&Me(M,D),$[0]&1147522){q=De(X[1]);let K;for(K=0;K<q.length;K+=1){const ve=OS(X,q,K);j[K]?j[K].p(ve,$):(j[K]=VS(ve),j[K].c(),j[K].m(R,null))}for(;K<j.length;K+=1)j[K].d(1);j.length=q.length}},d(X){X&&(F(e),F(f),F(g)),Jt(j,X)}}}function iq(t){let e,n,r;return{c(){e=C("img"),S(e,"class",n="user-team-card "+t[15](t[42],t[7])+" "+t[16](t[42])+" svelte-1v17zfd"),me(e.src,r="https://images.pokemontcg.io/"+t[42].set.toLowerCase()+"/"+t[42].number+"_hires.png")||S(e,"src",r)},m(i,s){U(i,e,s)},p(i,s){s[0]&130&&n!==(n="user-team-card "+i[15](i[42],i[7])+" "+i[16](i[42])+" svelte-1v17zfd")&&S(e,"class",n),s[0]&2&&!me(e.src,r="https://images.pokemontcg.io/"+i[42].set.toLowerCase()+"/"+i[42].number+"_hires.png")&&S(e,"src",r)},d(i){i&&F(e)}}}function sq(t){let e,n,r,i,s;function o(){return t[23](t[42])}return{c(){e=C("img"),on(e,"cursor","pointer"),S(e,"class",n="user-team-card "+t[15](t[42],t[7])+" svelte-1v17zfd"),me(e.src,r="https://images.pokemontcg.io/"+t[42].set.toLowerCase()+"/"+t[42].number+"_hires.png")||S(e,"src",r)},m(l,c){U(l,e,c),i||(s=le(e,"click",o),i=!0)},p(l,c){t=l,c[0]&130&&n!==(n="user-team-card "+t[15](t[42],t[7])+" svelte-1v17zfd")&&S(e,"class",n),c[0]&2&&!me(e.src,r="https://images.pokemontcg.io/"+t[42].set.toLowerCase()+"/"+t[42].number+"_hires.png")&&S(e,"src",r)},d(l){l&&F(e),i=!1,s()}}}function VS(t){let e;function n(s,o){return s[9]&&s[42].id!==s[7].id&&s[42].hp>0?sq:iq}let r=n(t),i=r(t);return{c(){i.c(),e=Ve()},m(s,o){i.m(s,o),U(s,e,o)},p(s,o){r===(r=n(s))&&i?i.p(s,o):(i.d(1),i=r(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){s&&F(e),i.d(s)}}}function HS(t){let e,n=t[34]+"",r,i;return{c(){e=C("p"),r=_e(n),i=C("br")},m(s,o){U(s,e,o),T(e,r),U(s,i,o)},p(s,o){o[0]&64&&n!==(n=s[34]+"")&&Me(r,n)},d(s){s&&(F(e),F(i))}}}function FS(t){let e,n=t[34]!==","&&t[34]!==void 0&&t[34]!==""&&HS(t);return{c(){n&&n.c(),e=Ve()},m(r,i){n&&n.m(r,i),U(r,e,i)},p(r,i){r[34]!==","&&r[34]!==void 0&&r[34]!==""?n?n.p(r,i):(n=HS(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(r){r&&F(e),n&&n.d(r)}}}function oq(t){let e,n,r;return{c(){e=C("div"),e.textContent="Back",S(e,"class","batte-action-back svelte-1v17zfd")},m(i,s){U(i,e,s),n||(r=le(e,"click",t[26]),n=!0)},p:z,d(i){i&&F(e),n=!1,r()}}}function aq(t){let e,n,r,i,s,o,l,c,f=De(t[7].attacks),g=[];for(let v=0;v<f.length;v+=1)g[v]=xS(RS(t,f,v));return{c(){e=C("div");for(let v=0;v<g.length;v+=1)g[v].c();n=B(),r=C("div"),i=C("div"),i.textContent="Change",s=B(),o=C("div"),o.textContent="Heal",S(e,"class","battle-buttons-attack svelte-1v17zfd"),S(i,"class","batte-action-change svelte-1v17zfd"),S(o,"class","batte-action-heal svelte-1v17zfd"),S(r,"class","battle-buttons-support svelte-1v17zfd")},m(v,_){U(v,e,_);for(let m=0;m<g.length;m+=1)g[m]&&g[m].m(e,null);U(v,n,_),U(v,r,_),T(r,i),T(r,s),T(r,o),l||(c=le(i,"click",t[25]),l=!0)},p(v,_){if(_[0]&262272){f=De(v[7].attacks);let m;for(m=0;m<f.length;m+=1){const b=RS(v,f,m);g[m]?g[m].p(b,_):(g[m]=xS(b),g[m].c(),g[m].m(e,null))}for(;m<g.length;m+=1)g[m].d(1);g.length=f.length}},d(v){v&&(F(e),F(n),F(r)),Jt(g,v),l=!1,c()}}}function lq(t){let e,n=t[37].name+"",r,i,s;function o(){return t[24](t[37])}return{c(){e=C("div"),r=_e(n),S(e,"class","batte-action-attack svelte-1v17zfd")},m(l,c){U(l,e,c),T(e,r),i||(s=le(e,"click",o),i=!0)},p(l,c){t=l,c[0]&128&&n!==(n=t[37].name+"")&&Me(r,n)},d(l){l&&F(e),i=!1,s()}}}function cq(t){let e,n=t[37].convertedEnergyCost+"",r;return{c(){e=C("div"),r=_e(n),S(e,"class","battle-action-attack-disabled svelte-1v17zfd")},m(i,s){U(i,e,s),T(e,r)},p(i,s){s[0]&128&&n!==(n=i[37].convertedEnergyCost+"")&&Me(r,n)},d(i){i&&F(e)}}}function xS(t){let e;function n(s,o){return s[37].damage!==""&&s[37]!==s[7].attacks[0]&&s[37].convertedEnergyCost>0?cq:lq}let r=n(t),i=r(t);return{c(){i.c(),e=Ve()},m(s,o){i.m(s,o),U(s,e,o)},p(s,o){r===(r=n(s))&&i?i.p(s,o):(i.d(1),i=r(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){s&&F(e),i.d(s)}}}function uq(t){let e,n=De(t[6]),r=[];for(let i=0;i<n.length;i+=1)r[i]=BS(NS(t,n,i));return{c(){e=C("div");for(let i=0;i<r.length;i+=1)r[i].c();S(e,"class","battle-messages svelte-1v17zfd")},m(i,s){U(i,e,s);for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(e,null)},p(i,s){if(s[0]&64){n=De(i[6]);let o;for(o=0;o<n.length;o+=1){const l=NS(i,n,o);r[o]?r[o].p(l,s):(r[o]=BS(l),r[o].c(),r[o].m(e,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(i){i&&F(e),Jt(r,i)}}}function US(t){let e,n=t[34]+"",r,i;return{c(){e=C("p"),r=_e(n),i=C("br")},m(s,o){U(s,e,o),T(e,r),U(s,i,o)},p(s,o){o[0]&64&&n!==(n=s[34]+"")&&Me(r,n)},d(s){s&&(F(e),F(i))}}}function BS(t){let e,n=t[34]!==","&&t[34]!==void 0&&t[34]!==""&&US(t);return{c(){n&&n.c(),e=Ve()},m(r,i){n&&n.m(r,i),U(r,e,i)},p(r,i){r[34]!==","&&r[34]!==void 0&&r[34]!==""?n?n.p(r,i):(n=US(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(r){r&&F(e),n&&n.d(r)}}}function hq(t){let e;function n(s,o){if(s[12]||s[11])return X8;if(s[3]&&(!s[8]||!s[7]))return $8;if(s[3])return Q8;if(s[0])return Y8}let r=n(t),i=r&&r(t);return{c(){i&&i.c(),e=Ve()},m(s,o){i&&i.m(s,o),U(s,e,o)},p(s,o){r===(r=n(s))&&i?i.p(s,o):(i&&i.d(1),i=r&&r(s),i&&(i.c(),i.m(e.parentNode,e)))},i:z,o:z,d(s){s&&F(e),i&&i.d(s)}}}function fq(t,e,n){let r,i,s,o,l,c=!1,f=3,g=!0,v=["Start the battle!"],_,m,b=!1,I=!1,k=!1,D=!1,M,L;const H=async Ie=>{Ie.scroll({top:Ie.scrollHeight,behavior:"smooth"})};as(async()=>{n(14,L=X()),n(13,M=R());const Ie=sessionStorage.getItem("user");await $n(JSON.parse(Ie).uid).then(Te=>{Te&&(n(0,r=Te),n(1,i=r==null?void 0:r.team),i.forEach(xe=>{xe.attacks=xe.attacks.filter(Xe=>Xe.damage!=="")}),s=i[0],n(7,_=s))}),await E2().then(Te=>{n(2,o=Te),l=o[0],n(8,m=l)})});const R=()=>ES[Math.floor(Math.random()*ES.length)].img,q=(Ie,Te)=>Ie.id===(Te==null?void 0:Te.id)?"card-in-battle":"",j=Ie=>Ie.hp<=0?"card-defeated":"",X=()=>TS[Math.floor(Math.random()*TS.length)],$=()=>{n(5,g=!1);const Ie=setInterval(()=>{n(4,f--,f),f===0&&(clearInterval(Ie),n(3,c=!0))},1e3)},K=async(Ie,Te=!1)=>{const{userCardHp:xe,pcCardHp:Xe,message:rt}=K8(_,m,Ie,Te);if(n(7,_.hp=xe,_),n(8,m.hp=Xe,m),Te||(Ie===_.attacks[0]?_.attacks.forEach(Ue=>{Ue.convertedEnergyCost=Ue.convertedEnergyCost-1}):_.attacks.forEach(Ue=>{Ue.convertedEnergyCost=Ue.cost.length})),n(6,v=[...v,rt].flat(1)),await oi(),await H(document.querySelector(".battle-messages")),xe<=0&&(n(6,v=[...v,`${_.name} was defeated!`].flat(1)),n(6,v=[...v,"Choose another pokemon!"].flat(1)),await oi(),await H(document.querySelector(".battle-messages")),ye()),Xe<=0){if(o.every(mt=>mt.hp<=0)&&!D){n(6,v=[...v,"You won!"].flat(1)),n(11,k=!0),await oi(),await H(document.querySelector(".battle-messages"));return}n(6,v=[...v,`${m.name} was defeated!`].flat(1)),await oi(),await H(document.querySelector(".battle-messages"));const Ue=o.filter(mt=>mt.hp>0);n(8,m=Ue[Math.floor(Math.random()*Ue.length)]),n(6,v=[...v,`${m.name} entered the battle!`].flat(1)),await oi(),await H(document.querySelector(".battle-messages"))}},ve=async()=>{n(6,v=[...v,"Change your card!"].flat(1)),await oi(),await H(document.querySelector(".battle-messages")),n(9,b=!0)},he=async Ie=>{n(7,_=Ie),n(6,v=[...v,"Card changed!"].flat(1)),await oi(),await H(document.querySelector(".battle-messages")),n(9,b=!1),I||await K(Ie.attacks[0],!0),n(10,I=!1)},ye=async()=>{if(i.every(Ie=>Ie.hp<=0)){n(6,v=[...v,"You lost!"].flat(1)),n(11,k=!1),n(12,D=!0),await oi(),await H(document.querySelector(".battle-messages"));return}n(9,b=!0),n(10,I=!0)};return[r,i,o,c,f,g,v,_,m,b,I,k,D,M,L,q,j,$,K,ve,he,()=>window.location.reload(),()=>window.location.href="/summon",Ie=>{he(Ie)},Ie=>K(Ie),()=>ve(),()=>n(9,b=!1),()=>$()]}class dq extends tt{constructor(e){super(),et(this,e,fq,hq,Fe,{},null,[-1,-1])}}function WS(t,e,n){const r=t.slice();return r[1]=e[n],r[3]=n,r}function zS(t){let e,n;return e=new kh({props:{$$slots:{default:[pq]},$$scope:{ctx:t}}}),{c(){ae(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p(r,i){const s={};i&17&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){n||(W(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function jS(t,e){let n,r,i;return r=new Ph({props:{id:e[1].id,name:e[1].name,set:e[1].set,number:e[1].number,types:e[1].types,supertype:e[1].supertype,subtypes:e[1].subtypes,rarity:e[1].rarity,isReverse:e[1].isReverse}}),{key:t,first:null,c(){n=Ve(),ae(r.$$.fragment),this.first=n},m(s,o){U(s,n,o),se(r,s,o),i=!0},p(s,o){e=s;const l={};o&1&&(l.id=e[1].id),o&1&&(l.name=e[1].name),o&1&&(l.set=e[1].set),o&1&&(l.number=e[1].number),o&1&&(l.types=e[1].types),o&1&&(l.supertype=e[1].supertype),o&1&&(l.subtypes=e[1].subtypes),o&1&&(l.rarity=e[1].rarity),o&1&&(l.isReverse=e[1].isReverse),r.$set(l)},i(s){i||(W(r.$$.fragment,s),i=!0)},o(s){G(r.$$.fragment,s),i=!1},d(s){s&&F(n),oe(r,s)}}}function pq(t){let e=[],n=new Map,r,i,s=De(t[0].collection);const o=l=>l[1].id;for(let l=0;l<s.length;l+=1){let c=WS(t,s,l),f=o(c);n.set(f,e[l]=jS(f,c))}return{c(){for(let l=0;l<e.length;l+=1)e[l].c();r=Ve()},m(l,c){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(l,c);U(l,r,c),i=!0},p(l,c){c&1&&(s=De(l[0].collection),Qe(),e=Uu(e,c,o,1,l,s,n,r.parentNode,jg,jS,r,WS),$e())},i(l){if(!i){for(let c=0;c<s.length;c+=1)W(e[c]);i=!0}},o(l){for(let c=0;c<e.length;c+=1)G(e[c]);i=!1},d(l){l&&F(r);for(let c=0;c<e.length;c+=1)e[c].d(l)}}}function gq(t){let e,n,r=t[0]&&t[0].collection.length&&zS(t);return{c(){r&&r.c(),e=Ve()},m(i,s){r&&r.m(i,s),U(i,e,s),n=!0},p(i,[s]){i[0]&&i[0].collection.length?r?(r.p(i,s),s&1&&W(r,1)):(r=zS(i),r.c(),W(r,1),r.m(e.parentNode,e)):r&&(Qe(),G(r,1,1,()=>{r=null}),$e())},i(i){n||(W(r),n=!0)},o(i){G(r),n=!1},d(i){i&&F(e),r&&r.d(i)}}}function mq(t,e,n){let r;return as(async()=>{const i=sessionStorage.getItem("user");await $n(JSON.parse(i).uid).then(s=>{s&&n(0,r=s)})}),[r]}class vq extends tt{constructor(e){super(),et(this,e,mq,gq,Fe,{})}}const qS=[{name:"Standard",banner:"/assets/images/balls/Poke_Ball.webp",price:100,class:"pokeball"},{name:"Super",banner:"/assets/images/balls/Super_Ball.webp",price:200,class:"superball"},{name:"Ultra",banner:"/assets/images/balls/Ultra_Ball.webp",price:500,class:"ultraball"}];function GS(t,e,n){const r=t.slice();return r[14]=e[n],r}function yq(t){let e,n,r,i,s,o,l,c,f,g,v=t[4]?"Seems like it's opening...":"Press the pokeball to free the pokemon",_,m,b;return{c(){e=C("div"),n=C("div"),r=B(),i=C("div"),s=C("div"),o=B(),l=C("div"),f=B(),g=C("div"),_=_e(v),S(n,"class","shadow svelte-1s7at3d"),Kt(n,"shadow-effect",t[4]),S(s,"class","reflect svelte-1s7at3d"),S(l,"class","button svelte-1s7at3d"),S(i,"class",c=W1(t[5])+" svelte-1s7at3d"),Kt(i,"rotate-effect",t[4]),S(g,"class","summon-info svelte-1s7at3d"),S(e,"class","pokeball-animation svelte-1s7at3d")},m(I,k){U(I,e,k),T(e,n),T(e,r),T(e,i),T(i,s),T(i,o),T(i,l),T(e,f),T(e,g),T(g,_),m||(b=le(i,"click",t[10]),m=!0)},p(I,k){k&16&&Kt(n,"shadow-effect",I[4]),k&32&&c!==(c=W1(I[5])+" svelte-1s7at3d")&&S(i,"class",c),k&48&&Kt(i,"rotate-effect",I[4]),k&16&&v!==(v=I[4]?"Seems like it's opening...":"Press the pokeball to free the pokemon")&&Me(_,v)},i:z,o:z,d(I){I&&F(e),m=!1,b()}}}function _q(t){let e,n,r,i,s,o,l,c;return n=new Ph({props:{id:t[2].id,name:t[2].name,set:t[2].set,number:t[2].number,types:t[2].types,supertype:t[2].supertype,subtypes:t[2].subtypes,rarity:t[2].rarity,isReverse:t[2].isReverse}}),{c(){e=C("div"),ae(n.$$.fragment),r=B(),i=C("div"),s=C("button"),s.textContent="Catch it!",S(s,"class","svelte-1s7at3d"),S(i,"class","summon-button-container svelte-1s7at3d"),S(e,"class","summon-container svelte-1s7at3d")},m(f,g){U(f,e,g),se(n,e,null),T(e,r),T(e,i),T(i,s),o=!0,l||(c=le(s,"click",t[9]),l=!0)},p(f,g){const v={};g&4&&(v.id=f[2].id),g&4&&(v.name=f[2].name),g&4&&(v.set=f[2].set),g&4&&(v.number=f[2].number),g&4&&(v.types=f[2].types),g&4&&(v.supertype=f[2].supertype),g&4&&(v.subtypes=f[2].subtypes),g&4&&(v.rarity=f[2].rarity),g&4&&(v.isReverse=f[2].isReverse),n.$set(v)},i(f){o||(W(n.$$.fragment,f),o=!0)},o(f){G(n.$$.fragment,f),o=!1},d(f){f&&F(e),oe(n),l=!1,c()}}}function wq(t){let e,n,r,i,s=De(qS),o=[];for(let l=0;l<s.length;l+=1)o[l]=KS(GS(t,s,l));return{c(){e=C("div"),n=C("div"),n.innerHTML="<h1>Summon a pokemon</h1> <p>Choose a summon type</p>",r=B(),i=C("div");for(let l=0;l<o.length;l+=1)o[l].c();S(n,"class","summon-title svelte-1s7at3d"),S(i,"class","summon-types svelte-1s7at3d"),S(e,"class","summon-container svelte-1s7at3d")},m(l,c){U(l,e,c),T(e,n),T(e,r),T(e,i);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(i,null)},p(l,c){if(c&40){s=De(qS);let f;for(f=0;f<s.length;f+=1){const g=GS(l,s,f);o[f]?o[f].p(g,c):(o[f]=KS(g),o[f].c(),o[f].m(i,null))}for(;f<o.length;f+=1)o[f].d(1);o.length=s.length}},i:z,o:z,d(l){l&&F(e),Jt(o,l)}}}function KS(t){let e,n,r,i,s,o,l,c,f,g,v;function _(){return t[8](t[14])}return{c(){e=C("div"),n=C("div"),r=C("div"),r.textContent=`${t[14].price}`,i=B(),s=C("img"),l=B(),c=C("div"),c.textContent=`${t[14].name}`,f=B(),S(r,"class","summon-type-price"),me(s.src,o=t[14].banner)||S(s,"src",o),S(s,"alt",t[14].name),S(s,"width","200px"),S(s,"class","svelte-1s7at3d"),S(n,"class","summon-type-image svelte-1s7at3d"),S(c,"class","summon-type-name svelte-1s7at3d"),S(e,"class","summon-type svelte-1s7at3d")},m(m,b){U(m,e,b),T(e,n),T(n,r),T(n,i),T(n,s),T(e,l),T(e,c),T(e,f),g||(v=le(e,"click",_),g=!0)},p(m,b){t=m},d(m){m&&F(e),g=!1,v()}}}function bq(t){let e,n,r,i;const s=[wq,_q,yq],o=[];function l(c,f){return!c[3]&&!c[1]?0:c[1]?1:c[3]&&!c[1]?2:-1}return~(e=l(t))&&(n=o[e]=s[e](t)),{c(){n&&n.c(),r=Ve()},m(c,f){~e&&o[e].m(c,f),U(c,r,f),i=!0},p(c,[f]){let g=e;e=l(c),e===g?~e&&o[e].p(c,f):(n&&(Qe(),G(o[g],1,1,()=>{o[g]=null}),$e()),~e?(n=o[e],n?n.p(c,f):(n=o[e]=s[e](c),n.c()),W(n,1),n.m(r.parentNode,r)):n=null)},i(c){i||(W(n),i=!0)},o(c){G(n),i=!1},d(c){c&&F(r),~e&&o[e].d(c)}}}function Aq(t,e,n){let r,i,s=!1,o=!1,l,c=!1,f=!1,g="pokeball";const v=()=>{n(4,f=!0)},_=async()=>{n(0,s=!0),r=new Audio("/assets/audio/evolution-process.mp3"),await r.play(),v();const D=performance.now();for(;!l;)await S2().then(L=>{n(2,l=L)});const M=sessionStorage.getItem("user");for(await $n(JSON.parse(M).uid).then(L=>{L&&(i=L)}),await Av(i.uid,{...i,collection:[...i.collection,l]});performance.now()-D<4e3;)await new Promise(L=>setTimeout(L,100));n(1,o=!0),r.pause(),r.currentTime=0,r=new Audio("/assets/audio/pokemon-evolve.mp3"),await r.play()},m=()=>{n(0,s=!1),n(1,o=!1),n(3,c=!1),n(4,f=!1),n(2,l=null)};return[s,o,l,c,f,g,_,m,D=>{n(5,g=D.class),n(3,c=!0)},()=>m(),async()=>{s||await _()}]}class Sq extends tt{constructor(e){super(),et(this,e,Aq,bq,Fe,{})}}function Eq(t){let e;return{c(){e=C("div"),e.textContent="Coming Soon...",S(e,"class","coming-soon svelte-piyyfe")},m(n,r){U(n,e,r)},p:z,i:z,o:z,d(n){n&&F(e)}}}class P2 extends tt{constructor(e){super(),et(this,e,null,Eq,Fe,{})}}function YS(t){let e;const n=t[2].default,r=Co(n,t,t[1],null);return{c(){r&&r.c()},m(i,s){r&&r.m(i,s),e=!0},p(i,s){r&&r.p&&(!e||s&2)&&Ro(r,n,i,i[1],e?Po(n,i[1],s,null):Do(i[1]),null)},i(i){e||(W(r,i),e=!0)},o(i){G(r,i),e=!1},d(i){r&&r.d(i)}}}function Tq(t){let e,n,r=t[0]&&YS(t);return{c(){r&&r.c(),e=Ve()},m(i,s){r&&r.m(i,s),U(i,e,s),n=!0},p(i,[s]){i[0]?r?(r.p(i,s),s&1&&W(r,1)):(r=YS(i),r.c(),W(r,1),r.m(e.parentNode,e)):r&&(Qe(),G(r,1,1,()=>{r=null}),$e())},i(i){n||(W(r),n=!0)},o(i){G(r),n=!1},d(i){i&&F(e),r&&r.d(i)}}}function Iq(t,e,n){let r,{$$slots:i={},$$scope:s}=e;return t.$$set=o=>{"$$scope"in o&&n(1,s=o.$$scope)},t.$$.update=()=>{t.$$.dirty&1&&(r||(window.location.href="/"))},n(0,r=sessionStorage.getItem("user")),[r,s,i]}class Ri extends tt{constructor(e){super(),et(this,e,Iq,Tq,Fe,{})}}function kq(t){let e,n,r,i;return{c(){e=C("div"),n=C("button"),n.innerHTML='<svg width="32" height="24" class="svelte-1cwhwyg"><line id="top" x1="8" y1="7" x2="24" y2="7" class="svelte-1cwhwyg"></line><line id="middle" x1="8" y1="12" x2="24" y2="12" class="svelte-1cwhwyg"></line><line id="bottom" x1="8" y1="17" x2="24" y2="17" class="svelte-1cwhwyg"></line></svg>',S(n,"class","text-gray-500 hover:text-gray-700 cursor-pointer mr-4 border-none focus:outline-none svelte-1cwhwyg"),Kt(n,"open",t[0]),S(e,"class","button-wrapper")},m(s,o){U(s,e,o),T(e,n),r||(i=le(n,"click",t[1]),r=!0)},p(s,[o]){o&1&&Kt(n,"open",s[0])},i:z,o:z,d(s){s&&F(e),r=!1,i()}}}function Cq(t,e,n){let{open:r=!1}=e;const i=()=>n(0,r=!r);return t.$$set=s=>{"open"in s&&n(0,r=s.open)},[r,i]}class Pq extends tt{constructor(e){super(),et(this,e,Cq,kq,Fe,{open:0})}}function Rq(t){let e,n,r;function i(o){t[1](o)}let s={};return t[0]!==void 0&&(s.open=t[0]),e=new Pq({props:s}),lt.push(()=>Dt(e,"open",i)),{c(){ae(e.$$.fragment)},m(o,l){se(e,o,l),r=!0},p(o,[l]){const c={};!n&&l&1&&(n=!0,c.open=o[0],Rt(()=>n=!1)),e.$set(c)},i(o){r||(W(e.$$.fragment,o),r=!0)},o(o){G(e.$$.fragment,o),r=!1},d(o){oe(e,o)}}}function Dq(t,e,n){let{sidebar:r=!1}=e;function i(s){r=s,n(0,r)}return t.$$set=s=>{"sidebar"in s&&n(0,r=s.sidebar)},[r,i]}class Di extends tt{constructor(e){super(),et(this,e,Dq,Rq,Fe,{sidebar:0})}}function QS(t){let e,n,r,i,s,o=t[1].nickname+"",l,c,f,g,v=t[1].email+"",_,m;return{c(){e=C("div"),n=C("img"),i=B(),s=C("h1"),l=_e(o),c=B(),f=C("h2"),g=_e("("),_=_e(v),m=_e(")"),S(n,"class","user-photo svelte-1tov7sv"),me(n.src,r="data:image/png;base64, "+t[1].photoURL)||S(n,"src",r),S(n,"alt","user profile picture"),S(e,"class","profile-frame svelte-1tov7sv"),S(s,"class","user-name svelte-1tov7sv"),S(f,"class","user-email svelte-1tov7sv")},m(b,I){U(b,e,I),T(e,n),U(b,i,I),U(b,s,I),T(s,l),U(b,c,I),U(b,f,I),T(f,g),T(f,_),T(f,m)},p(b,I){I&2&&!me(n.src,r="data:image/png;base64, "+b[1].photoURL)&&S(n,"src",r),I&2&&o!==(o=b[1].nickname+"")&&Me(l,o),I&2&&v!==(v=b[1].email+"")&&Me(_,v)},d(b){b&&(F(e),F(i),F(s),F(c),F(f))}}}function Oq(t){let e,n,r,i,s,o,l,c,f,g,v,_,m,b,I,k,D,M,L,H,R,q,j=t[1]&&QS(t);return{c(){e=C("aside"),n=C("nav"),j&&j.c(),r=B(),i=C("button"),i.textContent="Pokedex",s=B(),o=C("button"),o.textContent="Profile",l=B(),c=C("button"),c.textContent="Badges",f=B(),g=C("button"),g.textContent="Team",v=B(),_=C("button"),_.textContent="Collection",m=B(),b=C("button"),b.textContent="Battle!",I=B(),k=C("button"),k.textContent="Summon",D=B(),M=C("button"),M.textContent="Settings",L=B(),H=C("button"),H.textContent="Logout",S(i,"class","hover:text-gray-700 hover:no-underline svelte-1tov7sv"),S(o,"class","hover:text-gray-700 hover:no-underline svelte-1tov7sv"),S(c,"class","hover:text-gray-700 hover:no-underline svelte-1tov7sv"),S(g,"class","hover:text-gray-700 hover:no-underline svelte-1tov7sv"),S(_,"class","hover:text-gray-700 hover:no-underline svelte-1tov7sv"),S(b,"class","hover:text-gray-700 hover:no-underline battle svelte-1tov7sv"),S(k,"class","hover:text-gray-700 hover:no-underline svelte-1tov7sv"),S(M,"class","hover:text-gray-700 hover:no-underline svelte-1tov7sv"),S(H,"class","hover:text-gray-700 hover:no-underline logout svelte-1tov7sv"),S(n,"class","text-xl svelte-1tov7sv"),S(e,"class","absolute w-full h-full bg-gray-200 border-r-2 shadow-lg svelte-1tov7sv"),Kt(e,"open",t[0])},m(X,$){U(X,e,$),T(e,n),j&&j.m(n,null),T(n,r),T(n,i),T(n,s),T(n,o),T(n,l),T(n,c),T(n,f),T(n,g),T(n,v),T(n,_),T(n,m),T(n,b),T(n,I),T(n,k),T(n,D),T(n,M),T(n,L),T(n,H),R||(q=[le(i,"click",t[3]),le(o,"click",t[4]),le(c,"click",t[5]),le(g,"click",t[6]),le(_,"click",t[7]),le(b,"click",t[8]),le(k,"click",t[9]),le(M,"click",t[10]),le(H,"click",t[11])],R=!0)},p(X,[$]){X[1]?j?j.p(X,$):(j=QS(X),j.c(),j.m(n,r)):j&&(j.d(1),j=null),$&1&&Kt(e,"open",X[0])},i:z,o:z,d(X){X&&F(e),j&&j.d(),R=!1,Zt(q)}}}function Mq(t,e,n){let{open:r=!1}=e,i;as(async()=>{const I=sessionStorage.getItem("user");await $n(JSON.parse(I).uid).then(k=>{k&&n(1,i=k)})});const s=async()=>{sessionStorage.removeItem("user"),window.location.href="/"},o=()=>window.location.href="/showCase",l=()=>window.location.href="/profile",c=()=>window.location.href="/achievements",f=()=>window.location.href="/team",g=()=>window.location.href="/collection",v=()=>window.location.href="/battle",_=()=>window.location.href="/summon",m=()=>window.location.href="/settings",b=()=>s();return t.$$set=I=>{"open"in I&&n(0,r=I.open)},[r,i,s,o,l,c,f,g,v,_,m,b]}class Oi extends tt{constructor(e){super(),et(this,e,Mq,Oq,Fe,{open:0})}}function Nq(t){let e,n;return e=new ZW({}),{c(){ae(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},i(r){n||(W(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function Lq(t){let e,n;return e=new nz({}),{c(){ae(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},i(r){n||(W(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function Vq(t){let e,n,r,i,s,o,l,c;function f(m){t[2](m)}let g={};t[1]!==void 0&&(g.open=t[1]),e=new Oi({props:g}),lt.push(()=>Dt(e,"open",f));function v(m){t[3](m)}let _={};return t[1]!==void 0&&(_.sidebar=t[1]),i=new Di({props:_}),lt.push(()=>Dt(i,"sidebar",v)),l=new Jj({}),{c(){ae(e.$$.fragment),r=B(),ae(i.$$.fragment),o=B(),ae(l.$$.fragment)},m(m,b){se(e,m,b),U(m,r,b),se(i,m,b),U(m,o,b),se(l,m,b),c=!0},p(m,b){const I={};!n&&b&2&&(n=!0,I.open=m[1],Rt(()=>n=!1)),e.$set(I);const k={};!s&&b&2&&(s=!0,k.sidebar=m[1],Rt(()=>s=!1)),i.$set(k)},i(m){c||(W(e.$$.fragment,m),W(i.$$.fragment,m),W(l.$$.fragment,m),c=!0)},o(m){G(e.$$.fragment,m),G(i.$$.fragment,m),G(l.$$.fragment,m),c=!1},d(m){m&&(F(r),F(o)),oe(e,m),oe(i,m),oe(l,m)}}}function Hq(t){let e,n;return e=new Ri({props:{$$slots:{default:[Vq]},$$scope:{ctx:t}}}),{c(){ae(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p(r,i){const s={};i&262146&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){n||(W(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function Fq(t){let e,n,r,i,s,o,l,c;function f(m){t[4](m)}let g={};t[1]!==void 0&&(g.open=t[1]),e=new Oi({props:g}),lt.push(()=>Dt(e,"open",f));function v(m){t[5](m)}let _={};return t[1]!==void 0&&(_.sidebar=t[1]),i=new Di({props:_}),lt.push(()=>Dt(i,"sidebar",v)),l=new g8({}),{c(){ae(e.$$.fragment),r=B(),ae(i.$$.fragment),o=B(),ae(l.$$.fragment)},m(m,b){se(e,m,b),U(m,r,b),se(i,m,b),U(m,o,b),se(l,m,b),c=!0},p(m,b){const I={};!n&&b&2&&(n=!0,I.open=m[1],Rt(()=>n=!1)),e.$set(I);const k={};!s&&b&2&&(s=!0,k.sidebar=m[1],Rt(()=>s=!1)),i.$set(k)},i(m){c||(W(e.$$.fragment,m),W(i.$$.fragment,m),W(l.$$.fragment,m),c=!0)},o(m){G(e.$$.fragment,m),G(i.$$.fragment,m),G(l.$$.fragment,m),c=!1},d(m){m&&(F(r),F(o)),oe(e,m),oe(i,m),oe(l,m)}}}function xq(t){let e,n;return e=new Ri({props:{$$slots:{default:[Fq]},$$scope:{ctx:t}}}),{c(){ae(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p(r,i){const s={};i&262146&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){n||(W(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function Uq(t){let e,n,r,i,s,o,l,c;function f(m){t[6](m)}let g={};t[1]!==void 0&&(g.open=t[1]),e=new Oi({props:g}),lt.push(()=>Dt(e,"open",f));function v(m){t[7](m)}let _={};return t[1]!==void 0&&(_.sidebar=t[1]),i=new Di({props:_}),lt.push(()=>Dt(i,"sidebar",v)),l=new j8({}),{c(){ae(e.$$.fragment),r=B(),ae(i.$$.fragment),o=B(),ae(l.$$.fragment)},m(m,b){se(e,m,b),U(m,r,b),se(i,m,b),U(m,o,b),se(l,m,b),c=!0},p(m,b){const I={};!n&&b&2&&(n=!0,I.open=m[1],Rt(()=>n=!1)),e.$set(I);const k={};!s&&b&2&&(s=!0,k.sidebar=m[1],Rt(()=>s=!1)),i.$set(k)},i(m){c||(W(e.$$.fragment,m),W(i.$$.fragment,m),W(l.$$.fragment,m),c=!0)},o(m){G(e.$$.fragment,m),G(i.$$.fragment,m),G(l.$$.fragment,m),c=!1},d(m){m&&(F(r),F(o)),oe(e,m),oe(i,m),oe(l,m)}}}function Bq(t){let e,n;return e=new Ri({props:{$$slots:{default:[Uq]},$$scope:{ctx:t}}}),{c(){ae(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p(r,i){const s={};i&262146&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){n||(W(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function Wq(t){let e,n,r,i,s,o,l,c;function f(m){t[8](m)}let g={};t[1]!==void 0&&(g.open=t[1]),e=new Oi({props:g}),lt.push(()=>Dt(e,"open",f));function v(m){t[9](m)}let _={};return t[1]!==void 0&&(_.sidebar=t[1]),i=new Di({props:_}),lt.push(()=>Dt(i,"sidebar",v)),l=new P2({}),{c(){ae(e.$$.fragment),r=B(),ae(i.$$.fragment),o=B(),ae(l.$$.fragment)},m(m,b){se(e,m,b),U(m,r,b),se(i,m,b),U(m,o,b),se(l,m,b),c=!0},p(m,b){const I={};!n&&b&2&&(n=!0,I.open=m[1],Rt(()=>n=!1)),e.$set(I);const k={};!s&&b&2&&(s=!0,k.sidebar=m[1],Rt(()=>s=!1)),i.$set(k)},i(m){c||(W(e.$$.fragment,m),W(i.$$.fragment,m),W(l.$$.fragment,m),c=!0)},o(m){G(e.$$.fragment,m),G(i.$$.fragment,m),G(l.$$.fragment,m),c=!1},d(m){m&&(F(r),F(o)),oe(e,m),oe(i,m),oe(l,m)}}}function zq(t){let e,n;return e=new Ri({props:{$$slots:{default:[Wq]},$$scope:{ctx:t}}}),{c(){ae(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p(r,i){const s={};i&262146&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){n||(W(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function jq(t){let e,n,r,i,s,o,l,c;function f(m){t[10](m)}let g={};t[1]!==void 0&&(g.open=t[1]),e=new Oi({props:g}),lt.push(()=>Dt(e,"open",f));function v(m){t[11](m)}let _={};return t[1]!==void 0&&(_.sidebar=t[1]),i=new Di({props:_}),lt.push(()=>Dt(i,"sidebar",v)),l=new vq({}),{c(){ae(e.$$.fragment),r=B(),ae(i.$$.fragment),o=B(),ae(l.$$.fragment)},m(m,b){se(e,m,b),U(m,r,b),se(i,m,b),U(m,o,b),se(l,m,b),c=!0},p(m,b){const I={};!n&&b&2&&(n=!0,I.open=m[1],Rt(()=>n=!1)),e.$set(I);const k={};!s&&b&2&&(s=!0,k.sidebar=m[1],Rt(()=>s=!1)),i.$set(k)},i(m){c||(W(e.$$.fragment,m),W(i.$$.fragment,m),W(l.$$.fragment,m),c=!0)},o(m){G(e.$$.fragment,m),G(i.$$.fragment,m),G(l.$$.fragment,m),c=!1},d(m){m&&(F(r),F(o)),oe(e,m),oe(i,m),oe(l,m)}}}function qq(t){let e,n;return e=new Ri({props:{$$slots:{default:[jq]},$$scope:{ctx:t}}}),{c(){ae(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p(r,i){const s={};i&262146&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){n||(W(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function Gq(t){let e,n,r,i,s,o,l,c;function f(m){t[12](m)}let g={};t[1]!==void 0&&(g.open=t[1]),e=new Oi({props:g}),lt.push(()=>Dt(e,"open",f));function v(m){t[13](m)}let _={};return t[1]!==void 0&&(_.sidebar=t[1]),i=new Di({props:_}),lt.push(()=>Dt(i,"sidebar",v)),l=new dq({}),{c(){ae(e.$$.fragment),r=B(),ae(i.$$.fragment),o=B(),ae(l.$$.fragment)},m(m,b){se(e,m,b),U(m,r,b),se(i,m,b),U(m,o,b),se(l,m,b),c=!0},p(m,b){const I={};!n&&b&2&&(n=!0,I.open=m[1],Rt(()=>n=!1)),e.$set(I);const k={};!s&&b&2&&(s=!0,k.sidebar=m[1],Rt(()=>s=!1)),i.$set(k)},i(m){c||(W(e.$$.fragment,m),W(i.$$.fragment,m),W(l.$$.fragment,m),c=!0)},o(m){G(e.$$.fragment,m),G(i.$$.fragment,m),G(l.$$.fragment,m),c=!1},d(m){m&&(F(r),F(o)),oe(e,m),oe(i,m),oe(l,m)}}}function Kq(t){let e,n;return e=new Ri({props:{$$slots:{default:[Gq]},$$scope:{ctx:t}}}),{c(){ae(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p(r,i){const s={};i&262146&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){n||(W(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function Yq(t){let e,n,r,i,s,o,l,c;function f(m){t[14](m)}let g={};t[1]!==void 0&&(g.open=t[1]),e=new Oi({props:g}),lt.push(()=>Dt(e,"open",f));function v(m){t[15](m)}let _={};return t[1]!==void 0&&(_.sidebar=t[1]),i=new Di({props:_}),lt.push(()=>Dt(i,"sidebar",v)),l=new Sq({}),{c(){ae(e.$$.fragment),r=B(),ae(i.$$.fragment),o=B(),ae(l.$$.fragment)},m(m,b){se(e,m,b),U(m,r,b),se(i,m,b),U(m,o,b),se(l,m,b),c=!0},p(m,b){const I={};!n&&b&2&&(n=!0,I.open=m[1],Rt(()=>n=!1)),e.$set(I);const k={};!s&&b&2&&(s=!0,k.sidebar=m[1],Rt(()=>s=!1)),i.$set(k)},i(m){c||(W(e.$$.fragment,m),W(i.$$.fragment,m),W(l.$$.fragment,m),c=!0)},o(m){G(e.$$.fragment,m),G(i.$$.fragment,m),G(l.$$.fragment,m),c=!1},d(m){m&&(F(r),F(o)),oe(e,m),oe(i,m),oe(l,m)}}}function Qq(t){let e,n;return e=new Ri({props:{$$slots:{default:[Yq]},$$scope:{ctx:t}}}),{c(){ae(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p(r,i){const s={};i&262146&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){n||(W(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function $q(t){let e,n,r,i,s,o,l,c;function f(m){t[16](m)}let g={};t[1]!==void 0&&(g.open=t[1]),e=new Oi({props:g}),lt.push(()=>Dt(e,"open",f));function v(m){t[17](m)}let _={};return t[1]!==void 0&&(_.sidebar=t[1]),i=new Di({props:_}),lt.push(()=>Dt(i,"sidebar",v)),l=new P2({}),{c(){ae(e.$$.fragment),r=B(),ae(i.$$.fragment),o=B(),ae(l.$$.fragment)},m(m,b){se(e,m,b),U(m,r,b),se(i,m,b),U(m,o,b),se(l,m,b),c=!0},p(m,b){const I={};!n&&b&2&&(n=!0,I.open=m[1],Rt(()=>n=!1)),e.$set(I);const k={};!s&&b&2&&(s=!0,k.sidebar=m[1],Rt(()=>s=!1)),i.$set(k)},i(m){c||(W(e.$$.fragment,m),W(i.$$.fragment,m),W(l.$$.fragment,m),c=!0)},o(m){G(e.$$.fragment,m),G(i.$$.fragment,m),G(l.$$.fragment,m),c=!1},d(m){m&&(F(r),F(o)),oe(e,m),oe(i,m),oe(l,m)}}}function Xq(t){let e,n;return e=new Ri({props:{$$slots:{default:[$q]},$$scope:{ctx:t}}}),{c(){ae(e.$$.fragment)},m(r,i){se(e,r,i),n=!0},p(r,i){const s={};i&262146&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){n||(W(e.$$.fragment,r),n=!0)},o(r){G(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function Jq(t){let e,n,r,i,s,o,l,c,f,g,v,_,m,b,I,k,D,M,L,H;return e=new Cr({props:{path:"/",$$slots:{default:[Nq]},$$scope:{ctx:t}}}),r=new Cr({props:{path:"/signup",$$slots:{default:[Lq]},$$scope:{ctx:t}}}),s=new Cr({props:{path:"/showCase",$$slots:{default:[Hq]},$$scope:{ctx:t}}}),l=new Cr({props:{path:"/profile",$$slots:{default:[xq]},$$scope:{ctx:t}}}),f=new Cr({props:{path:"/team",$$slots:{default:[Bq]},$$scope:{ctx:t}}}),v=new Cr({props:{path:"/achievements",$$slots:{default:[zq]},$$scope:{ctx:t}}}),m=new Cr({props:{path:"/collection",$$slots:{default:[qq]},$$scope:{ctx:t}}}),I=new Cr({props:{path:"/battle",$$slots:{default:[Kq]},$$scope:{ctx:t}}}),D=new Cr({props:{path:"/summon",$$slots:{default:[Qq]},$$scope:{ctx:t}}}),L=new Cr({props:{path:"/settings",$$slots:{default:[Xq]},$$scope:{ctx:t}}}),{c(){ae(e.$$.fragment),n=B(),ae(r.$$.fragment),i=B(),ae(s.$$.fragment),o=B(),ae(l.$$.fragment),c=B(),ae(f.$$.fragment),g=B(),ae(v.$$.fragment),_=B(),ae(m.$$.fragment),b=B(),ae(I.$$.fragment),k=B(),ae(D.$$.fragment),M=B(),ae(L.$$.fragment)},m(R,q){se(e,R,q),U(R,n,q),se(r,R,q),U(R,i,q),se(s,R,q),U(R,o,q),se(l,R,q),U(R,c,q),se(f,R,q),U(R,g,q),se(v,R,q),U(R,_,q),se(m,R,q),U(R,b,q),se(I,R,q),U(R,k,q),se(D,R,q),U(R,M,q),se(L,R,q),H=!0},p(R,q){const j={};q&262144&&(j.$$scope={dirty:q,ctx:R}),e.$set(j);const X={};q&262144&&(X.$$scope={dirty:q,ctx:R}),r.$set(X);const $={};q&262146&&($.$$scope={dirty:q,ctx:R}),s.$set($);const K={};q&262146&&(K.$$scope={dirty:q,ctx:R}),l.$set(K);const ve={};q&262146&&(ve.$$scope={dirty:q,ctx:R}),f.$set(ve);const he={};q&262146&&(he.$$scope={dirty:q,ctx:R}),v.$set(he);const ye={};q&262146&&(ye.$$scope={dirty:q,ctx:R}),m.$set(ye);const ct={};q&262146&&(ct.$$scope={dirty:q,ctx:R}),I.$set(ct);const re={};q&262146&&(re.$$scope={dirty:q,ctx:R}),D.$set(re);const Pe={};q&262146&&(Pe.$$scope={dirty:q,ctx:R}),L.$set(Pe)},i(R){H||(W(e.$$.fragment,R),W(r.$$.fragment,R),W(s.$$.fragment,R),W(l.$$.fragment,R),W(f.$$.fragment,R),W(v.$$.fragment,R),W(m.$$.fragment,R),W(I.$$.fragment,R),W(D.$$.fragment,R),W(L.$$.fragment,R),H=!0)},o(R){G(e.$$.fragment,R),G(r.$$.fragment,R),G(s.$$.fragment,R),G(l.$$.fragment,R),G(f.$$.fragment,R),G(v.$$.fragment,R),G(m.$$.fragment,R),G(I.$$.fragment,R),G(D.$$.fragment,R),G(L.$$.fragment,R),H=!1},d(R){R&&(F(n),F(i),F(o),F(c),F(g),F(_),F(b),F(k),F(M)),oe(e,R),oe(r,R),oe(s,R),oe(l,R),oe(f,R),oe(v,R),oe(m,R),oe(I,R),oe(D,R),oe(L,R)}}}function Zq(t){let e,n,r,i;return r=new Z4({props:{url:t[0],$$slots:{default:[Jq]},$$scope:{ctx:t}}}),{c(){e=C("link"),n=B(),ae(r.$$.fragment),S(e,"href","https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css"),S(e,"rel","stylesheet")},m(s,o){T(document.head,e),U(s,n,o),se(r,s,o),i=!0},p(s,[o]){const l={};o&1&&(l.url=s[0]),o&262146&&(l.$$scope={dirty:o,ctx:s}),r.$set(l)},i(s){i||(W(r.$$.fragment,s),i=!0)},o(s){G(r.$$.fragment,s),i=!1},d(s){s&&F(n),F(e),oe(r,s)}}}function eG(t,e,n){let{url:r=""}=e,i=!1;function s(R){i=R,n(1,i)}function o(R){i=R,n(1,i)}function l(R){i=R,n(1,i)}function c(R){i=R,n(1,i)}function f(R){i=R,n(1,i)}function g(R){i=R,n(1,i)}function v(R){i=R,n(1,i)}function _(R){i=R,n(1,i)}function m(R){i=R,n(1,i)}function b(R){i=R,n(1,i)}function I(R){i=R,n(1,i)}function k(R){i=R,n(1,i)}function D(R){i=R,n(1,i)}function M(R){i=R,n(1,i)}function L(R){i=R,n(1,i)}function H(R){i=R,n(1,i)}return t.$$set=R=>{"url"in R&&n(0,r=R.url)},[r,i,s,o,l,c,f,g,v,_,m,b,I,k,D,M,L,H]}class tG extends tt{constructor(e){super(),et(this,e,eG,Zq,Fe,{url:0})}}new tG({target:document.getElementById("root")});
