var Tw=Object.defineProperty;var Iw=(t,e,n)=>e in t?Tw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var yl=(t,e,n)=>(Iw(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function S(){}const Km=t=>t;function vs(t,e){for(const n in e)t[n]=e[n];return t}function Cw(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function Qm(t){return t()}function af(){return Object.create(null)}function gt(t){t.forEach(Qm)}function qi(t){return typeof t=="function"}function ue(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let vo;function ce(t,e){return t===e?!0:(vo||(vo=document.createElement("a")),vo.href=e,t===vo.href)}function kw(t){return Object.keys(t).length===0}function Ym(t,...e){if(t==null){for(const r of e)r(void 0);return S}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Lt(t,e,n){t.$$.on_destroy.push(Ym(e,n))}function Ns(t,e,n,r){if(t){const s=Xm(t,e,n,r);return t[0](s)}}function Xm(t,e,n,r){return t[1]&&r?vs(n.ctx.slice(),t[1](r(e))):n.ctx}function Ms(t,e,n,r){if(t[2]&&r){const s=t[2](r(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const i=[],o=Math.max(e.dirty.length,s.length);for(let a=0;a<o;a+=1)i[a]=e.dirty[a]|s[a];return i}return e.dirty|s}return e.dirty}function Vs(t,e,n,r,s,i){if(s){const o=Xm(e,n,r,i);t.p(o,s)}}function Ls(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function lf(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function cf(t){return t??""}function _l(t,e,n){return t.set(n),e}function uf(t){const e=typeof t=="string"&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}const Jm=typeof window<"u";let Go=Jm?()=>window.performance.now():()=>Date.now(),wu=Jm?t=>requestAnimationFrame(t):S;const us=new Set;function $m(t){us.forEach(e=>{e.c(t)||(us.delete(e),e.f())}),us.size!==0&&wu($m)}function Au(t){let e;return us.size===0&&wu($m),{promise:new Promise(n=>{us.add(e={c:t,f:n})}),abort(){us.delete(e)}}}const Rw=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function g(t,e){t.appendChild(e)}function Zm(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Pw(t){const e=w("style");return e.textContent="/* empty */",Dw(Zm(t),e),e.sheet}function Dw(t,e){return g(t.head||t,e),e.sheet}function I(t,e,n){t.insertBefore(e,n||null)}function T(t){t.parentNode&&t.parentNode.removeChild(t)}function Yt(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function w(t){return document.createElement(t)}function Pn(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function re(t){return document.createTextNode(t)}function k(){return re(" ")}function me(){return re("")}function X(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function m(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function hf(t,e){for(const n in e)m(t,n,e[n])}function Ow(t){return Array.from(t.childNodes)}function Se(t,e){e=""+e,t.data!==e&&(t.data=e)}function Ft(t,e){t.value=e??""}function Vn(t,e,n,r){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function ff(t,e,n){for(let r=0;r<t.options.length;r+=1){const s=t.options[r];if(s.__value===e){s.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function Nw(t){const e=t.querySelector(":checked");return e&&e.__value}function Ke(t,e,n){t.classList.toggle(e,!!n)}function Mw(t,e,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}function df(t,e){return new t(e)}const zo=new Map;let Ko=0;function Vw(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function Lw(t,e){const n={stylesheet:Pw(e),rules:{}};return zo.set(t,n),n}function eg(t,e,n,r,s,i,o,a=0){const l=16.666/r;let c=`{
`;for(let y=0;y<=1;y+=l){const v=e+(n-e)*i(y);c+=y*100+`%{${o(v,1-v)}}
`}const u=c+`100% {${o(n,1-n)}}
}`,h=`__svelte_${Vw(u)}_${a}`,d=Zm(t),{stylesheet:f,rules:p}=zo.get(d)||Lw(d,t);p[h]||(p[h]=!0,f.insertRule(`@keyframes ${h} ${u}`,f.cssRules.length));const _=t.style.animation||"";return t.style.animation=`${_?`${_}, `:""}${h} ${r}ms linear ${s}ms 1 both`,Ko+=1,h}function Sc(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),s=n.length-r.length;s&&(t.style.animation=r.join(", "),Ko-=s,Ko||Fw())}function Fw(){wu(()=>{Ko||(zo.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&T(e)}),zo.clear())})}let Si;function Dn(t){Si=t}function Gi(){if(!Si)throw new Error("Function called outside component initialization");return Si}function zi(t){Gi().$$.on_mount.push(t)}function Hw(t){Gi().$$.on_destroy.push(t)}function vl(t,e){return Gi().$$.context.set(t,e),e}function Ec(t){return Gi().$$.context.get(t)}function bc(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(r=>r.call(this,e))}const rs=[],Ie=[];let hs=[];const Tc=[],Uw=Promise.resolve();let Ic=!1;function Bw(){Ic||(Ic=!0,Uw.then(Su))}function nr(t){hs.push(t)}function Xe(t){Tc.push(t)}const wl=new Set;let Qr=0;function Su(){if(Qr!==0)return;const t=Si;do{try{for(;Qr<rs.length;){const e=rs[Qr];Qr++,Dn(e),Ww(e.$$)}}catch(e){throw rs.length=0,Qr=0,e}for(Dn(null),rs.length=0,Qr=0;Ie.length;)Ie.pop()();for(let e=0;e<hs.length;e+=1){const n=hs[e];wl.has(n)||(wl.add(n),n())}hs.length=0}while(rs.length);for(;Tc.length;)Tc.pop()();Ic=!1,wl.clear(),Dn(t)}function Ww(t){if(t.fragment!==null){t.update(),gt(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(nr)}}function xw(t){const e=[],n=[];hs.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),hs=e}let Js;function tg(){return Js||(Js=Promise.resolve(),Js.then(()=>{Js=null})),Js}function Qo(t,e,n){t.dispatchEvent(Mw(`${e?"intro":"outro"}${n}`))}const No=new Set;let Qn;function fe(){Qn={r:0,c:[],p:Qn}}function de(){Qn.r||gt(Qn.c),Qn=Qn.p}function b(t,e){t&&t.i&&(No.delete(t),t.i(e))}function C(t,e,n,r){if(t&&t.o){if(No.has(t))return;No.add(t),Qn.c.push(()=>{No.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}const ng={duration:0};function rg(t,e,n){const r={direction:"in"};let s=e(t,n,r),i=!1,o,a,l=0;function c(){o&&Sc(t,o)}function u(){const{delay:d=0,duration:f=300,easing:p=Km,tick:_=S,css:y}=s||ng;y&&(o=eg(t,0,1,f,d,p,y,l++)),_(0,1);const v=Go()+d,A=v+f;a&&a.abort(),i=!0,nr(()=>Qo(t,!0,"start")),a=Au(E=>{if(i){if(E>=A)return _(1,0),Qo(t,!0,"end"),c(),i=!1;if(E>=v){const R=p((E-v)/f);_(R,1-R)}}return i})}let h=!1;return{start(){h||(h=!0,Sc(t),qi(s)?(s=s(r),tg().then(u)):u())},invalidate(){h=!1},end(){i&&(c(),i=!1)}}}function sg(t,e,n){const r={direction:"out"};let s=e(t,n,r),i=!0,o;const a=Qn;a.r+=1;let l;function c(){const{delay:u=0,duration:h=300,easing:d=Km,tick:f=S,css:p}=s||ng;p&&(o=eg(t,1,0,h,u,d,p));const _=Go()+u,y=_+h;nr(()=>Qo(t,!1,"start")),"inert"in t&&(l=t.inert,t.inert=!0),Au(v=>{if(i){if(v>=y)return f(0,1),Qo(t,!1,"end"),--a.r||gt(a.c),!1;if(v>=_){const A=d((v-_)/h);f(1-A,A)}}return i})}return qi(s)?tg().then(()=>{s=s(r),c()}):c(),{end(u){u&&"inert"in t&&(t.inert=l),u&&s.tick&&s.tick(1,0),i&&(o&&Sc(t,o),i=!1)}}}function Ht(t,e){const n=e.token={};function r(s,i,o,a){if(e.token!==n)return;e.resolved=a;let l=e.ctx;o!==void 0&&(l=l.slice(),l[o]=a);const c=s&&(e.current=s)(l);let u=!1;e.block&&(e.blocks?e.blocks.forEach((h,d)=>{d!==i&&h&&(fe(),C(h,1,1,()=>{e.blocks[d]===h&&(e.blocks[d]=null)}),de())}):e.block.d(1),c.c(),b(c,1),c.m(e.mount(),e.anchor),u=!0),e.block=c,e.blocks&&(e.blocks[i]=c),u&&Su()}if(Cw(t)){const s=Gi();if(t.then(i=>{Dn(s),r(e.then,1,e.value,i),Dn(null)},i=>{if(Dn(s),r(e.catch,2,e.error,i),Dn(null),!e.hasCatch)throw i}),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}}function Ar(t,e,n){const r=e.slice(),{resolved:s}=t;t.current===t.then&&(r[t.value]=s),t.current===t.catch&&(r[t.error]=s),t.block.p(r,n)}function ve(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Eu(t,e){C(t,1,1,()=>{e.delete(t.key)})}function bu(t,e,n,r,s,i,o,a,l,c,u,h){let d=t.length,f=i.length,p=d;const _={};for(;p--;)_[t[p].key]=p;const y=[],v=new Map,A=new Map,E=[];for(p=f;p--;){const U=h(s,i,p),z=n(U);let N=o.get(z);N?r&&E.push(()=>N.p(U,e)):(N=c(z,U),N.c()),v.set(z,y[p]=N),z in _&&A.set(z,Math.abs(p-_[z]))}const R=new Set,D=new Set;function L(U){b(U,1),U.m(a,u),o.set(U.key,U),u=U.first,f--}for(;d&&f;){const U=y[f-1],z=t[d-1],N=U.key,M=z.key;U===z?(u=U.first,d--,f--):v.has(M)?!o.has(N)||R.has(N)?L(U):D.has(M)?d--:A.get(N)>A.get(M)?(D.add(N),L(U)):(R.add(M),d--):(l(z,o),d--)}for(;d--;){const U=t[d];v.has(U.key)||l(U,o)}for(;f;)L(y[f-1]);return gt(E),y}function Yo(t,e){const n={},r={},s={$$scope:1};let i=t.length;for(;i--;){const o=t[i],a=e[i];if(a){for(const l in o)l in a||(r[l]=1);for(const l in a)s[l]||(n[l]=a[l],s[l]=1);t[i]=a}else for(const l in o)s[l]=1}for(const o in r)o in n||(n[o]=void 0);return n}function ri(t){return typeof t=="object"&&t!==null?t:{}}function Je(t,e,n){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function x(t){t&&t.c()}function B(t,e,n){const{fragment:r,after_update:s}=t.$$;r&&r.m(e,n),nr(()=>{const i=t.$$.on_mount.map(Qm).filter(qi);t.$$.on_destroy?t.$$.on_destroy.push(...i):gt(i),t.$$.on_mount=[]}),s.forEach(nr)}function W(t,e){const n=t.$$;n.fragment!==null&&(xw(n.after_update),gt(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function jw(t,e){t.$$.dirty[0]===-1&&(rs.push(t),Bw(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ge(t,e,n,r,s,i,o=null,a=[-1]){const l=Si;Dn(t);const c=t.$$={fragment:null,ctx:[],props:i,update:S,not_equal:s,bound:af(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:af(),dirty:a,skip_bound:!1,root:e.target||l.$$.root};o&&o(c.root);let u=!1;if(c.ctx=n?n(t,e.props||{},(h,d,...f)=>{const p=f.length?f[0]:d;return c.ctx&&s(c.ctx[h],c.ctx[h]=p)&&(!c.skip_bound&&c.bound[h]&&c.bound[h](p),u&&jw(t,h)),d}):[],c.update(),u=!0,gt(c.before_update),c.fragment=r?r(c.ctx):!1,e.target){if(e.hydrate){const h=Ow(e.target);c.fragment&&c.fragment.l(h),h.forEach(T)}else c.fragment&&c.fragment.c();e.intro&&b(t.$$.fragment),B(t,e.target,e.anchor),Su()}Dn(l)}class ye{constructor(){yl(this,"$$");yl(this,"$$set")}$destroy(){W(this,1),this.$destroy=S}$on(e,n){if(!qi(n))return S;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}$set(e){this.$$set&&!kw(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const qw="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(qw);const pf={},Cc={},Gw={},ig=/^:(.+)/,mf=4,zw=3,Kw=2,Qw=1,Yw=1,kc=t=>t.replace(/(^\/+|\/+$)/g,"").split("/"),Al=t=>t.replace(/(^\/+|\/+$)/g,""),Xw=(t,e)=>{const n=t.default?0:kc(t.path).reduce((r,s)=>(r+=mf,s===""?r+=Yw:ig.test(s)?r+=Kw:s[0]==="*"?r-=mf+Qw:r+=zw,r),0);return{route:t,score:n,index:e}},Jw=t=>t.map(Xw).sort((e,n)=>e.score<n.score?1:e.score>n.score?-1:e.index-n.index),gf=(t,e)=>{let n,r;const[s]=e.split("?"),i=kc(s),o=i[0]==="",a=Jw(t);for(let l=0,c=a.length;l<c;l++){const u=a[l].route;let h=!1;if(u.default){r={route:u,params:{},uri:e};continue}const d=kc(u.path),f={},p=Math.max(i.length,d.length);let _=0;for(;_<p;_++){const y=d[_],v=i[_];if(y&&y[0]==="*"){const E=y==="*"?"*":y.slice(1);f[E]=i.slice(_).map(decodeURIComponent).join("/");break}if(typeof v>"u"){h=!0;break}const A=ig.exec(y);if(A&&!o){const E=decodeURIComponent(v);f[A[1]]=E}else if(y!==v){h=!0;break}}if(!h){n={route:u,params:f,uri:"/"+i.slice(0,_).join("/")};break}}return n||r||null},yf=(t,e)=>`${Al(e==="/"?t:`${Al(t)}/${Al(e)}`)}/`,og=()=>typeof window<"u"&&"document"in window&&"location"in window,$w=t=>({params:t&4}),_f=t=>({params:t[2]});function vf(t){let e,n,r,s;const i=[eA,Zw],o=[];function a(l,c){return l[0]?0:1}return e=a(t),n=o[e]=i[e](t),{c(){n.c(),r=me()},m(l,c){o[e].m(l,c),I(l,r,c),s=!0},p(l,c){let u=e;e=a(l),e===u?o[e].p(l,c):(fe(),C(o[u],1,1,()=>{o[u]=null}),de(),n=o[e],n?n.p(l,c):(n=o[e]=i[e](l),n.c()),b(n,1),n.m(r.parentNode,r))},i(l){s||(b(n),s=!0)},o(l){C(n),s=!1},d(l){l&&T(r),o[e].d(l)}}}function Zw(t){let e;const n=t[8].default,r=Ns(n,t,t[7],_f);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),e=!0},p(s,i){r&&r.p&&(!e||i&132)&&Vs(r,n,s,s[7],e?Ms(n,s[7],i,$w):Ls(s[7]),_f)},i(s){e||(b(r,s),e=!0)},o(s){C(r,s),e=!1},d(s){r&&r.d(s)}}}function eA(t){let e,n,r,s={ctx:t,current:null,token:null,hasCatch:!1,pending:rA,then:nA,catch:tA,value:12,blocks:[,,,]};return Ht(n=t[0],s),{c(){e=me(),s.block.c()},m(i,o){I(i,e,o),s.block.m(i,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,r=!0},p(i,o){t=i,s.ctx=t,o&1&&n!==(n=t[0])&&Ht(n,s)||Ar(s,t,o)},i(i){r||(b(s.block),r=!0)},o(i){for(let o=0;o<3;o+=1){const a=s.blocks[o];C(a)}r=!1},d(i){i&&T(e),s.block.d(i),s.token=null,s=null}}}function tA(t){return{c:S,m:S,p:S,i:S,o:S,d:S}}function nA(t){var a;let e,n,r;const s=[t[2],t[3]];var i=((a=t[12])==null?void 0:a.default)||t[12];function o(l,c){let u={};if(c!==void 0&&c&12)u=Yo(s,[c&4&&ri(l[2]),c&8&&ri(l[3])]);else for(let h=0;h<s.length;h+=1)u=vs(u,s[h]);return{props:u}}return i&&(e=df(i,o(t))),{c(){e&&x(e.$$.fragment),n=me()},m(l,c){e&&B(e,l,c),I(l,n,c),r=!0},p(l,c){var u;if(c&1&&i!==(i=((u=l[12])==null?void 0:u.default)||l[12])){if(e){fe();const h=e;C(h.$$.fragment,1,0,()=>{W(h,1)}),de()}i?(e=df(i,o(l,c)),x(e.$$.fragment),b(e.$$.fragment,1),B(e,n.parentNode,n)):e=null}else if(i){const h=c&12?Yo(s,[c&4&&ri(l[2]),c&8&&ri(l[3])]):{};e.$set(h)}},i(l){r||(e&&b(e.$$.fragment,l),r=!0)},o(l){e&&C(e.$$.fragment,l),r=!1},d(l){l&&T(n),e&&W(e,l)}}}function rA(t){return{c:S,m:S,p:S,i:S,o:S,d:S}}function sA(t){let e,n,r=t[1]&&t[1].route===t[5]&&vf(t);return{c(){r&&r.c(),e=me()},m(s,i){r&&r.m(s,i),I(s,e,i),n=!0},p(s,[i]){s[1]&&s[1].route===s[5]?r?(r.p(s,i),i&2&&b(r,1)):(r=vf(s),r.c(),b(r,1),r.m(e.parentNode,e)):r&&(fe(),C(r,1,1,()=>{r=null}),de())},i(s){n||(b(r),n=!0)},o(s){C(r),n=!1},d(s){s&&T(e),r&&r.d(s)}}}function iA(t,e,n){let r,{$$slots:s={},$$scope:i}=e,{path:o=""}=e,{component:a=null}=e,l={},c={};const{registerRoute:u,unregisterRoute:h,activeRoute:d}=Ec(Cc);Lt(t,d,p=>n(1,r=p));const f={path:o,default:o===""};return u(f),Hw(()=>{h(f)}),t.$$set=p=>{n(11,e=vs(vs({},e),lf(p))),"path"in p&&n(6,o=p.path),"component"in p&&n(0,a=p.component),"$$scope"in p&&n(7,i=p.$$scope)},t.$$.update=()=>{if(r&&r.route===f){n(2,l=r.params);const{component:p,path:_,...y}=e;n(3,c=y),p&&(p.toString().startsWith("class ")?n(0,a=p):n(0,a=p())),og()&&!r.preserveScroll&&(window==null||window.scrollTo(0,0))}},e=lf(e),[a,r,l,c,d,f,o,i,s]}class Wn extends ye{constructor(e){super(),ge(this,e,iA,sA,ue,{path:6,component:0})}}const Yr=[];function ag(t,e){return{subscribe:gr(t,e).subscribe}}function gr(t,e=S){let n;const r=new Set;function s(a){if(ue(t,a)&&(t=a,n)){const l=!Yr.length;for(const c of r)c[1](),Yr.push(c,t);if(l){for(let c=0;c<Yr.length;c+=2)Yr[c][0](Yr[c+1]);Yr.length=0}}}function i(a){s(a(t))}function o(a,l=S){const c=[a,l];return r.add(c),r.size===1&&(n=e(s,i)||S),a(t),()=>{r.delete(c),r.size===0&&n&&(n(),n=null)}}return{set:s,update:i,subscribe:o}}function oA(t,e,n){const r=!Array.isArray(t),s=r?[t]:t;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const i=e.length<2;return ag(n,(o,a)=>{let l=!1;const c=[];let u=0,h=S;const d=()=>{if(u)return;h();const p=e(r?c[0]:c,o,a);i?o(p):h=qi(p)?p:S},f=s.map((p,_)=>Ym(p,y=>{c[_]=y,u&=~(1<<_),l&&d()},()=>{u|=1<<_}));return l=!0,d(),function(){gt(f),h(),l=!1}})}const Sl=t=>({...t.location,state:t.history.state,key:t.history.state&&t.history.state.key||"initial"}),aA=t=>{const e=[];let n=Sl(t);return{get location(){return n},listen(r){e.push(r);const s=()=>{n=Sl(t),r({location:n,action:"POP"})};return t.addEventListener("popstate",s),()=>{t.removeEventListener("popstate",s);const i=e.indexOf(r);e.splice(i,1)}},navigate(r,{state:s,replace:i=!1,preserveScroll:o=!1}={}){s={...s,key:Date.now()+""};try{i?t.history.replaceState(s,"",r):t.history.pushState(s,"",r)}catch{t.location[i?"replace":"assign"](r)}n=Sl(t),e.forEach(a=>a({location:n,action:"PUSH",preserveScroll:o})),document.activeElement.blur()}}},lA=(t="/")=>{let e=0;const n=[{pathname:t,search:""}],r=[];return{get location(){return n[e]},addEventListener(s,i){},removeEventListener(s,i){},history:{get entries(){return n},get index(){return e},get state(){return r[e]},pushState(s,i,o){const[a,l=""]=o.split("?");e++,n.push({pathname:a,search:l}),r.push(s)},replaceState(s,i,o){const[a,l=""]=o.split("?");n[e]={pathname:a,search:l},r[e]=s}}}},cA=aA(og()?window:lA()),uA=t=>({route:t&4,location:t&2}),wf=t=>({route:t[2]&&t[2].uri,location:t[1]}),hA=t=>({route:t&4,location:t&2}),Af=t=>({route:t[2]&&t[2].uri,location:t[1]});function fA(t){let e;const n=t[15].default,r=Ns(n,t,t[14],wf);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),e=!0},p(s,i){r&&r.p&&(!e||i&16390)&&Vs(r,n,s,s[14],e?Ms(n,s[14],i,uA):Ls(s[14]),wf)},i(s){e||(b(r,s),e=!0)},o(s){C(r,s),e=!1},d(s){r&&r.d(s)}}}function dA(t){let e=t[1].pathname,n,r,s=Sf(t);return{c(){s.c(),n=me()},m(i,o){s.m(i,o),I(i,n,o),r=!0},p(i,o){o&2&&ue(e,e=i[1].pathname)?(fe(),C(s,1,1,S),de(),s=Sf(i),s.c(),b(s,1),s.m(n.parentNode,n)):s.p(i,o)},i(i){r||(b(s),r=!0)},o(i){C(s),r=!1},d(i){i&&T(n),s.d(i)}}}function Sf(t){let e,n,r,s;const i=t[15].default,o=Ns(i,t,t[14],Af);return{c(){e=w("div"),o&&o.c()},m(a,l){I(a,e,l),o&&o.m(e,null),s=!0},p(a,l){o&&o.p&&(!s||l&16390)&&Vs(o,i,a,a[14],s?Ms(i,a[14],l,hA):Ls(a[14]),Af)},i(a){s||(b(o,a),a&&nr(()=>{s&&(r&&r.end(1),n=rg(e,t[3],{}),n.start())}),s=!0)},o(a){C(o,a),n&&n.invalidate(),a&&(r=sg(e,t[3],{})),s=!1},d(a){a&&T(e),o&&o.d(a),a&&r&&r.end()}}}function pA(t){let e,n,r,s;const i=[dA,fA],o=[];function a(l,c){return l[0]?0:1}return e=a(t),n=o[e]=i[e](t),{c(){n.c(),r=me()},m(l,c){o[e].m(l,c),I(l,r,c),s=!0},p(l,[c]){let u=e;e=a(l),e===u?o[e].p(l,c):(fe(),C(o[u],1,1,()=>{o[u]=null}),de(),n=o[e],n?n.p(l,c):(n=o[e]=i[e](l),n.c()),b(n,1),n.m(r.parentNode,r))},i(l){s||(b(n),s=!0)},o(l){C(n),s=!1},d(l){l&&T(r),o[e].d(l)}}}function mA(t,e,n){let r,s,i,o,{$$slots:a={},$$scope:l}=e,{basepath:c="/"}=e,{url:u=null}=e,{viewtransition:h=null}=e,{history:d=cA}=e;const f=(N,M,we)=>{const Q=h(we);return typeof(Q==null?void 0:Q.fn)=="function"?Q.fn(N,Q):Q};vl(Gw,d);const p=Ec(pf),_=Ec(Cc),y=gr([]);Lt(t,y,N=>n(12,s=N));const v=gr(null);Lt(t,v,N=>n(2,o=N));let A=!1;const E=p||gr(u?{pathname:u}:d.location);Lt(t,E,N=>n(1,r=N));const R=_?_.routerBase:gr({path:c,uri:c});Lt(t,R,N=>n(13,i=N));const D=oA([R,v],([N,M])=>{if(!M)return N;const{path:we}=N,{route:Q,uri:J}=M;return{path:Q.default?we:Q.path.replace(/\*.*$/,""),uri:J}}),L=N=>{const{path:M}=i;let{path:we}=N;if(N._path=we,N.path=yf(M,we),typeof window>"u"){if(A)return;const Q=gf([N],r.pathname);Q&&(v.set(Q),A=!0)}else y.update(Q=>[...Q,N])},U=N=>{y.update(M=>M.filter(we=>we!==N))};let z=!1;return p||(zi(()=>d.listen(M=>{n(11,z=M.preserveScroll||!1),E.set(M.location)})),vl(pf,E)),vl(Cc,{activeRoute:v,base:R,routerBase:D,registerRoute:L,unregisterRoute:U}),t.$$set=N=>{"basepath"in N&&n(8,c=N.basepath),"url"in N&&n(9,u=N.url),"viewtransition"in N&&n(0,h=N.viewtransition),"history"in N&&n(10,d=N.history),"$$scope"in N&&n(14,l=N.$$scope)},t.$$.update=()=>{if(t.$$.dirty&8192){const{path:N}=i;y.update(M=>M.map(we=>Object.assign(we,{path:yf(N,we._path)})))}if(t.$$.dirty&6146){const N=gf(s,r.pathname);v.set({...N,preserveScroll:z})}},[h,r,o,f,y,v,E,R,c,u,d,z,s,i,l,a]}class gA extends ye{constructor(e){super(),ge(this,e,mA,pA,ue,{basepath:8,url:9,viewtransition:0,history:10})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},yA=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},cg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let d=(a&15)<<2|c>>6,f=c&63;l||(f=64,o||(d=64)),r.push(n[u],n[h],n[d],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(lg(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):yA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new _A;const d=i<<2|a>>4;if(r.push(d),c!==64){const f=a<<4&240|c>>2;if(r.push(f),h!==64){const p=c<<6&192|h;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class _A extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vA=function(t){const e=lg(t);return cg.encodeByteArray(e,!0)},Xo=function(t){return vA(t).replace(/\./g,"")},ug=function(t){try{return cg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA=()=>wA().__FIREBASE_DEFAULTS__,SA=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},EA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ug(t[1]);return e&&JSON.parse(e)},Tu=()=>{try{return AA()||SA()||EA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},hg=t=>{var e,n;return(n=(e=Tu())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},bA=t=>{const e=hg(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},fg=()=>{var t;return(t=Tu())===null||t===void 0?void 0:t.config},dg=t=>{var e;return(e=Tu())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Xo(JSON.stringify(n)),Xo(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ct())}function pg(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function kA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RA(){const t=Ct();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function mg(){try{return typeof indexedDB=="object"}catch{return!1}}function gg(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function PA(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA="FirebaseError";class fn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=DA,Object.setPrototypeOf(this,fn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vr.prototype.create)}}class Vr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?OA(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new fn(s,a,r)}}function OA(t,e){return t.replace(NA,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const NA=/\{\$([^}]+)}/g;function MA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ei(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Ef(i)&&Ef(o)){if(!Ei(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Ef(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function si(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function ii(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function VA(t,e){const n=new LA(t,e);return n.subscribe.bind(n)}class LA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");FA(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=El),s.error===void 0&&(s.error=El),s.complete===void 0&&(s.complete=El);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FA(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function El(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA=1e3,UA=2,BA=4*60*60*1e3,WA=.5;function bf(t,e=HA,n=UA){const r=e*Math.pow(n,t),s=Math.round(WA*r*(Math.random()-.5)*2);return Math.min(BA,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(t){return t&&t._delegate?t._delegate:t}class on{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new TA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qA(e))try{this.getOrInitializeService({instanceIdentifier:pr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=pr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pr){return this.instances.has(e)}getOptions(e=pr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jA(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=pr){return this.component?this.component.multipleInstances?e:pr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jA(t){return t===pr?void 0:t}function qA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new xA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(le||(le={}));const zA={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},KA=le.INFO,QA={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},YA=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=QA[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ca{constructor(e){this.name=e,this._logLevel=KA,this._logHandler=YA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}}const XA=(t,e)=>e.some(n=>t instanceof n);let Tf,If;function JA(){return Tf||(Tf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $A(){return If||(If=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yg=new WeakMap,Rc=new WeakMap,_g=new WeakMap,bl=new WeakMap,Iu=new WeakMap;function ZA(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Jn(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&yg.set(n,t)}).catch(()=>{}),Iu.set(e,t),e}function e1(t){if(Rc.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Rc.set(t,e)}let Pc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Rc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_g.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function t1(t){Pc=t(Pc)}function n1(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Tl(this),e,...n);return _g.set(r,e.sort?e.sort():[e]),Jn(r)}:$A().includes(t)?function(...e){return t.apply(Tl(this),e),Jn(yg.get(this))}:function(...e){return Jn(t.apply(Tl(this),e))}}function r1(t){return typeof t=="function"?n1(t):(t instanceof IDBTransaction&&e1(t),XA(t,JA())?new Proxy(t,Pc):t)}function Jn(t){if(t instanceof IDBRequest)return ZA(t);if(bl.has(t))return bl.get(t);const e=r1(t);return e!==t&&(bl.set(t,e),Iu.set(e,t)),e}const Tl=t=>Iu.get(t);function s1(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Jn(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Jn(o.result),l.oldVersion,l.newVersion,Jn(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const i1=["get","getKey","getAll","getAllKeys","count"],o1=["put","add","delete","clear"],Il=new Map;function Cf(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Il.get(e))return Il.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=o1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||i1.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Il.set(e,i),i}t1(t=>({...t,get:(e,n,r)=>Cf(e,n)||t.get(e,n,r),has:(e,n)=>!!Cf(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(l1(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function l1(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Dc="@firebase/app",kf="0.9.20";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir=new Ca("@firebase/app"),c1="@firebase/app-compat",u1="@firebase/analytics-compat",h1="@firebase/analytics",f1="@firebase/app-check-compat",d1="@firebase/app-check",p1="@firebase/auth",m1="@firebase/auth-compat",g1="@firebase/database",y1="@firebase/database-compat",_1="@firebase/functions",v1="@firebase/functions-compat",w1="@firebase/installations",A1="@firebase/installations-compat",S1="@firebase/messaging",E1="@firebase/messaging-compat",b1="@firebase/performance",T1="@firebase/performance-compat",I1="@firebase/remote-config",C1="@firebase/remote-config-compat",k1="@firebase/storage",R1="@firebase/storage-compat",P1="@firebase/firestore",D1="@firebase/firestore-compat",O1="firebase",N1="10.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oc="[DEFAULT]",M1={[Dc]:"fire-core",[c1]:"fire-core-compat",[h1]:"fire-analytics",[u1]:"fire-analytics-compat",[d1]:"fire-app-check",[f1]:"fire-app-check-compat",[p1]:"fire-auth",[m1]:"fire-auth-compat",[g1]:"fire-rtdb",[y1]:"fire-rtdb-compat",[_1]:"fire-fn",[v1]:"fire-fn-compat",[w1]:"fire-iid",[A1]:"fire-iid-compat",[S1]:"fire-fcm",[E1]:"fire-fcm-compat",[b1]:"fire-perf",[T1]:"fire-perf-compat",[I1]:"fire-rc",[C1]:"fire-rc-compat",[k1]:"fire-gcs",[R1]:"fire-gcs-compat",[P1]:"fire-fst",[D1]:"fire-fst-compat","fire-js":"fire-js",[O1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo=new Map,Nc=new Map;function V1(t,e){try{t.container.addComponent(e)}catch(n){Ir.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function bn(t){const e=t.name;if(Nc.has(e))return Ir.debug(`There were multiple attempts to register component ${e}.`),!1;Nc.set(e,t);for(const n of Jo.values())V1(n,t);return!0}function Lr(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},$n=new Vr("app","Firebase",L1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new on("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $n.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=N1;function vg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Oc,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw $n.create("bad-app-name",{appName:String(s)});if(n||(n=fg()),!n)throw $n.create("no-options");const i=Jo.get(s);if(i){if(Ei(n,i.options)&&Ei(r,i.config))return i;throw $n.create("duplicate-app",{appName:s})}const o=new GA(s);for(const l of Nc.values())o.addComponent(l);const a=new F1(n,r,o);return Jo.set(s,a),a}function Cu(t=Oc){const e=Jo.get(t);if(!e&&t===Oc&&fg())return vg();if(!e)throw $n.create("no-app",{appName:t});return e}function nn(t,e,n){var r;let s=(r=M1[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ir.warn(a.join(" "));return}bn(new on(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="firebase-heartbeat-database",U1=1,bi="firebase-heartbeat-store";let Cl=null;function wg(){return Cl||(Cl=s1(H1,U1,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(bi)}}}).catch(t=>{throw $n.create("idb-open",{originalErrorMessage:t.message})})),Cl}async function B1(t){try{return await(await wg()).transaction(bi).objectStore(bi).get(Ag(t))}catch(e){if(e instanceof fn)Ir.warn(e.message);else{const n=$n.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ir.warn(n.message)}}}async function Rf(t,e){try{const r=(await wg()).transaction(bi,"readwrite");await r.objectStore(bi).put(e,Ag(t)),await r.done}catch(n){if(n instanceof fn)Ir.warn(n.message);else{const r=$n.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ir.warn(r.message)}}}function Ag(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1=1024,x1=30*24*60*60*1e3;class j1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new G1(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Pf();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const i=new Date(s.date).valueOf();return Date.now()-i<=x1}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Pf(),{heartbeatsToSend:n,unsentEntries:r}=q1(this._heartbeatsCache.heartbeats),s=Xo(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Pf(){return new Date().toISOString().substring(0,10)}function q1(t,e=W1){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Df(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Df(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class G1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mg()?gg().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await B1(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Rf(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Rf(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Df(t){return Xo(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(t){bn(new on("platform-logger",e=>new a1(e),"PRIVATE")),bn(new on("heartbeat",e=>new j1(e),"PRIVATE")),nn(Dc,kf,t),nn(Dc,kf,"esm2017"),nn("fire-js","")}z1("");var K1="firebase",Q1="10.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn(K1,Q1,"app");var Y1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},H,ku=ku||{},ee=Y1||self;function ka(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Qi(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function X1(t){return Object.prototype.hasOwnProperty.call(t,kl)&&t[kl]||(t[kl]=++J1)}var kl="closure_uid_"+(1e9*Math.random()>>>0),J1=0;function $1(t,e,n){return t.call.apply(t.bind,arguments)}function Z1(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Tt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Tt=$1:Tt=Z1,Tt.apply(null,arguments)}function wo(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function lt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[s].apply(r,o)}}function ar(){this.s=this.s,this.o=this.o}var e0=0;ar.prototype.s=!1;ar.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),e0!=0)&&X1(this)};ar.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Sg=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Ru(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Of(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(ka(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let o=0;o<i;o++)t[s+o]=r[o]}else t.push(r)}}function It(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}It.prototype.h=function(){this.defaultPrevented=!0};var t0=function(){if(!ee.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ee.addEventListener("test",()=>{},e),ee.removeEventListener("test",()=>{},e)}catch{}return t}();function Ti(t){return/^[\s\xa0]*$/.test(t)}function Ra(){var t=ee.navigator;return t&&(t=t.userAgent)?t:""}function gn(t){return Ra().indexOf(t)!=-1}function Pu(t){return Pu[" "](t),t}Pu[" "]=function(){};function n0(t,e){var n=Q0;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var r0=gn("Opera"),ws=gn("Trident")||gn("MSIE"),Eg=gn("Edge"),Mc=Eg||ws,bg=gn("Gecko")&&!(Ra().toLowerCase().indexOf("webkit")!=-1&&!gn("Edge"))&&!(gn("Trident")||gn("MSIE"))&&!gn("Edge"),s0=Ra().toLowerCase().indexOf("webkit")!=-1&&!gn("Edge");function Tg(){var t=ee.document;return t?t.documentMode:void 0}var Vc;e:{var Rl="",Pl=function(){var t=Ra();if(bg)return/rv:([^\);]+)(\)|;)/.exec(t);if(Eg)return/Edge\/([\d\.]+)/.exec(t);if(ws)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(s0)return/WebKit\/(\S+)/.exec(t);if(r0)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Pl&&(Rl=Pl?Pl[1]:""),ws){var Dl=Tg();if(Dl!=null&&Dl>parseFloat(Rl)){Vc=String(Dl);break e}}Vc=Rl}var Lc;if(ee.document&&ws){var Nf=Tg();Lc=Nf||parseInt(Vc,10)||void 0}else Lc=void 0;var i0=Lc;function Ii(t,e){if(It.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(bg){e:{try{Pu(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:o0[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ii.$.h.call(this)}}lt(Ii,It);var o0={2:"touch",3:"pen",4:"mouse"};Ii.prototype.h=function(){Ii.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Yi="closure_listenable_"+(1e6*Math.random()|0),a0=0;function l0(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++a0,this.fa=this.ia=!1}function Pa(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Du(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function c0(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function Ig(t){const e={};for(const n in t)e[n]=t[n];return e}const Mf="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Cg(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<Mf.length;i++)n=Mf[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Da(t){this.src=t,this.g={},this.h=0}Da.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=Hc(t,e,r,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new l0(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};function Fc(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=Sg(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(Pa(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Hc(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}var Ou="closure_lm_"+(1e6*Math.random()|0),Ol={};function kg(t,e,n,r,s){if(r&&r.once)return Pg(t,e,n,r,s);if(Array.isArray(e)){for(var i=0;i<e.length;i++)kg(t,e[i],n,r,s);return null}return n=Vu(n),t&&t[Yi]?t.O(e,n,Qi(r)?!!r.capture:!!r,s):Rg(t,e,n,!1,r,s)}function Rg(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=Qi(s)?!!s.capture:!!s,a=Mu(t);if(a||(t[Ou]=a=new Da(t)),n=a.add(e,n,r,o,i),n.proxy)return n;if(r=u0(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)t0||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(Og(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function u0(){function t(n){return e.call(t.src,t.listener,n)}const e=h0;return t}function Pg(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)Pg(t,e[i],n,r,s);return null}return n=Vu(n),t&&t[Yi]?t.P(e,n,Qi(r)?!!r.capture:!!r,s):Rg(t,e,n,!0,r,s)}function Dg(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)Dg(t,e[i],n,r,s);else r=Qi(r)?!!r.capture:!!r,n=Vu(n),t&&t[Yi]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=Hc(i,n,r,s),-1<n&&(Pa(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=Mu(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Hc(e,n,r,s)),(n=-1<t?e[t]:null)&&Nu(n))}function Nu(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Yi])Fc(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Og(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Mu(e))?(Fc(n,t),n.h==0&&(n.src=null,e[Ou]=null)):Pa(t)}}}function Og(t){return t in Ol?Ol[t]:Ol[t]="on"+t}function h0(t,e){if(t.fa)t=!0;else{e=new Ii(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Nu(t),t=n.call(r,e)}return t}function Mu(t){return t=t[Ou],t instanceof Da?t:null}var Nl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vu(t){return typeof t=="function"?t:(t[Nl]||(t[Nl]=function(e){return t.handleEvent(e)}),t[Nl])}function at(){ar.call(this),this.i=new Da(this),this.S=this,this.J=null}lt(at,ar);at.prototype[Yi]=!0;at.prototype.removeEventListener=function(t,e,n,r){Dg(this,t,e,n,r)};function pt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new It(e,t);else if(e instanceof It)e.target=e.target||t;else{var s=e;e=new It(r,t),Cg(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];s=Ao(o,r,!0,e)&&s}if(o=e.g=t,s=Ao(o,r,!0,e)&&s,s=Ao(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)o=e.g=n[i],s=Ao(o,r,!1,e)&&s}at.prototype.N=function(){if(at.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Pa(n[r]);delete t.g[e],t.h--}}this.J=null};at.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};at.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Ao(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Fc(t.i,o),s=a.call(l,r)!==!1&&s}}return s&&!r.defaultPrevented}var Lu=ee.JSON.stringify;class f0{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function d0(){var t=Fu;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class p0{constructor(){this.h=this.g=null}add(e,n){const r=Ng.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Ng=new f0(()=>new m0,t=>t.reset());class m0{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function g0(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function y0(t){ee.setTimeout(()=>{throw t},0)}let Ci,ki=!1,Fu=new p0,Mg=()=>{const t=ee.Promise.resolve(void 0);Ci=()=>{t.then(_0)}};var _0=()=>{for(var t;t=d0();){try{t.h.call(t.g)}catch(n){y0(n)}var e=Ng;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}ki=!1};function Oa(t,e){at.call(this),this.h=t||1,this.g=e||ee,this.j=Tt(this.qb,this),this.l=Date.now()}lt(Oa,at);H=Oa.prototype;H.ga=!1;H.T=null;H.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),pt(this,"tick"),this.ga&&(Hu(this),this.start()))}};H.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Hu(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}H.N=function(){Oa.$.N.call(this),Hu(this),delete this.g};function Uu(t,e,n){if(typeof t=="function")n&&(t=Tt(t,n));else if(t&&typeof t.handleEvent=="function")t=Tt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ee.setTimeout(t,e||0)}function Vg(t){t.g=Uu(()=>{t.g=null,t.i&&(t.i=!1,Vg(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class v0 extends ar{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Vg(this)}N(){super.N(),this.g&&(ee.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ri(t){ar.call(this),this.h=t,this.g={}}lt(Ri,ar);var Vf=[];function Lg(t,e,n,r){Array.isArray(n)||(n&&(Vf[0]=n.toString()),n=Vf);for(var s=0;s<n.length;s++){var i=kg(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function Fg(t){Du(t.g,function(e,n){this.g.hasOwnProperty(n)&&Nu(e)},t),t.g={}}Ri.prototype.N=function(){Ri.$.N.call(this),Fg(this)};Ri.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Na(){this.g=!0}Na.prototype.Ea=function(){this.g=!1};function w0(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function A0(t,e,n,r,s,i,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+o})}function ls(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+E0(t,n)+(r?" "+r:"")})}function S0(t,e){t.info(function(){return"TIMEOUT: "+e})}Na.prototype.info=function(){};function E0(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return Lu(n)}catch{return e}}var Fr={},Lf=null;function Ma(){return Lf=Lf||new at}Fr.Ta="serverreachability";function Hg(t){It.call(this,Fr.Ta,t)}lt(Hg,It);function Pi(t){const e=Ma();pt(e,new Hg(e))}Fr.STAT_EVENT="statevent";function Ug(t,e){It.call(this,Fr.STAT_EVENT,t),this.stat=e}lt(Ug,It);function Mt(t){const e=Ma();pt(e,new Ug(e,t))}Fr.Ua="timingevent";function Bg(t,e){It.call(this,Fr.Ua,t),this.size=e}lt(Bg,It);function Xi(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ee.setTimeout(function(){t()},e)}var Va={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Wg={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Bu(){}Bu.prototype.h=null;function Ff(t){return t.h||(t.h=t.i())}function xg(){}var Ji={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Wu(){It.call(this,"d")}lt(Wu,It);function xu(){It.call(this,"c")}lt(xu,It);var Uc;function La(){}lt(La,Bu);La.prototype.g=function(){return new XMLHttpRequest};La.prototype.i=function(){return{}};Uc=new La;function $i(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Ri(this),this.P=b0,t=Mc?125:void 0,this.V=new Oa(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new jg}function jg(){this.i=null,this.g="",this.h=!1}var b0=45e3,Bc={},$o={};H=$i.prototype;H.setTimeout=function(t){this.P=t};function Wc(t,e,n){t.L=1,t.v=Ha(Ln(e)),t.s=n,t.S=!0,qg(t,null)}function qg(t,e){t.G=Date.now(),Zi(t),t.A=Ln(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),$g(n.i,"t",r),t.C=0,n=t.l.J,t.h=new jg,t.g=vy(t.l,n?e:null,!t.s),0<t.O&&(t.M=new v0(Tt(t.Pa,t,t.g),t.O)),Lg(t.U,t.g,"readystatechange",t.nb),e=t.I?Ig(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Pi(),w0(t.j,t.u,t.A,t.m,t.W,t.s)}H.nb=function(t){t=t.target;const e=this.M;e&&yn(t)==3?e.l():this.Pa(t)};H.Pa=function(t){try{if(t==this.g)e:{const u=yn(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>u)&&(u!=3||Mc||this.g&&(this.h.h||this.g.ja()||Wf(this.g)))){this.J||u!=4||e==7||(e==8||0>=h?Pi(3):Pi(2)),Fa(this);var n=this.g.da();this.ca=n;t:if(Gg(this)){var r=Wf(this.g);t="";var s=r.length,i=yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yr(this),hi(this);var o="";break t}this.h.i=new ee.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.splice(0,s),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,A0(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ti(a)){var c=a;break t}}c=null}if(n=c)ls(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xc(this,n);else{this.i=!1,this.o=3,Mt(12),yr(this),hi(this);break e}}this.S?(zg(this,u,o),Mc&&this.i&&u==3&&(Lg(this.U,this.V,"tick",this.mb),this.V.start())):(ls(this.j,this.m,o,null),xc(this,o)),u==4&&yr(this),this.i&&!this.J&&(u==4?my(this.l,this):(this.i=!1,Zi(this)))}else G0(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Mt(12)):(this.o=0,Mt(13)),yr(this),hi(this)}}}catch{}finally{}};function Gg(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function zg(t,e,n){let r=!0,s;for(;!t.J&&t.C<n.length;)if(s=T0(t,n),s==$o){e==4&&(t.o=4,Mt(14),r=!1),ls(t.j,t.m,null,"[Incomplete Response]");break}else if(s==Bc){t.o=4,Mt(15),ls(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ls(t.j,t.m,s,null),xc(t,s);Gg(t)&&s!=$o&&s!=Bc&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Mt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Qu(e),e.M=!0,Mt(11))):(ls(t.j,t.m,n,"[Invalid Chunked Response]"),yr(t),hi(t))}H.mb=function(){if(this.g){var t=yn(this.g),e=this.g.ja();this.C<e.length&&(Fa(this),zg(this,t,e),this.i&&t!=4&&Zi(this))}};function T0(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?$o:(n=Number(e.substring(n,r)),isNaN(n)?Bc:(r+=1,r+n>e.length?$o:(e=e.slice(r,r+n),t.C=r+n,e)))}H.cancel=function(){this.J=!0,yr(this)};function Zi(t){t.Y=Date.now()+t.P,Kg(t,t.P)}function Kg(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Xi(Tt(t.lb,t),e)}function Fa(t){t.B&&(ee.clearTimeout(t.B),t.B=null)}H.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(S0(this.j,this.A),this.L!=2&&(Pi(),Mt(17)),yr(this),this.o=2,hi(this)):Kg(this,this.Y-t)};function hi(t){t.l.H==0||t.J||my(t.l,t)}function yr(t){Fa(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Hu(t.V),Fg(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function xc(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||jc(n.i,t))){if(!t.K&&jc(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)ta(n),xa(n);else break e;Ku(n),Mt(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=Xi(Tt(n.ib,n),6e3));if(1>=ty(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else _r(n,11)}else if((t.K||n.g==t)&&ta(n),!Ti(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let c=s[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const h=c[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const d=c[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var i=r.i;i.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(ju(i,i.h),i.h=null))}if(r.F){const _=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.Da=_,De(r.I,r.F,_))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=_y(r,r.J?r.pa:null,r.Y),o.K){ny(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(Fa(a),Zi(a)),r.g=o}else dy(r);0<n.j.length&&ja(n)}else c[0]!="stop"&&c[0]!="close"||_r(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?_r(n,7):zu(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}Pi(4)}catch{}}function I0(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(ka(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function C0(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(ka(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function Qg(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(ka(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=C0(t),r=I0(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var Yg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function k0(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Sr(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Sr){this.h=t.h,Zo(this,t.j),this.s=t.s,this.g=t.g,ea(this,t.m),this.l=t.l;var e=t.i,n=new Di;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Hf(this,n),this.o=t.o}else t&&(e=String(t).match(Yg))?(this.h=!1,Zo(this,e[1]||"",!0),this.s=oi(e[2]||""),this.g=oi(e[3]||"",!0),ea(this,e[4]),this.l=oi(e[5]||"",!0),Hf(this,e[6]||"",!0),this.o=oi(e[7]||"")):(this.h=!1,this.i=new Di(null,this.h))}Sr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ai(e,Uf,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(ai(e,Uf,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(ai(n,n.charAt(0)=="/"?D0:P0,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ai(n,N0)),t.join("")};function Ln(t){return new Sr(t)}function Zo(t,e,n){t.j=n?oi(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ea(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Hf(t,e,n){e instanceof Di?(t.i=e,M0(t.i,t.h)):(n||(e=ai(e,O0)),t.i=new Di(e,t.h))}function De(t,e,n){t.i.set(e,n)}function Ha(t){return De(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function oi(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ai(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,R0),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function R0(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Uf=/[#\/\?@]/g,P0=/[#\?:]/g,D0=/[#\?]/g,O0=/[#\?@]/g,N0=/#/g;function Di(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function lr(t){t.g||(t.g=new Map,t.h=0,t.i&&k0(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}H=Di.prototype;H.add=function(t,e){lr(this),this.i=null,t=Hs(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Xg(t,e){lr(t),e=Hs(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Jg(t,e){return lr(t),e=Hs(t,e),t.g.has(e)}H.forEach=function(t,e){lr(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};H.ta=function(){lr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};H.Z=function(t){lr(this);let e=[];if(typeof t=="string")Jg(this,t)&&(e=e.concat(this.g.get(Hs(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};H.set=function(t,e){return lr(this),this.i=null,t=Hs(this,t),Jg(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};H.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function $g(t,e,n){Xg(t,e),0<n.length&&(t.i=null,t.g.set(Hs(t,e),Ru(n)),t.h+=n.length)}H.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),t.push(s)}}return this.i=t.join("&")};function Hs(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function M0(t,e){e&&!t.j&&(lr(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(Xg(this,r),$g(this,s,n))},t)),t.j=e}var V0=class{constructor(t,e){this.g=t,this.map=e}};function Zg(t){this.l=t||L0,ee.PerformanceNavigationTiming?(t=ee.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ee.g&&ee.g.Ka&&ee.g.Ka()&&ee.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var L0=10;function ey(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function ty(t){return t.h?1:t.g?t.g.size:0}function jc(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function ju(t,e){t.g?t.g.add(e):t.h=e}function ny(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Zg.prototype.cancel=function(){if(this.i=ry(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function ry(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Ru(t.i)}var F0=class{stringify(t){return ee.JSON.stringify(t,void 0)}parse(t){return ee.JSON.parse(t,void 0)}};function H0(){this.g=new F0}function U0(t,e,n){const r=n||"";try{Qg(t,function(s,i){let o=s;Qi(s)&&(o=Lu(s)),e.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function B0(t,e){const n=new Na;if(ee.Image){const r=new Image;r.onload=wo(So,n,r,"TestLoadImage: loaded",!0,e),r.onerror=wo(So,n,r,"TestLoadImage: error",!1,e),r.onabort=wo(So,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=wo(So,n,r,"TestLoadImage: timeout",!1,e),ee.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function So(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function Ua(t){this.l=t.ec||null,this.j=t.ob||!1}lt(Ua,Bu);Ua.prototype.g=function(){return new Ba(this.l,this.j)};Ua.prototype.i=function(t){return function(){return t}}({});function Ba(t,e){at.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=qu,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}lt(Ba,at);var qu=0;H=Ba.prototype;H.open=function(t,e){if(this.readyState!=qu)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Oi(this)};H.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ee).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};H.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,eo(this)),this.readyState=qu};H.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Oi(this)),this.g&&(this.readyState=3,Oi(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ee.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;sy(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function sy(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}H.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?eo(this):Oi(this),this.readyState==3&&sy(this)}};H.Za=function(t){this.g&&(this.response=this.responseText=t,eo(this))};H.Ya=function(t){this.g&&(this.response=t,eo(this))};H.ka=function(){this.g&&eo(this)};function eo(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Oi(t)}H.setRequestHeader=function(t,e){this.v.append(t,e)};H.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};H.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Oi(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Ba.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var W0=ee.JSON.parse;function We(t){at.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=iy,this.L=this.M=!1}lt(We,at);var iy="",x0=/^https?$/i,j0=["POST","PUT"];H=We.prototype;H.Oa=function(t){this.M=t};H.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Uc.g(),this.C=this.u?Ff(this.u):Ff(Uc),this.g.onreadystatechange=Tt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){Bf(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=ee.FormData&&t instanceof ee.FormData,!(0<=Sg(j0,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ly(this),0<this.B&&((this.L=q0(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Tt(this.ua,this)):this.A=Uu(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){Bf(this,i)}};function q0(t){return ws&&typeof t.timeout=="number"&&t.ontimeout!==void 0}H.ua=function(){typeof ku<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,pt(this,"timeout"),this.abort(8))};function Bf(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,oy(t),Wa(t)}function oy(t){t.F||(t.F=!0,pt(t,"complete"),pt(t,"error"))}H.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,pt(this,"complete"),pt(this,"abort"),Wa(this))};H.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Wa(this,!0)),We.$.N.call(this)};H.La=function(){this.s||(this.G||this.v||this.l?ay(this):this.kb())};H.kb=function(){ay(this)};function ay(t){if(t.h&&typeof ku<"u"&&(!t.C[1]||yn(t)!=4||t.da()!=2)){if(t.v&&yn(t)==4)Uu(t.La,0,t);else if(pt(t,"readystatechange"),yn(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var s=String(t.I).match(Yg)[1]||null;!s&&ee.self&&ee.self.location&&(s=ee.self.location.protocol.slice(0,-1)),r=!x0.test(s?s.toLowerCase():"")}n=r}if(n)pt(t,"complete"),pt(t,"success");else{t.m=6;try{var i=2<yn(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",oy(t)}}finally{Wa(t)}}}}function Wa(t,e){if(t.g){ly(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||pt(t,"ready");try{n.onreadystatechange=r}catch{}}}function ly(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ee.clearTimeout(t.A),t.A=null)}H.isActive=function(){return!!this.g};function yn(t){return t.g?t.g.readyState:0}H.da=function(){try{return 2<yn(this)?this.g.status:-1}catch{return-1}};H.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};H.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),W0(e)}};function Wf(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case iy:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function G0(t){const e={};t=(t.g&&2<=yn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Ti(t[r]))continue;var n=g0(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}c0(e,function(r){return r.join(", ")})}H.Ia=function(){return this.m};H.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function cy(t){let e="";return Du(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Gu(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=cy(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):De(t,e,n))}function $s(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function uy(t){this.Ga=0,this.j=[],this.l=new Na,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=$s("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=$s("baseRetryDelayMs",5e3,t),this.hb=$s("retryDelaySeedMs",1e4,t),this.eb=$s("forwardChannelMaxRetries",2,t),this.xa=$s("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new Zg(t&&t.concurrentRequestLimit),this.Ja=new H0,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}H=uy.prototype;H.ra=8;H.H=1;function zu(t){if(hy(t),t.H==3){var e=t.W++,n=Ln(t.I);if(De(n,"SID",t.K),De(n,"RID",e),De(n,"TYPE","terminate"),to(t,n),e=new $i(t,t.l,e),e.L=2,e.v=Ha(Ln(n)),n=!1,ee.navigator&&ee.navigator.sendBeacon)try{n=ee.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ee.Image&&(new Image().src=e.v,n=!0),n||(e.g=vy(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Zi(e)}yy(t)}function xa(t){t.g&&(Qu(t),t.g.cancel(),t.g=null)}function hy(t){xa(t),t.u&&(ee.clearTimeout(t.u),t.u=null),ta(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ee.clearTimeout(t.m),t.m=null)}function ja(t){if(!ey(t.i)&&!t.m){t.m=!0;var e=t.Na;Ci||Mg(),ki||(Ci(),ki=!0),Fu.add(e,t),t.C=0}}function z0(t,e){return ty(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Xi(Tt(t.Na,t,e),gy(t,t.C)),t.C++,!0)}H.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new $i(this,this.l,t);let i=this.s;if(this.U&&(i?(i=Ig(i),Cg(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=fy(this,s,e),n=Ln(this.I),De(n,"RID",t),De(n,"CVER",22),this.F&&De(n,"X-HTTP-Session-Id",this.F),to(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(cy(i)))+"&"+e:this.o&&Gu(n,this.o,i)),ju(this.i,s),this.bb&&De(n,"TYPE","init"),this.P?(De(n,"$req",e),De(n,"SID","null"),s.aa=!0,Wc(s,n,null)):Wc(s,n,e),this.H=2}}else this.H==3&&(t?xf(this,t):this.j.length==0||ey(this.i)||xf(this))};function xf(t,e){var n;e?n=e.m:n=t.W++;const r=Ln(t.I);De(r,"SID",t.K),De(r,"RID",n),De(r,"AID",t.V),to(t,r),t.o&&t.s&&Gu(r,t.o,t.s),n=new $i(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=fy(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),ju(t.i,n),Wc(n,r,e)}function to(t,e){t.na&&Du(t.na,function(n,r){De(e,r,n)}),t.h&&Qg({},function(n,r){De(e,r,n)})}function fy(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Tt(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let c=s[l].g;const u=s[l].map;if(c-=i,0>c)i=Math.max(0,s[l].g-100),a=!1;else try{U0(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function dy(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Ci||Mg(),ki||(Ci(),ki=!0),Fu.add(e,t),t.A=0}}function Ku(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Xi(Tt(t.Ma,t),gy(t,t.A)),t.A++,!0)}H.Ma=function(){if(this.u=null,py(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Xi(Tt(this.jb,this),t)}};H.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Mt(10),xa(this),py(this))};function Qu(t){t.B!=null&&(ee.clearTimeout(t.B),t.B=null)}function py(t){t.g=new $i(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Ln(t.wa);De(e,"RID","rpc"),De(e,"SID",t.K),De(e,"AID",t.V),De(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&De(e,"TO",t.qa),De(e,"TYPE","xmlhttp"),to(t,e),t.o&&t.s&&Gu(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Ha(Ln(e)),n.s=null,n.S=!0,qg(n,t)}H.ib=function(){this.v!=null&&(this.v=null,xa(this),Ku(this),Mt(19))};function ta(t){t.v!=null&&(ee.clearTimeout(t.v),t.v=null)}function my(t,e){var n=null;if(t.g==e){ta(t),Qu(t),t.g=null;var r=2}else if(jc(t.i,e))n=e.F,ny(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var s=t.C;r=Ma(),pt(r,new Bg(r,n)),ja(t)}else dy(t);else if(s=e.o,s==3||s==0&&0<e.ca||!(r==1&&z0(t,e)||r==2&&Ku(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:_r(t,5);break;case 4:_r(t,10);break;case 3:_r(t,6);break;default:_r(t,2)}}}function gy(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function _r(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Tt(t.pb,t);n||(n=new Sr("//www.google.com/images/cleardot.gif"),ee.location&&ee.location.protocol=="http"||Zo(n,"https"),Ha(n)),B0(n.toString(),r)}else Mt(2);t.H=0,t.h&&t.h.za(e),yy(t),hy(t)}H.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Mt(2)):(this.l.info("Failed to ping google.com"),Mt(1))};function yy(t){if(t.H=0,t.ma=[],t.h){const e=ry(t.i);(e.length!=0||t.j.length!=0)&&(Of(t.ma,e),Of(t.ma,t.j),t.i.i.length=0,Ru(t.j),t.j.length=0),t.h.ya()}}function _y(t,e,n){var r=n instanceof Sr?Ln(n):new Sr(n);if(r.g!="")e&&(r.g=e+"."+r.g),ea(r,r.m);else{var s=ee.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new Sr(null);r&&Zo(i,r),e&&(i.g=e),s&&ea(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&De(r,n,e),De(r,"VER",t.ra),to(t,r),r}function vy(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new We(new Ua({ob:!0})):new We(t.va),e.Oa(t.J),e}H.isActive=function(){return!!this.h&&this.h.isActive(this)};function wy(){}H=wy.prototype;H.Ba=function(){};H.Aa=function(){};H.za=function(){};H.ya=function(){};H.isActive=function(){return!0};H.Va=function(){};function na(){if(ws&&!(10<=Number(i0)))throw Error("Environmental error: no available transport.")}na.prototype.g=function(t,e){return new Xt(t,e)};function Xt(t,e){at.call(this),this.g=new uy(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ti(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ti(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Us(this)}lt(Xt,at);Xt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Mt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=_y(t,null,t.Y),ja(t)};Xt.prototype.close=function(){zu(this.g)};Xt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Lu(t),t=n);e.j.push(new V0(e.fb++,t)),e.H==3&&ja(e)};Xt.prototype.N=function(){this.g.h=null,delete this.j,zu(this.g),delete this.g,Xt.$.N.call(this)};function Ay(t){Wu.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}lt(Ay,Wu);function Sy(){xu.call(this),this.status=1}lt(Sy,xu);function Us(t){this.g=t}lt(Us,wy);Us.prototype.Ba=function(){pt(this.g,"a")};Us.prototype.Aa=function(t){pt(this.g,new Ay(t))};Us.prototype.za=function(t){pt(this.g,new Sy)};Us.prototype.ya=function(){pt(this.g,"b")};function K0(){this.blockSize=-1}function an(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}lt(an,K0);an.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Ml(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],o=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}an.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)Ml(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){Ml(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){Ml(this,r),s=0;break}}this.h=s,this.i+=e};an.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ee(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}var Q0={};function Yu(t){return-128<=t&&128>t?n0(t,function(e){return new Ee([e|0],0>e?-1:0)}):new Ee([t|0],0>t?-1:0)}function _n(t){if(isNaN(t)||!isFinite(t))return fs;if(0>t)return ft(_n(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=qc;return new Ee(e,0)}function Ey(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return ft(Ey(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=_n(Math.pow(e,8)),r=fs,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+i),e);8>i?(i=_n(Math.pow(e,i)),r=r.R(i).add(_n(o))):(r=r.R(n),r=r.add(_n(o)))}return r}var qc=4294967296,fs=Yu(0),Gc=Yu(1),jf=Yu(16777216);H=Ee.prototype;H.ea=function(){if(tn(this))return-ft(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:qc+r)*e,e*=qc}return t};H.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(On(this))return"0";if(tn(this))return"-"+ft(this).toString(t);for(var e=_n(Math.pow(t,6)),n=this,r="";;){var s=sa(n,e).g;n=ra(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,On(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};H.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function On(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function tn(t){return t.h==-1}H.X=function(t){return t=ra(this,t),tn(t)?-1:On(t)?0:1};function ft(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ee(n,~t.h).add(Gc)}H.abs=function(){return tn(this)?ft(this):this};H.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new Ee(n,n[n.length-1]&-2147483648?-1:0)};function ra(t,e){return t.add(ft(e))}H.R=function(t){if(On(this)||On(t))return fs;if(tn(this))return tn(t)?ft(this).R(ft(t)):ft(ft(this).R(t));if(tn(t))return ft(this.R(ft(t)));if(0>this.X(jf)&&0>t.X(jf))return _n(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(s)>>>16,l=t.D(s)&65535;n[2*r+2*s]+=o*l,Eo(n,2*r+2*s),n[2*r+2*s+1]+=i*l,Eo(n,2*r+2*s+1),n[2*r+2*s+1]+=o*a,Eo(n,2*r+2*s+1),n[2*r+2*s+2]+=i*a,Eo(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ee(n,0)};function Eo(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Zs(t,e){this.g=t,this.h=e}function sa(t,e){if(On(e))throw Error("division by zero");if(On(t))return new Zs(fs,fs);if(tn(t))return e=sa(ft(t),e),new Zs(ft(e.g),ft(e.h));if(tn(e))return e=sa(t,ft(e)),new Zs(ft(e.g),e.h);if(30<t.g.length){if(tn(t)||tn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Gc,r=e;0>=r.X(t);)n=qf(n),r=qf(r);var s=Xr(n,1),i=Xr(r,1);for(r=Xr(r,2),n=Xr(n,2);!On(r);){var o=i.add(r);0>=o.X(t)&&(s=s.add(n),i=o),r=Xr(r,1),n=Xr(n,1)}return e=ra(t,s.R(e)),new Zs(s,e)}for(s=fs;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=_n(n),o=i.R(e);tn(o)||0<o.X(t);)n-=r,i=_n(n),o=i.R(e);On(i)&&(i=Gc),s=s.add(i),t=ra(t,o)}return new Zs(s,t)}H.gb=function(t){return sa(this,t).h};H.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ee(n,this.h&t.h)};H.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ee(n,this.h|t.h)};H.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ee(n,this.h^t.h)};function qf(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ee(n,t.h)}function Xr(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new Ee(s,t.h)}na.prototype.createWebChannel=na.prototype.g;Xt.prototype.send=Xt.prototype.u;Xt.prototype.open=Xt.prototype.m;Xt.prototype.close=Xt.prototype.close;Va.NO_ERROR=0;Va.TIMEOUT=8;Va.HTTP_ERROR=6;Wg.COMPLETE="complete";xg.EventType=Ji;Ji.OPEN="a";Ji.CLOSE="b";Ji.ERROR="c";Ji.MESSAGE="d";at.prototype.listen=at.prototype.O;We.prototype.listenOnce=We.prototype.P;We.prototype.getLastError=We.prototype.Sa;We.prototype.getLastErrorCode=We.prototype.Ia;We.prototype.getStatus=We.prototype.da;We.prototype.getResponseJson=We.prototype.Wa;We.prototype.getResponseText=We.prototype.ja;We.prototype.send=We.prototype.ha;We.prototype.setWithCredentials=We.prototype.Oa;an.prototype.digest=an.prototype.l;an.prototype.reset=an.prototype.reset;an.prototype.update=an.prototype.j;Ee.prototype.add=Ee.prototype.add;Ee.prototype.multiply=Ee.prototype.R;Ee.prototype.modulo=Ee.prototype.gb;Ee.prototype.compare=Ee.prototype.X;Ee.prototype.toNumber=Ee.prototype.ea;Ee.prototype.toString=Ee.prototype.toString;Ee.prototype.getBits=Ee.prototype.D;Ee.fromNumber=_n;Ee.fromString=Ey;var Y0=function(){return new na},X0=function(){return Ma()},Vl=Va,J0=Wg,$0=Fr,Gf={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},bo=xg,Z0=We,eS=an,ds=Ee;const zf="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Et.UNAUTHENTICATED=new Et(null),Et.GOOGLE_CREDENTIALS=new Et("google-credentials-uid"),Et.FIRST_PARTY=new Et("first-party-uid"),Et.MOCK_USER=new Et("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bs="10.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr=new Ca("@firebase/firestore");function ei(){return Cr.logLevel}function q(t,...e){if(Cr.logLevel<=le.DEBUG){const n=e.map(Xu);Cr.debug(`Firestore (${Bs}): ${t}`,...n)}}function Fn(t,...e){if(Cr.logLevel<=le.ERROR){const n=e.map(Xu);Cr.error(`Firestore (${Bs}): ${t}`,...n)}}function As(t,...e){if(Cr.logLevel<=le.WARN){const n=e.map(Xu);Cr.warn(`Firestore (${Bs}): ${t}`,...n)}}function Xu(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(t="Unexpected state"){const e=`FIRESTORE (${Bs}) INTERNAL ASSERTION FAILED: `+t;throw Fn(e),new Error(e)}function Ne(t,e){t||Z()}function ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class j extends fn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Et.UNAUTHENTICATED))}shutdown(){}}class nS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class rS{constructor(e){this.t=e,this.currentUser=Et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Zn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Zn,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Zn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ne(typeof r.accessToken=="string"),new by(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ne(e===null||typeof e=="string"),new Et(e)}}class sS{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Et.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class iS{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new sS(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Et.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class oS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aS{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ne(typeof n.token=="string"),this.R=n.token,new oS(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=lS(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function _e(t,e){return t<e?-1:t>e?1:0}function Ss(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new j(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new j(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new j(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new j(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ze.fromMillis(Date.now())}static fromDate(e){return Ze.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ze(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_e(this.nanoseconds,e.nanoseconds):_e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.timestamp=e}static fromTimestamp(e){return new te(e)}static min(){return new te(new Ze(0,0))}static max(){return new te(new Ze(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,n,r){n===void 0?n=0:n>e.length&&Z(),r===void 0?r=e.length-n:r>e.length-n&&Z(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ni.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ni?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Oe extends Ni{construct(e,n,r){return new Oe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new j(P.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Oe(n)}static emptyPath(){return new Oe([])}}const cS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dt extends Ni{construct(e,n,r){return new dt(e,n,r)}static isValidIdentifier(e){return cS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new dt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new j(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new j(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new j(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new j(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dt(n)}static emptyPath(){return new dt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.path=e}static fromPath(e){return new K(Oe.fromString(e))}static fromName(e){return new K(Oe.fromString(e).popFirst(5))}static empty(){return new K(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Oe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Oe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new K(new Oe(e.slice()))}}function uS(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=te.fromTimestamp(r===1e9?new Ze(n+1,0):new Ze(n,r));return new rr(s,K.empty(),e)}function hS(t){return new rr(t.readTime,t.key,-1)}class rr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new rr(te.min(),K.empty(),-1)}static max(){return new rr(te.max(),K.empty(),-1)}}function fS(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=K.comparator(t.documentKey,e.documentKey),n!==0?n:_e(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function no(t){if(t.code!==P.FAILED_PRECONDITION||t.message!==dS)throw t;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new O((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof O?n:O.resolve(n)}catch(n){return O.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):O.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):O.reject(n)}static resolve(e){return new O((n,r)=>{n(e)})}static reject(e){return new O((n,r)=>{r(e)})}static waitFor(e){return new O((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=O.resolve(!1);for(const r of e)n=n.next(s=>s?O.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new O((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===i&&r(o)},u=>s(u))}})}static doWhile(e,n){return new O((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function ro(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Ju.ae=-1;function qa(t){return t==null}function ia(t){return t===0&&1/t==-1/0}function mS(t){return typeof t=="number"&&Number.isInteger(t)&&!ia(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Hr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Iy(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e,n){this.comparator=e,this.root=n||ht.EMPTY}insert(e,n){return new Ue(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ht.BLACK,null,null))}remove(e){return new Ue(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new To(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new To(this.root,e,this.comparator,!1)}getReverseIterator(){return new To(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new To(this.root,e,this.comparator,!0)}}class To{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ht{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??ht.RED,this.left=s??ht.EMPTY,this.right=i??ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new ht(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return ht.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Z();const e=this.left.check();if(e!==this.right.check())throw Z();return e+(this.isRed()?0:1)}}ht.EMPTY=null,ht.RED=!0,ht.BLACK=!1;ht.EMPTY=new class{constructor(){this.size=0}get key(){throw Z()}get value(){throw Z()}get color(){throw Z()}get left(){throw Z()}get right(){throw Z()}copy(e,n,r,s,i){return this}insert(e,n,r){return new ht(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.comparator=e,this.data=new Ue(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Qf(this.data.getIterator())}getIteratorFrom(e){return new Qf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new mt(this.comparator);return n.data=e,n}}class Qf{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.fields=e,e.sort(dt.comparator)}static empty(){return new zt([])}unionWith(e){let n=new mt(dt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new zt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ss(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Cy("Invalid base64 string: "+i):i}}(e);return new kt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kt.EMPTY_BYTE_STRING=new kt("");const gS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sr(t){if(Ne(!!t),typeof t=="string"){let e=0;const n=gS.exec(t);if(Ne(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qe(t.seconds),nanos:Qe(t.nanos)}}function Qe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function kr(t){return typeof t=="string"?kt.fromBase64String(t):kt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Zu(t){const e=t.mapValue.fields.__previous_value__;return $u(e)?Zu(e):e}function Mi(t){const e=sr(t.mapValue.fields.__local_write_time__.timestampValue);return new Ze(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Vi{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Vi("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Vi&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Rr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$u(t)?4:_S(t)?9007199254740991:10:Z()}function Tn(t,e){if(t===e)return!0;const n=Rr(t);if(n!==Rr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Mi(t).isEqual(Mi(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=sr(s.timestampValue),a=sr(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return kr(s.bytesValue).isEqual(kr(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Qe(s.geoPointValue.latitude)===Qe(i.geoPointValue.latitude)&&Qe(s.geoPointValue.longitude)===Qe(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Qe(s.integerValue)===Qe(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Qe(s.doubleValue),a=Qe(i.doubleValue);return o===a?ia(o)===ia(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ss(t.arrayValue.values||[],e.arrayValue.values||[],Tn);case 10:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Kf(o)!==Kf(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Tn(o[l],a[l])))return!1;return!0}(t,e);default:return Z()}}function Li(t,e){return(t.values||[]).find(n=>Tn(n,e))!==void 0}function Es(t,e){if(t===e)return 0;const n=Rr(t),r=Rr(e);if(n!==r)return _e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _e(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Qe(i.integerValue||i.doubleValue),l=Qe(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Yf(t.timestampValue,e.timestampValue);case 4:return Yf(Mi(t),Mi(e));case 5:return _e(t.stringValue,e.stringValue);case 6:return function(i,o){const a=kr(i),l=kr(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=_e(a[c],l[c]);if(u!==0)return u}return _e(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=_e(Qe(i.latitude),Qe(o.latitude));return a!==0?a:_e(Qe(i.longitude),Qe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const a=i.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=Es(a[c],l[c]);if(u)return u}return _e(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===Io.mapValue&&o===Io.mapValue)return 0;if(i===Io.mapValue)return 1;if(o===Io.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const d=_e(l[h],u[h]);if(d!==0)return d;const f=Es(a[l[h]],c[u[h]]);if(f!==0)return f}return _e(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Z()}}function Yf(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return _e(t,e);const n=sr(t),r=sr(e),s=_e(n.seconds,r.seconds);return s!==0?s:_e(n.nanos,r.nanos)}function bs(t){return zc(t)}function zc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=sr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return kr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return K.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=zc(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${zc(n.fields[o])}`;return s+"}"}(t.mapValue):Z()}function Xf(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Kc(t){return!!t&&"integerValue"in t}function eh(t){return!!t&&"arrayValue"in t}function Jf(t){return!!t&&"nullValue"in t}function $f(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Mo(t){return!!t&&"mapValue"in t}function fi(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Hr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=fi(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=fi(t.arrayValue.values[n]);return e}return Object.assign({},t)}function _S(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.value=e}static empty(){return new Ut({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Mo(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=fi(n)}setAll(e){let n=dt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=fi(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Mo(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Tn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Mo(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Hr(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Ut(fi(this.value))}}function ky(t){const e=[];return Hr(t.fields,(n,r)=>{const s=new dt([n]);if(Mo(r)){const i=ky(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new zt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new bt(e,0,te.min(),te.min(),te.min(),Ut.empty(),0)}static newFoundDocument(e,n,r,s){return new bt(e,1,n,te.min(),r,s,0)}static newNoDocument(e,n){return new bt(e,2,n,te.min(),te.min(),Ut.empty(),0)}static newUnknownDocument(e,n){return new bt(e,3,n,te.min(),te.min(),Ut.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ut.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ut.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,n){this.position=e,this.inclusive=n}}function Zf(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=K.comparator(K.fromName(o.referenceValue),n.key):r=Es(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function ed(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Tn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,n="asc"){this.field=e,this.dir=n}}function vS(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{}class Ye extends Ry{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new AS(e,n,r):n==="array-contains"?new bS(e,r):n==="in"?new TS(e,r):n==="not-in"?new IS(e,r):n==="array-contains-any"?new CS(e,r):new Ye(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new SS(e,r):new ES(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Es(n,this.value)):n!==null&&Rr(this.value)===Rr(n)&&this.matchesComparison(Es(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ln extends Ry{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new ln(e,n)}matches(e){return Py(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Py(t){return t.op==="and"}function Dy(t){return wS(t)&&Py(t)}function wS(t){for(const e of t.filters)if(e instanceof ln)return!1;return!0}function Qc(t){if(t instanceof Ye)return t.field.canonicalString()+t.op.toString()+bs(t.value);if(Dy(t))return t.filters.map(e=>Qc(e)).join(",");{const e=t.filters.map(n=>Qc(n)).join(",");return`${t.op}(${e})`}}function Oy(t,e){return t instanceof Ye?function(r,s){return s instanceof Ye&&r.op===s.op&&r.field.isEqual(s.field)&&Tn(r.value,s.value)}(t,e):t instanceof ln?function(r,s){return s instanceof ln&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&Oy(o,s.filters[a]),!0):!1}(t,e):void Z()}function Ny(t){return t instanceof Ye?function(n){return`${n.field.canonicalString()} ${n.op} ${bs(n.value)}`}(t):t instanceof ln?function(n){return n.op.toString()+" {"+n.getFilters().map(Ny).join(" ,")+"}"}(t):"Filter"}class AS extends Ye{constructor(e,n,r){super(e,n,r),this.key=K.fromName(r.referenceValue)}matches(e){const n=K.comparator(e.key,this.key);return this.matchesComparison(n)}}class SS extends Ye{constructor(e,n){super(e,"in",n),this.keys=My("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ES extends Ye{constructor(e,n){super(e,"not-in",n),this.keys=My("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function My(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>K.fromName(r.referenceValue))}class bS extends Ye{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return eh(n)&&Li(n.arrayValue,this.value)}}class TS extends Ye{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Li(this.value.arrayValue,n)}}class IS extends Ye{constructor(e,n){super(e,"not-in",n)}matches(e){if(Li(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Li(this.value.arrayValue,n)}}class CS extends Ye{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!eh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Li(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.le=null}}function td(t,e=null,n=[],r=[],s=null,i=null,o=null){return new kS(t,e,n,r,s,i,o)}function th(t){const e=ne(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Qc(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),qa(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>bs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>bs(r)).join(",")),e.le=n}return e.le}function nh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!vS(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Oy(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ed(t.startAt,e.startAt)&&ed(t.endAt,e.endAt)}function Yc(t){return K.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Ie=null,this.startAt,this.endAt}}function RS(t,e,n,r,s,i,o,a){return new so(t,e,n,r,s,i,o,a)}function Vy(t){return new so(t)}function nd(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Ly(t){return t.collectionGroup!==null}function di(t){const e=ne(t);if(e.he===null){e.he=[];const n=new Set;for(const i of e.explicitOrderBy)e.he.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new mt(dt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.he.push(new aa(i,r))}),n.has(dt.keyField().canonicalString())||e.he.push(new aa(dt.keyField(),r))}return e.he}function vn(t){const e=ne(t);return e.Pe||(e.Pe=PS(e,di(t))),e.Pe}function PS(t,e){if(t.limitType==="F")return td(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new aa(s.field,i)});const n=t.endAt?new oa(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new oa(t.startAt.position,t.startAt.inclusive):null;return td(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Xc(t,e){const n=t.filters.concat([e]);return new so(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Jc(t,e,n){return new so(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ga(t,e){return nh(vn(t),vn(e))&&t.limitType===e.limitType}function Fy(t){return`${th(vn(t))}|lt:${t.limitType}`}function ss(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>Ny(s)).join(", ")}]`),qa(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>bs(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>bs(s)).join(",")),`Target(${r})`}(vn(t))}; limitType=${t.limitType})`}function za(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):K.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of di(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=Zf(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,di(r),s)||r.endAt&&!function(o,a,l){const c=Zf(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,di(r),s))}(t,e)}function DS(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Hy(t){return(e,n)=>{let r=!1;for(const s of di(t)){const i=OS(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function OS(t,e,n){const r=t.field.isKeyField()?K.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?Es(l,c):Z()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Z()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Hr(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return Iy(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS=new Ue(K.comparator);function Hn(){return NS}const Uy=new Ue(K.comparator);function li(...t){let e=Uy;for(const n of t)e=e.insert(n.key,n);return e}function By(t){let e=Uy;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function vr(){return pi()}function Wy(){return pi()}function pi(){return new Ws(t=>t.toString(),(t,e)=>t.isEqual(e))}const MS=new Ue(K.comparator),VS=new mt(K.comparator);function ie(...t){let e=VS;for(const n of t)e=e.add(n);return e}const LS=new mt(_e);function FS(){return LS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ia(e)?"-0":e}}function jy(t){return{integerValue:""+t}}function HS(t,e){return mS(e)?jy(e):xy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(){this._=void 0}}function US(t,e,n){return t instanceof la?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&$u(i)&&(i=Zu(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Fi?Gy(t,e):t instanceof Hi?zy(t,e):function(s,i){const o=qy(s,i),a=rd(o)+rd(s.Te);return Kc(o)&&Kc(s.Te)?jy(a):xy(s.serializer,a)}(t,e)}function BS(t,e,n){return t instanceof Fi?Gy(t,e):t instanceof Hi?zy(t,e):n}function qy(t,e){return t instanceof ca?function(r){return Kc(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class la extends Ka{}class Fi extends Ka{constructor(e){super(),this.elements=e}}function Gy(t,e){const n=Ky(e);for(const r of t.elements)n.some(s=>Tn(s,r))||n.push(r);return{arrayValue:{values:n}}}class Hi extends Ka{constructor(e){super(),this.elements=e}}function zy(t,e){let n=Ky(e);for(const r of t.elements)n=n.filter(s=>!Tn(s,r));return{arrayValue:{values:n}}}class ca extends Ka{constructor(e,n){super(),this.serializer=e,this.Te=n}}function rd(t){return Qe(t.integerValue||t.doubleValue)}function Ky(t){return eh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function WS(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Fi&&s instanceof Fi||r instanceof Hi&&s instanceof Hi?Ss(r.elements,s.elements,Tn):r instanceof ca&&s instanceof ca?Tn(r.Te,s.Te):r instanceof la&&s instanceof la}(t.transform,e.transform)}class xS{constructor(e,n){this.version=e,this.transformResults=n}}class wn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new wn}static exists(e){return new wn(void 0,e)}static updateTime(e){return new wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vo(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Qa{}function Qy(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Xy(t.key,wn.none()):new io(t.key,t.data,wn.none());{const n=t.data,r=Ut.empty();let s=new mt(dt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new cr(t.key,r,new zt(s.toArray()),wn.none())}}function jS(t,e,n){t instanceof io?function(s,i,o){const a=s.value.clone(),l=id(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof cr?function(s,i,o){if(!Vo(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=id(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(Yy(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function mi(t,e,n,r){return t instanceof io?function(i,o,a,l){if(!Vo(i.precondition,o))return a;const c=i.value.clone(),u=od(i.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof cr?function(i,o,a,l){if(!Vo(i.precondition,o))return a;const c=od(i.fieldTransforms,l,o),u=o.data;return u.setAll(Yy(i)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return Vo(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function qS(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=qy(r.transform,s||null);i!=null&&(n===null&&(n=Ut.empty()),n.set(r.field,i))}return n||null}function sd(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ss(r,s,(i,o)=>WS(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class io extends Qa{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class cr extends Qa{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Yy(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function id(t,e,n){const r=new Map;Ne(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,BS(o,a,n[s]))}return r}function od(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,US(i,o,e))}return r}class Xy extends Qa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GS extends Qa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&jS(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=mi(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=mi(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Wy();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=Qy(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ie())}isEqual(e){return this.batchId===e.batchId&&Ss(this.mutations,e.mutations,(n,r)=>sd(n,r))&&Ss(this.baseMutations,e.baseMutations,(n,r)=>sd(n,r))}}class rh{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ne(e.mutations.length===r.length);let s=function(){return MS}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new rh(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze,he;function YS(t){switch(t){default:return Z();case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0}}function Jy(t){if(t===void 0)return Fn("GRPC error has no .code"),P.UNKNOWN;switch(t){case ze.OK:return P.OK;case ze.CANCELLED:return P.CANCELLED;case ze.UNKNOWN:return P.UNKNOWN;case ze.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case ze.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case ze.INTERNAL:return P.INTERNAL;case ze.UNAVAILABLE:return P.UNAVAILABLE;case ze.UNAUTHENTICATED:return P.UNAUTHENTICATED;case ze.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case ze.NOT_FOUND:return P.NOT_FOUND;case ze.ALREADY_EXISTS:return P.ALREADY_EXISTS;case ze.PERMISSION_DENIED:return P.PERMISSION_DENIED;case ze.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case ze.ABORTED:return P.ABORTED;case ze.OUT_OF_RANGE:return P.OUT_OF_RANGE;case ze.UNIMPLEMENTED:return P.UNIMPLEMENTED;case ze.DATA_LOSS:return P.DATA_LOSS;default:return Z()}}(he=ze||(ze={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS=new ds([4294967295,4294967295],0);function ad(t){const e=XS().encode(t),n=new eS;return n.update(e),new Uint8Array(n.digest())}function ld(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ds([n,r],0),new ds([s,i],0)]}class sh{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ci(`Invalid padding: ${n}`);if(r<0)throw new ci(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ci(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ci(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=ds.fromNumber(this.Ee)}Ae(e,n,r){let s=e.add(n.multiply(ds.fromNumber(r)));return s.compare(JS)===1&&(s=new ds([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ee===0)return!1;const n=ad(e),[r,s]=ld(n);for(let i=0;i<this.hashCount;i++){const o=this.Ae(r,s,i);if(!this.Re(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new sh(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ee===0)return;const n=ad(e),[r,s]=ld(n);for(let i=0;i<this.hashCount;i++){const o=this.Ae(r,s,i);this.Ve(o)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ci extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,oo.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ya(te.min(),s,new Ue(_e),Hn(),ie())}}class oo{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new oo(r,n,ie(),ie(),ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,n,r,s){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=s}}class $y{constructor(e,n){this.targetId=e,this.ge=n}}class Zy{constructor(e,n,r=kt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class cd{constructor(){this.pe=0,this.ye=hd(),this.we=kt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get Ce(){return this.be}ve(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=ie(),n=ie(),r=ie();return this.ye.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Z()}}),new oo(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=hd()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1}Le(){this.be=!0,this.Se=!0}}class $S{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Hn(),this.Ke=ud(),this.$e=new Ue(_e)}Ue(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.We(n,e.fe):this.Ge(n,e.key,e.fe);for(const n of e.removedTargetIds)this.Ge(n,e.key,e.fe)}ze(e){this.forEachTarget(e,n=>{const r=this.je(n);switch(e.state){case 0:this.He(n)&&r.ve(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.ve(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.He(n)&&(r.Le(),r.ve(e.resumeToken));break;case 4:this.He(n)&&(this.Je(n),r.ve(e.resumeToken));break;default:Z()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,s)=>{this.He(s)&&n(s)})}Ye(e){const n=e.targetId,r=e.ge.count,s=this.Ze(n);if(s){const i=s.target;if(Yc(i))if(r===0){const o=new K(i.path);this.Ge(n,o,bt.newNoDocument(o,te.min()))}else Ne(r===1);else{const o=this.Xe(n);if(o!==r){const a=this.et(e),l=a?this.tt(a,e,o):1;if(l!==0){this.Je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.$e=this.$e.insert(n,c)}}}}}et(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=kr(r).toUint8Array()}catch(l){if(l instanceof Cy)return As("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new sh(o,s,i)}catch(l){return As(l instanceof ci?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}tt(e,n,r){return n.ge.count===r-this.it(e,n.targetId)?0:2}it(e,n){const r=this.ke.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.ke.rt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ge(n,i,null),s++)}),s}st(e){const n=new Map;this.qe.forEach((i,o)=>{const a=this.Ze(o);if(a){if(i.current&&Yc(a.target)){const l=new K(a.target.path);this.Qe.get(l)!==null||this.ot(o,l)||this.Ge(o,l,bt.newNoDocument(l,e))}i.Ce&&(n.set(o,i.Fe()),i.Me())}});let r=ie();this.Ke.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ze(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.Qe.forEach((i,o)=>o.setReadTime(e));const s=new Ya(e,n,this.$e,this.Qe,r);return this.Qe=Hn(),this.Ke=ud(),this.$e=new Ue(_e),s}We(e,n){if(!this.He(e))return;const r=this.ot(e,n.key)?2:0;this.je(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.Ke=this.Ke.insert(n.key,this._t(n.key).add(e))}Ge(e,n,r){if(!this.He(e))return;const s=this.je(e);this.ot(e,n)?s.xe(n,1):s.Oe(n),this.Ke=this.Ke.insert(n,this._t(n).delete(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}Xe(e){const n=this.je(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.je(e).Ne()}je(e){let n=this.qe.get(e);return n||(n=new cd,this.qe.set(e,n)),n}_t(e){let n=this.Ke.get(e);return n||(n=new mt(_e),this.Ke=this.Ke.insert(e,n)),n}He(e){const n=this.Ze(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}Ze(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.ut(e)}Je(e){this.qe.set(e,new cd),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.Ge(e,n,null)})}ot(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function ud(){return new Ue(K.comparator)}function hd(){return new Ue(K.comparator)}const ZS=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),eE=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),tE=(()=>({and:"AND",or:"OR"}))();class nE{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function $c(t,e){return t.useProto3Json||qa(e)?e:{value:e}}function ua(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function e_(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function rE(t,e){return ua(t,e.toTimestamp())}function An(t){return Ne(!!t),te.fromTimestamp(function(n){const r=sr(n);return new Ze(r.seconds,r.nanos)}(t))}function ih(t,e){return function(r){return new Oe(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function t_(t){const e=Oe.fromString(t);return Ne(i_(e)),e}function Zc(t,e){return ih(t.databaseId,e.path)}function Ll(t,e){const n=t_(e);if(n.get(1)!==t.databaseId.projectId)throw new j(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new j(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new K(n_(n))}function eu(t,e){return ih(t.databaseId,e)}function sE(t){const e=t_(t);return e.length===4?Oe.emptyPath():n_(e)}function tu(t){return new Oe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function n_(t){return Ne(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function fd(t,e,n){return{name:Zc(t,e),fields:n.value.mapValue.fields}}function iE(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Z()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(Ne(u===void 0||typeof u=="string"),kt.fromBase64String(u||"")):(Ne(u===void 0||u instanceof Uint8Array),kt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?P.UNKNOWN:Jy(c.code);return new j(u,c.message||"")}(o);n=new Zy(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Ll(t,r.document.name),i=An(r.document.updateTime),o=r.document.createTime?An(r.document.createTime):te.min(),a=new Ut({mapValue:{fields:r.document.fields}}),l=bt.newFoundDocument(s,i,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Lo(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Ll(t,r.document),i=r.readTime?An(r.readTime):te.min(),o=bt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Lo([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Ll(t,r.document),i=r.removedTargetIds||[];n=new Lo([],i,s,null)}else{if(!("filter"in e))return Z();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new QS(s,i),a=r.targetId;n=new $y(a,o)}}return n}function oE(t,e){let n;if(e instanceof io)n={update:fd(t,e.key,e.value)};else if(e instanceof Xy)n={delete:Zc(t,e.key)};else if(e instanceof cr)n={update:fd(t,e.key,e.data),updateMask:mE(e.fieldMask)};else{if(!(e instanceof GS))return Z();n={verify:Zc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof la)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Fi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Hi)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ca)return{fieldPath:o.field.canonicalString(),increment:a.Te};throw Z()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:rE(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Z()}(t,e.precondition)),n}function aE(t,e){return t&&t.length>0?(Ne(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?An(s.updateTime):An(i);return o.isEqual(te.min())&&(o=An(i)),new xS(o,s.transformResults||[])}(n,e))):[]}function lE(t,e){return{documents:[eu(t,e.path)]}}function cE(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=eu(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=eu(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(l){if(l.length!==0)return s_(ln.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const i=function(l){if(l.length!==0)return l.map(c=>function(h){return{field:is(h.field),direction:fE(h.dir)}}(c))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const o=$c(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function uE(t){let e=sE(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ne(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(h){const d=r_(h);return d instanceof ln&&Dy(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(d=>function(p){return new aa(os(p.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(h){let d;return d=typeof h=="object"?h.value:h,qa(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(h){const d=!!h.before,f=h.values||[];return new oa(f,d)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const d=!h.before,f=h.values||[];return new oa(f,d)}(n.endAt)),RS(e,s,o,i,a,"F",l,c)}function hE(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function r_(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=os(n.unaryFilter.field);return Ye.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=os(n.unaryFilter.field);return Ye.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=os(n.unaryFilter.field);return Ye.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=os(n.unaryFilter.field);return Ye.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Z()}}(t):t.fieldFilter!==void 0?function(n){return Ye.create(os(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Z()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ln.create(n.compositeFilter.filters.map(r=>r_(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Z()}}(n.compositeFilter.op))}(t):Z()}function fE(t){return ZS[t]}function dE(t){return eE[t]}function pE(t){return tE[t]}function is(t){return{fieldPath:t.canonicalString()}}function os(t){return dt.fromServerFormat(t.fieldPath)}function s_(t){return t instanceof Ye?function(n){if(n.op==="=="){if($f(n.value))return{unaryFilter:{field:is(n.field),op:"IS_NAN"}};if(Jf(n.value))return{unaryFilter:{field:is(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($f(n.value))return{unaryFilter:{field:is(n.field),op:"IS_NOT_NAN"}};if(Jf(n.value))return{unaryFilter:{field:is(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:is(n.field),op:dE(n.op),value:n.value}}}(t):t instanceof ln?function(n){const r=n.getFilters().map(s=>s_(s));return r.length===1?r[0]:{compositeFilter:{op:pE(n.op),filters:r}}}(t):Z()}function mE(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function i_(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e,n,r,s,i=te.min(),o=te.min(),a=kt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Yn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Yn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e){this.ct=e}}function yE(t){const e=uE({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Jc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(){this._n=new vE}addToCollectionParentIndex(e,n){return this._n.add(n),O.resolve()}getCollectionParents(e,n){return O.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return O.resolve()}deleteFieldIndex(e,n){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,n){return O.resolve()}getDocumentsMatchingTarget(e,n){return O.resolve(null)}getIndexType(e,n){return O.resolve(0)}getFieldIndexes(e,n){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,n){return O.resolve(rr.min())}getMinOffsetFromCollectionGroup(e,n){return O.resolve(rr.min())}updateCollectionGroup(e,n,r){return O.resolve()}updateIndexEntries(e,n){return O.resolve()}}class vE{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new mt(Oe.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new mt(Oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Ts(0)}static Bn(){return new Ts(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(){this.changes=new Ws(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,bt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?O.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&mi(r.mutation,s,zt.empty(),Ze.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ie()){const s=vr();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=li();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=vr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ie()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Hn();const o=pi(),a=function(){return pi()}();return n.forEach((l,c)=>{const u=r.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof cr)?i=i.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),mi(u.mutation,c,u.mutation.getFieldMask(),Ze.now())):o.set(c.key,zt.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new AE(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=pi();let s=new Ue((o,a)=>o-a),i=ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||zt.empty();u=a.applyToLocalView(c,u),r.set(l,u);const h=(s.get(a.batchId)||ie()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=Wy();u.forEach(d=>{if(!i.has(d)){const f=Qy(n.get(d),r.get(d));f!==null&&h.set(d,f),i=i.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return O.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return K.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Ly(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):O.resolve(vr());let a=-1,l=i;return o.next(c=>O.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(u)?O.resolve():this.remoteDocumentCache.getEntry(e,u).next(d=>{l=l.insert(u,d)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,ie())).next(u=>({batchId:a,changes:By(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new K(n)).next(r=>{let s=li();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=li();return this.indexManager.getCollectionParents(e,i).next(a=>O.forEach(a,l=>{const c=function(h,d){return new so(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(u=>{u.forEach((h,d)=>{o=o.insert(h,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,bt.newInvalidDocument(u)))});let a=li();return o.forEach((l,c)=>{const u=i.get(l);u!==void 0&&mi(u.mutation,c,zt.empty(),Ze.now()),za(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return O.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:An(s.createTime)}}(n)),O.resolve()}getNamedQuery(e,n){return O.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(s){return{name:s.name,query:yE(s.bundledQuery),readTime:An(s.readTime)}}(n)),O.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(){this.overlays=new Ue(K.comparator),this.hr=new Map}getOverlay(e,n){return O.resolve(this.overlays.get(n))}getOverlays(e,n){const r=vr();return O.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),O.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.hr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.hr.delete(r)),O.resolve()}getOverlaysForCollection(e,n,r){const s=vr(),i=n.length+1,o=new K(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return O.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ue((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=i.get(c.largestBatchId);u===null&&(u=vr(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=vr(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=s)););return O.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.hr.get(s.largestBatchId).delete(r.key);this.hr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new KS(n,r));let i=this.hr.get(n);i===void 0&&(i=ie(),this.hr.set(n,i)),this.hr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(){this.Pr=new mt(it.Ir),this.Tr=new mt(it.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new it(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new it(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new K(new Oe([])),r=new it(n,e),s=new it(n,e+1),i=[];return this.Tr.forEachInRange([r,s],o=>{this.Ar(o),i.push(o.key)}),i}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new K(new Oe([])),r=new it(n,e),s=new it(n,e+1);let i=ie();return this.Tr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new it(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class it{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return K.comparator(e.key,n.key)||_e(e.pr,n.pr)}static Er(e,n){return _e(e.pr,n.pr)||K.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new mt(it.Ir)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new zS(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.wr=this.wr.add(new it(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return O.resolve(o)}lookupMutationBatch(e,n){return O.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.br(r),i=s<0?0:s;return O.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new it(n,0),s=new it(n,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([r,s],o=>{const a=this.Sr(o.pr);i.push(a)}),O.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new mt(_e);return n.forEach(s=>{const i=new it(s,0),o=new it(s,Number.POSITIVE_INFINITY);this.wr.forEachInRange([i,o],a=>{r=r.add(a.pr)})}),O.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;K.isDocumentKey(i)||(i=i.child(""));const o=new it(new K(i),0);let a=new mt(_e);return this.wr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.pr)),!0)},o),O.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const s=this.Sr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ne(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return O.forEach(n.mutations,s=>{const i=new it(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new it(n,0),s=this.wr.firstAfterOrEqual(r);return O.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e){this.vr=e,this.docs=function(){return new Ue(K.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return O.resolve(r?r.document.mutableCopy():bt.newInvalidDocument(n))}getEntries(e,n){let r=Hn();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():bt.newInvalidDocument(s))}),O.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Hn();const o=n.path,a=new K(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||fS(hS(u),r)<=0||(s.has(u.key)||za(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return O.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Z()}Fr(e,n){return O.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new CE(this)}getSize(e){return O.resolve(this.size)}}class CE extends wE{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.ar.addEntry(e,s)):this.ar.removeEntry(r)}),O.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e){this.persistence=e,this.Mr=new Ws(n=>th(n),nh),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.Or=0,this.Nr=new oh,this.targetCount=0,this.Br=Ts.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,s)=>n(s)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),O.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new Ts(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,O.resolve()}updateTargetData(e,n){return this.qn(n),O.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),O.waitFor(i).next(()=>s)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return O.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),O.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),O.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),O.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return O.resolve(r)}containsKey(e,n){return O.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e,n){this.Lr={},this.overlays={},this.kr=new Ju(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new kE(this),this.indexManager=new _E,this.remoteDocumentCache=function(s){return new IE(s)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new gE(n),this.$r=new EE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new bE,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new TE(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){q("MemoryPersistence","Starting transaction:",e);const s=new PE(this.kr.next());return this.referenceDelegate.Ur(),r(s).next(i=>this.referenceDelegate.Wr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Gr(e,n){return O.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class PE extends pS{constructor(e){super(),this.currentSequenceNumber=e}}class ah{constructor(e){this.persistence=e,this.zr=new oh,this.jr=null}static Hr(e){return new ah(e)}get Jr(){if(this.jr)return this.jr;throw Z()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),O.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),O.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(s=>this.Jr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Jr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.Jr,r=>{const s=K.fromPath(r);return this.Yr(e,s).next(i=>{i||n.removeEntry(s,te.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return O.or([()=>O.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=s}static Ki(e,n){let r=ie(),s=ie();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new lh(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=8}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ji(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Hi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new DE;return this.Ji(e,n,o).next(a=>{if(i.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>i.result)}Yi(e,n,r,s){return r.documentReadCount<this.Wi?(ei()<=le.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",ss(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),O.resolve()):(ei()<=le.DEBUG&&q("QueryEngine","Query:",ss(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Gi*s?(ei()<=le.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",ss(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vn(n))):O.resolve())}ji(e,n){if(nd(n))return O.resolve(null);let r=vn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Jc(n,null,"F"),r=vn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ie(...i);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Zi(n,a);return this.Xi(n,c,o,l.readTime)?this.ji(e,Jc(n,null,"F")):this.es(e,c,n,l)}))})))}Hi(e,n,r,s){return nd(n)||s.isEqual(te.min())?O.resolve(null):this.zi.getDocuments(e,r).next(i=>{const o=this.Zi(n,i);return this.Xi(n,o,r,s)?O.resolve(null):(ei()<=le.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ss(n)),this.es(e,o,n,uS(s,-1)).next(a=>a))})}Zi(e,n){let r=new mt(Hy(e));return n.forEach((s,i)=>{za(e,i)&&(r=r.add(i))}),r}Xi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ji(e,n,r){return ei()<=le.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",ss(n)),this.zi.getDocumentsMatchingQuery(e,n,rr.min(),r)}es(e,n,r,s){return this.zi.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e,n,r,s){this.persistence=e,this.ts=n,this.serializer=s,this.ns=new Ue(_e),this.rs=new Ws(i=>th(i),nh),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new SE(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function ME(t,e,n,r){return new NE(t,e,n,r)}async function o_(t,e){const n=ne(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=ie();for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({us:c,removedBatchIds:o,addedBatchIds:a}))})})}function VE(t,e){const n=ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,d=h.keys();let f=O.resolve();return d.forEach(p=>{f=f.next(()=>u.getEntry(l,p)).next(_=>{const y=c.docVersions.get(p);Ne(y!==null),_.version.compareTo(y)<0&&(h.applyToRemoteDocument(_,c),_.isValidDocument()&&(_.setReadTime(c.commitVersion),u.addEntry(_)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ie();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function a_(t){const e=ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function LE(t,e){const n=ne(t),r=e.snapshotVersion;let s=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.os.newChangeBuffer({trackRemovals:!0});s=n.ns;const a=[];e.targetChanges.forEach((u,h)=>{const d=s.get(h);if(!d)return;a.push(n.Qr.removeMatchingKeys(i,u.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(i,u.addedDocuments,h)));let f=d.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?f=f.withResumeToken(kt.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,r)),s=s.insert(h,f),function(_,y,v){return _.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(d,f,u)&&a.push(n.Qr.updateTargetData(i,f))});let l=Hn(),c=ie();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(FE(i,o,e.documentUpdates).next(u=>{l=u.cs,c=u.ls})),!r.isEqual(te.min())){const u=n.Qr.getLastRemoteSnapshotVersion(i).next(h=>n.Qr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return O.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.ns=s,i))}function FE(t,e,n){let r=ie(),s=ie();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Hn();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(te.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{cs:o,ls:s}})}function HE(t,e){const n=ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function UE(t,e){const n=ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Qr.getTargetData(r,e).next(i=>i?(s=i,O.resolve(s)):n.Qr.allocateTargetId(r).next(o=>(s=new Yn(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.ns.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function nu(t,e,n){const r=ne(t),s=r.ns.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!ro(o))throw o;q("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(s.target)}function dd(t,e,n){const r=ne(t);let s=te.min(),i=ie();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const h=ne(l),d=h.rs.get(u);return d!==void 0?O.resolve(h.ns.get(d)):h.Qr.getTargetData(c,u)}(r,o,vn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?s:te.min(),n?i:ie())).next(a=>(BE(r,DS(e),a),{documents:a,hs:i})))}function BE(t,e,n){let r=t.ss.get(e)||te.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.ss.set(e,r)}class pd{constructor(){this.activeTargetIds=FS()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class WE{constructor(){this.no=new pd,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new pd,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Co=null;function Fl(){return Co===null?Co=function(){return 268435456+Math.round(2147483648*Math.random())}():Co++,"0x"+Co.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wt="WebChannelConnection";class GE extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${s}/databases/${i}`,this.yo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get wo(){return!1}So(n,r,s,i,o){const a=Fl(),l=this.bo(n,r);q("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(c,i,o),this.Co(n,l,c,s).then(u=>(q("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw As("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",s),u})}vo(n,r,s,i,o,a){return this.So(n,r,s,i,o)}Do(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}bo(n,r){const s=jE[n];return`${this.fo}/v1/${r}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,s){const i=Fl();return new Promise((o,a)=>{const l=new Z0;l.setWithCredentials(!0),l.listenOnce(J0.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Vl.NO_ERROR:const u=l.getResponseJson();q(wt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),o(u);break;case Vl.TIMEOUT:q(wt,`RPC '${e}' ${i} timed out`),a(new j(P.DEADLINE_EXCEEDED,"Request time out"));break;case Vl.HTTP_ERROR:const h=l.getStatus();if(q(wt,`RPC '${e}' ${i} failed with status:`,h,"response text:",l.getResponseText()),h>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const f=d==null?void 0:d.error;if(f&&f.status&&f.message){const p=function(y){const v=y.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(v)>=0?v:P.UNKNOWN}(f.status);a(new j(p,f.message))}else a(new j(P.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new j(P.UNAVAILABLE,"Connection failed."));break;default:Z()}}finally{q(wt,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);q(wt,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}Fo(e,n,r){const s=Fl(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Y0(),a=X0(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=i.join("");q(wt,`Creating RPC '${e}' stream ${s}: ${u}`,l);const h=o.createWebChannel(u,l);let d=!1,f=!1;const p=new qE({lo:y=>{f?q(wt,`Not sending because RPC '${e}' stream ${s} is closed:`,y):(d||(q(wt,`Opening RPC '${e}' stream ${s} transport.`),h.open(),d=!0),q(wt,`RPC '${e}' stream ${s} sending:`,y),h.send(y))},ho:()=>h.close()}),_=(y,v,A)=>{y.listen(v,E=>{try{A(E)}catch(R){setTimeout(()=>{throw R},0)}})};return _(h,bo.EventType.OPEN,()=>{f||q(wt,`RPC '${e}' stream ${s} transport opened.`)}),_(h,bo.EventType.CLOSE,()=>{f||(f=!0,q(wt,`RPC '${e}' stream ${s} transport closed`),p.Vo())}),_(h,bo.EventType.ERROR,y=>{f||(f=!0,As(wt,`RPC '${e}' stream ${s} transport errored:`,y),p.Vo(new j(P.UNAVAILABLE,"The operation could not be completed")))}),_(h,bo.EventType.MESSAGE,y=>{var v;if(!f){const A=y.data[0];Ne(!!A);const E=A,R=E.error||((v=E[0])===null||v===void 0?void 0:v.error);if(R){q(wt,`RPC '${e}' stream ${s} received error:`,R);const D=R.status;let L=function(N){const M=ze[N];if(M!==void 0)return Jy(M)}(D),U=R.message;L===void 0&&(L=P.INTERNAL,U="Unknown error status: "+D+" with message "+R.message),f=!0,p.Vo(new j(L,U)),h.close()}else q(wt,`RPC '${e}' stream ${s} received:`,A),p.mo(A)}}),_(a,$0.STAT_EVENT,y=>{y.stat===Gf.PROXY?q(wt,`RPC '${e}' stream ${s} detected buffering proxy`):y.stat===Gf.NOPROXY&&q(wt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{p.Ro()},0),p}}function Hl(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(t){return new nE(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e,n,r=1e3,s=1.5,i=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=s,this.Oo=i,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),s=Math.max(0,n-r);s>0&&q("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,s,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e,n,r,s,i,o,a,l){this.oi=e,this.$o=r,this.Uo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new l_(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===P.RESOURCE_EXHAUSTED?(Fn(n.toString()),Fn("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Wo===n&&this.o_(r,s)},r=>{e(()=>{const s=new j(P.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(s)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(s=>{r(()=>this.__(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zE extends c_{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=iE(this.serializer,e),r=function(i){if(!("targetChange"in i))return te.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?te.min():o.readTime?An(o.readTime):te.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=tu(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Yc(l)?{documents:lE(i,l)}:{query:cE(i,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=e_(i,o.resumeToken);const c=$c(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(te.min())>0){a.readTime=ua(i,o.snapshotVersion.toTimestamp());const c=$c(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=hE(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=tu(this.serializer),n.removeTarget=e,this.t_(n)}}class KE extends c_{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Ne(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=aE(e.writeResults,e.commitTime),r=An(e.commitTime);return this.listener.T_(r,n)}return Ne(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=tu(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>oE(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.A_=!1}R_(){if(this.A_)throw new j(P.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.So(e,n,r,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new j(P.UNKNOWN,s.toString())})}vo(e,n,r,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.vo(e,n,r,i,o,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new j(P.UNKNOWN,i.toString())})}terminate(){this.A_=!0}}class YE{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Fn(n),this.g_=!1):q("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io(o=>{r.enqueueAndForget(async()=>{Ur(this)&&(q("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=ne(l);c.v_.add(4),await ao(c),c.x_.set("Unknown"),c.v_.delete(4),await Ja(c)}(this))})}),this.x_=new YE(r,s)}}async function Ja(t){if(Ur(t))for(const e of t.F_)await e(!0)}async function ao(t){for(const e of t.F_)await e(!1)}function u_(t,e){const n=ne(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),hh(n)?uh(n):xs(n).Jo()&&ch(n,e))}function h_(t,e){const n=ne(t),r=xs(n);n.C_.delete(e),r.Jo()&&f_(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Ur(n)&&n.x_.set("Unknown"))}function ch(t,e){if(t.O_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xs(t).c_(e)}function f_(t,e){t.O_.Ne(e),xs(t).l_(e)}function uh(t){t.O_=new $S({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.C_.get(e)||null,rt:()=>t.datastore.serializer.databaseId}),xs(t).start(),t.x_.p_()}function hh(t){return Ur(t)&&!xs(t).Ho()&&t.C_.size>0}function Ur(t){return ne(t).v_.size===0}function d_(t){t.O_=void 0}async function JE(t){t.C_.forEach((e,n)=>{ch(t,e)})}async function $E(t,e){d_(t),hh(t)?(t.x_.S_(e),uh(t)):t.x_.set("Unknown")}async function ZE(t,e,n){if(t.x_.set("Online"),e instanceof Zy&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.C_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.C_.delete(a),s.O_.removeTarget(a))}(t,e)}catch(r){q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ha(t,r)}else if(e instanceof Lo?t.O_.Ue(e):e instanceof $y?t.O_.Ye(e):t.O_.ze(e),!n.isEqual(te.min()))try{const r=await a_(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.O_.st(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i.C_.get(c);u&&i.C_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=i.C_.get(l);if(!u)return;i.C_.set(l,u.withResumeToken(kt.EMPTY_BYTE_STRING,u.snapshotVersion)),f_(i,l);const h=new Yn(u.target,l,c,u.sequenceNumber);ch(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){q("RemoteStore","Failed to raise snapshot:",r),await ha(t,r)}}async function ha(t,e,n){if(!ro(e))throw e;t.v_.add(1),await ao(t),t.x_.set("Offline"),n||(n=()=>a_(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{q("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await Ja(t)})}function p_(t,e){return e().catch(n=>ha(t,n,e))}async function $a(t){const e=ne(t),n=ir(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;eb(e);)try{const s=await HE(e.localStore,r);if(s===null){e.D_.length===0&&n.Xo();break}r=s.batchId,tb(e,s)}catch(s){await ha(e,s)}m_(e)&&g_(e)}function eb(t){return Ur(t)&&t.D_.length<10}function tb(t,e){t.D_.push(e);const n=ir(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function m_(t){return Ur(t)&&!ir(t).Ho()&&t.D_.length>0}function g_(t){ir(t).start()}async function nb(t){ir(t).d_()}async function rb(t){const e=ir(t);for(const n of t.D_)e.I_(n.mutations)}async function sb(t,e,n){const r=t.D_.shift(),s=rh.from(r,e,n);await p_(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await $a(t)}async function ib(t,e){e&&ir(t).P_&&await async function(r,s){if(function(o){return YS(o)&&o!==P.ABORTED}(s.code)){const i=r.D_.shift();ir(r).Zo(),await p_(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await $a(r)}}(t,e),m_(t)&&g_(t)}async function gd(t,e){const n=ne(t);n.asyncQueue.verifyOperationInProgress(),q("RemoteStore","RemoteStore received new credentials");const r=Ur(n);n.v_.add(3),await ao(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await Ja(n)}async function ob(t,e){const n=ne(t);e?(n.v_.delete(2),await Ja(n)):e||(n.v_.add(2),await ao(n),n.x_.set("Unknown"))}function xs(t){return t.N_||(t.N_=function(n,r,s){const i=ne(n);return i.R_(),new zE(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Po:JE.bind(null,t),To:$E.bind(null,t),u_:ZE.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),hh(t)?uh(t):t.x_.set("Unknown")):(await t.N_.stop(),d_(t))})),t.N_}function ir(t){return t.B_||(t.B_=function(n,r,s){const i=ne(n);return i.R_(),new KE(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Po:nb.bind(null,t),To:ib.bind(null,t),E_:rb.bind(null,t),T_:sb.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await $a(t)):(await t.B_.stop(),t.D_.length>0&&(q("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Zn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new fh(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new j(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dh(t,e){if(Fn("AsyncQueue",`${e}: ${t}`),ro(t))return new j(P.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e){this.comparator=e?(n,r)=>e(n,r)||K.comparator(n.key,r.key):(n,r)=>K.comparator(n.key,r.key),this.keyedMap=li(),this.sortedSet=new Ue(this.comparator)}static emptySet(e){return new ps(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ps)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ps;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(){this.L_=new Ue(K.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):Z():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Is{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Is(e,n,ps.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ga(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(){this.q_=void 0,this.listeners=[]}}class lb{constructor(){this.queries=new Ws(e=>Fy(e),Ga),this.onlineState="Unknown",this.Q_=new Set}}async function cb(t,e){const n=ne(t),r=e.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new ab),s)try{i.q_=await n.onListen(r)}catch(o){const a=dh(o,`Initialization of query '${ss(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,i),i.listeners.push(e),e.K_(n.onlineState),i.q_&&e.U_(i.q_)&&ph(n)}async function ub(t,e){const n=ne(t),r=e.query;let s=!1;const i=n.queries.get(r);if(i){const o=i.listeners.indexOf(e);o>=0&&(i.listeners.splice(o,1),s=i.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function hb(t,e){const n=ne(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.U_(s)&&(r=!0);o.q_=s}}r&&ph(n)}function fb(t,e,n){const r=ne(t),s=r.queries.get(e);if(s)for(const i of s.listeners)i.onError(n);r.queries.delete(e)}function ph(t){t.Q_.forEach(e=>{e.next()})}class db{constructor(e,n,r){this.query=e,this.W_=n,this.G_=!1,this.z_=null,this.onlineState="Unknown",this.options=r||{}}U_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Is(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.G_?this.j_(e)&&(this.W_.next(e),n=!0):this.H_(e,this.onlineState)&&(this.J_(e),n=!0),this.z_=e,n}onError(e){this.W_.error(e)}K_(e){this.onlineState=e;let n=!1;return this.z_&&!this.G_&&this.H_(this.z_,e)&&(this.J_(this.z_),n=!0),n}H_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Y_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}j_(e){if(e.docChanges.length>0)return!0;const n=this.z_&&this.z_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}J_(e){e=Is.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.G_=!0,this.W_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e){this.key=e}}class __{constructor(e){this.key=e}}class pb{constructor(e,n){this.query=e,this.sa=n,this.oa=null,this.hasCachedResults=!1,this.current=!1,this._a=ie(),this.mutatedKeys=ie(),this.aa=Hy(e),this.ua=new ps(this.aa)}get ca(){return this.sa}la(e,n){const r=n?n.ha:new yd,s=n?n.ua:this.ua;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,h)=>{const d=s.get(u),f=za(this.query,h)?h:null,p=!!d&&this.mutatedKeys.has(d.key),_=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;d&&f?d.data.isEqual(f.data)?p!==_&&(r.track({type:3,doc:f}),y=!0):this.Pa(d,f)||(r.track({type:2,doc:f}),y=!0,(l&&this.aa(f,l)>0||c&&this.aa(f,c)<0)&&(a=!0)):!d&&f?(r.track({type:0,doc:f}),y=!0):d&&!f&&(r.track({type:1,doc:d}),y=!0,(l||c)&&(a=!0)),y&&(f?(o=o.add(f),i=_?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{ua:o,ha:r,Xi:a,mutatedKeys:i}}Pa(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const s=this.ua;this.ua=e.ua,this.mutatedKeys=e.mutatedKeys;const i=e.ha.k_();i.sort((c,u)=>function(d,f){const p=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z()}};return p(d)-p(f)}(c.type,u.type)||this.aa(c.doc,u.doc)),this.Ia(r);const o=n?this.Ta():[],a=this._a.size===0&&this.current?1:0,l=a!==this.oa;return this.oa=a,i.length!==0||l?{snapshot:new Is(this.query,e.ua,s,i,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ea:o}:{Ea:o}}K_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ua:this.ua,ha:new yd,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Ea:[]}}da(e){return!this.sa.has(e)&&!!this.ua.has(e)&&!this.ua.get(e).hasLocalMutations}Ia(e){e&&(e.addedDocuments.forEach(n=>this.sa=this.sa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.sa=this.sa.delete(n)),this.current=e.current)}Ta(){if(!this.current)return[];const e=this._a;this._a=ie(),this.ua.forEach(r=>{this.da(r.key)&&(this._a=this._a.add(r.key))});const n=[];return e.forEach(r=>{this._a.has(r)||n.push(new __(r))}),this._a.forEach(r=>{e.has(r)||n.push(new y_(r))}),n}Aa(e){this.sa=e.hs,this._a=ie();const n=this.la(e.documents);return this.applyChanges(n,!0)}Ra(){return Is.fromInitialDocuments(this.query,this.ua,this.mutatedKeys,this.oa===0,this.hasCachedResults)}}class mb{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class gb{constructor(e){this.key=e,this.Va=!1}}class yb{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.ma={},this.fa=new Ws(a=>Fy(a),Ga),this.ga=new Map,this.pa=new Set,this.ya=new Ue(K.comparator),this.wa=new Map,this.Sa=new oh,this.ba={},this.Da=new Map,this.Ca=Ts.Bn(),this.onlineState="Unknown",this.va=void 0}get isPrimaryClient(){return this.va===!0}}async function _b(t,e){const n=kb(t);let r,s;const i=n.fa.get(e);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.Ra();else{const o=await UE(n.localStore,vn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,s=await vb(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&u_(n.remoteStore,o)}return s}async function vb(t,e,n,r,s){t.Fa=(h,d,f)=>async function(_,y,v,A){let E=y.view.la(v);E.Xi&&(E=await dd(_.localStore,y.query,!1).then(({documents:L})=>y.view.la(L,E)));const R=A&&A.targetChanges.get(y.targetId),D=y.view.applyChanges(E,_.isPrimaryClient,R);return vd(_,y.targetId,D.Ea),D.snapshot}(t,h,d,f);const i=await dd(t.localStore,e,!0),o=new pb(e,i.hs),a=o.la(i.documents),l=oo.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);vd(t,n,c.Ea);const u=new mb(e,n,o);return t.fa.set(e,u),t.ga.has(n)?t.ga.get(n).push(e):t.ga.set(n,[e]),c.snapshot}async function wb(t,e){const n=ne(t),r=n.fa.get(e),s=n.ga.get(r.targetId);if(s.length>1)return n.ga.set(r.targetId,s.filter(i=>!Ga(i,e))),void n.fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await nu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),h_(n.remoteStore,r.targetId),ru(n,r.targetId)}).catch(no)):(ru(n,r.targetId),await nu(n.localStore,r.targetId,!0))}async function Ab(t,e,n){const r=Rb(t);try{const s=await function(o,a){const l=ne(o),c=Ze.now(),u=a.reduce((f,p)=>f.add(p.key),ie());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=Hn(),_=ie();return l.os.getEntries(f,u).next(y=>{p=y,p.forEach((v,A)=>{A.isValidDocument()||(_=_.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,p)).next(y=>{h=y;const v=[];for(const A of a){const E=qS(A,h.get(A.key).overlayedDocument);E!=null&&v.push(new cr(A.key,E,ky(E.value.mapValue),wn.exists(!0)))}return l.mutationQueue.addMutationBatch(f,c,v,a)}).next(y=>{d=y;const v=y.applyToLocalDocumentSet(h,_);return l.documentOverlayCache.saveOverlays(f,y.batchId,v)})}).then(()=>({batchId:d.batchId,changes:By(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.ba[o.currentUser.toKey()];c||(c=new Ue(_e)),c=c.insert(a,l),o.ba[o.currentUser.toKey()]=c}(r,s.batchId,n),await lo(r,s.changes),await $a(r.remoteStore)}catch(s){const i=dh(s,"Failed to persist write");n.reject(i)}}async function v_(t,e){const n=ne(t);try{const r=await LE(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.wa.get(i);o&&(Ne(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Va=!0:s.modifiedDocuments.size>0?Ne(o.Va):s.removedDocuments.size>0&&(Ne(o.Va),o.Va=!1))}),await lo(n,r,e)}catch(r){await no(r)}}function _d(t,e,n){const r=ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.fa.forEach((i,o)=>{const a=o.view.K_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=ne(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const d of h.listeners)d.K_(a)&&(c=!0)}),c&&ph(l)}(r.eventManager,e),s.length&&r.ma.u_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Sb(t,e,n){const r=ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.wa.get(e),i=s&&s.key;if(i){let o=new Ue(K.comparator);o=o.insert(i,bt.newNoDocument(i,te.min()));const a=ie().add(i),l=new Ya(te.min(),new Map,new Ue(_e),o,a);await v_(r,l),r.ya=r.ya.remove(i),r.wa.delete(e),mh(r)}else await nu(r.localStore,e,!1).then(()=>ru(r,e,n)).catch(no)}async function Eb(t,e){const n=ne(t),r=e.batch.batchId;try{const s=await VE(n.localStore,e);A_(n,r,null),w_(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await lo(n,s)}catch(s){await no(s)}}async function bb(t,e,n){const r=ne(t);try{const s=await function(o,a){const l=ne(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Ne(h!==null),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);A_(r,e,n),w_(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await lo(r,s)}catch(s){await no(s)}}function w_(t,e){(t.Da.get(e)||[]).forEach(n=>{n.resolve()}),t.Da.delete(e)}function A_(t,e,n){const r=ne(t);let s=r.ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.ba[r.currentUser.toKey()]=s}}function ru(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ga.get(e))t.fa.delete(r),n&&t.ma.Ma(r,n);t.ga.delete(e),t.isPrimaryClient&&t.Sa.Vr(e).forEach(r=>{t.Sa.containsKey(r)||S_(t,r)})}function S_(t,e){t.pa.delete(e.path.canonicalString());const n=t.ya.get(e);n!==null&&(h_(t.remoteStore,n),t.ya=t.ya.remove(e),t.wa.delete(n),mh(t))}function vd(t,e,n){for(const r of n)r instanceof y_?(t.Sa.addReference(r.key,e),Tb(t,r)):r instanceof __?(q("SyncEngine","Document no longer in limbo: "+r.key),t.Sa.removeReference(r.key,e),t.Sa.containsKey(r.key)||S_(t,r.key)):Z()}function Tb(t,e){const n=e.key,r=n.path.canonicalString();t.ya.get(n)||t.pa.has(r)||(q("SyncEngine","New document in limbo: "+n),t.pa.add(r),mh(t))}function mh(t){for(;t.pa.size>0&&t.ya.size<t.maxConcurrentLimboResolutions;){const e=t.pa.values().next().value;t.pa.delete(e);const n=new K(Oe.fromString(e)),r=t.Ca.next();t.wa.set(r,new gb(n)),t.ya=t.ya.insert(n,r),u_(t.remoteStore,new Yn(vn(Vy(n.path)),r,"TargetPurposeLimboResolution",Ju.ae))}}async function lo(t,e,n){const r=ne(t),s=[],i=[],o=[];r.fa.isEmpty()||(r.fa.forEach((a,l)=>{o.push(r.Fa(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){s.push(c);const u=lh.Ki(l.targetId,c);i.push(u)}}))}),await Promise.all(o),r.ma.u_(s),await async function(l,c){const u=ne(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>O.forEach(c,d=>O.forEach(d.qi,f=>u.persistence.referenceDelegate.addReference(h,d.targetId,f)).next(()=>O.forEach(d.Qi,f=>u.persistence.referenceDelegate.removeReference(h,d.targetId,f)))))}catch(h){if(!ro(h))throw h;q("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const d=h.targetId;if(!h.fromCache){const f=u.ns.get(d),p=f.snapshotVersion,_=f.withLastLimboFreeSnapshotVersion(p);u.ns=u.ns.insert(d,_)}}}(r.localStore,i))}async function Ib(t,e){const n=ne(t);if(!n.currentUser.isEqual(e)){q("SyncEngine","User change. New user:",e.toKey());const r=await o_(n.localStore,e);n.currentUser=e,function(i,o){i.Da.forEach(a=>{a.forEach(l=>{l.reject(new j(P.CANCELLED,o))})}),i.Da.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await lo(n,r.us)}}function Cb(t,e){const n=ne(t),r=n.wa.get(e);if(r&&r.Va)return ie().add(r.key);{let s=ie();const i=n.ga.get(e);if(!i)return s;for(const o of i){const a=n.fa.get(o);s=s.unionWith(a.view.ca)}return s}}function kb(t){const e=ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=v_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Cb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Sb.bind(null,e),e.ma.u_=hb.bind(null,e.eventManager),e.ma.Ma=fb.bind(null,e.eventManager),e}function Rb(t){const e=ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Eb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bb.bind(null,e),e}class wd{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Xa(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return ME(this.persistence,new OE,e.initialUser,this.serializer)}createPersistence(e){return new RE(ah.Hr,this.serializer)}createSharedClientState(e){return new WE}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Pb{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>_d(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ib.bind(null,this.syncEngine),await ob(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new lb}()}createDatastore(e){const n=Xa(e.databaseInfo.databaseId),r=function(i){return new GE(i)}(e.databaseInfo);return function(i,o,a,l){return new QE(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new XE(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>_d(this.syncEngine,n,0),function(){return md.C()?new md:new xE}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,u){const h=new yb(s,i,o,a,l,c);return u&&(h.va=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=ne(n);q("RemoteStore","RemoteStore shutting down."),r.v_.add(5),await ao(r),r.M_.shutdown(),r.x_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Na(this.observer.next,e)}error(e){this.observer.error?this.Na(this.observer.error,e):Fn("Uncaught Error in snapshot listener:",e.toString())}Ba(){this.muted=!0}Na(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Et.UNAUTHENTICATED,this.clientId=Ty.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{q("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(q("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new j(P.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=dh(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ul(t,e){t.asyncQueue.verifyOperationInProgress(),q("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await o_(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Ad(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Mb(t);q("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(s=>gd(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,i)=>gd(e.remoteStore,i)),t._onlineComponents=e}function Nb(t){return t.name==="FirebaseError"?t.code===P.FAILED_PRECONDITION||t.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function Mb(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ul(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Nb(n))throw n;As("Error using user provided cache. Falling back to memory cache: "+n),await Ul(t,new wd)}}else q("FirestoreClient","Using default OfflineComponentProvider"),await Ul(t,new wd);return t._offlineComponents}async function E_(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(q("FirestoreClient","Using user provided OnlineComponentProvider"),await Ad(t,t._uninitializedComponentsProvider._online)):(q("FirestoreClient","Using default OnlineComponentProvider"),await Ad(t,new Pb))),t._onlineComponents}function Vb(t){return E_(t).then(e=>e.syncEngine)}async function Lb(t){const e=await E_(t),n=e.eventManager;return n.onListen=_b.bind(null,e.syncEngine),n.onUnlisten=wb.bind(null,e.syncEngine),n}function Fb(t,e,n={}){const r=new Zn;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new Db({next:d=>{o.enqueueAndForget(()=>ub(i,h)),d.fromCache&&l.source==="server"?c.reject(new j(P.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),h=new db(a,u,{includeMetadataChanges:!0,Y_:!0});return cb(i,h)}(await Lb(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(t,e,n){if(!n)throw new j(P.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Hb(t,e,n,r){if(e===!0&&r===!0)throw new j(P.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Ed(t){if(!K.isDocumentKey(t))throw new j(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function bd(t){if(K.isDocumentKey(t))throw new j(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Za(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Z()}function Cs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new j(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Za(t);throw new j(P.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new j(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new j(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Hb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=b_((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new j(P.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new j(P.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new j(P.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class el{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Td({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new j(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new j(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Td(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new tS;switch(r.type){case"firstParty":return new iS(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new j(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Sd.get(n);r&&(q("ComponentProvider","Removing Datastore"),Sd.delete(n),r.terminate())}(this),Promise.resolve()}}function Ub(t,e,n,r={}){var s;const i=(t=Cs(t,el))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&As("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Et.MOCK_USER;else{a=IA(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new j(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Et(c)}t._authCredentials=new nS(new by(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new js(this.firestore,e,this._query)}}class Kt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new er(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kt(this.firestore,e,this._key)}}class er extends js{constructor(e,n,r){super(e,n,Vy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kt(this.firestore,null,new K(e))}withConverter(e){return new er(this.firestore,e,this._path)}}function gh(t,e,...n){if(t=ot(t),T_("collection","path",e),t instanceof el){const r=Oe.fromString(e,...n);return bd(r),new er(t,null,r)}{if(!(t instanceof Kt||t instanceof er))throw new j(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Oe.fromString(e,...n));return bd(r),new er(t.firestore,null,r)}}function Bb(t,e,...n){if(t=ot(t),arguments.length===1&&(e=Ty.V()),T_("doc","path",e),t instanceof el){const r=Oe.fromString(e,...n);return Ed(r),new Kt(t,null,new K(r))}{if(!(t instanceof Kt||t instanceof er))throw new j(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Oe.fromString(e,...n));return Ed(r),new Kt(t.firestore,t instanceof er?t.converter:null,new K(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(){this.Ya=Promise.resolve(),this.Za=[],this.Xa=!1,this.eu=[],this.tu=null,this.nu=!1,this.ru=!1,this.iu=[],this.jo=new l_(this,"async_queue_retry"),this.su=()=>{const n=Hl();n&&q("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=Hl();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.su)}get isShuttingDown(){return this.Xa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ou(),this._u(e)}enterRestrictedMode(e){if(!this.Xa){this.Xa=!0,this.ru=e||!1;const n=Hl();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.su)}}enqueue(e){if(this.ou(),this.Xa)return new Promise(()=>{});const n=new Zn;return this._u(()=>this.Xa&&this.ru?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Za.push(e),this.au()))}async au(){if(this.Za.length!==0){try{await this.Za[0](),this.Za.shift(),this.jo.reset()}catch(e){if(!ro(e))throw e;q("AsyncQueue","Operation failed with retryable error: "+e)}this.Za.length>0&&this.jo.qo(()=>this.au())}}_u(e){const n=this.Ya.then(()=>(this.nu=!0,e().catch(r=>{this.tu=r,this.nu=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Fn("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.nu=!1,r))));return this.Ya=n,n}enqueueAfterDelay(e,n,r){this.ou(),this.iu.indexOf(e)>-1&&(n=0);const s=fh.createAndSchedule(this,e,n,r,i=>this.uu(i));return this.eu.push(s),s}ou(){this.tu&&Z()}verifyOperationInProgress(){}async cu(){let e;do e=this.Ya,await e;while(e!==this.Ya)}lu(e){for(const n of this.eu)if(n.timerId===e)return!0;return!1}hu(e){return this.cu().then(()=>{this.eu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.eu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.cu()})}Pu(e){this.iu.push(e)}uu(e){const n=this.eu.indexOf(e);this.eu.splice(n,1)}}class tl extends el{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new Wb}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||C_(this),this._firestoreClient.terminate()}}function xb(t,e){const n=typeof t=="object"?t:Cu(),r=typeof t=="string"?t:e||"(default)",s=Lr(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=bA("firestore");i&&Ub(s,...i)}return s}function I_(t){return t._firestoreClient||C_(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function C_(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,u){return new yS(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,b_(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new Ob(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ks(kt.fromBase64String(e))}catch(n){throw new j(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ks(kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new j(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new j(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new j(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _e(this._lat,e._lat)||_e(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb=/^__.*__$/;class qb{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new cr(e,this.data,this.fieldMask,n,this.fieldTransforms):new io(e,this.data,n,this.fieldTransforms)}}class k_{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new cr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function R_(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z()}}class vh{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Iu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Tu(){return this.settings.Tu}Eu(e){return new vh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}du(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Eu({path:r,Au:!1});return s.Ru(e),s}Vu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Eu({path:r,Au:!1});return s.Iu(),s}mu(e){return this.Eu({path:void 0,Au:!0})}fu(e){return fa(e,this.settings.methodName,this.settings.gu||!1,this.path,this.settings.pu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Iu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ru(this.path.get(e))}Ru(e){if(e.length===0)throw this.fu("Document fields must not be empty");if(R_(this.Tu)&&jb.test(e))throw this.fu('Document fields cannot begin and end with "__"')}}class Gb{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Xa(e)}yu(e,n,r,s=!1){return new vh({Tu:e,methodName:n,pu:r,path:dt.emptyPath(),Au:!1,gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wh(t){const e=t._freezeSettings(),n=Xa(t._databaseId);return new Gb(t._databaseId,!!e.ignoreUndefinedProperties,n)}function zb(t,e,n,r,s,i={}){const o=t.yu(i.merge||i.mergeFields?2:0,e,n,s);Ah("Data must be an object, but it was:",o,r);const a=P_(r,o);let l,c;if(i.merge)l=new zt(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const d=su(e,h,n);if(!o.contains(d))throw new j(P.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);O_(u,d)||u.push(d)}l=new zt(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new qb(new Ut(a),l,c)}class rl extends yh{_toFieldTransform(e){if(e.Tu!==2)throw e.Tu===1?e.fu(`${this._methodName}() can only appear at the top level of your update data`):e.fu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rl}}function Kb(t,e,n,r){const s=t.yu(1,e,n);Ah("Data must be an object, but it was:",s,r);const i=[],o=Ut.empty();Hr(r,(l,c)=>{const u=Sh(e,l,n);c=ot(c);const h=s.Vu(u);if(c instanceof rl)i.push(u);else{const d=co(c,h);d!=null&&(i.push(u),o.set(u,d))}});const a=new zt(i);return new k_(o,a,s.fieldTransforms)}function Qb(t,e,n,r,s,i){const o=t.yu(1,e,n),a=[su(e,r,n)],l=[s];if(i.length%2!=0)throw new j(P.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<i.length;d+=2)a.push(su(e,i[d])),l.push(i[d+1]);const c=[],u=Ut.empty();for(let d=a.length-1;d>=0;--d)if(!O_(c,a[d])){const f=a[d];let p=l[d];p=ot(p);const _=o.Vu(f);if(p instanceof rl)c.push(f);else{const y=co(p,_);y!=null&&(c.push(f),u.set(f,y))}}const h=new zt(c);return new k_(u,h,o.fieldTransforms)}function Yb(t,e,n,r=!1){return co(n,t.yu(r?4:3,e))}function co(t,e){if(D_(t=ot(t)))return Ah("Unsupported field value:",e,t),P_(t,e);if(t instanceof yh)return function(r,s){if(!R_(s.Tu))throw s.fu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.fu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Au&&e.Tu!==4)throw e.fu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=co(a,s.mu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=ot(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return HS(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ze.fromDate(r);return{timestampValue:ua(s.serializer,i)}}if(r instanceof Ze){const i=new Ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ua(s.serializer,i)}}if(r instanceof _h)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ks)return{bytesValue:e_(s.serializer,r._byteString)};if(r instanceof Kt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.fu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:ih(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.fu(`Unsupported field value: ${Za(r)}`)}(t,e)}function P_(t,e){const n={};return Iy(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hr(t,(r,s)=>{const i=co(s,e.du(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function D_(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ze||t instanceof _h||t instanceof ks||t instanceof Kt||t instanceof yh)}function Ah(t,e,n){if(!D_(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Za(n);throw r==="an object"?e.fu(t+" a custom object"):e.fu(t+" "+r)}}function su(t,e,n){if((e=ot(e))instanceof nl)return e._internalPath;if(typeof e=="string")return Sh(t,e);throw fa("Field path arguments must be of type string or ",t,!1,void 0,n)}const Xb=new RegExp("[~\\*/\\[\\]]");function Sh(t,e,n){if(e.search(Xb)>=0)throw fa(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new nl(...e.split("."))._internalPath}catch{throw fa(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function fa(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new j(P.INVALID_ARGUMENT,a+t+l)}function O_(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Jb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Eh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Jb extends N_{data(){return super.data()}}function Eh(t,e){return typeof e=="string"?Sh(t,e):e instanceof nl?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new j(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bh{}class Zb extends bh{}function M_(t,e,...n){let r=[];e instanceof bh&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof Th).length,a=i.filter(l=>l instanceof sl).length;if(o>1||o>0&&a>0)throw new j(P.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class sl extends Zb{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new sl(e,n,r)}_apply(e){const n=this._parse(e);return L_(e._query,n),new js(e.firestore,e.converter,Xc(e._query,n))}_parse(e){const n=wh(e.firestore);return function(i,o,a,l,c,u,h){let d;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new j(P.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){Cd(h,u);const f=[];for(const p of h)f.push(Id(l,i,p));d={arrayValue:{values:f}}}else d=Id(l,i,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||Cd(h,u),d=Yb(a,o,h,u==="in"||u==="not-in");return Ye.create(c,u,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function V_(t,e,n){const r=e,s=Eh("where",t);return sl._create(s,r,n)}class Th extends bh{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Th(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ln.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)L_(o,l),o=Xc(o,l)}(e._query,n),new js(e.firestore,e.converter,Xc(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Id(t,e,n){if(typeof(n=ot(n))=="string"){if(n==="")throw new j(P.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ly(e)&&n.indexOf("/")!==-1)throw new j(P.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Oe.fromString(n));if(!K.isDocumentKey(r))throw new j(P.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Xf(t,new K(r))}if(n instanceof Kt)return Xf(t,n._key);throw new j(P.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Za(n)}.`)}function Cd(t,e){if(!Array.isArray(t)||t.length===0)throw new j(P.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function L_(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new j(P.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new j(P.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class eT{convertValue(e,n="none"){switch(Rr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(kr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Z()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Hr(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new _h(Qe(e.latitude),Qe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Zu(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Mi(e));default:return null}}convertTimestamp(e){const n=sr(e);return new Ze(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Oe.fromString(e);Ne(i_(r));const s=new Vi(r.get(1),r.get(3)),i=new K(r.popFirst(5));return s.isEqual(n)||Fn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nT extends N_{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Fo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Eh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Fo extends nT{data(e={}){return super.data(e)}}class rT{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ko(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Fo(this._firestore,this._userDataWriter,r.key,r,new ko(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new j(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Fo(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ko(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Fo(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ko(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:sT(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function sT(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z()}}class iT extends eT{constructor(e){super(),this.firestore=e}convertBytes(e){return new ks(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,n)}}function F_(t){t=Cs(t,js);const e=Cs(t.firestore,tl),n=I_(e),r=new iT(e);return $b(t._query),Fb(n,t._query).then(s=>new rT(e,r,t,s))}function Pr(t,e,n,...r){t=Cs(t,Kt);const s=Cs(t.firestore,tl),i=wh(s);let o;return o=typeof(e=ot(e))=="string"||e instanceof nl?Qb(i,"updateDoc",t._key,e,n,r):Kb(i,"updateDoc",t._key,e),H_(s,[o.toMutation(t._key,wn.exists(!0))])}function oT(t,e){const n=Cs(t.firestore,tl),r=Bb(t),s=tT(t.converter,e);return H_(n,[zb(wh(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,wn.exists(!1))]).then(()=>r)}function H_(t,e){return function(r,s){const i=new Zn;return r.asyncQueue.enqueueAndForget(async()=>Ab(await Vb(r),s,i)),i.promise}(I_(t),e)}(function(e,n=!0){(function(s){Bs=s})(Fs),bn(new on("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new tl(new rS(r.getProvider("auth-internal")),new aS(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new j(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vi(c.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),nn(zf,"4.3.0",e),nn(zf,"4.3.0","esm2017")})();function Ih(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function kd(t){return t!==void 0&&t.enterprise!==void 0}class aT{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}function U_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lT=U_,B_=new Vr("auth","Firebase",U_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=new Ca("@firebase/auth");function cT(t,...e){da.logLevel<=le.WARN&&da.warn(`Auth (${Fs}): ${t}`,...e)}function Ho(t,...e){da.logLevel<=le.ERROR&&da.error(`Auth (${Fs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(t,...e){throw Ch(t,...e)}function Sn(t,...e){return Ch(t,...e)}function uT(t,e,n){const r=Object.assign(Object.assign({},lT()),{[e]:n});return new Vr("auth","Firebase",r).create(e,{appName:t.name})}function Ch(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return B_.create(t,...e)}function $(t,e,...n){if(!t)throw Ch(e,...n)}function Nn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ho(e),new Error(e)}function Un(t,e){t||Nn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function hT(){return Rd()==="http:"||Rd()==="https:"}function Rd(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hT()||pg()||"connection"in navigator)?navigator.onLine:!0}function dT(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,n){this.shortDelay=e,this.longDelay=n,Un(n>e,"Short delay should be less than long delay!"),this.isMobile=CA()||kA()}get(){return fT()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(t,e){Un(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Nn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Nn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Nn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT=new uo(3e4,6e4);function Br(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Wr(t,e,n,r,s={}){return x_(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Ki(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),W_.fetch()(j_(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function x_(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},pT),e);try{const s=new gT(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Ro(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ro(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ro(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ro(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw uT(t,u,c);cn(t,u)}}catch(s){if(s instanceof fn)throw s;cn(t,"network-request-failed",{message:String(s)})}}async function ho(t,e,n,r,s={}){const i=await Wr(t,e,n,r,s);return"mfaPendingCredential"in i&&cn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function j_(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?kh(t.config,s):`${t.config.apiScheme}://${s}`}class gT{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Sn(this.auth,"network-request-failed")),mT.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ro(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Sn(t,e,r);return s.customData._tokenResponse=n,s}async function yT(t,e){return Wr(t,"GET","/v2/recaptchaConfig",Br(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _T(t,e){return Wr(t,"POST","/v1/accounts:delete",e)}async function vT(t,e){return Wr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wT(t,e=!1){const n=ot(t),r=await n.getIdToken(e),s=Rh(r);$(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:gi(Bl(s.auth_time)),issuedAtTime:gi(Bl(s.iat)),expirationTime:gi(Bl(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Bl(t){return Number(t)*1e3}function Rh(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ho("JWT malformed, contained fewer than 3 sections"),null;try{const s=ug(n);return s?JSON.parse(s):(Ho("Failed to decode base64 JWT payload"),null)}catch(s){return Ho("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function AT(t){const e=Rh(t);return $(e,"internal-error"),$(typeof e.exp<"u","internal-error"),$(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ui(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof fn&&ST(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function ST({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gi(this.lastLoginAt),this.creationTime=gi(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pa(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Ui(t,vT(n,{idToken:r}));$(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?IT(i.providerUserInfo):[],a=TT(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new q_(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function bT(t){const e=ot(t);await pa(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function TT(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function IT(t){return t.map(e=>{var{providerId:n}=e,r=Ih(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CT(t,e){const n=await x_(t,{},async()=>{const r=Ki({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=j_(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",W_.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$(e.idToken,"internal-error"),$(typeof e.idToken<"u","internal-error"),$(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):AT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return $(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await CT(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Bi;return r&&($(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&($(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&($(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bi,this.toJSON())}_performRefresh(){return Nn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(t,e){$(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Er{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Ih(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ET(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new q_(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Ui(this,this.stsTokenManager.getToken(this.auth,e));return $(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return wT(this,e)}reload(){return bT(this)}_assign(e){this!==e&&($(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Er(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){$(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await pa(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ui(this,_T(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,u;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(s=n.email)!==null&&s!==void 0?s:void 0,f=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(c=n.createdAt)!==null&&c!==void 0?c:void 0,A=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:E,emailVerified:R,isAnonymous:D,providerData:L,stsTokenManager:U}=n;$(E&&U,e,"internal-error");const z=Bi.fromJSON(this.name,U);$(typeof E=="string",e,"internal-error"),xn(h,e.name),xn(d,e.name),$(typeof R=="boolean",e,"internal-error"),$(typeof D=="boolean",e,"internal-error"),xn(f,e.name),xn(p,e.name),xn(_,e.name),xn(y,e.name),xn(v,e.name),xn(A,e.name);const N=new Er({uid:E,auth:e,email:d,emailVerified:R,displayName:h,isAnonymous:D,photoURL:p,phoneNumber:f,tenantId:_,stsTokenManager:z,createdAt:v,lastLoginAt:A});return L&&Array.isArray(L)&&(N.providerData=L.map(M=>Object.assign({},M))),y&&(N._redirectEventId=y),N}static async _fromIdTokenResponse(e,n,r=!1){const s=new Bi;s.updateFromServerResponse(n);const i=new Er({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await pa(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd=new Map;function Mn(t){Un(t instanceof Function,"Expected a class definition");let e=Pd.get(t);return e?(Un(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Pd.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}G_.type="NONE";const Dd=G_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uo(t,e,n){return`firebase:${t}:${e}:${n}`}class ms{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Uo(this.userKey,s.apiKey,i),this.fullPersistenceKey=Uo("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Er._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ms(Mn(Dd),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Mn(Dd);const o=Uo(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const h=Er._fromJSON(e,u);c!==i&&(a=h),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new ms(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new ms(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Q_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(z_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(X_(e))return"Blackberry";if(J_(e))return"Webos";if(Ph(e))return"Safari";if((e.includes("chrome/")||K_(e))&&!e.includes("edge/"))return"Chrome";if(Y_(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function z_(t=Ct()){return/firefox\//i.test(t)}function Ph(t=Ct()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function K_(t=Ct()){return/crios\//i.test(t)}function Q_(t=Ct()){return/iemobile/i.test(t)}function Y_(t=Ct()){return/android/i.test(t)}function X_(t=Ct()){return/blackberry/i.test(t)}function J_(t=Ct()){return/webos/i.test(t)}function il(t=Ct()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function kT(t=Ct()){var e;return il(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function RT(){return RA()&&document.documentMode===10}function $_(t=Ct()){return il(t)||Y_(t)||J_(t)||X_(t)||/windows phone/i.test(t)||Q_(t)}function PT(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(t,e=[]){let n;switch(t){case"Browser":n=Od(Ct());break;case"Worker":n=`${Od(Ct())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Fs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OT(t,e={}){return Wr(t,"GET","/v2/passwordPolicy",Br(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT=6;class MT{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:NT,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nd(this),this.idTokenSubscription=new Nd(this),this.beforeStateQueue=new DT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=B_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Mn(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await ms.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return $(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await pa(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=dT()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?ot(e):null;return n&&$(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&$(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Mn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await OT(this),n=new MT(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Vr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Mn(e)||this._popupRedirectResolver;$(n,this,"argument-error"),this.redirectPersistenceManager=await ms.create(this,[Mn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if($(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Z_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&cT(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function xr(t){return ot(t)}class Nd{constructor(e){this.auth=e,this.observer=null,this.addObserver=VA(n=>this.observer=n)}get next(){return $(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function ev(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Sn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",LT().appendChild(r)})}function FT(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const HT="https://www.google.com/recaptcha/enterprise.js?render=",UT="recaptcha-enterprise",BT="NO_RECAPTCHA";class WT{constructor(e){this.type=UT,this.auth=xr(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{yT(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new aT(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;kd(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(BT)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&kd(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}ev(HT+a).then(()=>{s(a,i,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function ma(t,e,n,r=!1){const s=new WT(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(t,e){const n=Lr(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Ei(i,e??{}))return s;cn(s,"already-initialized")}return n.initialize({options:e})}function jT(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Mn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function qT(t,e,n){const r=xr(t);$(r._canInitEmulator,r,"emulator-config-failed"),$(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=tv(e),{host:o,port:a}=GT(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||zT()}function tv(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function GT(t){const e=tv(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Md(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Md(o)}}}function Md(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function zT(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Nn("not implemented")}_getIdTokenResponse(e){return Nn("not implemented")}_linkToIdToken(e,n){return Nn("not implemented")}_getReauthenticationResolver(e){return Nn("not implemented")}}async function KT(t,e){return Wr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wl(t,e){return ho(t,"POST","/v1/accounts:signInWithPassword",Br(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QT(t,e){return ho(t,"POST","/v1/accounts:signInWithEmailLink",Br(t,e))}async function YT(t,e){return ho(t,"POST","/v1/accounts:signInWithEmailLink",Br(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends Dh{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Wi(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Wi(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const s=await ma(e,r,"signInWithPassword");return Wl(e,s)}else return Wl(e,r).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const i=await ma(e,r,"signInWithPassword");return Wl(e,i)}else return Promise.reject(s)});case"emailLink":return QT(e,{email:this._email,oobCode:this._password});default:cn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return KT(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return YT(e,{idToken:n,email:this._email,oobCode:this._password});default:cn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gs(t,e){return ho(t,"POST","/v1/accounts:signInWithIdp",Br(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="http://localhost";class Dr extends Dh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Dr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):cn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Ih(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Dr(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return gs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,gs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,gs(e,n)}buildRequest(){const e={requestUri:XT,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ki(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $T(t){const e=si(ii(t)).link,n=e?si(ii(e)).deep_link_id:null,r=si(ii(t)).deep_link_id;return(r?si(ii(r)).link:null)||r||n||e||t}class Oh{constructor(e){var n,r,s,i,o,a;const l=si(ii(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,h=JT((s=l.mode)!==null&&s!==void 0?s:null);$(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=$T(e);try{return new Oh(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(){this.providerId=qs.PROVIDER_ID}static credential(e,n){return Wi._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Oh.parseLink(n);return $(r,"argument-error"),Wi._fromEmailAndCode(e,r.code,r.tenantId)}}qs.PROVIDER_ID="password";qs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";qs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo extends nv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn extends fo{constructor(){super("facebook.com")}static credential(e){return Dr._fromParams({providerId:qn.PROVIDER_ID,signInMethod:qn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qn.credentialFromTaggedObject(e)}static credentialFromError(e){return qn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qn.credential(e.oauthAccessToken)}catch{return null}}}qn.FACEBOOK_SIGN_IN_METHOD="facebook.com";qn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn extends fo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Dr._fromParams({providerId:Gn.PROVIDER_ID,signInMethod:Gn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Gn.credentialFromTaggedObject(e)}static credentialFromError(e){return Gn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Gn.credential(n,r)}catch{return null}}}Gn.GOOGLE_SIGN_IN_METHOD="google.com";Gn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn extends fo{constructor(){super("github.com")}static credential(e){return Dr._fromParams({providerId:zn.PROVIDER_ID,signInMethod:zn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zn.credentialFromTaggedObject(e)}static credentialFromError(e){return zn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zn.credential(e.oauthAccessToken)}catch{return null}}}zn.GITHUB_SIGN_IN_METHOD="github.com";zn.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn extends fo{constructor(){super("twitter.com")}static credential(e,n){return Dr._fromParams({providerId:Kn.PROVIDER_ID,signInMethod:Kn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Kn.credentialFromTaggedObject(e)}static credentialFromError(e){return Kn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Kn.credential(n,r)}catch{return null}}}Kn.TWITTER_SIGN_IN_METHOD="twitter.com";Kn.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xl(t,e){return ho(t,"POST","/v1/accounts:signUp",Br(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Er._fromIdTokenResponse(e,r,s),o=Vd(r);return new Or({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Vd(r);return new Or({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Vd(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga extends fn{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,ga.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new ga(e,n,r,s)}}function rv(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?ga._fromErrorAndOperation(t,i,e,r):i})}async function ZT(t,e,n=!1){const r=await Ui(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Or._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eI(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const i=await Ui(t,rv(r,s,e,t),n);$(i.idToken,r,"internal-error");const o=Rh(i.idToken);$(o,r,"internal-error");const{sub:a}=o;return $(t.uid===a,r,"user-mismatch"),Or._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&cn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sv(t,e,n=!1){const r="signIn",s=await rv(t,r,e),i=await Or._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function tI(t,e){return sv(xr(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iv(t){const e=xr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function nI(t,e,n){var r;const s=xr(t),i={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=s._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const c=await ma(s,i,"signUpPassword");o=xl(s,c)}else o=xl(s,i).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const u=await ma(s,i,"signUpPassword");return xl(s,u)}throw c});const a=await o.catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&iv(t),c}),l=await Or._fromIdTokenResponse(s,"signIn",a);return await s._updateCurrentUser(l.user),l}function rI(t,e,n){return tI(ot(t),qs.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&iv(t),r})}function sI(t,e,n,r){return ot(t).onIdTokenChanged(e,n,r)}function iI(t,e,n){return ot(t).beforeAuthStateChanged(e,n)}const ya="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ya,"1"),this.storage.removeItem(ya),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(){const t=Ct();return Ph(t)||il(t)}const aI=1e3,lI=10;class av extends ov{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=oI()&&PT(),this.fallbackToPolling=$_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);RT()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,lI):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},aI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}av.type="LOCAL";const cI=av;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv extends ov{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}lv.type="SESSION";const cv=lv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new ol(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await uI(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ol.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=Nh("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const d=h;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(d.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(){return window}function fI(t){En().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(){return typeof En().WorkerGlobalScope<"u"&&typeof En().importScripts=="function"}async function dI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pI(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function mI(){return uv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv="firebaseLocalStorageDb",gI=1,_a="firebaseLocalStorage",fv="fbase_key";class po{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function al(t,e){return t.transaction([_a],e?"readwrite":"readonly").objectStore(_a)}function yI(){const t=indexedDB.deleteDatabase(hv);return new po(t).toPromise()}function ou(){const t=indexedDB.open(hv,gI);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(_a,{keyPath:fv})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(_a)?e(r):(r.close(),await yI(),e(await ou()))})})}async function Ld(t,e,n){const r=al(t,!0).put({[fv]:e,value:n});return new po(r).toPromise()}async function _I(t,e){const n=al(t,!1).get(e),r=await new po(n).toPromise();return r===void 0?null:r.value}function Fd(t,e){const n=al(t,!0).delete(e);return new po(n).toPromise()}const vI=800,wI=3;class dv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ou(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>wI)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ol._getInstance(mI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await dI(),!this.activeServiceWorker)return;this.sender=new hI(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ou();return await Ld(e,ya,"1"),await Fd(e,ya),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ld(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>_I(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Fd(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=al(s,!1).getAll();return new po(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dv.type="LOCAL";const AI=dv;new uo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(t,e){return e?Mn(e):($(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh extends Dh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return gs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return gs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return gs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function EI(t){return sv(t.auth,new Mh(t),t.bypassAuthState)}function bI(t){const{auth:e,user:n}=t;return $(n,e,"internal-error"),eI(n,new Mh(t),t.bypassAuthState)}async function TI(t){const{auth:e,user:n}=t;return $(n,e,"internal-error"),ZT(n,new Mh(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return EI;case"linkViaPopup":case"linkViaRedirect":return TI;case"reauthViaPopup":case"reauthViaRedirect":return bI;default:cn(this.auth,"internal-error")}}resolve(e){Un(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Un(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=new uo(2e3,1e4);class cs extends pv{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,cs.currentPopupAction&&cs.currentPopupAction.cancel(),cs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return $(e,this.auth,"internal-error"),e}async onExecution(){Un(this.filter.length===1,"Popup operations only handle one event");const e=Nh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Sn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Sn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,II.get())};e()}}cs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI="pendingRedirect",Bo=new Map;class kI extends pv{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Bo.get(this.auth._key());if(!e){try{const r=await RI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Bo.set(this.auth._key(),e)}return this.bypassAuthState||Bo.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function RI(t,e){const n=OI(e),r=DI(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function PI(t,e){Bo.set(t._key(),e)}function DI(t){return Mn(t._redirectPersistence)}function OI(t){return Uo(CI,t.config.apiKey,t.name)}async function NI(t,e,n=!1){const r=xr(t),s=SI(r,e),o=await new kI(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=10*60*1e3;class VI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!LI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!mv(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Sn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=MI&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hd(e))}saveEventToCache(e){this.cachedEventUids.add(Hd(e)),this.lastProcessedEventTime=Date.now()}}function Hd(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function mv({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function LI(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mv(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FI(t,e={}){return Wr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UI=/^https?/;async function BI(t){if(t.config.emulator)return;const{authorizedDomains:e}=await FI(t);for(const n of e)try{if(WI(n))return}catch{}cn(t,"unauthorized-domain")}function WI(t){const e=iu(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!UI.test(n))return!1;if(HI.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI=new uo(3e4,6e4);function Ud(){const t=En().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function jI(t){return new Promise((e,n)=>{var r,s,i;function o(){Ud(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ud(),n(Sn(t,"network-request-failed"))},timeout:xI.get()})}if(!((s=(r=En().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=En().gapi)===null||i===void 0)&&i.load)o();else{const a=FT("iframefcb");return En()[a]=()=>{gapi.load?o():n(Sn(t,"network-request-failed"))},ev(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Wo=null,e})}let Wo=null;function qI(t){return Wo=Wo||jI(t),Wo}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=new uo(5e3,15e3),zI="__/auth/iframe",KI="emulator/auth/iframe",QI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XI(t){const e=t.config;$(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?kh(e,KI):`https://${t.config.authDomain}/${zI}`,r={apiKey:e.apiKey,appName:t.name,v:Fs},s=YI.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Ki(r).slice(1)}`}async function JI(t){const e=await qI(t),n=En().gapi;return $(n,t,"internal-error"),e.open({where:document.body,url:XI(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QI,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Sn(t,"network-request-failed"),a=En().setTimeout(()=>{i(o)},GI.get());function l(){En().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZI=500,eC=600,tC="_blank",nC="http://localhost";class Bd{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rC(t,e,n,r=ZI,s=eC){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},$I),{width:r.toString(),height:s.toString(),top:i,left:o}),c=Ct().toLowerCase();n&&(a=K_(c)?tC:n),z_(c)&&(e=e||nC,l.scrollbars="yes");const u=Object.entries(l).reduce((d,[f,p])=>`${d}${f}=${p},`,"");if(kT(c)&&a!=="_self")return sC(e||"",a),new Bd(null);const h=window.open(e||"",a,u);$(h,t,"popup-blocked");try{h.focus()}catch{}return new Bd(h)}function sC(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC="__/auth/handler",oC="emulator/auth/handler",aC=encodeURIComponent("fac");async function Wd(t,e,n,r,s,i){$(t.config.authDomain,t,"auth-domain-config-required"),$(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Fs,eventId:s};if(e instanceof nv){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",MA(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries(i||{}))o[u]=h}if(e instanceof fo){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${aC}=${encodeURIComponent(l)}`:"";return`${lC(t)}?${Ki(a).slice(1)}${c}`}function lC({config:t}){return t.emulator?kh(t,oC):`https://${t.authDomain}/${iC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl="webStorageSupport";class cC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cv,this._completeRedirectFn=NI,this._overrideRedirectResult=PI}async _openPopup(e,n,r,s){var i;Un((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await Wd(e,n,r,iu(),s);return rC(e,o,Nh())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Wd(e,n,r,iu(),s);return fI(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Un(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await JI(e),r=new VI(e);return n.register("authEvent",s=>($(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(jl,{type:jl},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[jl];o!==void 0&&n(!!o),cn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=BI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $_()||Ph()||il()}}const uC=cC;var xd="@firebase/auth",jd="1.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){$(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function dC(t){bn(new on("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;$(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Z_(t)},c=new VT(r,s,i,l);return jT(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),bn(new on("auth-internal",e=>{const n=xr(e.getProvider("auth").getImmediate());return(r=>new hC(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),nn(xd,jd,fC(t)),nn(xd,jd,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=5*60,mC=dg("authIdTokenMaxAge")||pC;let qd=null;const gC=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>mC)return;const s=n==null?void 0:n.token;qd!==s&&(qd=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function gv(t=Cu()){const e=Lr(t,"auth");if(e.isInitialized())return e.getImmediate();const n=xT(t,{popupRedirectResolver:uC,persistence:[AI,cI,cv]}),r=dg("authTokenSyncURL");if(r){const i=gC(r);iI(n,i,()=>i(n.currentUser)),sI(n,o=>i(o))}const s=hg("auth");return s&&qT(n,`http://${s}`),n}dC("Browser");const yC=(t,e)=>e.some(n=>t instanceof n);let Gd,zd;function _C(){return Gd||(Gd=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vC(){return zd||(zd=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yv=new WeakMap,au=new WeakMap,_v=new WeakMap,ql=new WeakMap,Vh=new WeakMap;function wC(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(tr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&yv.set(n,t)}).catch(()=>{}),Vh.set(e,t),e}function AC(t){if(au.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});au.set(t,e)}let lu={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return au.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_v.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return tr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function SC(t){lu=t(lu)}function EC(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Gl(this),e,...n);return _v.set(r,e.sort?e.sort():[e]),tr(r)}:vC().includes(t)?function(...e){return t.apply(Gl(this),e),tr(yv.get(this))}:function(...e){return tr(t.apply(Gl(this),e))}}function bC(t){return typeof t=="function"?EC(t):(t instanceof IDBTransaction&&AC(t),yC(t,_C())?new Proxy(t,lu):t)}function tr(t){if(t instanceof IDBRequest)return wC(t);if(ql.has(t))return ql.get(t);const e=bC(t);return e!==t&&(ql.set(t,e),Vh.set(e,t)),e}const Gl=t=>Vh.get(t);function TC(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=tr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(tr(o.result),l.oldVersion,l.newVersion,tr(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",()=>s())}).catch(()=>{}),a}const IC=["get","getKey","getAll","getAllKeys","count"],CC=["put","add","delete","clear"],zl=new Map;function Kd(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(zl.get(e))return zl.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=CC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||IC.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return zl.set(e,i),i}SC(t=>({...t,get:(e,n,r)=>Kd(e,n)||t.get(e,n,r),has:(e,n)=>!!Kd(e,n)||t.has(e,n)}));const vv="@firebase/installations",Lh="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv=1e4,Av=`w:${Lh}`,Sv="FIS_v2",kC="https://firebaseinstallations.googleapis.com/v1",RC=60*60*1e3,PC="installations",DC="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Nr=new Vr(PC,DC,OC);function Ev(t){return t instanceof fn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv({projectId:t}){return`${kC}/projects/${t}/installations`}function Tv(t){return{token:t.token,requestStatus:2,expiresIn:MC(t.expiresIn),creationTime:Date.now()}}async function Iv(t,e){const r=(await e.json()).error;return Nr.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Cv({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function NC(t,{refreshToken:e}){const n=Cv(t);return n.append("Authorization",VC(e)),n}async function kv(t){const e=await t();return e.status>=500&&e.status<600?t():e}function MC(t){return Number(t.replace("s","000"))}function VC(t){return`${Sv} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LC({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=bv(t),s=Cv(t),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={fid:n,authVersion:Sv,appId:t.appId,sdkVersion:Av},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await kv(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:Tv(c.authToken)}}else throw await Iv("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=/^[cdef][\w-]{21}$/,cu="";function UC(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=BC(t);return HC.test(n)?n:cu}catch{return cu}}function BC(t){return FC(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ll(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv=new Map;function Dv(t,e){const n=ll(t);Ov(n,e),WC(n,e)}function Ov(t,e){const n=Pv.get(t);if(n)for(const r of n)r(e)}function WC(t,e){const n=xC();n&&n.postMessage({key:t,fid:e}),jC()}let wr=null;function xC(){return!wr&&"BroadcastChannel"in self&&(wr=new BroadcastChannel("[Firebase] FID Change"),wr.onmessage=t=>{Ov(t.data.key,t.data.fid)}),wr}function jC(){Pv.size===0&&wr&&(wr.close(),wr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC="firebase-installations-database",GC=1,Mr="firebase-installations-store";let Kl=null;function Fh(){return Kl||(Kl=TC(qC,GC,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Mr)}}})),Kl}async function va(t,e){const n=ll(t),s=(await Fh()).transaction(Mr,"readwrite"),i=s.objectStore(Mr),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&Dv(t,e.fid),e}async function Nv(t){const e=ll(t),r=(await Fh()).transaction(Mr,"readwrite");await r.objectStore(Mr).delete(e),await r.done}async function cl(t,e){const n=ll(t),s=(await Fh()).transaction(Mr,"readwrite"),i=s.objectStore(Mr),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&Dv(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hh(t){let e;const n=await cl(t.appConfig,r=>{const s=zC(r),i=KC(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===cu?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function zC(t){const e=t||{fid:UC(),registrationStatus:0};return Mv(e)}function KC(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Nr.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=QC(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:YC(t)}:{installationEntry:e}}async function QC(t,e){try{const n=await LC(t,e);return va(t.appConfig,n)}catch(n){throw Ev(n)&&n.customData.serverCode===409?await Nv(t.appConfig):await va(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function YC(t){let e=await Qd(t.appConfig);for(;e.registrationStatus===1;)await Rv(100),e=await Qd(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Hh(t);return r||n}return e}function Qd(t){return cl(t,e=>{if(!e)throw Nr.create("installation-not-found");return Mv(e)})}function Mv(t){return XC(t)?{fid:t.fid,registrationStatus:0}:t}function XC(t){return t.registrationStatus===1&&t.registrationTime+wv<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JC({appConfig:t,heartbeatServiceProvider:e},n){const r=$C(t,n),s=NC(t,n),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={installation:{sdkVersion:Av,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await kv(()=>fetch(r,a));if(l.ok){const c=await l.json();return Tv(c)}else throw await Iv("Generate Auth Token",l)}function $C(t,{fid:e}){return`${bv(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uh(t,e=!1){let n;const r=await cl(t.appConfig,i=>{if(!Vv(i))throw Nr.create("not-registered");const o=i.authToken;if(!e&&tk(o))return i;if(o.requestStatus===1)return n=ZC(t,e),i;{if(!navigator.onLine)throw Nr.create("app-offline");const a=rk(i);return n=ek(t,a),a}});return n?await n:r.authToken}async function ZC(t,e){let n=await Yd(t.appConfig);for(;n.authToken.requestStatus===1;)await Rv(100),n=await Yd(t.appConfig);const r=n.authToken;return r.requestStatus===0?Uh(t,e):r}function Yd(t){return cl(t,e=>{if(!Vv(e))throw Nr.create("not-registered");const n=e.authToken;return sk(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function ek(t,e){try{const n=await JC(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await va(t.appConfig,r),n}catch(n){if(Ev(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Nv(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await va(t.appConfig,r)}throw n}}function Vv(t){return t!==void 0&&t.registrationStatus===2}function tk(t){return t.requestStatus===2&&!nk(t)}function nk(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+RC}function rk(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function sk(t){return t.requestStatus===1&&t.requestTime+wv<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ik(t){const e=t,{installationEntry:n,registrationPromise:r}=await Hh(e);return r?r.catch(console.error):Uh(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ok(t,e=!1){const n=t;return await ak(n),(await Uh(n,e)).token}async function ak(t){const{registrationPromise:e}=await Hh(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(t){if(!t||!t.options)throw Ql("App Configuration");if(!t.name)throw Ql("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Ql(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Ql(t){return Nr.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="installations",ck="installations-internal",uk=t=>{const e=t.getProvider("app").getImmediate(),n=lk(e),r=Lr(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},hk=t=>{const e=t.getProvider("app").getImmediate(),n=Lr(e,Lv).getImmediate();return{getId:()=>ik(n),getToken:s=>ok(n,s)}};function fk(){bn(new on(Lv,uk,"PUBLIC")),bn(new on(ck,hk,"PRIVATE"))}fk();nn(vv,Lh);nn(vv,Lh,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa="analytics",dk="firebase_id",pk="origin",mk=60*1e3,gk="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Bh="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt=new Ca("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Qt=new Vr("analytics","Analytics",yk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(t){if(!t.startsWith(Bh)){const e=Qt.create("invalid-gtag-resource",{gtagURL:t});return Bt.warn(e.message),""}return t}function Fv(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function vk(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function wk(t,e){const n=vk("firebase-js-sdk-policy",{createScriptURL:_k}),r=document.createElement("script"),s=`${Bh}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function Ak(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Sk(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const l=(await Fv(n)).find(c=>c.measurementId===s);l&&await e[l.appId]}}catch(a){Bt.error(a)}t("config",s,i)}async function Ek(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await Fv(n);for(const l of o){const c=a.find(h=>h.measurementId===l),u=c&&e[c.appId];if(u)i.push(u);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){Bt.error(i)}}function bk(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await Ek(t,e,n,a,l)}else if(i==="config"){const[a,l]=o;await Sk(t,e,n,r,a,l)}else if(i==="consent"){const[a]=o;t("consent","update",a)}else if(i==="get"){const[a,l,c]=o;t("get",a,l,c)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){Bt.error(a)}}return s}function Tk(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=bk(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function Ik(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Bh)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck=30,kk=1e3;class Rk{constructor(e={},n=kk){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Hv=new Rk;function Pk(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Dk(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:Pk(r)},i=gk.replace("{app-id}",n),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Qt.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function Ok(t,e=Hv,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw Qt.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw Qt.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Vk;return setTimeout(async()=>{a.abort()},n!==void 0?n:mk),Uv({appId:r,apiKey:s,measurementId:i},o,a,e)}async function Uv(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=Hv){var i;const{appId:o,measurementId:a}=t;try{await Nk(r,e)}catch(l){if(a)return Bt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await Dk(t);return s.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!Mk(c)){if(s.deleteThrottleMetadata(o),a)return Bt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw l}const u=Number((i=c==null?void 0:c.customData)===null||i===void 0?void 0:i.httpStatus)===503?bf(n,s.intervalMillis,Ck):bf(n,s.intervalMillis),h={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return s.setThrottleMetadata(o,h),Bt.debug(`Calling attemptFetch again in ${u} millis`),Uv(t,h,r,s)}}function Nk(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(Qt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Mk(t){if(!(t instanceof fn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Vk{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Lk(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o=Object.assign(Object.assign({},r),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fk(){if(mg())try{await gg()}catch(t){return Bt.warn(Qt.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Bt.warn(Qt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Hk(t,e,n,r,s,i,o){var a;const l=Ok(t);l.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&Bt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Bt.error(f)),e.push(l);const c=Fk().then(f=>{if(f)return r.getId()}),[u,h]=await Promise.all([l,c]);Ik(i)||wk(i,u.measurementId),s("js",new Date);const d=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return d[pk]="firebase",d.update=!0,h!=null&&(d[dk]=h),s("config",u.measurementId,d),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e){this.app=e}_delete(){return delete yi[this.app.options.appId],Promise.resolve()}}let yi={},Xd=[];const Jd={};let Yl="dataLayer",Bk="gtag",$d,Bv,Zd=!1;function Wk(){const t=[];if(pg()&&t.push("This is a browser extension environment."),PA()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=Qt.create("invalid-analytics-context",{errorInfo:e});Bt.warn(n.message)}}function xk(t,e,n){Wk();const r=t.options.appId;if(!r)throw Qt.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Bt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Qt.create("no-api-key");if(yi[r]!=null)throw Qt.create("already-exists",{id:r});if(!Zd){Ak(Yl);const{wrappedGtag:i,gtagCore:o}=Tk(yi,Xd,Jd,Yl,Bk);Bv=i,$d=o,Zd=!0}return yi[r]=Hk(t,Xd,Jd,e,$d,Yl,n),new Uk(t)}function jk(t=Cu()){t=ot(t);const e=Lr(t,wa);return e.isInitialized()?e.getImmediate():qk(t)}function qk(t,e={}){const n=Lr(t,wa);if(n.isInitialized()){const s=n.getImmediate();if(Ei(e,n.getOptions()))return s;throw Qt.create("already-initialized")}return n.initialize({options:e})}function Gk(t,e,n,r){t=ot(t),Lk(Bv,yi[t.app.options.appId],e,n,r).catch(s=>Bt.error(s))}const ep="@firebase/analytics",tp="0.10.0";function zk(){bn(new on(wa,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return xk(r,s,n)},"PUBLIC")),bn(new on("analytics-internal",t,"PRIVATE")),nn(ep,tp),nn(ep,tp,"esm2017");function t(e){try{const n=e.getProvider(wa).getImmediate();return{logEvent:(r,s,i)=>Gk(n,r,s,i)}}catch(n){throw Qt.create("interop-component-reg-failed",{reason:n})}}}zk();const xi={host:"https://api.pokemontcg.io/v2"};function Wv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Kk(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Wh={exports:{}},xv=function(e,n){return function(){for(var s=new Array(arguments.length),i=0;i<s.length;i++)s[i]=arguments[i];return e.apply(n,s)}},Qk=xv,jr=Object.prototype.toString;function xh(t){return jr.call(t)==="[object Array]"}function uu(t){return typeof t>"u"}function Yk(t){return t!==null&&!uu(t)&&t.constructor!==null&&!uu(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function Xk(t){return jr.call(t)==="[object ArrayBuffer]"}function Jk(t){return typeof FormData<"u"&&t instanceof FormData}function $k(t){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&t.buffer instanceof ArrayBuffer,e}function Zk(t){return typeof t=="string"}function e2(t){return typeof t=="number"}function jv(t){return t!==null&&typeof t=="object"}function xo(t){if(jr.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function t2(t){return jr.call(t)==="[object Date]"}function n2(t){return jr.call(t)==="[object File]"}function r2(t){return jr.call(t)==="[object Blob]"}function qv(t){return jr.call(t)==="[object Function]"}function s2(t){return jv(t)&&qv(t.pipe)}function i2(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}function o2(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function a2(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function jh(t,e){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),xh(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.call(null,t[s],s,t)}function hu(){var t={};function e(s,i){xo(t[i])&&xo(s)?t[i]=hu(t[i],s):xo(s)?t[i]=hu({},s):xh(s)?t[i]=s.slice():t[i]=s}for(var n=0,r=arguments.length;n<r;n++)jh(arguments[n],e);return t}function l2(t,e,n){return jh(e,function(s,i){n&&typeof s=="function"?t[i]=Qk(s,n):t[i]=s}),t}function c2(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}var Jt={isArray:xh,isArrayBuffer:Xk,isBuffer:Yk,isFormData:Jk,isArrayBufferView:$k,isString:Zk,isNumber:e2,isObject:jv,isPlainObject:xo,isUndefined:uu,isDate:t2,isFile:n2,isBlob:r2,isFunction:qv,isStream:s2,isURLSearchParams:i2,isStandardBrowserEnv:a2,forEach:jh,merge:hu,extend:l2,trim:o2,stripBOM:c2},Jr=Jt;function np(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Gv=function(e,n,r){if(!n)return e;var s;if(r)s=r(n);else if(Jr.isURLSearchParams(n))s=n.toString();else{var i=[];Jr.forEach(n,function(l,c){l===null||typeof l>"u"||(Jr.isArray(l)?c=c+"[]":l=[l],Jr.forEach(l,function(h){Jr.isDate(h)?h=h.toISOString():Jr.isObject(h)&&(h=JSON.stringify(h)),i.push(np(c)+"="+np(h))}))}),s=i.join("&")}if(s){var o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e},u2=Jt;function ul(){this.handlers=[]}ul.prototype.use=function(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1};ul.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};ul.prototype.forEach=function(e){u2.forEach(this.handlers,function(r){r!==null&&e(r)})};var h2=ul,f2=Jt,d2=function(e,n){f2.forEach(e,function(s,i){i!==n&&i.toUpperCase()===n.toUpperCase()&&(e[n]=s,delete e[i])})},zv=function(e,n,r,s,i){return e.config=n,r&&(e.code=r),e.request=s,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e},Xl,rp;function Kv(){if(rp)return Xl;rp=1;var t=zv;return Xl=function(n,r,s,i,o){var a=new Error(n);return t(a,r,s,i,o)},Xl}var Jl,sp;function p2(){if(sp)return Jl;sp=1;var t=Kv();return Jl=function(n,r,s){var i=s.config.validateStatus;!s.status||!i||i(s.status)?n(s):r(t("Request failed with status code "+s.status,s.config,null,s.request,s))},Jl}var $l,ip;function m2(){if(ip)return $l;ip=1;var t=Jt;return $l=t.isStandardBrowserEnv()?function(){return{write:function(r,s,i,o,a,l){var c=[];c.push(r+"="+encodeURIComponent(s)),t.isNumber(i)&&c.push("expires="+new Date(i).toGMTString()),t.isString(o)&&c.push("path="+o),t.isString(a)&&c.push("domain="+a),l===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(r){var s=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),$l}var Zl,op;function g2(){return op||(op=1,Zl=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}),Zl}var ec,ap;function y2(){return ap||(ap=1,ec=function(e,n){return n?e.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):e}),ec}var tc,lp;function _2(){if(lp)return tc;lp=1;var t=g2(),e=y2();return tc=function(r,s){return r&&!t(s)?e(r,s):s},tc}var nc,cp;function v2(){if(cp)return nc;cp=1;var t=Jt,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return nc=function(r){var s={},i,o,a;return r&&t.forEach(r.split(`
`),function(c){if(a=c.indexOf(":"),i=t.trim(c.substr(0,a)).toLowerCase(),o=t.trim(c.substr(a+1)),i){if(s[i]&&e.indexOf(i)>=0)return;i==="set-cookie"?s[i]=(s[i]?s[i]:[]).concat([o]):s[i]=s[i]?s[i]+", "+o:o}}),s},nc}var rc,up;function w2(){if(up)return rc;up=1;var t=Jt;return rc=t.isStandardBrowserEnv()?function(){var n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),s;function i(o){var a=o;return n&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return s=i(window.location.href),function(a){var l=t.isString(a)?i(a):a;return l.protocol===s.protocol&&l.host===s.host}}():function(){return function(){return!0}}(),rc}var sc,hp;function fp(){if(hp)return sc;hp=1;var t=Jt,e=p2(),n=m2(),r=Gv,s=_2(),i=v2(),o=w2(),a=Kv();return sc=function(c){return new Promise(function(h,d){var f=c.data,p=c.headers,_=c.responseType;t.isFormData(f)&&delete p["Content-Type"];var y=new XMLHttpRequest;if(c.auth){var v=c.auth.username||"",A=c.auth.password?unescape(encodeURIComponent(c.auth.password)):"";p.Authorization="Basic "+btoa(v+":"+A)}var E=s(c.baseURL,c.url);y.open(c.method.toUpperCase(),r(E,c.params,c.paramsSerializer),!0),y.timeout=c.timeout;function R(){if(y){var L="getAllResponseHeaders"in y?i(y.getAllResponseHeaders()):null,U=!_||_==="text"||_==="json"?y.responseText:y.response,z={data:U,status:y.status,statusText:y.statusText,headers:L,config:c,request:y};e(h,d,z),y=null}}if("onloadend"in y?y.onloadend=R:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(R)},y.onabort=function(){y&&(d(a("Request aborted",c,"ECONNABORTED",y)),y=null)},y.onerror=function(){d(a("Network Error",c,null,y)),y=null},y.ontimeout=function(){var U="timeout of "+c.timeout+"ms exceeded";c.timeoutErrorMessage&&(U=c.timeoutErrorMessage),d(a(U,c,c.transitional&&c.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",y)),y=null},t.isStandardBrowserEnv()){var D=(c.withCredentials||o(E))&&c.xsrfCookieName?n.read(c.xsrfCookieName):void 0;D&&(p[c.xsrfHeaderName]=D)}"setRequestHeader"in y&&t.forEach(p,function(U,z){typeof f>"u"&&z.toLowerCase()==="content-type"?delete p[z]:y.setRequestHeader(z,U)}),t.isUndefined(c.withCredentials)||(y.withCredentials=!!c.withCredentials),_&&_!=="json"&&(y.responseType=c.responseType),typeof c.onDownloadProgress=="function"&&y.addEventListener("progress",c.onDownloadProgress),typeof c.onUploadProgress=="function"&&y.upload&&y.upload.addEventListener("progress",c.onUploadProgress),c.cancelToken&&c.cancelToken.promise.then(function(U){y&&(y.abort(),d(U),y=null)}),f||(f=null),y.send(f)})},sc}var ut=Jt,dp=d2,A2=zv,S2={"Content-Type":"application/x-www-form-urlencoded"};function pp(t,e){!ut.isUndefined(t)&&ut.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function E2(){var t;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(t=fp()),t}function b2(t,e,n){if(ut.isString(t))try{return(e||JSON.parse)(t),ut.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}var hl={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:E2(),transformRequest:[function(e,n){return dp(n,"Accept"),dp(n,"Content-Type"),ut.isFormData(e)||ut.isArrayBuffer(e)||ut.isBuffer(e)||ut.isStream(e)||ut.isFile(e)||ut.isBlob(e)?e:ut.isArrayBufferView(e)?e.buffer:ut.isURLSearchParams(e)?(pp(n,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):ut.isObject(e)||n&&n["Content-Type"]==="application/json"?(pp(n,"application/json"),b2(e)):e}],transformResponse:[function(e){var n=this.transitional,r=n&&n.silentJSONParsing,s=n&&n.forcedJSONParsing,i=!r&&this.responseType==="json";if(i||s&&ut.isString(e)&&e.length)try{return JSON.parse(e)}catch(o){if(i)throw o.name==="SyntaxError"?A2(o,this,"E_JSON_PARSE"):o}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};hl.headers={common:{Accept:"application/json, text/plain, */*"}};ut.forEach(["delete","get","head"],function(e){hl.headers[e]={}});ut.forEach(["post","put","patch"],function(e){hl.headers[e]=ut.merge(S2)});var qh=hl,T2=Jt,I2=qh,C2=function(e,n,r){var s=this||I2;return T2.forEach(r,function(o){e=o.call(s,e,n)}),e},ic,mp;function Qv(){return mp||(mp=1,ic=function(e){return!!(e&&e.__CANCEL__)}),ic}var gp=Jt,oc=C2,k2=Qv(),R2=qh;function ac(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var P2=function(e){ac(e),e.headers=e.headers||{},e.data=oc.call(e,e.data,e.headers,e.transformRequest),e.headers=gp.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),gp.forEach(["delete","get","head","post","put","patch","common"],function(s){delete e.headers[s]});var n=e.adapter||R2.adapter;return n(e).then(function(s){return ac(e),s.data=oc.call(e,s.data,s.headers,e.transformResponse),s},function(s){return k2(s)||(ac(e),s&&s.response&&(s.response.data=oc.call(e,s.response.data,s.response.headers,e.transformResponse))),Promise.reject(s)})},At=Jt,Yv=function(e,n){n=n||{};var r={},s=["url","method","data"],i=["headers","auth","proxy","params"],o=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function l(d,f){return At.isPlainObject(d)&&At.isPlainObject(f)?At.merge(d,f):At.isPlainObject(f)?At.merge({},f):At.isArray(f)?f.slice():f}function c(d){At.isUndefined(n[d])?At.isUndefined(e[d])||(r[d]=l(void 0,e[d])):r[d]=l(e[d],n[d])}At.forEach(s,function(f){At.isUndefined(n[f])||(r[f]=l(void 0,n[f]))}),At.forEach(i,c),At.forEach(o,function(f){At.isUndefined(n[f])?At.isUndefined(e[f])||(r[f]=l(void 0,e[f])):r[f]=l(void 0,n[f])}),At.forEach(a,function(f){f in n?r[f]=l(e[f],n[f]):f in e&&(r[f]=l(void 0,e[f]))});var u=s.concat(i).concat(o).concat(a),h=Object.keys(e).concat(Object.keys(n)).filter(function(f){return u.indexOf(f)===-1});return At.forEach(h,c),r};const D2="axios",O2="0.21.4",N2="Promise based HTTP client for the browser and node.js",M2="index.js",V2={test:"grunt test",start:"node ./sandbox/server.js",build:"NODE_ENV=production grunt build",preversion:"npm test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json",postversion:"git push && git push --tags",examples:"node ./examples/server.js",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",fix:"eslint --fix lib/**/*.js"},L2={type:"git",url:"https://github.com/axios/axios.git"},F2=["xhr","http","ajax","promise","node"],H2="Matt Zabriskie",U2="MIT",B2={url:"https://github.com/axios/axios/issues"},W2="https://axios-http.com",x2={coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},j2={"./lib/adapters/http.js":"./lib/adapters/xhr.js"},q2="dist/axios.min.js",G2="dist/axios.min.js",z2="./index.d.ts",K2={"follow-redirects":"^1.14.0"},Q2=[{path:"./dist/axios.min.js",threshold:"5kB"}],Y2={name:D2,version:O2,description:N2,main:M2,scripts:V2,repository:L2,keywords:F2,author:H2,license:U2,bugs:B2,homepage:W2,devDependencies:x2,browser:j2,jsdelivr:q2,unpkg:G2,typings:z2,dependencies:K2,bundlesize:Q2};var Xv=Y2,Gh={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){Gh[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});var yp={},X2=Xv.version.split(".");function Jv(t,e){for(var n=e?e.split("."):X2,r=t.split("."),s=0;s<3;s++){if(n[s]>r[s])return!0;if(n[s]<r[s])return!1}return!1}Gh.transitional=function(e,n,r){var s=n&&Jv(n);function i(o,a){return"[Axios v"+Xv.version+"] Transitional option '"+o+"'"+a+(r?". "+r:"")}return function(o,a,l){if(e===!1)throw new Error(i(a," has been removed in "+n));return s&&!yp[a]&&(yp[a]=!0,console.warn(i(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,a,l):!0}};function J2(t,e,n){if(typeof t!="object")throw new TypeError("options must be an object");for(var r=Object.keys(t),s=r.length;s-- >0;){var i=r[s],o=e[i];if(o){var a=t[i],l=a===void 0||o(a,i,t);if(l!==!0)throw new TypeError("option "+i+" must be "+l);continue}if(n!==!0)throw Error("Unknown option "+i)}}var $2={isOlderVersion:Jv,assertOptions:J2,validators:Gh},$v=Jt,Z2=Gv,_p=h2,vp=P2,fl=Yv,Zv=$2,$r=Zv.validators;function mo(t){this.defaults=t,this.interceptors={request:new _p,response:new _p}}mo.prototype.request=function(e){typeof e=="string"?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=fl(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var n=e.transitional;n!==void 0&&Zv.assertOptions(n,{silentJSONParsing:$r.transitional($r.boolean,"1.0.0"),forcedJSONParsing:$r.transitional($r.boolean,"1.0.0"),clarifyTimeoutError:$r.transitional($r.boolean,"1.0.0")},!1);var r=[],s=!0;this.interceptors.request.forEach(function(d){typeof d.runWhen=="function"&&d.runWhen(e)===!1||(s=s&&d.synchronous,r.unshift(d.fulfilled,d.rejected))});var i=[];this.interceptors.response.forEach(function(d){i.push(d.fulfilled,d.rejected)});var o;if(!s){var a=[vp,void 0];for(Array.prototype.unshift.apply(a,r),a=a.concat(i),o=Promise.resolve(e);a.length;)o=o.then(a.shift(),a.shift());return o}for(var l=e;r.length;){var c=r.shift(),u=r.shift();try{l=c(l)}catch(h){u(h);break}}try{o=vp(l)}catch(h){return Promise.reject(h)}for(;i.length;)o=o.then(i.shift(),i.shift());return o};mo.prototype.getUri=function(e){return e=fl(this.defaults,e),Z2(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};$v.forEach(["delete","get","head","options"],function(e){mo.prototype[e]=function(n,r){return this.request(fl(r||{},{method:e,url:n,data:(r||{}).data}))}});$v.forEach(["post","put","patch"],function(e){mo.prototype[e]=function(n,r,s){return this.request(fl(s||{},{method:e,url:n,data:r}))}});var eR=mo,lc,wp;function ew(){if(wp)return lc;wp=1;function t(e){this.message=e}return t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,lc=t,lc}var cc,Ap;function tR(){if(Ap)return cc;Ap=1;var t=ew();function e(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var r;this.promise=new Promise(function(o){r=o});var s=this;n(function(o){s.reason||(s.reason=new t(o),r(s.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.source=function(){var r,s=new e(function(o){r=o});return{token:s,cancel:r}},cc=e,cc}var uc,Sp;function nR(){return Sp||(Sp=1,uc=function(e){return function(r){return e.apply(null,r)}}),uc}var hc,Ep;function rR(){return Ep||(Ep=1,hc=function(e){return typeof e=="object"&&e.isAxiosError===!0}),hc}var bp=Jt,sR=xv,jo=eR,iR=Yv,oR=qh;function tw(t){var e=new jo(t),n=sR(jo.prototype.request,e);return bp.extend(n,jo.prototype,e),bp.extend(n,e),n}var un=tw(oR);un.Axios=jo;un.create=function(e){return tw(iR(un.defaults,e))};un.Cancel=ew();un.CancelToken=tR();un.isCancel=Qv();un.all=function(e){return Promise.all(e)};un.spread=nR();un.isAxiosError=rR();Wh.exports=un;Wh.exports.default=un;var aR=Wh.exports,lR=aR;const nw=Wv(lR);var cR=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var s=42;e[n]=s;for(n in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var i=Object.getOwnPropertySymbols(e);if(i.length!==1||i[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,n);if(o.value!==s||o.enumerable!==!0)return!1}return!0},Tp=typeof Symbol<"u"&&Symbol,uR=cR,hR=function(){return typeof Tp!="function"||typeof Symbol!="function"||typeof Tp("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:uR()},Ip={foo:{}},fR=Object,dR=function(){return{__proto__:Ip}.foo===Ip.foo&&!({__proto__:null}instanceof fR)},pR="Function.prototype.bind called on incompatible ",fc=Array.prototype.slice,mR=Object.prototype.toString,gR="[object Function]",yR=function(e){var n=this;if(typeof n!="function"||mR.call(n)!==gR)throw new TypeError(pR+n);for(var r=fc.call(arguments,1),s,i=function(){if(this instanceof s){var u=n.apply(this,r.concat(fc.call(arguments)));return Object(u)===u?u:this}else return n.apply(e,r.concat(fc.call(arguments)))},o=Math.max(0,n.length-r.length),a=[],l=0;l<o;l++)a.push("$"+l);if(s=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(i),n.prototype){var c=function(){};c.prototype=n.prototype,s.prototype=new c,c.prototype=null}return s},_R=yR,zh=Function.prototype.bind||_R,vR=zh,wR=vR.call(Function.call,Object.prototype.hasOwnProperty),se,Rs=SyntaxError,rw=Function,ys=TypeError,dc=function(t){try{return rw('"use strict"; return ('+t+").constructor;")()}catch{}},br=Object.getOwnPropertyDescriptor;if(br)try{br({},"")}catch{br=null}var pc=function(){throw new ys},AR=br?function(){try{return arguments.callee,pc}catch{try{return br(arguments,"callee").get}catch{return pc}}}():pc,Zr=hR(),SR=dR(),st=Object.getPrototypeOf||(SR?function(t){return t.__proto__}:null),as={},ER=typeof Uint8Array>"u"||!st?se:st(Uint8Array),Tr={"%AggregateError%":typeof AggregateError>"u"?se:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?se:ArrayBuffer,"%ArrayIteratorPrototype%":Zr&&st?st([][Symbol.iterator]()):se,"%AsyncFromSyncIteratorPrototype%":se,"%AsyncFunction%":as,"%AsyncGenerator%":as,"%AsyncGeneratorFunction%":as,"%AsyncIteratorPrototype%":as,"%Atomics%":typeof Atomics>"u"?se:Atomics,"%BigInt%":typeof BigInt>"u"?se:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?se:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?se:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?se:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?se:Float32Array,"%Float64Array%":typeof Float64Array>"u"?se:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?se:FinalizationRegistry,"%Function%":rw,"%GeneratorFunction%":as,"%Int8Array%":typeof Int8Array>"u"?se:Int8Array,"%Int16Array%":typeof Int16Array>"u"?se:Int16Array,"%Int32Array%":typeof Int32Array>"u"?se:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Zr&&st?st(st([][Symbol.iterator]())):se,"%JSON%":typeof JSON=="object"?JSON:se,"%Map%":typeof Map>"u"?se:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Zr||!st?se:st(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?se:Promise,"%Proxy%":typeof Proxy>"u"?se:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?se:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?se:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Zr||!st?se:st(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?se:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Zr&&st?st(""[Symbol.iterator]()):se,"%Symbol%":Zr?Symbol:se,"%SyntaxError%":Rs,"%ThrowTypeError%":AR,"%TypedArray%":ER,"%TypeError%":ys,"%Uint8Array%":typeof Uint8Array>"u"?se:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?se:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?se:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?se:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?se:WeakMap,"%WeakRef%":typeof WeakRef>"u"?se:WeakRef,"%WeakSet%":typeof WeakSet>"u"?se:WeakSet};if(st)try{null.error}catch(t){var bR=st(st(t));Tr["%Error.prototype%"]=bR}var TR=function t(e){var n;if(e==="%AsyncFunction%")n=dc("async function () {}");else if(e==="%GeneratorFunction%")n=dc("function* () {}");else if(e==="%AsyncGeneratorFunction%")n=dc("async function* () {}");else if(e==="%AsyncGenerator%"){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(e==="%AsyncIteratorPrototype%"){var s=t("%AsyncGenerator%");s&&st&&(n=st(s.prototype))}return Tr[e]=n,n},Cp={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},go=zh,Aa=wR,IR=go.call(Function.call,Array.prototype.concat),CR=go.call(Function.apply,Array.prototype.splice),kp=go.call(Function.call,String.prototype.replace),Sa=go.call(Function.call,String.prototype.slice),kR=go.call(Function.call,RegExp.prototype.exec),RR=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,PR=/\\(\\)?/g,DR=function(e){var n=Sa(e,0,1),r=Sa(e,-1);if(n==="%"&&r!=="%")throw new Rs("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&n!=="%")throw new Rs("invalid intrinsic syntax, expected opening `%`");var s=[];return kp(e,RR,function(i,o,a,l){s[s.length]=a?kp(l,PR,"$1"):o||i}),s},OR=function(e,n){var r=e,s;if(Aa(Cp,r)&&(s=Cp[r],r="%"+s[0]+"%"),Aa(Tr,r)){var i=Tr[r];if(i===as&&(i=TR(r)),typeof i>"u"&&!n)throw new ys("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:s,name:r,value:i}}throw new Rs("intrinsic "+e+" does not exist!")},Kh=function(e,n){if(typeof e!="string"||e.length===0)throw new ys("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new ys('"allowMissing" argument must be a boolean');if(kR(/^%?[^%]*%?$/,e)===null)throw new Rs("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=DR(e),s=r.length>0?r[0]:"",i=OR("%"+s+"%",n),o=i.name,a=i.value,l=!1,c=i.alias;c&&(s=c[0],CR(r,IR([0,1],c)));for(var u=1,h=!0;u<r.length;u+=1){var d=r[u],f=Sa(d,0,1),p=Sa(d,-1);if((f==='"'||f==="'"||f==="`"||p==='"'||p==="'"||p==="`")&&f!==p)throw new Rs("property names with quotes must have matching quotes");if((d==="constructor"||!h)&&(l=!0),s+="."+d,o="%"+s+"%",Aa(Tr,o))a=Tr[o];else if(a!=null){if(!(d in a)){if(!n)throw new ys("base intrinsic for "+e+" exists, but the property is not available.");return}if(br&&u+1>=r.length){var _=br(a,d);h=!!_,h&&"get"in _&&!("originalValue"in _.get)?a=_.get:a=a[d]}else h=Aa(a,d),a=a[d];h&&!l&&(Tr[o]=a)}}return a},sw={exports:{}};(function(t){var e=zh,n=Kh,r=n("%Function.prototype.apply%"),s=n("%Function.prototype.call%"),i=n("%Reflect.apply%",!0)||e.call(s,r),o=n("%Object.getOwnPropertyDescriptor%",!0),a=n("%Object.defineProperty%",!0),l=n("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}t.exports=function(h){var d=i(e,s,arguments);if(o&&a){var f=o(d,"length");f.configurable&&a(d,"length",{value:1+l(0,h.length-(arguments.length-1))})}return d};var c=function(){return i(e,r,arguments)};a?a(t.exports,"apply",{value:c}):t.exports.apply=c})(sw);var NR=sw.exports,iw=Kh,ow=NR,MR=ow(iw("String.prototype.indexOf")),VR=function(e,n){var r=iw(e,!!n);return typeof r=="function"&&MR(e,".prototype.")>-1?ow(r):r};const LR={},FR=Object.freeze(Object.defineProperty({__proto__:null,default:LR},Symbol.toStringTag,{value:"Module"})),HR=Kk(FR);var Qh=typeof Map=="function"&&Map.prototype,mc=Object.getOwnPropertyDescriptor&&Qh?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Ea=Qh&&mc&&typeof mc.get=="function"?mc.get:null,Rp=Qh&&Map.prototype.forEach,Yh=typeof Set=="function"&&Set.prototype,gc=Object.getOwnPropertyDescriptor&&Yh?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,ba=Yh&&gc&&typeof gc.get=="function"?gc.get:null,Pp=Yh&&Set.prototype.forEach,UR=typeof WeakMap=="function"&&WeakMap.prototype,_i=UR?WeakMap.prototype.has:null,BR=typeof WeakSet=="function"&&WeakSet.prototype,vi=BR?WeakSet.prototype.has:null,WR=typeof WeakRef=="function"&&WeakRef.prototype,Dp=WR?WeakRef.prototype.deref:null,xR=Boolean.prototype.valueOf,jR=Object.prototype.toString,qR=Function.prototype.toString,GR=String.prototype.match,Xh=String.prototype.slice,Xn=String.prototype.replace,zR=String.prototype.toUpperCase,Op=String.prototype.toLowerCase,aw=RegExp.prototype.test,Np=Array.prototype.concat,mn=Array.prototype.join,KR=Array.prototype.slice,Mp=Math.floor,fu=typeof BigInt=="function"?BigInt.prototype.valueOf:null,yc=Object.getOwnPropertySymbols,du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Ps=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Rt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Ps||"symbol")?Symbol.toStringTag:null,lw=Object.prototype.propertyIsEnumerable,Vp=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function Lp(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||aw.call(/e/,e))return e;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var r=t<0?-Mp(-t):Mp(t);if(r!==t){var s=String(r),i=Xh.call(e,s.length+1);return Xn.call(s,n,"$&_")+"."+Xn.call(Xn.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Xn.call(e,n,"$&_")}var pu=HR,Fp=pu.custom,Hp=uw(Fp)?Fp:null,QR=function t(e,n,r,s){var i=n||{};if(jn(i,"quoteStyle")&&i.quoteStyle!=="single"&&i.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(jn(i,"maxStringLength")&&(typeof i.maxStringLength=="number"?i.maxStringLength<0&&i.maxStringLength!==1/0:i.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=jn(i,"customInspect")?i.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(jn(i,"indent")&&i.indent!==null&&i.indent!=="	"&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(jn(i,"numericSeparator")&&typeof i.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=i.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return fw(e,i);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var l=String(e);return a?Lp(e,l):l}if(typeof e=="bigint"){var c=String(e)+"n";return a?Lp(e,c):c}var u=typeof i.depth>"u"?5:i.depth;if(typeof r>"u"&&(r=0),r>=u&&u>0&&typeof e=="object")return mu(e)?"[Array]":"[Object]";var h=fP(i,r);if(typeof s>"u")s=[];else if(hw(s,e)>=0)return"[Circular]";function d(J,xe,F){if(xe&&(s=KR.call(s),s.push(xe)),F){var pe={depth:i.depth};return jn(i,"quoteStyle")&&(pe.quoteStyle=i.quoteStyle),t(J,pe,r+1,s)}return t(J,i,r+1,s)}if(typeof e=="function"&&!Up(e)){var f=rP(e),p=Po(e,d);return"[Function"+(f?": "+f:" (anonymous)")+"]"+(p.length>0?" { "+mn.call(p,", ")+" }":"")}if(uw(e)){var _=Ps?Xn.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):du.call(e);return typeof e=="object"&&!Ps?ti(_):_}if(cP(e)){for(var y="<"+Op.call(String(e.nodeName)),v=e.attributes||[],A=0;A<v.length;A++)y+=" "+v[A].name+"="+cw(YR(v[A].value),"double",i);return y+=">",e.childNodes&&e.childNodes.length&&(y+="..."),y+="</"+Op.call(String(e.nodeName))+">",y}if(mu(e)){if(e.length===0)return"[]";var E=Po(e,d);return h&&!hP(E)?"["+gu(E,h)+"]":"[ "+mn.call(E,", ")+" ]"}if(JR(e)){var R=Po(e,d);return!("cause"in Error.prototype)&&"cause"in e&&!lw.call(e,"cause")?"{ ["+String(e)+"] "+mn.call(Np.call("[cause]: "+d(e.cause),R),", ")+" }":R.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+mn.call(R,", ")+" }"}if(typeof e=="object"&&o){if(Hp&&typeof e[Hp]=="function"&&pu)return pu(e,{depth:u-r});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(sP(e)){var D=[];return Rp&&Rp.call(e,function(J,xe){D.push(d(xe,e,!0)+" => "+d(J,e))}),Bp("Map",Ea.call(e),D,h)}if(aP(e)){var L=[];return Pp&&Pp.call(e,function(J){L.push(d(J,e))}),Bp("Set",ba.call(e),L,h)}if(iP(e))return _c("WeakMap");if(lP(e))return _c("WeakSet");if(oP(e))return _c("WeakRef");if(ZR(e))return ti(d(Number(e)));if(tP(e))return ti(d(fu.call(e)));if(eP(e))return ti(xR.call(e));if($R(e))return ti(d(String(e)));if(!XR(e)&&!Up(e)){var U=Po(e,d),z=Vp?Vp(e)===Object.prototype:e instanceof Object||e.constructor===Object,N=e instanceof Object?"":"null prototype",M=!z&&Rt&&Object(e)===e&&Rt in e?Xh.call(ur(e),8,-1):N?"Object":"",we=z||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",Q=we+(M||N?"["+mn.call(Np.call([],M||[],N||[]),": ")+"] ":"");return U.length===0?Q+"{}":h?Q+"{"+gu(U,h)+"}":Q+"{ "+mn.call(U,", ")+" }"}return String(e)};function cw(t,e,n){var r=(n.quoteStyle||e)==="double"?'"':"'";return r+t+r}function YR(t){return Xn.call(String(t),/"/g,"&quot;")}function mu(t){return ur(t)==="[object Array]"&&(!Rt||!(typeof t=="object"&&Rt in t))}function XR(t){return ur(t)==="[object Date]"&&(!Rt||!(typeof t=="object"&&Rt in t))}function Up(t){return ur(t)==="[object RegExp]"&&(!Rt||!(typeof t=="object"&&Rt in t))}function JR(t){return ur(t)==="[object Error]"&&(!Rt||!(typeof t=="object"&&Rt in t))}function $R(t){return ur(t)==="[object String]"&&(!Rt||!(typeof t=="object"&&Rt in t))}function ZR(t){return ur(t)==="[object Number]"&&(!Rt||!(typeof t=="object"&&Rt in t))}function eP(t){return ur(t)==="[object Boolean]"&&(!Rt||!(typeof t=="object"&&Rt in t))}function uw(t){if(Ps)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!du)return!1;try{return du.call(t),!0}catch{}return!1}function tP(t){if(!t||typeof t!="object"||!fu)return!1;try{return fu.call(t),!0}catch{}return!1}var nP=Object.prototype.hasOwnProperty||function(t){return t in this};function jn(t,e){return nP.call(t,e)}function ur(t){return jR.call(t)}function rP(t){if(t.name)return t.name;var e=GR.call(qR.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function hw(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function sP(t){if(!Ea||!t||typeof t!="object")return!1;try{Ea.call(t);try{ba.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function iP(t){if(!_i||!t||typeof t!="object")return!1;try{_i.call(t,_i);try{vi.call(t,vi)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function oP(t){if(!Dp||!t||typeof t!="object")return!1;try{return Dp.call(t),!0}catch{}return!1}function aP(t){if(!ba||!t||typeof t!="object")return!1;try{ba.call(t);try{Ea.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function lP(t){if(!vi||!t||typeof t!="object")return!1;try{vi.call(t,vi);try{_i.call(t,_i)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function cP(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function fw(t,e){if(t.length>e.maxStringLength){var n=t.length-e.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return fw(Xh.call(t,0,e.maxStringLength),e)+r}var s=Xn.call(Xn.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,uP);return cw(s,"single",e)}function uP(t){var e=t.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return n?"\\"+n:"\\x"+(e<16?"0":"")+zR.call(e.toString(16))}function ti(t){return"Object("+t+")"}function _c(t){return t+" { ? }"}function Bp(t,e,n,r){var s=r?gu(n,r):mn.call(n,", ");return t+" ("+e+") {"+s+"}"}function hP(t){for(var e=0;e<t.length;e++)if(hw(t[e],`
`)>=0)return!1;return!0}function fP(t,e){var n;if(t.indent==="	")n="	";else if(typeof t.indent=="number"&&t.indent>0)n=mn.call(Array(t.indent+1)," ");else return null;return{base:n,prev:mn.call(Array(e+1),n)}}function gu(t,e){if(t.length===0)return"";var n=`
`+e.prev+e.base;return n+mn.call(t,","+n)+`
`+e.prev}function Po(t,e){var n=mu(t),r=[];if(n){r.length=t.length;for(var s=0;s<t.length;s++)r[s]=jn(t,s)?e(t[s],t):""}var i=typeof yc=="function"?yc(t):[],o;if(Ps){o={};for(var a=0;a<i.length;a++)o["$"+i[a]]=i[a]}for(var l in t)jn(t,l)&&(n&&String(Number(l))===l&&l<t.length||Ps&&o["$"+l]instanceof Symbol||(aw.call(/[^\w$]/,l)?r.push(e(l,t)+": "+e(t[l],t)):r.push(l+": "+e(t[l],t))));if(typeof yc=="function")for(var c=0;c<i.length;c++)lw.call(t,i[c])&&r.push("["+e(i[c])+"]: "+e(t[i[c]],t));return r}var Jh=Kh,Gs=VR,dP=QR,pP=Jh("%TypeError%"),Do=Jh("%WeakMap%",!0),Oo=Jh("%Map%",!0),mP=Gs("WeakMap.prototype.get",!0),gP=Gs("WeakMap.prototype.set",!0),yP=Gs("WeakMap.prototype.has",!0),_P=Gs("Map.prototype.get",!0),vP=Gs("Map.prototype.set",!0),wP=Gs("Map.prototype.has",!0),$h=function(t,e){for(var n=t,r;(r=n.next)!==null;n=r)if(r.key===e)return n.next=r.next,r.next=t.next,t.next=r,r},AP=function(t,e){var n=$h(t,e);return n&&n.value},SP=function(t,e,n){var r=$h(t,e);r?r.value=n:t.next={key:e,next:t.next,value:n}},EP=function(t,e){return!!$h(t,e)},bP=function(){var e,n,r,s={assert:function(i){if(!s.has(i))throw new pP("Side channel does not contain "+dP(i))},get:function(i){if(Do&&i&&(typeof i=="object"||typeof i=="function")){if(e)return mP(e,i)}else if(Oo){if(n)return _P(n,i)}else if(r)return AP(r,i)},has:function(i){if(Do&&i&&(typeof i=="object"||typeof i=="function")){if(e)return yP(e,i)}else if(Oo){if(n)return wP(n,i)}else if(r)return EP(r,i);return!1},set:function(i,o){Do&&i&&(typeof i=="object"||typeof i=="function")?(e||(e=new Do),gP(e,i,o)):Oo?(n||(n=new Oo),vP(n,i,o)):(r||(r={key:{},next:null}),SP(r,i,o))}};return s},TP=String.prototype.replace,IP=/%20/g,vc={RFC1738:"RFC1738",RFC3986:"RFC3986"},Zh={default:vc.RFC3986,formatters:{RFC1738:function(t){return TP.call(t,IP,"+")},RFC3986:function(t){return String(t)}},RFC1738:vc.RFC1738,RFC3986:vc.RFC3986},CP=Zh,wc=Object.prototype.hasOwnProperty,mr=Array.isArray,pn=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),kP=function(e){for(;e.length>1;){var n=e.pop(),r=n.obj[n.prop];if(mr(r)){for(var s=[],i=0;i<r.length;++i)typeof r[i]<"u"&&s.push(r[i]);n.obj[n.prop]=s}}},dw=function(e,n){for(var r=n&&n.plainObjects?Object.create(null):{},s=0;s<e.length;++s)typeof e[s]<"u"&&(r[s]=e[s]);return r},RP=function t(e,n,r){if(!n)return e;if(typeof n!="object"){if(mr(e))e.push(n);else if(e&&typeof e=="object")(r&&(r.plainObjects||r.allowPrototypes)||!wc.call(Object.prototype,n))&&(e[n]=!0);else return[e,n];return e}if(!e||typeof e!="object")return[e].concat(n);var s=e;return mr(e)&&!mr(n)&&(s=dw(e,r)),mr(e)&&mr(n)?(n.forEach(function(i,o){if(wc.call(e,o)){var a=e[o];a&&typeof a=="object"&&i&&typeof i=="object"?e[o]=t(a,i,r):e.push(i)}else e[o]=i}),e):Object.keys(n).reduce(function(i,o){var a=n[o];return wc.call(i,o)?i[o]=t(i[o],a,r):i[o]=a,i},s)},PP=function(e,n){return Object.keys(n).reduce(function(r,s){return r[s]=n[s],r},e)},DP=function(t,e,n){var r=t.replace(/\+/g," ");if(n==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},OP=function(e,n,r,s,i){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),r==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(u){return"%26%23"+parseInt(u.slice(2),16)+"%3B"});for(var a="",l=0;l<o.length;++l){var c=o.charCodeAt(l);if(c===45||c===46||c===95||c===126||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||i===CP.RFC1738&&(c===40||c===41)){a+=o.charAt(l);continue}if(c<128){a=a+pn[c];continue}if(c<2048){a=a+(pn[192|c>>6]+pn[128|c&63]);continue}if(c<55296||c>=57344){a=a+(pn[224|c>>12]+pn[128|c>>6&63]+pn[128|c&63]);continue}l+=1,c=65536+((c&1023)<<10|o.charCodeAt(l)&1023),a+=pn[240|c>>18]+pn[128|c>>12&63]+pn[128|c>>6&63]+pn[128|c&63]}return a},NP=function(e){for(var n=[{obj:{o:e},prop:"o"}],r=[],s=0;s<n.length;++s)for(var i=n[s],o=i.obj[i.prop],a=Object.keys(o),l=0;l<a.length;++l){var c=a[l],u=o[c];typeof u=="object"&&u!==null&&r.indexOf(u)===-1&&(n.push({obj:o,prop:c}),r.push(u))}return kP(n),e},MP=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},VP=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},LP=function(e,n){return[].concat(e,n)},FP=function(e,n){if(mr(e)){for(var r=[],s=0;s<e.length;s+=1)r.push(n(e[s]));return r}return n(e)},pw={arrayToObject:dw,assign:PP,combine:LP,compact:NP,decode:DP,encode:OP,isBuffer:VP,isRegExp:MP,maybeMap:FP,merge:RP},mw=bP,qo=pw,wi=Zh,HP=Object.prototype.hasOwnProperty,Wp={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,n){return e+"["+n+"]"},repeat:function(e){return e}},Rn=Array.isArray,UP=Array.prototype.push,gw=function(t,e){UP.apply(t,Rn(e)?e:[e])},BP=Date.prototype.toISOString,xp=wi.default,St={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:qo.encode,encodeValuesOnly:!1,format:xp,formatter:wi.formatters[xp],indices:!1,serializeDate:function(e){return BP.call(e)},skipNulls:!1,strictNullHandling:!1},WP=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Ac={},xP=function t(e,n,r,s,i,o,a,l,c,u,h,d,f,p,_,y){for(var v=e,A=y,E=0,R=!1;(A=A.get(Ac))!==void 0&&!R;){var D=A.get(e);if(E+=1,typeof D<"u"){if(D===E)throw new RangeError("Cyclic object value");R=!0}typeof A.get(Ac)>"u"&&(E=0)}if(typeof l=="function"?v=l(n,v):v instanceof Date?v=h(v):r==="comma"&&Rn(v)&&(v=qo.maybeMap(v,function(pe){return pe instanceof Date?h(pe):pe})),v===null){if(i)return a&&!p?a(n,St.encoder,_,"key",d):n;v=""}if(WP(v)||qo.isBuffer(v)){if(a){var L=p?n:a(n,St.encoder,_,"key",d);return[f(L)+"="+f(a(v,St.encoder,_,"value",d))]}return[f(n)+"="+f(String(v))]}var U=[];if(typeof v>"u")return U;var z;if(r==="comma"&&Rn(v))p&&a&&(v=qo.maybeMap(v,a)),z=[{value:v.length>0?v.join(",")||null:void 0}];else if(Rn(l))z=l;else{var N=Object.keys(v);z=c?N.sort(c):N}for(var M=s&&Rn(v)&&v.length===1?n+"[]":n,we=0;we<z.length;++we){var Q=z[we],J=typeof Q=="object"&&typeof Q.value<"u"?Q.value:v[Q];if(!(o&&J===null)){var xe=Rn(v)?typeof r=="function"?r(M,Q):M:M+(u?"."+Q:"["+Q+"]");y.set(e,E);var F=mw();F.set(Ac,y),gw(U,t(J,xe,r,s,i,o,r==="comma"&&p&&Rn(v)?null:a,l,c,u,h,d,f,p,_,F))}}return U},jP=function(e){if(!e)return St;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=e.charset||St.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=wi.default;if(typeof e.format<"u"){if(!HP.call(wi.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var s=wi.formatters[r],i=St.filter;return(typeof e.filter=="function"||Rn(e.filter))&&(i=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:St.addQueryPrefix,allowDots:typeof e.allowDots>"u"?St.allowDots:!!e.allowDots,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:St.charsetSentinel,delimiter:typeof e.delimiter>"u"?St.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:St.encode,encoder:typeof e.encoder=="function"?e.encoder:St.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:St.encodeValuesOnly,filter:i,format:r,formatter:s,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:St.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:St.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:St.strictNullHandling}},qP=function(t,e){var n=t,r=jP(e),s,i;typeof r.filter=="function"?(i=r.filter,n=i("",n)):Rn(r.filter)&&(i=r.filter,s=i);var o=[];if(typeof n!="object"||n===null)return"";var a;e&&e.arrayFormat in Wp?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var l=Wp[a];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var c=l==="comma"&&e&&e.commaRoundTrip;s||(s=Object.keys(n)),r.sort&&s.sort(r.sort);for(var u=mw(),h=0;h<s.length;++h){var d=s[h];r.skipNulls&&n[d]===null||gw(o,xP(n[d],d,l,c,r.strictNullHandling,r.skipNulls,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,u))}var f=o.join(r.delimiter),p=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),f.length>0?p+f:""},Ds=pw,yu=Object.prototype.hasOwnProperty,GP=Array.isArray,rt={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Ds.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},zP=function(t){return t.replace(/&#(\d+);/g,function(e,n){return String.fromCharCode(parseInt(n,10))})},yw=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},KP="utf8=%26%2310003%3B",QP="utf8=%E2%9C%93",YP=function(e,n){var r={__proto__:null},s=n.ignoreQueryPrefix?e.replace(/^\?/,""):e,i=n.parameterLimit===1/0?void 0:n.parameterLimit,o=s.split(n.delimiter,i),a=-1,l,c=n.charset;if(n.charsetSentinel)for(l=0;l<o.length;++l)o[l].indexOf("utf8=")===0&&(o[l]===QP?c="utf-8":o[l]===KP&&(c="iso-8859-1"),a=l,l=o.length);for(l=0;l<o.length;++l)if(l!==a){var u=o[l],h=u.indexOf("]="),d=h===-1?u.indexOf("="):h+1,f,p;d===-1?(f=n.decoder(u,rt.decoder,c,"key"),p=n.strictNullHandling?null:""):(f=n.decoder(u.slice(0,d),rt.decoder,c,"key"),p=Ds.maybeMap(yw(u.slice(d+1),n),function(_){return n.decoder(_,rt.decoder,c,"value")})),p&&n.interpretNumericEntities&&c==="iso-8859-1"&&(p=zP(p)),u.indexOf("[]=")>-1&&(p=GP(p)?[p]:p),yu.call(r,f)?r[f]=Ds.combine(r[f],p):r[f]=p}return r},XP=function(t,e,n,r){for(var s=r?e:yw(e,n),i=t.length-1;i>=0;--i){var o,a=t[i];if(a==="[]"&&n.parseArrays)o=[].concat(s);else{o=n.plainObjects?Object.create(null):{};var l=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,c=parseInt(l,10);!n.parseArrays&&l===""?o={0:s}:!isNaN(c)&&a!==l&&String(c)===l&&c>=0&&n.parseArrays&&c<=n.arrayLimit?(o=[],o[c]=s):l!=="__proto__"&&(o[l]=s)}s=o}return s},JP=function(e,n,r,s){if(e){var i=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,l=r.depth>0&&o.exec(i),c=l?i.slice(0,l.index):i,u=[];if(c){if(!r.plainObjects&&yu.call(Object.prototype,c)&&!r.allowPrototypes)return;u.push(c)}for(var h=0;r.depth>0&&(l=a.exec(i))!==null&&h<r.depth;){if(h+=1,!r.plainObjects&&yu.call(Object.prototype,l[1].slice(1,-1))&&!r.allowPrototypes)return;u.push(l[1])}return l&&u.push("["+i.slice(l.index)+"]"),XP(u,n,r,s)}},$P=function(e){if(!e)return rt;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=typeof e.charset>"u"?rt.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?rt.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:rt.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:rt.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:rt.arrayLimit,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:rt.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:rt.comma,decoder:typeof e.decoder=="function"?e.decoder:rt.decoder,delimiter:typeof e.delimiter=="string"||Ds.isRegExp(e.delimiter)?e.delimiter:rt.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:rt.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:rt.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:rt.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:rt.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:rt.strictNullHandling}},ZP=function(t,e){var n=$P(e);if(t===""||t===null||typeof t>"u")return n.plainObjects?Object.create(null):{};for(var r=typeof t=="string"?YP(t,n):t,s=n.plainObjects?Object.create(null):{},i=Object.keys(r),o=0;o<i.length;++o){var a=i[o],l=JP(a,r[a],n,typeof t=="string");s=Ds.merge(s,l,n)}return n.allowSparse===!0?s:Ds.compact(s)},eD=qP,tD=ZP,nD=Zh,rD={formats:nD,parse:tD,stringify:eD};const sD=Wv(rD);function Ta(){return Ta=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ta.apply(this,arguments)}var _w=function(){var e={headers:{}};return xi.apiKey&&(e.headers["X-Api-Key"]=xi.apiKey),e},jp=function(e,n){return nw.get(xi.host+"/"+e+(n&&"?"+sD.stringify(n)),_w()).then(function(r){return r.data})};const es=function(t){return{find:function(n){return nw(xi.host+"/"+t+"/"+n,_w()).then(function(r){return r.data.data})},where:function(n){return jp(t,n)},all:function(n,r){n===void 0&&(n={}),r===void 0&&(r=[]);var s=function i(o,a){var l=a.page?a.page+1:1;return jp(o,Ta({},a,{page:l})).then(function(c){var u;return(u=r).push.apply(u,c.data),!c.totalCount||c.pageSize*c.page>=c.totalCount?r:i(o,Ta({},a,{page:l}))}).catch(function(c){return console.error(c)})};return s(t,n)}}};var iD=function(e){var n=e.apiKey;xi.apiKey=n};const Ia={configure:iD,card:es("cards"),set:es("sets"),type:es("types"),subtype:es("subtypes"),rarity:es("rarities"),supertype:es("supertypes")},ji=[{code:"base*",label:"Base"},{code:"bw*",label:"Black & White"},{code:"dp*",label:"Diamond & Pearl"},{code:"ecard*",label:"E-card"},{code:"ex*",label:"EX"},{code:"gym*",label:"Gym"},{code:"*hgss*",label:"HeartGold & SoulSilver"},{code:"np*",label:"NP"},{code:"neo*",label:"Neo"},{code:"pop*",label:"POP"},{code:"pl*",label:"Platinum"},{code:"sv*",label:"Scarlet & Violet"},{code:"sm*",label:"Sun & Moon"},{code:"swsh*",label:"Sword & Shield"},{code:"xy*",label:"XY"}],qp=()=>window.innerWidth<768,vw=async()=>{Ia.configure({apiKey:"35c2a827-0d26-4c7a-898e-9cab6a3e629a"});const t=ji[Math.floor(Math.random()*ji.length)];let e=Math.floor(Math.random()*1017),n;try{const o=await(await fetch(`https://pokeapi.co/api/v2/pokemon/${e}`)).json();o&&(e=o.name)}catch(i){console.error(i)}const s=(await Ia.card.where({q:`( ${t.code?`set.id:${t.code}`:""} name:"*${e}*" )`,select:"id,name,number,supertype,subtypes,rarity,images,types,set",orderBy:"-set.releaseDate,-number",pageSize:1e3})).data||[];if(s.length===0)return null;{let i=s[Math.floor(Math.random()*s.length)];(i.rarity==="Common"||i.rarity==="Uncommon")&&(i.isReverse=!!Math.round(Math.random())),i.set=i.set.id,n=i}if(n)return n},oD=async()=>{const t=[];for(;t.length<3;){const e=await vw();e&&t.push(e)}return t},aD={apiKey:"AIzaSyA8qt1Ut-HO470UlmCMvyziMaMQthCBg2o",authDomain:"pokedex-e9f84.firebaseapp.com",projectId:"pokedex-e9f84",storageBucket:"pokedex-e9f84.appspot.com",messagingSenderId:"313642448232",appId:"1:313642448232:web:8143800177a8f5fe5d12dd",measurementId:"G-H4YLX3ZFDG"},ww=vg(aD),ef=xb(ww);jk(ww);const lD=async(t,e)=>{const n=gv();return rI(n,t,e).then(r=>({userData:r.user,errorCode:null,errorMessage:null})).catch(r=>{const s=r.code,i=r.message;return{userData:null,errorCode:s,errorMessage:i}})},cD=async(t,e,n)=>{const r=await oD(),s=gv();return nI(s,t,e).then(async i=>{const o=i.user;return await uD({email:o.email,uid:o.uid,nickname:n,photoURL:"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",collection:r,team:[],friends:[],friendRequests:[]}),{userData:o,errorCode:null,errorMessage:null}}).catch(i=>{const o=i.code,a=i.message;return{userData:null,errorCode:o,errorMessage:a}})},or=async t=>{const e=M_(gh(ef,"users"),V_("uid","==",t)),r=(await F_(e)).docs[0];if(r)return r.ref},uD=async t=>{try{const e=await oT(gh(ef,"users"),t)}catch(e){console.error("Error adding document: ",e)}},hn=async t=>{let e;const n=M_(gh(ef,"users"),V_("uid","==",t));return(await F_(n)).forEach(s=>{s.data().uid&&(e=s.data())}),e},Aw=async(t,e)=>{const n=await or(t);n&&await Pr(n,e)},hD=async(t,e)=>{const n=await or(t),r=await or(e);if(!r)return new Error("Friend not found");const s=await hn(e),i=s.friendRequests?[...s.friendRequests,t]:[t];n&&r&&await Pr(r,{friendRequests:i})},fD=async(t,e)=>{const n=await or(t),r=await or(e);if(!r)return new Error("Friend not found");const s=await hn(e),i=await hn(t),o=i.friendRequests?i.friendRequests.filter(c=>c!==e):[],a=i.friends?[...i.friends,e]:[e],l=s.friends?[...s.friends,t]:[t];n&&r&&(await Pr(n,{friendRequests:o,friends:a}),await Pr(r,{friends:l}))},dD=async(t,e)=>{const n=await or(t);if(!n)return new Error("User not found");const r=await hn(t),s=r.friendRequests?r.friendRequests.filter(i=>i!==e):[];n&&await Pr(n,{friendRequests:s})},pD=async(t,e)=>{const n=await or(t),r=await or(e);if(!r)return new Error("Friend not found");const s=await hn(e),i=await hn(t),o=i.friends?i.friends.filter(l=>l!==e):[],a=s.friends?s.friends.filter(l=>l!==t):[];n&&r&&(await Pr(n,{friends:o}),await Pr(r,{friends:a}))};function Gp(t){let e,n;return{c(){e=w("p"),n=re(t[2])},m(r,s){I(r,e,s),g(e,n)},p(r,s){s&4&&Se(n,r[2])},d(r){r&&T(e)}}}function mD(t){let e,n,r,s,i,o,a,l,c,u,h,d,f,p,_=t[2]&&Gp(t);return{c(){e=w("main"),n=w("h1"),n.textContent="Log in",r=k(),s=w("input"),i=k(),o=w("input"),a=k(),l=w("div"),c=w("button"),c.textContent="Login",u=k(),h=w("button"),h.textContent="Sign up",d=k(),_&&_.c(),m(n,"class","svelte-1dkjwsa"),m(s,"type","email"),m(s,"placeholder","Email"),m(s,"class","svelte-1dkjwsa"),m(o,"type","password"),m(o,"placeholder","Password"),m(o,"class","svelte-1dkjwsa"),m(c,"class","svelte-1dkjwsa"),m(h,"class","svelte-1dkjwsa"),m(l,"class","auth-buttons svelte-1dkjwsa"),m(e,"class","svelte-1dkjwsa")},m(y,v){I(y,e,v),g(e,n),g(e,r),g(e,s),Ft(s,t[0]),g(e,i),g(e,o),Ft(o,t[1]),g(e,a),g(e,l),g(l,c),g(l,u),g(l,h),g(e,d),_&&_.m(e,null),f||(p=[X(s,"input",t[5]),X(o,"input",t[6]),X(c,"click",t[7]),X(h,"click",t[8])],f=!0)},p(y,[v]){v&1&&s.value!==y[0]&&Ft(s,y[0]),v&2&&o.value!==y[1]&&Ft(o,y[1]),y[2]?_?_.p(y,v):(_=Gp(y),_.c(),_.m(e,null)):_&&(_.d(1),_=null)},i:S,o:S,d(y){y&&T(e),_&&_.d(),f=!1,gt(p)}}}function gD(t,e,n){let r,s="",i="",o="";async function a(){const d=await lD(s,i),{userData:f,errorMessage:p}=d;if(f){console.log(f,"userData");const{email:_,uid:y}=f,v=JSON.stringify({email:_,uid:y});sessionStorage.setItem("user",v),window.location.href="/showCase"}else n(2,o=p)}function l(){s=this.value,n(0,s)}function c(){i=this.value,n(1,i)}const u=()=>a(),h=()=>window.location.href="/signup";return t.$$.update=()=>{t.$$.dirty&16&&r&&(window.location.href="/showCase")},n(4,r=sessionStorage.getItem("user")),[s,i,o,a,r,l,c,u,h]}class yD extends ye{constructor(e){super(),ge(this,e,gD,mD,ue,{})}}function zp(t){let e,n;return{c(){e=w("p"),n=re(t[2])},m(r,s){I(r,e,s),g(e,n)},p(r,s){s&4&&Se(n,r[2])},d(r){r&&T(e)}}}function _D(t){let e,n,r,s,i,o,a,l,c,u,h,d,f,p,_,y,v=t[2]&&zp(t);return{c(){e=w("main"),n=w("h1"),n.textContent="Sign Up",r=k(),s=w("input"),i=k(),o=w("input"),a=k(),l=w("input"),c=k(),u=w("div"),h=w("button"),h.textContent="Back",d=k(),f=w("button"),f.textContent="Confirm",p=k(),v&&v.c(),m(n,"class","svelte-k4ei78"),m(s,"type","email"),m(s,"placeholder","Email"),m(s,"class","svelte-k4ei78"),m(o,"type","text"),m(o,"placeholder","Nickname"),m(o,"class","svelte-k4ei78"),m(l,"type","password"),m(l,"placeholder","Password"),m(l,"class","svelte-k4ei78"),m(h,"class","svelte-k4ei78"),m(f,"class","svelte-k4ei78"),m(u,"class","signup-buttons svelte-k4ei78"),m(e,"class","svelte-k4ei78")},m(A,E){I(A,e,E),g(e,n),g(e,r),g(e,s),Ft(s,t[0]),g(e,i),g(e,o),Ft(o,t[3]),g(e,a),g(e,l),Ft(l,t[1]),g(e,c),g(e,u),g(u,h),g(u,d),g(u,f),g(u,p),v&&v.m(u,null),_||(y=[X(s,"input",t[5]),X(o,"input",t[6]),X(l,"input",t[7]),X(h,"click",t[8]),X(f,"click",t[9])],_=!0)},p(A,[E]){E&1&&s.value!==A[0]&&Ft(s,A[0]),E&8&&o.value!==A[3]&&Ft(o,A[3]),E&2&&l.value!==A[1]&&Ft(l,A[1]),A[2]?v?v.p(A,E):(v=zp(A),v.c(),v.m(u,null)):v&&(v.d(1),v=null)},i:S,o:S,d(A){A&&T(e),v&&v.d(),_=!1,gt(y)}}}function vD(t,e,n){let r="",s="",i="",o="";async function a(){const f=await cD(r,s,o),{userData:p,errorMessage:_}=f;p?window.location.href="/":n(2,i=_)}function l(){r=this.value,n(0,r)}function c(){o=this.value,n(3,o)}function u(){s=this.value,n(1,s)}return[r,s,i,o,a,l,c,u,()=>window.location.href="/",()=>a()]}class wD extends ye{constructor(e){super(),ge(this,e,vD,_D,ue,{})}}const ui=gr(void 0);function AD(t){let e,n;const r=t[4].default,s=Ns(r,t,t[3],null);return{c(){e=w("div"),s&&s.c(),m(e,"class","card-grid svelte-1m1wpwv"),Ke(e,"active",t[1])},m(i,o){I(i,e,o),s&&s.m(e,null),t[5](e),n=!0},p(i,[o]){s&&s.p&&(!n||o&8)&&Vs(s,r,i,i[3],n?Ms(r,i[3],o,null):Ls(i[3]),null),(!n||o&2)&&Ke(e,"active",i[1])},i(i){n||(b(s,i),n=!0)},o(i){C(s,i),n=!1},d(i){i&&T(e),s&&s.d(i),t[5](null)}}}function SD(t,e,n){let r,s;Lt(t,ui,c=>n(2,s=c));let{$$slots:i={},$$scope:o}=e,a;function l(c){Ie[c?"unshift":"push"](()=>{a=c,n(0,a)})}return t.$$set=c=>{"$$scope"in c&&n(3,o=c.$$scope)},t.$$.update=()=>{t.$$.dirty&5&&n(1,r=a&&a.contains(s))},[a,r,s,o,i,l]}class dl extends ye{constructor(e){super(),ge(this,e,SD,AD,ue,{})}}const Kp={bug:"/assets/images/types/bug.png",dark:"/assets/images/types/dark.png",dragon:"/assets/images/types/dragon.png",electric:"/assets/images/types/electric.png",fairy:"/assets/images/types/fairy.png",fighting:"/assets/images/types/fighting.png",fire:"/assets/images/types/fire.png",flying:"/assets/images/types/flying.png",ghost:"/assets/images/types/ghost.png",grass:"/assets/images/types/grass.png",ground:"/assets/images/types/ground.png",ice:"/assets/images/types/ice.png",normal:"/assets/images/types/normal.png",poison:"/assets/images/types/poison.png",psychic:"/assets/images/types/psychic.png",rock:"/assets/images/types/rock.png",steel:"/assets/images/types/steel.png",water:"/assets/images/types/water.png"};function Qp(t,e,n){const r=t.slice();return r[11]=e[n],r[13]=n,r}function ED(t){return{c:S,m:S,p:S,d:S}}function bD(t){let e,n=t[14]&&Yp(t);return{c(){n&&n.c(),e=me()},m(r,s){n&&n.m(r,s),I(r,e,s)},p(r,s){r[14]?n?n.p(r,s):(n=Yp(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(r){r&&T(e),n&&n.d(r)}}}function Yp(t){let e,n,r,s,i,o,a=t[14].name+"",l,c,u;function h(...d){return t[6](t[14],...d)}return{c(){e=w("div"),n=w("img"),i=k(),o=w("p"),l=re(a),ce(n.src,r=t[14].image)||m(n,"src",r),m(n,"alt",s=t[14].name),m(o,"class","svelte-97xrlx"),m(e,"class","evolution1 svelte-97xrlx")},m(d,f){I(d,e,f),g(e,n),g(e,i),g(e,o),g(o,l),c||(u=X(e,"click",h),c=!0)},p(d,f){t=d,f&2&&!ce(n.src,r=t[14].image)&&m(n,"src",r),f&2&&s!==(s=t[14].name)&&m(n,"alt",s),f&2&&a!==(a=t[14].name+"")&&Se(l,a)},d(d){d&&T(e),c=!1,u()}}}function TD(t){return{c:S,m:S,p:S,d:S}}function ID(t){return{c:S,m:S,p:S,d:S}}function CD(t){let e,n=t[10]&&Xp(t);return{c(){n&&n.c(),e=me()},m(r,s){n&&n.m(r,s),I(r,e,s)},p(r,s){r[10]?n?n.p(r,s):(n=Xp(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(r){r&&T(e),n&&n.d(r)}}}function Xp(t){let e,n,r,s,i=ve(t[10]),o=[];for(let a=0;a<i.length;a+=1)o[a]=Jp(Qp(t,i,a));return{c(){e=Pn("svg"),n=Pn("line"),r=k(),s=w("div");for(let a=0;a<o.length;a+=1)o[a].c();m(n,"x1","0"),m(n,"y1","70"),m(n,"x2","350"),m(n,"y2","70"),m(n,"stroke","white"),m(e,"class","svelte-97xrlx"),m(s,"class","evolution2 svelte-97xrlx")},m(a,l){I(a,e,l),g(e,n),I(a,r,l),I(a,s,l);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(s,null)},p(a,l){if(l&5){i=ve(a[10]);let c;for(c=0;c<i.length;c+=1){const u=Qp(a,i,c);o[c]?o[c].p(u,l):(o[c]=Jp(u),o[c].c(),o[c].m(s,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=i.length}},d(a){a&&(T(e),T(r),T(s)),Yt(o,a)}}}function Jp(t){let e,n,r,s,i,o,a=t[11].name+"",l,c,u,h;function d(...f){return t[7](t[11],...f)}return{c(){e=w("div"),n=w("img"),i=k(),o=w("p"),l=re(a),c=k(),ce(n.src,r=t[11].image)||m(n,"src",r),m(n,"alt",s=t[11].name),m(o,"class","svelte-97xrlx"),m(e,"class","evolution2-iteration-"+t[13]+" evolution2-item svelte-97xrlx")},m(f,p){I(f,e,p),g(e,n),g(e,i),g(e,o),g(o,l),g(e,c),u||(h=X(e,"click",d),u=!0)},p(f,p){t=f,p&4&&!ce(n.src,r=t[11].image)&&m(n,"src",r),p&4&&s!==(s=t[11].name)&&m(n,"alt",s),p&4&&a!==(a=t[11].name+"")&&Se(l,a)},d(f){f&&T(e),u=!1,h()}}}function kD(t){return{c:S,m:S,p:S,d:S}}function RD(t){return{c:S,m:S,p:S,d:S}}function PD(t){let e,n=t[9]&&$p(t);return{c(){n&&n.c(),e=me()},m(r,s){n&&n.m(r,s),I(r,e,s)},p(r,s){r[9]?n?n.p(r,s):(n=$p(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(r){r&&T(e),n&&n.d(r)}}}function $p(t){let e,n,r,s,i,o,a,l,c,u=t[9].name+"",h,d,f;function p(..._){return t[8](t[9],..._)}return{c(){e=Pn("svg"),n=Pn("line"),r=k(),s=w("div"),i=w("img"),l=k(),c=w("p"),h=re(u),m(n,"x1","0"),m(n,"y1","70"),m(n,"x2","350"),m(n,"y2","70"),m(n,"stroke","white"),m(e,"class","svelte-97xrlx"),ce(i.src,o=t[9].image)||m(i,"src",o),m(i,"alt",a=t[9].name),m(c,"class","svelte-97xrlx"),m(s,"class","evolution3 svelte-97xrlx")},m(_,y){I(_,e,y),g(e,n),I(_,r,y),I(_,s,y),g(s,i),g(s,l),g(s,c),g(c,h),d||(f=X(s,"click",p),d=!0)},p(_,y){t=_,y&8&&!ce(i.src,o=t[9].image)&&m(i,"src",o),y&8&&a!==(a=t[9].name)&&m(i,"alt",a),y&8&&u!==(u=t[9].name+"")&&Se(h,u)},d(_){_&&(T(e),T(r),T(s)),d=!1,f()}}}function DD(t){return{c:S,m:S,p:S,d:S}}function OD(t){let e,n,r,s,i,o,a,l,c,u={ctx:t,current:null,token:null,hasCatch:!1,pending:TD,then:bD,catch:ED,value:14};Ht(i=t[1],u);let h={ctx:t,current:null,token:null,hasCatch:!1,pending:kD,then:CD,catch:ID,value:10};Ht(a=t[2],h);let d={ctx:t,current:null,token:null,hasCatch:!1,pending:DD,then:PD,catch:RD,value:9};return Ht(c=t[3],d),{c(){e=w("div"),n=w("h3"),n.textContent="Evolution chain",r=k(),s=w("div"),u.block.c(),o=k(),h.block.c(),l=k(),d.block.c(),m(n,"class","svelte-97xrlx"),m(s,"class","evolutions svelte-97xrlx"),m(e,"class","evolution-chain svelte-97xrlx")},m(f,p){I(f,e,p),g(e,n),g(e,r),g(e,s),u.block.m(s,u.anchor=null),u.mount=()=>s,u.anchor=o,g(s,o),h.block.m(s,h.anchor=null),h.mount=()=>s,h.anchor=l,g(s,l),d.block.m(s,d.anchor=null),d.mount=()=>s,d.anchor=null},p(f,[p]){t=f,u.ctx=t,p&2&&i!==(i=t[1])&&Ht(i,u)||Ar(u,t,p),h.ctx=t,p&4&&a!==(a=t[2])&&Ht(a,h)||Ar(h,t,p),d.ctx=t,p&8&&c!==(c=t[3])&&Ht(c,d)||Ar(d,t,p)},i:S,o:S,d(f){f&&T(e),u.block.d(),u.token=null,u=null,h.block.d(),h.token=null,h=null,d.block.d(),d.token=null,d=null}}}function ND(t,e,n){let{evolutionChainData:r}=e,{triggerSearch:s}=e,i=r,o=null,a=null,l=null;const c=(d,f)=>{s(f,d.name)},u=(d,f)=>{s(f,d.name)},h=(d,f)=>{s(f,d.name)};return t.$$set=d=>{"evolutionChainData"in d&&n(4,r=d.evolutionChainData),"triggerSearch"in d&&n(0,s=d.triggerSearch)},t.$$.update=()=>{var d,f;if(t.$$.dirty&48&&r){if(i!==r&&(n(5,i=r),n(1,o=null),n(2,a=null),n(3,l=null)),n(1,o=fetch(r.chain.species.url).then(p=>p.json()).then(p=>{const{id:_,name:y}=p;return{id:_,name:y,image:`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${_}.png`}}).catch(p=>console.log(p))),r.chain.evolves_to.length>0){const p=[];r.chain.evolves_to.forEach(async _=>{n(2,a=await fetch(_.species.url).then(y=>y.json()).then(y=>{const{id:v,name:A}=y;if(p.push({id:v,name:A,image:`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${v}.png`}),p.length===r.chain.evolves_to.length)return p}).catch(y=>console.log(y)))})}n(3,l=fetch((f=(d=r.chain.evolves_to[0])==null?void 0:d.evolves_to[0])==null?void 0:f.species.url).then(p=>p.json()).then(p=>{const{id:_,name:y}=p;return{id:_,name:y,image:`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${_}.png`}}).catch(p=>console.log(p)))}},[s,o,a,l,r,i,c,u,h]}class MD extends ye{constructor(e){super(),ge(this,e,ND,OD,ue,{evolutionChainData:4,triggerSearch:0})}}function VD(t){let e,n=[{width:t[1]},{height:t[1]},{"stroke-width":"0"},{class:t[2]},t[0].a,t[4],{xmlns:"http://www.w3.org/2000/svg"}],r={};for(let s=0;s<n.length;s+=1)r=vs(r,n[s]);return{c(){e=Pn("svg"),hf(e,r)},m(s,i){I(s,e,i),e.innerHTML=t[3]},p(s,[i]){i&8&&(e.innerHTML=s[3]),hf(e,r=Yo(n,[i&2&&{width:s[1]},i&2&&{height:s[1]},{"stroke-width":"0"},i&4&&{class:s[2]},i&1&&s[0].a,i&16&&s[4],{xmlns:"http://www.w3.org/2000/svg"}]))},i:S,o:S,d(s){s&&T(e)}}}function LD(t,e,n){let{src:r}=e,{size:s="1em"}=e,{color:i=void 0}=e,{title:o=void 0}=e,{className:a=""}=e,l,c;return t.$$set=u=>{"src"in u&&n(0,r=u.src),"size"in u&&n(1,s=u.size),"color"in u&&n(5,i=u.color),"title"in u&&n(6,o=u.title),"className"in u&&n(2,a=u.className)},t.$$.update=()=>{t.$$.dirty&33&&(n(4,c={}),i&&(r.a.stroke!=="none"&&n(4,c.stroke=i,c),r.a.fill!=="none"&&n(4,c.fill=i,c))),t.$$.dirty&65&&n(3,l=(o?`<title>${o}</title>`:"")+r.c)},[r,s,a,l,c,i,o]}class Os extends ye{constructor(e){super(),ge(this,e,LD,VD,ue,{src:0,size:1,color:5,title:6,className:2})}}const FD={a:{viewBox:"0 0 512 512"},c:'<path d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"></path>'};function HD(t){let e,n;const r=t[2].default,s=Ns(r,t,t[1],null);return{c(){e=w("dialog"),s&&s.c(),m(e,"class","dialog-content svelte-1fx7vnu")},m(i,o){I(i,e,o),s&&s.m(e,null),t[3](e),n=!0},p(i,[o]){s&&s.p&&(!n||o&2)&&Vs(s,r,i,i[1],n?Ms(r,i[1],o,null):Ls(i[1]),null)},i(i){n||(b(s,i),n=!0)},o(i){C(s,i),n=!1},d(i){i&&T(e),s&&s.d(i),t[3](null)}}}function UD(t,e,n){let{$$slots:r={},$$scope:s}=e,{dialog:i}=e;function o(a){Ie[a?"unshift":"push"](()=>{i=a,n(0,i)})}return t.$$set=a=>{"dialog"in a&&n(0,i=a.dialog),"$$scope"in a&&n(1,s=a.$$scope)},[i,s,r,o]}class BD extends ye{constructor(e){super(),ge(this,e,UD,HD,ue,{dialog:0})}}function Zp(t,e,n){const r=t.slice();return r[15]=e[n],r}function em(t,e,n){const r=t.slice();return r[19]=e[n],r}function tm(t,e,n){const r=t.slice();return r[22]=e[n],r}function WD(t){let e;return{c(){e=w("span"),m(e,"class","loader svelte-qhednx")},m(n,r){I(n,e,r)},p:S,i:S,o:S,d(n){n&&T(e)}}}function xD(t){let e,n;return{c(){e=w("div"),n=re(t[2])},m(r,s){I(r,e,s),g(e,n)},p(r,s){s&4&&Se(n,r[2])},i:S,o:S,d(r){r&&T(e)}}}function jD(t){let e,n,r=t[1].name.toUpperCase()+"",s,i,o=t[1].id+"",a,l,c,u,h,d,f,p,_,y,v,A,E,R,D,L,U,z,N,M,we,Q,J,xe,F,pe,Ce,be,$t,Be,yt,Me,Wt,ke,Te,Re,Pt,ct,rn,et,Zt,Vt,xt,jt,In=t[1].weight/10+"",Fe,_t,hr,vt,en,fr,Ge,tt=t[1].height*10+"",Dt,Bn,dr,Ve,Cn,qt,V,je=t[1].base_experience+"",oe,Le,Y,qe,qr,kn,nf,gl,Gr,yo,rf,Ys,$e;function bw(G){t[10](G)}let sf={triggerSearch:t[4]};t[0]!==void 0&&(sf.evolutionChainData=t[0]),Ce=new MD({props:sf}),Ie.push(()=>Je(Ce,"evolutionChainData",bw));function of(G,Ae){return G[1].description?GD:qD}let _o=of(t),dn=_o(t),zr=ve(t[1].stats),Ot=[];for(let G=0;G<zr.length;G+=1)Ot[G]=nm(tm(t,zr,G));let nt=t[1].abilities.length&&rm(t),Kr=ve(t[1].types),Nt=[];for(let G=0;G<Kr.length;G+=1)Nt[G]=om(Zp(t,Kr,G));return{c(){e=w("div"),n=w("h3"),s=re(r),i=re(" #"),a=re(o),l=k(),c=w("div"),u=w("div"),h=w("div"),d=w("img"),_=k(),y=w("img"),E=k(),R=w("img"),U=k(),z=w("img"),we=k(),Q=w("div"),J=w("img"),pe=k(),x(Ce.$$.fragment),$t=k(),Be=w("div"),yt=w("div"),Me=w("div"),Wt=w("div"),Wt.innerHTML='<strong class="svelte-qhednx">Description</strong>',ke=k(),Te=w("div"),dn.c(),Re=k(),Pt=w("div"),ct=w("div"),ct.innerHTML='<strong class="svelte-qhednx">General info</strong>',rn=k(),et=w("div"),Zt=w("div"),Vt=w("strong"),Vt.textContent="Weight:",xt=k(),jt=w("p"),Fe=re(In),_t=re(" kgs"),hr=k(),vt=w("div"),en=w("strong"),en.textContent="Height:",fr=k(),Ge=w("p"),Dt=re(tt),Bn=re(" cms"),dr=k(),Ve=w("div"),Cn=w("strong"),Cn.textContent="Base experience:",qt=k(),V=w("p"),oe=re(je),Le=k(),Y=w("div"),qe=w("div"),qe.innerHTML='<strong class="svelte-qhednx">Stats</strong>',qr=k(),kn=w("div");for(let G=0;G<Ot.length;G+=1)Ot[G].c();nf=k(),nt&&nt.c(),gl=k(),Gr=w("div"),yo=w("div"),yo.innerHTML='<strong class="svelte-qhednx">Types</strong>',rf=k(),Ys=w("div");for(let G=0;G<Nt.length;G+=1)Nt[G].c();m(e,"class","pokedex-number svelte-qhednx"),ce(d.src,f=t[1].sprites.front_default)||m(d,"src",f),m(d,"alt",p=t[1].name),ce(y.src,v=t[1].sprites.back_default)||m(y,"src",v),m(y,"alt",A=t[1].name),ce(R.src,D=t[1].sprites.front_shiny)||m(R,"src",D),m(R,"alt",L=t[1].name),ce(z.src,N=t[1].sprites.back_shiny)||m(z,"src",N),m(z,"alt",M=t[1].name),m(h,"class","sprites-images svelte-qhednx"),ce(J.src,xe=t[1].sprites.other["official-artwork"].front_default)||m(J,"src",xe),m(J,"alt",F=t[1].name),m(Q,"class","main-image svelte-qhednx"),m(u,"class","pokemonData-images svelte-qhednx"),m(Wt,"class","description-header"),m(Te,"class","description-body"),m(Me,"class","pokemonData-description svelte-qhednx"),m(ct,"class","info-header"),m(Vt,"class","svelte-qhednx"),m(jt,"class","svelte-qhednx"),m(Zt,"class","info-weight"),m(en,"class","svelte-qhednx"),m(Ge,"class","svelte-qhednx"),m(vt,"class","info-height"),m(Cn,"class","svelte-qhednx"),m(V,"class","svelte-qhednx"),m(Ve,"class","info-base-experience"),m(et,"class","info-body"),m(Pt,"class","main-info svelte-qhednx"),m(yt,"class","top-info svelte-qhednx"),m(qe,"class","stats-header"),m(kn,"class","stats-body"),m(Y,"class","pokemonData-stats svelte-qhednx"),m(yo,"class","types-header"),m(Ys,"class","types-body"),m(Gr,"class","pokemonData-types svelte-qhednx"),m(Be,"class","pokemonData-info svelte-qhednx"),m(c,"class","pokemonData-content svelte-qhednx")},m(G,Ae){I(G,e,Ae),g(e,n),g(n,s),g(n,i),g(n,a),I(G,l,Ae),I(G,c,Ae),g(c,u),g(u,h),g(h,d),g(h,_),g(h,y),g(h,E),g(h,R),g(h,U),g(h,z),g(u,we),g(u,Q),g(Q,J),g(u,pe),B(Ce,u,null),g(c,$t),g(c,Be),g(Be,yt),g(yt,Me),g(Me,Wt),g(Me,ke),g(Me,Te),dn.m(Te,null),g(yt,Re),g(yt,Pt),g(Pt,ct),g(Pt,rn),g(Pt,et),g(et,Zt),g(Zt,Vt),g(Zt,xt),g(Zt,jt),g(jt,Fe),g(jt,_t),g(et,hr),g(et,vt),g(vt,en),g(vt,fr),g(vt,Ge),g(Ge,Dt),g(Ge,Bn),g(et,dr),g(et,Ve),g(Ve,Cn),g(Ve,qt),g(Ve,V),g(V,oe),g(Be,Le),g(Be,Y),g(Y,qe),g(Y,qr),g(Y,kn);for(let Gt=0;Gt<Ot.length;Gt+=1)Ot[Gt]&&Ot[Gt].m(kn,null);g(Be,nf),nt&&nt.m(Be,null),g(Be,gl),g(Be,Gr),g(Gr,yo),g(Gr,rf),g(Gr,Ys);for(let Gt=0;Gt<Nt.length;Gt+=1)Nt[Gt]&&Nt[Gt].m(Ys,null);$e=!0},p(G,Ae){(!$e||Ae&2)&&r!==(r=G[1].name.toUpperCase()+"")&&Se(s,r),(!$e||Ae&2)&&o!==(o=G[1].id+"")&&Se(a,o),(!$e||Ae&2&&!ce(d.src,f=G[1].sprites.front_default))&&m(d,"src",f),(!$e||Ae&2&&p!==(p=G[1].name))&&m(d,"alt",p),(!$e||Ae&2&&!ce(y.src,v=G[1].sprites.back_default))&&m(y,"src",v),(!$e||Ae&2&&A!==(A=G[1].name))&&m(y,"alt",A),(!$e||Ae&2&&!ce(R.src,D=G[1].sprites.front_shiny))&&m(R,"src",D),(!$e||Ae&2&&L!==(L=G[1].name))&&m(R,"alt",L),(!$e||Ae&2&&!ce(z.src,N=G[1].sprites.back_shiny))&&m(z,"src",N),(!$e||Ae&2&&M!==(M=G[1].name))&&m(z,"alt",M),(!$e||Ae&2&&!ce(J.src,xe=G[1].sprites.other["official-artwork"].front_default))&&m(J,"src",xe),(!$e||Ae&2&&F!==(F=G[1].name))&&m(J,"alt",F);const Gt={};if(Ae&16&&(Gt.triggerSearch=G[4]),!be&&Ae&1&&(be=!0,Gt.evolutionChainData=G[0],Xe(()=>be=!1)),Ce.$set(Gt),_o===(_o=of(G))&&dn?dn.p(G,Ae):(dn.d(1),dn=_o(G),dn&&(dn.c(),dn.m(Te,null))),(!$e||Ae&2)&&In!==(In=G[1].weight/10+"")&&Se(Fe,In),(!$e||Ae&2)&&tt!==(tt=G[1].height*10+"")&&Se(Dt,tt),(!$e||Ae&2)&&je!==(je=G[1].base_experience+"")&&Se(oe,je),Ae&2){zr=ve(G[1].stats);let Pe;for(Pe=0;Pe<zr.length;Pe+=1){const Xs=tm(G,zr,Pe);Ot[Pe]?Ot[Pe].p(Xs,Ae):(Ot[Pe]=nm(Xs),Ot[Pe].c(),Ot[Pe].m(kn,null))}for(;Pe<Ot.length;Pe+=1)Ot[Pe].d(1);Ot.length=zr.length}if(G[1].abilities.length?nt?(nt.p(G,Ae),Ae&2&&b(nt,1)):(nt=rm(G),nt.c(),b(nt,1),nt.m(Be,gl)):nt&&(fe(),C(nt,1,1,()=>{nt=null}),de()),Ae&2){Kr=ve(G[1].types);let Pe;for(Pe=0;Pe<Kr.length;Pe+=1){const Xs=Zp(G,Kr,Pe);Nt[Pe]?Nt[Pe].p(Xs,Ae):(Nt[Pe]=om(Xs),Nt[Pe].c(),Nt[Pe].m(Ys,null))}for(;Pe<Nt.length;Pe+=1)Nt[Pe].d(1);Nt.length=Kr.length}},i(G){$e||(b(Ce.$$.fragment,G),b(nt),$e=!0)},o(G){C(Ce.$$.fragment,G),C(nt),$e=!1},d(G){G&&(T(e),T(l),T(c)),W(Ce),dn.d(),Yt(Ot,G),nt&&nt.d(),Yt(Nt,G)}}}function qD(t){let e;return{c(){e=w("p"),e.textContent="No description available",m(e,"class","svelte-qhednx")},m(n,r){I(n,e,r)},p:S,d(n){n&&T(e)}}}function GD(t){let e,n=t[1].description+"",r;return{c(){e=w("p"),r=re(n),m(e,"class","svelte-qhednx")},m(s,i){I(s,e,i),g(e,r)},p(s,i){i&2&&n!==(n=s[1].description+"")&&Se(r,n)},d(s){s&&T(e)}}}function nm(t){let e,n,r=t[22].stat.name.toUpperCase()+"",s,i,o,a,l=t[22].base_stat+"",c,u;return{c(){e=w("div"),n=w("strong"),s=re(r),i=re(":"),o=k(),a=w("p"),c=re(l),u=k(),m(n,"class","svelte-qhednx"),m(a,"class","svelte-qhednx"),m(e,"class","stats-item")},m(h,d){I(h,e,d),g(e,n),g(n,s),g(n,i),g(e,o),g(e,a),g(a,c),g(e,u)},p(h,d){d&2&&r!==(r=h[22].stat.name.toUpperCase()+"")&&Se(s,r),d&2&&l!==(l=h[22].base_stat+"")&&Se(c,l)},d(h){h&&T(e)}}}function rm(t){let e,n,r,s={ctx:t,current:null,token:null,hasCatch:!1,pending:QD,then:KD,catch:zD,value:18,blocks:[,,,]};return Ht(n=t[9](t[1].abilities),s),{c(){e=me(),s.block.c()},m(i,o){I(i,e,o),s.block.m(i,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,r=!0},p(i,o){t=i,s.ctx=t,o&2&&n!==(n=t[9](t[1].abilities))&&Ht(n,s)||Ar(s,t,o)},i(i){r||(b(s.block),r=!0)},o(i){for(let o=0;o<3;o+=1){const a=s.blocks[o];C(a)}r=!1},d(i){i&&T(e),s.block.d(i),s.token=null,s=null}}}function zD(t){return{c:S,m:S,p:S,i:S,o:S,d:S}}function KD(t){let e,n,r,s,i=[],o=new Map,a,l=ve(t[18]);const c=u=>u[19].ability.name;for(let u=0;u<l.length;u+=1){let h=em(t,l,u),d=c(h);o.set(d,i[u]=im(d,h))}return{c(){e=w("div"),n=w("div"),n.innerHTML='<strong class="svelte-qhednx">Abilities</strong>',r=k(),s=w("div");for(let u=0;u<i.length;u+=1)i[u].c();m(n,"class","abilities-header"),m(s,"class","abilities-body"),m(e,"class","pokemonData-abilities svelte-qhednx")},m(u,h){I(u,e,h),g(e,n),g(e,r),g(e,s);for(let d=0;d<i.length;d+=1)i[d]&&i[d].m(s,null);a=!0},p(u,h){h&770&&(l=ve(u[18]),fe(),i=bu(i,h,c,1,u,l,o,s,Eu,im,null,em),de())},i(u){if(!a){for(let h=0;h<l.length;h+=1)b(i[h]);a=!0}},o(u){for(let h=0;h<i.length;h+=1)C(i[h]);a=!1},d(u){u&&T(e);for(let h=0;h<i.length;h+=1)i[h].d()}}}function sm(t){let e,n,r,s,i;n=new Os({props:{src:FD}});function o(){return t[11](t[19])}return{c(){e=w("div"),x(n.$$.fragment),m(e,"class","dialog-info svelte-qhednx")},m(a,l){I(a,e,l),B(n,e,null),r=!0,s||(i=X(e,"click",o),s=!0)},p(a,l){t=a},i(a){r||(b(n.$$.fragment,a),r=!0)},o(a){C(n.$$.fragment,a),r=!1},d(a){a&&T(e),W(n),s=!1,i()}}}function im(t,e){let n,r,s=e[19].ability.name.charAt(0).toUpperCase()+e[19].ability.name.slice(1)+"",i,o,a=e[19].is_hidden?"*":"",l,c,u,h,d=e[19].description&&sm(e);return{key:t,first:null,c(){n=w("div"),r=w("strong"),i=re(s),o=k(),l=re(a),c=k(),d&&d.c(),u=k(),m(r,"class","svelte-qhednx"),m(n,"class","ability-item svelte-qhednx"),this.first=n},m(f,p){I(f,n,p),g(n,r),g(r,i),g(n,o),g(n,l),g(n,c),d&&d.m(n,null),g(n,u),h=!0},p(f,p){e=f,(!h||p&2)&&s!==(s=e[19].ability.name.charAt(0).toUpperCase()+e[19].ability.name.slice(1)+"")&&Se(i,s),(!h||p&2)&&a!==(a=e[19].is_hidden?"*":"")&&Se(l,a),e[19].description?d?(d.p(e,p),p&2&&b(d,1)):(d=sm(e),d.c(),b(d,1),d.m(n,u)):d&&(fe(),C(d,1,1,()=>{d=null}),de())},i(f){h||(b(d),h=!0)},o(f){C(d),h=!1},d(f){f&&T(n),d&&d.d()}}}function QD(t){return{c:S,m:S,p:S,i:S,o:S,d:S}}function om(t){let e,n,r,s,i,o,a=t[15].type.name.toUpperCase()+"",l,c;return{c(){e=w("div"),n=w("img"),i=k(),o=w("strong"),l=re(a),c=k(),ce(n.src,r=`${Kp[t[15].type.name]}`)||m(n,"src",r),m(n,"alt",s=t[15].type.name),m(o,"class","svelte-qhednx"),m(e,"class","type")},m(u,h){I(u,e,h),g(e,n),g(e,i),g(e,o),g(o,l),g(o,c)},p(u,h){h&2&&!ce(n.src,r=`${Kp[u[15].type.name]}`)&&m(n,"src",r),h&2&&s!==(s=u[15].type.name)&&m(n,"alt",s),h&2&&a!==(a=u[15].type.name.toUpperCase()+"")&&Se(l,a)},d(u){u&&T(e)}}}function am(t){let e,n,r;function s(o){t[13](o)}let i={$$slots:{default:[YD]},$$scope:{ctx:t}};return t[5]!==void 0&&(i.dialog=t[5]),e=new BD({props:i}),Ie.push(()=>Je(e,"dialog",s)),e.$on("close",t[14]),{c(){x(e.$$.fragment)},m(o,a){B(e,o,a),r=!0},p(o,a){const l={};a&33554624&&(l.$$scope={dirty:a,ctx:o}),!n&&a&32&&(n=!0,l.dialog=o[5],Xe(()=>n=!1)),e.$set(l)},i(o){r||(b(e.$$.fragment,o),r=!0)},o(o){C(e.$$.fragment,o),r=!1},d(o){W(e,o)}}}function YD(t){let e,n,r,s,i;return{c(){e=re(t[6]),n=k(),r=w("button"),r.textContent="Got it!",m(r,"class","dialog-button svelte-qhednx")},m(o,a){I(o,e,a),I(o,n,a),I(o,r,a),s||(i=X(r,"click",t[12]),s=!0)},p(o,a){a&64&&Se(e,o[6])},d(o){o&&(T(e),T(n),T(r)),s=!1,i()}}}function XD(t){let e,n,r,s,i;const o=[jD,xD,WD],a=[];function l(u,h){return u[1]?0:u[2]&&!u[3]?1:u[3]?2:-1}~(n=l(t))&&(r=a[n]=o[n](t));let c=t[7]&&am(t);return{c(){e=w("div"),r&&r.c(),s=k(),c&&c.c(),m(e,"class","pokedex-container svelte-qhednx")},m(u,h){I(u,e,h),~n&&a[n].m(e,null),g(e,s),c&&c.m(e,null),i=!0},p(u,[h]){let d=n;n=l(u),n===d?~n&&a[n].p(u,h):(r&&(fe(),C(a[d],1,1,()=>{a[d]=null}),de()),~n?(r=a[n],r?r.p(u,h):(r=a[n]=o[n](u),r.c()),b(r,1),r.m(e,s)):r=null),u[7]?c?(c.p(u,h),h&128&&b(c,1)):(c=am(u),c.c(),b(c,1),c.m(e,null)):c&&(fe(),C(c,1,1,()=>{c=null}),de())},i(u){i||(b(r),b(c),i=!0)},o(u){C(r),C(c),i=!1},d(u){u&&T(e),~n&&a[n].d(),c&&c.d()}}}function JD(t,e,n){let r,s,i=!1,{pokemonData:o}=e,{error:a}=e,{loading:l}=e,{triggerSearch:c}=e,{evolutionChainData:u}=e;const h=A=>{n(6,s=A),n(7,i=!0),setTimeout(()=>{s&&r.showModal()},300)},d=async A=>{if(A.length){const E=A.map(async R=>{const D=await fetch(R.ability.url);if(!D.ok)throw new Error(`Failed to fetch ability data for ${R.ability.name}`);const L=await D.json();return R.description=L.effect_entries.find(U=>U.language.name==="en").effect,R});try{return await Promise.all(E)}catch(R){console.error(R)}}return Promise.resolve([])};function f(A){u=A,n(0,u)}const p=A=>h(A.description),_=()=>{n(7,i=!1)};function y(A){r=A,n(5,r)}function v(A){bc.call(this,t,A)}return t.$$set=A=>{"pokemonData"in A&&n(1,o=A.pokemonData),"error"in A&&n(2,a=A.error),"loading"in A&&n(3,l=A.loading),"triggerSearch"in A&&n(4,c=A.triggerSearch),"evolutionChainData"in A&&n(0,u=A.evolutionChainData)},[u,o,a,l,c,r,s,i,h,d,f,p,_,y,v]}class $D extends ye{constructor(e){super(),ge(this,e,JD,XD,ue,{pokemonData:1,error:2,loading:3,triggerSearch:4,evolutionChainData:0})}}const ZD=["swsh12pt5gg-GG35","swsh12pt5gg-GG36","swsh12pt5gg-GG37","swsh12pt5gg-GG38","swsh12pt5gg-GG39","swsh12pt5gg-GG40","swsh12pt5gg-GG41","swsh12pt5gg-GG42","swsh12pt5gg-GG43","swsh12pt5gg-GG44","swsh12pt5gg-GG45","swsh12pt5gg-GG46","swsh12pt5gg-GG47","swsh12pt5gg-GG48","swsh12pt5gg-GG49","swsh12pt5gg-GG50","swsh12pt5gg-GG51","swsh12pt5gg-GG52","swsh12pt5gg-GG53","swsh12pt5gg-GG54","swsh12pt5gg-GG55","swsh12pt5gg-GG56","swsh12-177","swsh12-181","swsh12-184","swsh12-186","swsh12tg-TG12","swsh12tg-TG13","swsh12tg-TG14","swsh12tg-TG15","swsh12tg-TG16","swsh12tg-TG17","swsh12tg-TG18","swsh12tg-TG19","swsh12tg-TG20","swsh12tg-TG21","swsh12tg-TG22","swsh11-177","swsh11-180","swsh11-186","swsh11tg-TG12","swsh11tg-TG13","swsh11tg-TG14","swsh11tg-TG15","swsh11tg-TG16","swsh11tg-TG17","swsh11tg-TG18","swsh11tg-TG19","swsh11tg-TG20","swsh11tg-TG21","swsh11tg-TG22","pgo-72","pgo-74","swsh10-161","swsh10-163","swsh10-167","swsh10-172","swsh10-175","swsh10-177","swsh10tg-TG13","swsh10tg-TG14","swsh10tg-TG15","swsh10tg-TG16","swsh10tg-TG17","swsh10tg-TG18","swsh10tg-TG19","swsh10tg-TG20","swsh10tg-TG21","swsh10tg-TG22","swsh10tg-TG23","swsh9-154","swsh9-156","swsh9-162","swsh9-166","swsh9tg-TG13","swsh9tg-TG14","swsh9tg-TG15","swsh9tg-TG16","swsh9tg-TG17","swsh9tg-TG18","swsh9tg-TG19","swsh9tg-TG20","swsh9tg-TG21","swsh9tg-TG22","swsh9tg-TG23","swsh8-245","swsh8-251","swsh8-252","swsh8-255","swsh8-257","swsh8-266","swsh8-269","swsh8-270","swsh8-271","swsh7-167","swsh7-175","swsh7-180","swsh7-182","swsh7-184","swsh7-186","swsh7-189","swsh7-192","swsh7-194","swsh7-196","swsh7-198","swsh7-205","swsh7-209","swsh7-212","swsh7-215","swsh7-218","swsh7-220","swsh6-164","swsh6-166","swsh6-168","swsh6-170","swsh6-172","swsh6-174","swsh6-177","swsh6-179","swsh6-183","swsh6-185","swsh6-201","swsh6-203","swsh6-205","swsh5-146","swsh5-151","swsh5-153","swsh5-155","swsh5-168","swsh5-170","swshp-SWSH179","swshp-SWSH180","swshp-SWSH181","swshp-SWSH182","swshp-SWSH183","swshp-SWSH184","swshp-SWSH204","swshp-SWSH260","swshp-SWSH261","swshp-SWSH262"],eO={"swshp-SWSH001":{style:"SwHolo",etch:"Holo"},"swshp-SWSH002":{style:"SwHolo",etch:"Holo"},"swshp-SWSH003":{style:"SwHolo",etch:"Holo"},"swshp-SWSH004":{style:"SunPillar",etch:"Holo"},"swshp-SWSH005":{style:"SunPillar",etch:"Etched"},"swshp-SWSH006":{style:"SwHolo",etch:"Holo"},"swshp-SWSH007":{style:"SwHolo",etch:"Holo"},"swshp-SWSH008":{style:"SwHolo",etch:"Holo"},"swshp-SWSH009":{style:"SwHolo",etch:"Holo"},"swshp-SWSH010":{style:"Cosmos",etch:"Holo"},"swshp-SWSH011":{style:"Cosmos",etch:"Holo"},"swshp-SWSH012":{style:"Cosmos",etch:"Holo"},"swshp-SWSH013":{style:"Cosmos",etch:"Holo"},"swshp-SWSH014":{style:"SunPillar",etch:"Holo"},"swshp-SWSH015":{style:"SunPillar",etch:"Holo"},"swshp-SWSH016":{style:"SunPillar",etch:"Holo"},"swshp-SWSH017":{style:"SunPillar",etch:"Holo"},"swshp-SWSH018":{style:"SunPillar",etch:"Holo"},"swshp-SWSH019":{style:"SunPillar",etch:"Holo"},"swshp-SWSH020":{style:"FlatSilver",etch:"Holo"},"swshp-SWSH021":{style:"SunPillar",etch:"Holo"},"swshp-SWSH022":{style:"SwHolo",etch:"Holo"},"swshp-SWSH023":{style:"SwHolo",etch:"Holo"},"swshp-SWSH024":{style:"SwHolo",etch:"Holo"},"swshp-SWSH025":{style:"SwHolo",etch:"Holo"},"swshp-SWSH026":{style:"Cosmos",etch:"Holo"},"swshp-SWSH027":{style:"Cosmos",etch:"Holo"},"swshp-SWSH028":{style:"Cosmos",etch:"Holo"},"swshp-SWSH029":{style:"Cosmos",etch:"Holo"},"swshp-SWSH030":{style:"SunPillar",etch:"Holo"},"swshp-SWSH031":{style:"Cosmos",etch:"Holo"},"swshp-SWSH032":{style:"Cosmos",etch:"Holo"},"swshp-SWSH033":{style:"Cosmos",etch:"Holo"},"swshp-SWSH034":{style:"Cosmos",etch:"Holo"},"swshp-SWSH035":{style:"SwHolo",etch:"Holo"},"swshp-SWSH036":{style:"SwHolo",etch:"Holo"},"swshp-SWSH037":{style:"SwHolo",etch:"Holo"},"swshp-SWSH038":{style:"SwHolo",etch:"Holo"},"swshp-SWSH039":{style:"Cosmos",etch:"Holo"},"swshp-SWSH040":{style:"Cosmos",etch:"Holo"},"swshp-SWSH041":{style:"Cosmos",etch:"Holo"},"swshp-SWSH042":{style:"Cosmos",etch:"Holo"},"swshp-SWSH043":{style:"SunPillar",etch:"Holo"},"swshp-SWSH044":{style:"SunPillar",etch:"Etched"},"swshp-SWSH045":{style:"SunPillar",etch:"Etched"},"swshp-SWSH046":{style:"Cosmos",etch:"Holo"},"swshp-SWSH047":{style:"Cosmos",etch:"Holo"},"swshp-SWSH048":{style:"Cosmos",etch:"Holo"},"swshp-SWSH049":{style:"SunPillar",etch:"Holo"},"swshp-SWSH050":{style:"SunPillar",etch:"Etched"},"swshp-SWSH051":{style:"Cosmos",etch:"Holo"},"swshp-SWSH052":{style:"Cosmos",etch:"Holo"},"swshp-SWSH053":{style:"Cosmos",etch:"Holo"},"swshp-SWSH054":{style:"Cosmos",etch:"Holo"},"swshp-SWSH055":{style:"SunPillar",etch:"Holo"},"swshp-SWSH056":{style:"SunPillar",etch:"Holo"},"swshp-SWSH057":{style:"SunPillar",etch:"Holo"},"swshp-SWSH058":{style:"Cosmos",etch:"Holo"},"swshp-SWSH059":{style:"Cosmos",etch:"Holo"},"swshp-SWSH060":{style:"Cosmos",etch:"Holo"},"swshp-SWSH061":{style:"SunPillar",etch:"Holo"},"swshp-SWSH062":{style:"SunPillar",etch:"Etched"},"swshp-SWSH063":{style:"SunPillar",etch:"Holo"},"swshp-SWSH064":{style:"SunPillar",etch:"Holo"},"swshp-SWSH065":{style:"SunPillar",etch:"Holo"},"swshp-SWSH066":{style:"SwHolo",etch:"Holo"},"swshp-SWSH067":{style:"SwHolo",etch:"Holo"},"swshp-SWSH068":{style:"SwHolo",etch:"Holo"},"swshp-SWSH069":{style:"SwHolo",etch:"Holo"},"swshp-SWSH070":{style:"Cosmos",etch:"Holo"},"swshp-SWSH071":{style:"Cosmos",etch:"Holo"},"swshp-SWSH072":{style:"Cosmos",etch:"Holo"},"swshp-SWSH073":{style:"Cosmos",etch:"Holo"},"swshp-SWSH076":{style:"SwSecret",etch:"Etched"},"swshp-SWSH077":{style:"SwSecret",etch:"Etched"},"swshp-SWSH078":{style:"SunPillar",etch:"Holo"},"swshp-SWSH079":{style:"Cosmos",etch:"Holo"},"swshp-SWSH080":{style:"Cosmos",etch:"Holo"},"swshp-SWSH081":{style:"Cosmos",etch:"Holo"},"swshp-SWSH082":{style:"Cosmos",etch:"Holo"},"swshp-SWSH083":{style:"SunPillar",etch:"Holo"},"swshp-SWSH084":{style:"SunPillar",etch:"Etched"},"swshp-SWSH085":{style:"SunPillar",etch:"Etched"},"swshp-SWSH086":{style:"SunPillar",etch:"Etched"},"swshp-SWSH087":{style:"SunPillar",etch:"Etched"},"swshp-SWSH088":{style:"SwHolo",etch:"Holo"},"swshp-SWSH089":{style:"SwHolo",etch:"Holo"},"swshp-SWSH090":{style:"SwHolo",etch:"Holo"},"swshp-SWSH091":{style:"SwHolo",etch:"Holo"},"swshp-SWSH092":{style:"Cosmos",etch:"Holo"},"swshp-SWSH093":{style:"Cosmos",etch:"Holo"},"swshp-SWSH094":{style:"Cosmos",etch:"Holo"},"swshp-SWSH095":{style:"Cosmos",etch:"Holo"},"swshp-SWSH096":{style:"SunPillar",etch:"Etched"},"swshp-SWSH097":{style:"SwSecret",etch:"Etched"},"swshp-SWSH098":{style:"SunPillar",etch:"Etched"},"swshp-SWSH099":{style:"SwSecret",etch:"Etched"},"swshp-SWSH100":{style:"SunPillar",etch:"Holo"},"swshp-SWSH101":{style:"SunPillar",etch:"Holo"},"swshp-SWSH102":{style:"SunPillar",etch:"Etched"},"swshp-SWSH103":{style:"SunPillar",etch:"Etched"},"swshp-SWSH104":{style:"SunPillar",etch:"Holo"},"swshp-SWSH105":{style:"SunPillar",etch:"Holo"},"swshp-SWSH106":{style:"SunPillar",etch:"Holo"},"swshp-SWSH107":{style:"SunPillar",etch:"Holo"},"swshp-SWSH108":{style:"SunPillar",etch:"Holo"},"swshp-SWSH109":{style:"SunPillar",etch:"Holo"},"swshp-SWSH110":{style:"SunPillar",etch:"Holo"},"swshp-SWSH111":{style:"SunPillar",etch:"Holo"},"swshp-SWSH112":{style:"SwHolo",etch:"Holo"},"swshp-SWSH113":{style:"SwHolo",etch:"Holo"},"swshp-SWSH114":{style:"SwHolo",etch:"Holo"},"swshp-SWSH115":{style:"SwHolo",etch:"Holo"},"swshp-SWSH116":{style:"Cosmos",etch:"Holo"},"swshp-SWSH117":{style:"Cosmos",etch:"Holo"},"swshp-SWSH118":{style:"Cosmos",etch:"Holo"},"swshp-SWSH119":{style:"Cosmos",etch:"Holo"},"swshp-SWSH120":{style:"Cosmos",etch:"Holo"},"swshp-SWSH121":{style:"SunPillar",etch:"Etched"},"swshp-SWSH122":{style:"SwHolo",etch:"Holo"},"swshp-SWSH123":{style:"SwHolo",etch:"Holo"},"swshp-SWSH124":{style:"SwHolo",etch:"Holo"},"swshp-SWSH125":{style:"SwHolo",etch:"Holo"},"swshp-SWSH126":{style:"Cosmos",etch:"Holo"},"swshp-SWSH127":{style:"Cosmos",etch:"Holo"},"swshp-SWSH128":{style:"Cosmos",etch:"Holo"},"swshp-SWSH129":{style:"Cosmos",etch:"Holo"},"swshp-SWSH130":{style:"SunPillar",etch:"Holo"},"swshp-SWSH131":{style:"SunPillar",etch:"Holo"},"swshp-SWSH132":{style:"Cosmos",etch:"Holo"},"swshp-SWSH133":{style:"SunPillar",etch:"Holo"},"swshp-SWSH134":{style:"SunPillar",etch:"Holo"},"swshp-SWSH135":{style:"Cosmos",etch:"Holo"},"swshp-SWSH136":{style:"Cosmos",etch:"Holo"},"swshp-SWSH137":{style:"Cosmos",etch:"Holo"},"swshp-SWSH138":{style:"Cosmos",etch:"Holo"},"swshp-SWSH139":{style:"SunPillar",etch:"Holo"},"swshp-SWSH140":{style:"SunPillar",etch:"Holo"},"swshp-SWSH141":{style:"SunPillar",etch:"Holo"},"swshp-SWSH142":{style:"SunPillar",etch:"Holo"},"swshp-SWSH143":{style:"SunPillar",etch:"Holo"},"swshp-SWSH144":{style:"Cosmos",etch:"Holo"},"swshp-SWSH145":{style:"SwSecret",etch:"Etched"},"swshp-SWSH146":{style:"SwSecret",etch:"Etched"},"swshp-SWSH147":{style:"SunPillar",etch:"Holo"},"swshp-SWSH148":{style:"SunPillar",etch:"Holo"},"swshp-SWSH149":{style:"SunPillar",etch:"Holo"},"swshp-SWSH150":{style:"SunPillar",etch:"Holo"},"swshp-SWSH151":{style:"SunPillar",etch:"Holo"},"swshp-SWSH152":{style:"SunPillar",etch:"Etched"},"swshp-SWSH153":{style:"Cosmos",etch:"Holo"},"swshp-SWSH154":{style:"SunPillar",etch:"Holo"},"swshp-SWSH155":{style:"SunPillar",etch:"Holo"},"swshp-SWSH156":{style:"SunPillar",etch:"Holo"},"swshp-SWSH157":{style:"SunPillar",etch:"Holo"},"swshp-SWSH158":{style:"SunPillar",etch:"Holo"},"swshp-SWSH159":{style:"SunPillar",etch:"Holo"},"swshp-SWSH160":{style:"SunPillar",etch:"Holo"},"swshp-SWSH161":{style:"SunPillar",etch:"Holo"},"swshp-SWSH162":{style:"SunPillar",etch:"Holo"},"swshp-SWSH163":{style:"SunPillar",etch:"Holo"},"swshp-SWSH164":{style:"SunPillar",etch:"Holo"},"swshp-SWSH165":{style:"SunPillar",etch:"Holo"},"swshp-SWSH166":{style:"SunPillar",etch:"Holo"},"swshp-SWSH167":{style:"None",etch:"None"},"swshp-SWSH168":{style:"SwHolo",etch:"Holo"},"swshp-SWSH169":{style:"SwHolo",etch:"Holo"},"swshp-SWSH170":{style:"SwHolo",etch:"Holo"},"swshp-SWSH171":{style:"SwHolo",etch:"Holo"},"swshp-SWSH172":{style:"Cosmos",etch:"Holo"},"swshp-SWSH173":{style:"Cosmos",etch:"Holo"},"swshp-SWSH174":{style:"Cosmos",etch:"Holo"},"swshp-SWSH175":{style:"Cosmos",etch:"Holo"},"swshp-SWSH176":{style:"SunPillar",etch:"Holo"},"swshp-SWSH178":{style:"SwHolo",etch:"Holo"},"swshp-SWSH179":{style:"SunPillar",etch:"Etched"},"swshp-SWSH180":{style:"SwSecret",etch:"Etched"},"swshp-SWSH181":{style:"SunPillar",etch:"Etched"},"swshp-SWSH182":{style:"SwSecret",etch:"Etched"},"swshp-SWSH183":{style:"SunPillar",etch:"Etched"},"swshp-SWSH184":{style:"SwSecret",etch:"Etched"},"swshp-SWSH185":{style:"SwHolo",etch:"Holo"},"swshp-SWSH186":{style:"SwHolo",etch:"Holo"},"swshp-SWSH187":{style:"SwHolo",etch:"Holo"},"swshp-SWSH188":{style:"SwHolo",etch:"Holo"},"swshp-SWSH189":{style:"Cosmos",etch:"Holo"},"swshp-SWSH190":{style:"Cosmos",etch:"Holo"},"swshp-SWSH191":{style:"Cosmos",etch:"Holo"},"swshp-SWSH192":{style:"Cosmos",etch:"Holo"},"swshp-SWSH193":{style:"None",etch:"None"},"swshp-SWSH194":{style:"SunPillar",etch:"Holo"},"swshp-SWSH195":{style:"SunPillar",etch:"Etched"},"swshp-SWSH196":{style:"SunPillar",etch:"Holo"},"swshp-SWSH197":{style:"SunPillar",etch:"Etched"},"swshp-SWSH198":{style:"SunPillar",etch:"Holo"},"swshp-SWSH199":{style:"SunPillar",etch:"Holo"},"swshp-SWSH200":{style:"SunPillar",etch:"Holo"},"swshp-SWSH201":{style:"SunPillar",etch:"Holo"},"swshp-SWSH202":{style:"SunPillar",etch:"Holo"},"swshp-SWSH203":{style:"SunPillar",etch:"Holo"},"swshp-SWSH204":{style:"SunPillar",etch:"Holo"},"swshp-SWSH205":{style:"SwHolo",etch:"Holo"},"swshp-SWSH206":{style:"SwHolo",etch:"Holo"},"swshp-SWSH207":{style:"SwHolo",etch:"Holo"},"swshp-SWSH208":{style:"SwHolo",etch:"Holo"},"swshp-SWSH209":{style:"Cosmos",etch:"Holo"},"swshp-SWSH210":{style:"Cosmos",etch:"Holo"},"swshp-SWSH211":{style:"Cosmos",etch:"Holo"},"swshp-SWSH212":{style:"Cosmos",etch:"Holo"},"swshp-SWSH213":{style:"SunPillar",etch:"Etched"},"swshp-SWSH214":{style:"SunPillar",etch:"Etched"},"swshp-SWSH215":{style:"SunPillar",etch:"Holo"},"swshp-SWSH216":{style:"SunPillar",etch:"Holo"},"swshp-SWSH217":{style:"SunPillar",etch:"Holo"},"swshp-SWSH218":{style:"SunPillar",etch:"Holo"},"swshp-SWSH219":{style:"SunPillar",etch:"Holo"},"swshp-SWSH220":{style:"Cosmos",etch:"Holo"},"swshp-SWSH221":{style:"Cosmos",etch:"Holo"},"swshp-SWSH222":{style:"Cosmos",etch:"Holo"},"swshp-SWSH223":{style:"SunPillar",etch:"Holo"},"swshp-SWSH224":{style:"SunPillar",etch:"Holo"},"swshp-SWSH225":{style:"SunPillar",etch:"Holo"},"swshp-SWSH226":{style:"SunPillar",etch:"Etched"},"swshp-SWSH227":{style:"SunPillar",etch:"Etched"},"swshp-SWSH228":{style:"SunPillar",etch:"Etched"},"swshp-SWSH229":{style:"SunPillar",etch:"Etched"},"swshp-SWSH230":{style:"RadiantHolo",etch:"Etched"},"swshp-SWSH231":{style:"Cosmos",etch:"Holo"},"swshp-SWSH232":{style:"Cosmos",etch:"Holo"},"swshp-SWSH233":{style:"Cosmos",etch:"Holo"},"swshp-SWSH234":{style:"Cosmos",etch:"Holo"},"swshp-SWSH235":{style:"SunPillar",etch:"Etched"},"swshp-SWSH236":{style:"SunPillar",etch:"Etched"},"swshp-SWSH237":{style:"SunPillar",etch:"Holo"},"swshp-SWSH238":{style:"SunPillar",etch:"Holo"},"swshp-SWSH239":{style:"SunPillar",etch:"Holo"},"swshp-SWSH240":{style:"SwHolo",etch:"Holo"},"swshp-SWSH241":{style:"SwHolo",etch:"Holo"},"swshp-SWSH242":{style:"SwHolo",etch:"Holo"},"swshp-SWSH243":{style:"SwHolo",etch:"Holo"},"swshp-SWSH244":{style:"Cosmos",etch:"Holo"},"swshp-SWSH245":{style:"Cosmos",etch:"Holo"},"swshp-SWSH246":{style:"Cosmos",etch:"Holo"},"swshp-SWSH247":{style:"Cosmos",etch:"Holo"},"swshp-SWSH248":{style:"SunPillar",etch:"Etched"},"swshp-SWSH249":{style:"SunPillar",etch:"Etched"},"swshp-SWSH250":{style:"SunPillar",etch:"Holo"},"swshp-SWSH252":{style:"SunPillar",etch:"Holo"},"swshp-SWSH253":{style:"SunPillar",etch:"Etched"},"swshp-SWSH254":{style:"SunPillar",etch:"Etched"},"swshp-SWSH255":{style:"SunPillar",etch:"Etched"},"swshp-SWSH256":{style:"SunPillar",etch:"Etched"},"swshp-SWSH257":{style:"SunPillar",etch:"Holo"},"swshp-SWSH258":{style:"SunPillar",etch:"Holo"},"swshp-SWSH259":{style:"SunPillar",etch:"Holo"},"swshp-SWSH260":{style:"SunPillar",etch:"Etched"},"swshp-SWSH261":{style:"SunPillar",etch:"Etched"},"swshp-SWSH262":{style:"SunPillar",etch:"Etched"},"swshp-SWSH263":{style:"SunPillar",etch:"Holo"},"swshp-SWSH264":{style:"SunPillar",etch:"Etched"},"swshp-SWSH265":{style:"SunPillar",etch:"Etched"},"swshp-SWSH266":{style:"SunPillar",etch:"Holo"},"swshp-SWSH267":{style:"SunPillar",etch:"Etched"},"swshp-SWSH268":{style:"SunPillar",etch:"Etched"},"swshp-SWSH269":{style:"SwHolo",etch:"Holo"},"swshp-SWSH270":{style:"SwHolo",etch:"Holo"},"swshp-SWSH271":{style:"SwHolo",etch:"Holo"},"swshp-SWSH272":{style:"SwHolo",etch:"Holo"},"swshp-SWSH273":{style:"Cosmos",etch:"Holo"},"swshp-SWSH274":{style:"Cosmos",etch:"Holo"},"swshp-SWSH275":{style:"Cosmos",etch:"Holo"},"swshp-SWSH276":{style:"Cosmos",etch:"Holo"},"swshp-SWSH277":{style:"Cosmos",etch:"Holo"},"swshp-SWSH278":{style:"Cosmos",etch:"Holo"},"swshp-SWSH279":{style:"Cosmos",etch:"Holo"},"swshp-SWSH280":{style:"SunPillar",etch:"Holo"},"swshp-SWSH281":{style:"SunPillar",etch:"Holo"},"swshp-SWSH291":{style:"SunPillar",etch:"Etched"},"swshp-SWSH294":{style:"SunPillar",etch:"Holo"},"swshp-SWSH295":{style:"SunPillar",etch:"Holo"},"swshp-SWSH296":{style:"Rainbow",etch:"Holo"},"swshp-SWSH297":{style:"SunPillar",etch:"Etched"},"swshp-SWSH298":{style:"SunPillar",etch:"Etched"}};function lm(t){return Object.prototype.toString.call(t)==="[object Date]"}function _u(t,e,n,r){if(typeof n=="number"||lm(n)){const s=r-n,i=(n-e)/(t.dt||1/60),o=t.opts.stiffness*s,a=t.opts.damping*i,l=(o-a)*t.inv_mass,c=(i+l)*t.dt;return Math.abs(c)<t.opts.precision&&Math.abs(s)<t.opts.precision?r:(t.settled=!1,lm(n)?new Date(n.getTime()+c):n+c)}else{if(Array.isArray(n))return n.map((s,i)=>_u(t,e[i],n[i],r[i]));if(typeof n=="object"){const s={};for(const i in n)s[i]=_u(t,e[i],n[i],r[i]);return s}else throw new Error(`Cannot spring ${typeof n} values`)}}function ts(t,e={}){const n=gr(t),{stiffness:r=.15,damping:s=.8,precision:i=.01}=e;let o,a,l,c=t,u=t,h=1,d=0,f=!1;function p(y,v={}){u=y;const A=l={};return t==null||v.hard||_.stiffness>=1&&_.damping>=1?(f=!0,o=Go(),c=y,n.set(t=u),Promise.resolve()):(v.soft&&(d=1/((v.soft===!0?.5:+v.soft)*60),h=0),a||(o=Go(),f=!1,a=Au(E=>{if(f)return f=!1,a=null,!1;h=Math.min(h+d,1);const R={inv_mass:h,opts:_,settled:!0,dt:(E-o)*60/1e3},D=_u(R,c,t,u);return o=E,c=t,n.set(t=D),R.settled&&(a=null),!R.settled})),new Promise(E=>{a.promise.then(()=>{A===l&&E()})}))}const _={set:p,update:(y,v)=>p(y(u,t),v),subscribe:n.subscribe,stiffness:r,damping:s,precision:i};return _}function tO(t){const e=t-1;return e*e*e+1}const pl=function(t){return t?{alpha:t.alpha,beta:t.beta,gamma:t.gamma}:{alpha:0,beta:0,gamma:0}},cm=t=>{const e=pl(t);return{absolute:e,relative:{alpha:e.alpha-Ai.alpha,beta:e.beta-Ai.beta,gamma:e.gamma-Ai.gamma}}};let vu=!0,Ai=pl();const nO=()=>{vu=!0,Ai=pl()},rO=ag(cm(),function(e){const n=function(r){vu&&(vu=!1,Ai=pl(r));const s=cm(r);e(s)};return window.addEventListener("deviceorientation",n,!0),function(){window.removeEventListener("deviceorientation",n,!0)}}),sn=(t,e=3)=>parseFloat(t.toFixed(e)),ni=(t,e=0,n=100)=>Math.min(Math.max(t,e),n),ns=(t,e,n,r,s)=>sn(r+(s-r)*(t-e)/(n-e));const{window:sO}=Rw;function iO(t){let e,n,r,s,i,o,a,l,c,u,h,d,f,p,_,y,v,A,E;return{c(){e=w("div"),n=w("div"),r=w("button"),s=w("img"),o=k(),a=w("div"),l=w("img"),h=k(),d=w("div"),f=k(),p=w("div"),m(s,"class","card__back"),ce(s.src,i=t[19])||m(s,"src",i),m(s,"alt","The back of a Pokemon Card, a Pokeball in the center with Pokemon logo above and below"),m(s,"loading","lazy"),m(s,"width","660"),m(s,"height","921"),ce(l.src,c=t[10])||m(l,"src",c),m(l,"alt",u="Front design of the "+t[5]+" Pokemon Card, with the stats and info around the edge"),m(l,"loading","lazy"),m(l,"width","660"),m(l,"height","921"),m(d,"class","card__shine"),m(p,"class","card__glare"),m(a,"class","card__front"),m(a,"style",_=t[28]+t[17]),m(r,"class","card__rotator"),m(r,"aria-label",y="Expand the Pokemon Card; "+t[5]+"."),m(r,"tabindex","0"),m(n,"class","card__translater"),m(e,"class",v="card "+t[1]+" / interactive / svelte-ann5al"),m(e,"data-number",t[0]),m(e,"data-set",t[6]),m(e,"data-subtypes",t[2]),m(e,"data-supertype",t[3]),m(e,"data-rarity",t[4]),m(e,"data-trainer-gallery",t[9]),m(e,"style",t[18]),Ke(e,"active",t[11]),Ke(e,"interacting",t[12]),Ke(e,"loading",t[13]),Ke(e,"masked",!!t[7])},m(R,D){I(R,e,D),g(e,n),g(n,r),g(r,s),g(r,o),g(r,a),g(a,l),g(a,h),g(a,d),g(a,f),g(a,p),t[43](e),A||(E=[X(sO,"scroll",t[27]),X(l,"load",t[29]),X(r,"click",t[25]),X(r,"pointermove",t[23]),X(r,"mouseout",t[24]),X(r,"blur",t[26])],A=!0)},p(R,D){D[0]&1024&&!ce(l.src,c=R[10])&&m(l,"src",c),D[0]&32&&u!==(u="Front design of the "+R[5]+" Pokemon Card, with the stats and info around the edge")&&m(l,"alt",u),D[0]&131072&&_!==(_=R[28]+R[17])&&m(a,"style",_),D[0]&32&&y!==(y="Expand the Pokemon Card; "+R[5]+".")&&m(r,"aria-label",y),D[0]&2&&v!==(v="card "+R[1]+" / interactive / svelte-ann5al")&&m(e,"class",v),D[0]&1&&m(e,"data-number",R[0]),D[0]&64&&m(e,"data-set",R[6]),D[0]&4&&m(e,"data-subtypes",R[2]),D[0]&8&&m(e,"data-supertype",R[3]),D[0]&16&&m(e,"data-rarity",R[4]),D[0]&512&&m(e,"data-trainer-gallery",R[9]),D[0]&262144&&m(e,"style",R[18]),D[0]&2050&&Ke(e,"active",R[11]),D[0]&4098&&Ke(e,"interacting",R[12]),D[0]&8194&&Ke(e,"loading",R[13]),D[0]&130&&Ke(e,"masked",!!R[7])},i:S,o:S,d(R){R&&T(e),t[43](null),A=!1,gt(E)}}}function oO(t,e,n){let r,s,i,o,a,l,c,u,h;Lt(t,rO,V=>n(35,s=V)),Lt(t,ui,V=>n(36,i=V));let{id:d=""}=e,{name:f=""}=e,{number:p=""}=e,{set:_=""}=e,{types:y=""}=e,{subtypes:v="basic"}=e,{supertype:A="pokémon"}=e,{rarity:E="common"}=e,{img:R=""}=e,{back:D="https://tcg.pokemon.com/assets/img/global/tcg-card-back-2x.jpg"}=e,{foil:L=""}=e,{mask:U=""}=e,{showcase:z=!1}=e;const N={x:Math.random(),y:Math.random()},M={x:Math.floor(N.x*734),y:Math.floor(N.y*1280)};let we=!1,Q=D,J="",xe=R.startsWith("http")?"":"https://images.pokemontcg.io/",F,pe,Ce=!1,be=!1,$t=!0,Be=!0,yt=document.visibilityState==="visible";const Me={stiffness:.066,damping:.25},Wt={stiffness:.033,damping:.45};let ke=ts({x:0,y:0},Me);Lt(t,ke,V=>n(41,u=V));let Te=ts({x:50,y:50,o:0},Me);Lt(t,Te,V=>n(42,h=V));let Re=ts({x:50,y:50},Me);Lt(t,Re,V=>n(39,l=V));let Pt=ts({x:0,y:0},Wt);Lt(t,Pt,V=>n(40,c=V));let ct=ts({x:0,y:0},Wt);Lt(t,ct,V=>n(37,o=V));let rn=ts(1,Wt);Lt(t,rn,V=>n(38,a=V));let et,Zt,Vt,xt=z;const jt=()=>{xt&&(clearTimeout(Vt),clearTimeout(Zt),clearInterval(et),xt=!1)},In=V=>{if(jt(),!yt||i&&i!==F)return n(12,be=!1);n(12,be=!0),V.type==="touchmove"&&(V.clientX=V.touches[0].clientX,V.clientY=V.touches[0].clientY);const oe=V.target.getBoundingClientRect(),Le={x:V.clientX-oe.left,y:V.clientY-oe.top},Y={x:ni(sn(100/oe.width*Le.x)),y:ni(sn(100/oe.height*Le.y))},qe={x:Y.x-50,y:Y.y-50};Ve({x:ns(Y.x,0,100,37,63),y:ns(Y.y,0,100,33,67)},{x:sn(-(qe.x/3.5)),y:sn(qe.y/2)},{x:sn(Y.x),y:sn(Y.y),o:1})},Fe=(V,je=500)=>{setTimeout(function(){n(12,be=!1),n(14,ke.stiffness=.01,ke),n(14,ke.damping=.06,ke),ke.set({x:0,y:0},{soft:1}),n(15,Te.stiffness=.01,Te),n(15,Te.damping=.06,Te),Te.set({x:50,y:50,o:0},{soft:1}),n(16,Re.stiffness=.01,Re),n(16,Re.damping=.06,Re),Re.set({x:50,y:50},{soft:1})},je)},_t=V=>{i&&i===F?_l(ui,i=void 0,i):(_l(ui,i=F,i),nO())},hr=V=>{Fe(),_l(ui,i=void 0,i)},vt=V=>{clearTimeout(pe),pe=setTimeout(()=>{i&&i===F&&en()},300)},en=()=>{const V=F.getBoundingClientRect(),je=document.documentElement,oe={x:sn(je.clientWidth/2-V.x-V.width/2),y:sn(je.clientHeight/2-V.y-V.height/2)};ct.set({x:oe.x,y:oe.y})},fr=()=>{const V=F.getBoundingClientRect();let je=100,oe=window.innerWidth/V.width*.9,Le=window.innerHeight/V.height*.9,Y=1.75;en(),$t&&(je=1e3,Pt.set({x:360,y:0})),$t=!1,rn.set(Math.min(oe,Le,Y)),Fe(null,je)},Ge=()=>{rn.set(1,{soft:!0}),ct.set({x:0,y:0},{soft:!0}),Pt.set({x:0,y:0},{soft:!0}),Fe(null,100)},tt=()=>{Fe(null,0),rn.set(1,{hard:!0}),ct.set({x:0,y:0},{hard:!0}),Pt.set({x:0,y:0},{hard:!0}),ke.set({x:0,y:0},{hard:!0})};let Dt="";const Bn=`
    --seedx: ${N.x};
    --seedy: ${N.y};
    --cosmosbg: ${M.x}px ${M.y}px;
  `,dr=V=>{const je=V.relative.gamma,oe=V.relative.beta,Le={x:16,y:18},Y={x:ni(je,-Le.x,Le.x),y:ni(oe,-Le.y,Le.y)};Ve({x:ns(Y.x,-Le.x,Le.x,37,63),y:ns(Y.y,-Le.y,Le.y,33,67)},{x:sn(Y.x*-1),y:sn(Y.y)},{x:ns(Y.x,-Le.x,Le.x,0,100),y:ns(Y.y,-Le.y,Le.y,0,100),o:1})},Ve=(V,je,oe)=>{n(16,Re.stiffness=Me.stiffness,Re),n(16,Re.damping=Me.damping,Re),n(14,ke.stiffness=Me.stiffness,ke),n(14,ke.damping=Me.damping,ke),n(15,Te.stiffness=Me.stiffness,Te),n(15,Te.damping=Me.damping,Te),Re.set(V),ke.set(je),Te.set(oe)};document.addEventListener("visibilitychange",V=>{yt=document.visibilityState==="visible",jt(),tt()});const Cn=V=>{n(13,Be=!1),(U||L)&&n(17,Dt=`
    --mask: url(${U});
    --foil: url(${L});
      `)};zi(()=>{if(n(10,J=xe+R),z&&yt){let oe=0;Zt=setTimeout(()=>{if(n(12,be=!0),n(11,Ce=!0),n(14,ke.stiffness=.02,ke),n(14,ke.damping=.5,ke),n(15,Te.stiffness=.02,Te),n(15,Te.damping=.5,Te),n(16,Re.stiffness=.02,Re),n(16,Re.damping=.5,Re),yt)et=setInterval(function(){oe+=.05,ke.set({x:Math.sin(oe)*25,y:Math.cos(oe)*25}),Te.set({x:55+Math.sin(oe)*55,y:55+Math.cos(oe)*55,o:.8}),Re.set({x:20+Math.sin(oe)*20,y:20+Math.cos(oe)*20})},20),Vt=setTimeout(()=>{clearInterval(et),Fe(null,0)},4e3);else{n(12,be=!1),n(11,Ce=!1);return}},2e3)}});function qt(V){Ie[V?"unshift":"push"](()=>{F=V,n(8,F)})}return t.$$set=V=>{"id"in V&&n(30,d=V.id),"name"in V&&n(5,f=V.name),"number"in V&&n(0,p=V.number),"set"in V&&n(6,_=V.set),"types"in V&&n(1,y=V.types),"subtypes"in V&&n(2,v=V.subtypes),"supertype"in V&&n(3,A=V.supertype),"rarity"in V&&n(4,E=V.rarity),"img"in V&&n(31,R=V.img),"back"in V&&n(32,D=V.back),"foil"in V&&n(33,L=V.foil),"mask"in V&&n(7,U=V.mask),"showcase"in V&&n(34,z=V.showcase)},t.$$.update=()=>{t.$$.dirty[0]&256|t.$$.dirty[1]&32&&(i&&i===F?(fr(),n(11,Ce=!0)):(Ge(),n(11,Ce=!1))),t.$$.dirty[1]&4032&&n(18,r=`
    --pointer-x: ${h.x}%;
    --pointer-y: ${h.y}%;
    --pointer-from-center: ${ni(Math.sqrt((h.y-50)*(h.y-50)+(h.x-50)*(h.x-50))/50,0,1)};
    --pointer-from-top: ${h.y/100};
    --pointer-from-left: ${h.x/100};
    --card-opacity: ${h.o};
    --rotate-x: ${u.x+c.x}deg;
    --rotate-y: ${u.y+c.y}deg;
    --background-x: ${l.x}%;
    --background-y: ${l.y}%;
    --card-scale: ${a};
    --translate-x: ${o.x}px;
    --translate-y: ${o.y}px;
	`),t.$$.dirty[0]&1073741855&&(n(4,E=E.toLowerCase()),n(3,A=A.toLowerCase()),n(0,p=p.toLowerCase()),n(9,we=!!p.match(/^[tg]g/i)||d==="swshp-SWSH076"||d==="swshp-SWSH077"),Array.isArray(y)&&n(1,y=y.join(" ").toLowerCase()),Array.isArray(v)&&n(2,v=v.join(" ").toLowerCase())),t.$$.dirty[0]&256|t.$$.dirty[1]&48&&i&&i===F&&(n(12,be=!0),dr(s))},[p,y,v,A,E,f,_,U,F,we,J,Ce,be,Be,ke,Te,Re,Dt,r,Q,Pt,ct,rn,In,Fe,_t,hr,vt,Bn,Cn,d,R,D,L,z,s,i,o,a,l,c,u,h,qt]}class aO extends ye{constructor(e){super(),ge(this,e,oO,iO,ue,{id:30,name:5,number:0,set:6,types:1,subtypes:2,supertype:3,rarity:4,img:31,back:32,foil:33,mask:7,showcase:34},null,[-1,-1,-1])}}function lO(t){let e,n;const r=[t[0]];let s={};for(let i=0;i<r.length;i+=1)s=vs(s,r[i]);return e=new aO({props:s}),{c(){x(e.$$.fragment)},m(i,o){B(e,i,o),n=!0},p(i,[o]){const a=o&1?Yo(r,[ri(i[0])]):{};e.$set(a)},i(i){n||(b(e.$$.fragment,i),n=!0)},o(i){C(e.$$.fragment,i),n=!1},d(i){W(e,i)}}}function He(t){return typeof t<"u"&&t!==null}function cO(t,e,n){let{id:r=void 0}=e,{name:s=void 0}=e,{number:i=void 0}=e,{set:o=void 0}=e,{types:a=void 0}=e,{subtypes:l=void 0}=e,{supertype:c=void 0}=e,{rarity:u=void 0}=e,{isReverse:h=!1}=e,{img:d=void 0}=e,{back:f=void 0}=e,{foil:p=void 0}=e,{mask:_=void 0}=e,{showcase:y=!1}=e;const v=He(i)&&i.toLowerCase().startsWith("sv"),A=He(i)&&!!i.match(/^[tg]g/i),E=He(r)&&ZD.includes(r)&&!v&&!A,R=He(o)&&o==="swshp";h&&(u=u+" Reverse Holo"),A&&(He(u)&&u.startsWith("Trainer Gallery")&&(u=u.replace(/Trainer Gallery\s*/,"")),He(u)&&u.includes("Rare Holo V")&&He(l)&&l.includes("VMAX")&&(u="Rare Holo VMAX"),He(u)&&u.includes("Rare Holo V")&&He(l)&&l.includes("VSTAR")&&(u="Rare Holo VSTAR")),R&&(r==="swshp-SWSH076"||r==="swshp-SWSH077"?u="Rare Secret":He(l)&&l.includes("V")?u="Rare Holo V":He(l)&&l.includes("V-UNION")?u="Rare Holo VUNION":He(l)&&l.includes("VMAX")?u="Rare Holo VMAX":He(l)&&l.includes("VSTAR")?u="Rare Holo VSTAR":He(l)&&l.includes("Radiant")&&(u="Radiant Rare"));function D(){return He(d)?d:He(o)&&He(i)?`https://images.pokemontcg.io/${o.toLowerCase()}/${i}_hires.png`:""}function L(M,we="masks"){let Q="holo",J="reverse",xe="webp";if(He(M))return M===!1?"":M;if(!He(u)||!He(l)||!He(c)||!He(o)||!He(i))return"";const F=u.toLowerCase(),pe=i.toString().toLowerCase().replace("swsh","").padStart(3,"0"),Ce=o.toString().toLowerCase().replace(/(tg|gg|sv)/,"");if(F==="rare holo"&&(J="swholo"),F==="rare holo cosmos"&&(J="cosmos"),F==="radiant rare"&&(Q="etched",J="radiantholo"),(F==="rare holo v"||F==="rare holo vunion"||F==="basic v")&&(Q="holo",J="sunpillar"),(F==="rare holo vmax"||F==="rare ultra"||F==="rare holo vstar")&&(Q="etched",J="sunpillar"),(F==="amazing rare"||F==="rare rainbow"||F==="rare secret")&&(Q="etched",J="swsecret"),v&&(Q="etched",J="sunpillar",(F==="rare shiny v"||F==="rare holo v"&&pe.startsWith("sv"))&&n(1,u="Rare Shiny V"),(F==="rare shiny vmax"||F==="rare holo vmax"&&pe.startsWith("sv"))&&(J="swsecret",n(1,u="Rare Shiny VMAX"))),A&&(Q="holo",J="rainbow",(F.includes("rare holo v")||F.includes("rare ultra"))&&(Q="etched",J="sunpillar"),F.includes("rare secret")&&(Q="etched",J="swsecret")),E&&(Q="etched",l.includes("VMAX")?(J="swsecret",n(1,u="Rare Rainbow Alt")):J="sunpillar"),R){let be=eO[r];be&&(J=be.style.toLowerCase(),Q=be.etch.toLowerCase(),J==="swholo"?n(1,u="Rare Holo"):J==="cosmos"&&n(1,u="Rare Holo Cosmos"))}return`foils/${Ce}/${we}/upscaled/${pe}_foil_${Q}_${J}_2x.${xe}`}function U(){return L(p,"foils")}function z(){return L(_,"masks")}const N={img:D(),back:f,foil:U(),mask:z(),id:r,name:s,number:i,set:o,types:a,subtypes:l,supertype:c,rarity:u,showcase:y};return t.$$set=M=>{"id"in M&&n(2,r=M.id),"name"in M&&n(3,s=M.name),"number"in M&&n(4,i=M.number),"set"in M&&n(5,o=M.set),"types"in M&&n(6,a=M.types),"subtypes"in M&&n(7,l=M.subtypes),"supertype"in M&&n(8,c=M.supertype),"rarity"in M&&n(1,u=M.rarity),"isReverse"in M&&n(9,h=M.isReverse),"img"in M&&n(10,d=M.img),"back"in M&&n(11,f=M.back),"foil"in M&&n(12,p=M.foil),"mask"in M&&n(13,_=M.mask),"showcase"in M&&n(14,y=M.showcase)},[N,u,r,s,i,o,a,l,c,h,d,f,p,_,y]}class ml extends ye{constructor(e){super(),ge(this,e,cO,lO,ue,{id:2,name:3,number:4,set:5,types:6,subtypes:7,supertype:8,rarity:1,isReverse:9,img:10,back:11,foil:12,mask:13,showcase:14})}}function uO(t){let e,n;return e=new ml({props:{id:"basep-16",name:"Computer Error",set:"basep",number:"16",img:"https://images.pokemontcg.io/basep/16_hires.png",supertype:"Trainer",subtypes:"Rocket's Secret Machine",rarity:"Promo",isReverse:!1}}),{c(){x(e.$$.fragment)},m(r,s){B(e,r,s),n=!0},p:S,i(r){n||(b(e.$$.fragment,r),n=!0)},o(r){C(e.$$.fragment,r),n=!1},d(r){W(e,r)}}}function hO(t){let e,n;return e=new dl({props:{$$slots:{default:[uO]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment)},m(r,s){B(e,r,s),n=!0},p(r,[s]){const i={};s&1&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||(b(e.$$.fragment,r),n=!0)},o(r){C(e.$$.fragment,r),n=!1},d(r){W(e,r)}}}let tf=class extends ye{constructor(e){super(),ge(this,e,null,hO,ue,{})}};function um(t,{delay:e=0,duration:n=400,easing:r=tO,x:s=0,y:i=0,opacity:o=0}={}){const a=getComputedStyle(t),l=+a.opacity,c=a.transform==="none"?"":a.transform,u=l*(1-o),[h,d]=uf(s),[f,p]=uf(i);return{delay:e,duration:n,easing:r,css:(_,y)=>`
			transform: ${c} translate(${(1-_)*h}${d}, ${(1-_)*f}${p});
			opacity: ${l-u*y}`}}function fO(t){let e,n,r,s,i,o,a,l,c;return{c(){e=w("li"),n=w("div"),r=w("img"),i=k(),o=w("strong"),a=re(t[0]),ce(r.src,s=t[2])||m(r,"src",s),m(o,"class","svelte-svbz3w"),m(n,"class","svelte-svbz3w"),m(e,"class","tab-item svelte-svbz3w"),Ke(e,"active",t[1])},m(u,h){I(u,e,h),g(e,n),g(n,r),g(n,i),g(n,o),g(o,a),l||(c=[X(n,"keypress",t[4]),X(e,"click",t[3])],l=!0)},p(u,[h]){h&4&&!ce(r.src,s=u[2])&&m(r,"src",s),h&1&&Se(a,u[0]),h&2&&Ke(e,"active",u[1])},i:S,o:S,d(u){u&&T(e),l=!1,gt(c)}}}function dO(t,e,n){let{label:r,isActive:s,icon:i}=e;function o(l){bc.call(this,t,l)}function a(l){bc.call(this,t,l)}return t.$$set=l=>{"label"in l&&n(0,r=l.label),"isActive"in l&&n(1,s=l.isActive),"icon"in l&&n(2,i=l.icon)},[r,s,i,o,a]}class pO extends ye{constructor(e){super(),ge(this,e,dO,fO,ue,{label:0,isActive:1,icon:2})}}function hm(t,e,n){const r=t.slice();return r[5]=e[n].label,r[6]=e[n].icon,r[8]=n,r}function fm(t){let e,n,r=ve(t[2]),s=[];for(let o=0;o<r.length;o+=1)s[o]=dm(hm(t,r,o));const i=o=>C(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=me()},m(o,a){for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(o,a);I(o,e,a),n=!0},p(o,a){if(a&13){r=ve(o[2]);let l;for(l=0;l<r.length;l+=1){const c=hm(o,r,l);s[l]?(s[l].p(c,a),b(s[l],1)):(s[l]=dm(c),s[l].c(),b(s[l],1),s[l].m(e.parentNode,e))}for(fe(),l=r.length;l<s.length;l+=1)i(l);de()}},i(o){if(!n){for(let a=0;a<r.length;a+=1)b(s[a]);n=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)C(s[a]);n=!1},d(o){o&&T(e),Yt(s,o)}}}function dm(t){let e,n;function r(){return t[4](t[8])}return e=new pO({props:{label:t[5],icon:t[6],isActive:t[0]===t[8]}}),e.$on("click",r),{c(){x(e.$$.fragment)},m(s,i){B(e,s,i),n=!0},p(s,i){t=s;const o={};i&4&&(o.label=t[5]),i&4&&(o.icon=t[6]),i&1&&(o.isActive=t[0]===t[8]),e.$set(o)},i(s){n||(b(e.$$.fragment,s),n=!0)},o(s){C(e.$$.fragment,s),n=!1},d(s){W(e,s)}}}function mO(t){let e,n,r=Array.isArray(t[2]),s,i=r&&fm(t);return{c(){e=w("div"),n=w("ul"),i&&i.c(),m(n,"class","tabs-box svelte-1fo1qfr"),m(n,"id",t[1]),m(e,"class","tabs svelte-1fo1qfr")},m(o,a){I(o,e,a),g(e,n),i&&i.m(n,null),s=!0},p(o,[a]){a&4&&(r=Array.isArray(o[2])),r?i?(i.p(o,a),a&4&&b(i,1)):(i=fm(o),i.c(),b(i,1),i.m(n,null)):i&&(fe(),C(i,1,1,()=>{i=null}),de()),(!s||a&2)&&m(n,"id",o[1])},i(o){s||(b(i),s=!0)},o(o){C(i),s=!1},d(o){o&&T(e),i&&i.d()}}}function gO(t,e,n){let{id:r=""}=e,{items:s=[]}=e,{activeTab:i=0}=e;const o=l=>{n(0,i=l)},a=l=>{o(l)};return t.$$set=l=>{"id"in l&&n(1,r=l.id),"items"in l&&n(2,s=l.items),"activeTab"in l&&n(0,i=l.activeTab)},[i,r,s,o,a]}class yO extends ye{constructor(e){super(),ge(this,e,gO,mO,ue,{id:1,items:2,activeTab:0})}}function pm(t,e,n){const r=t.slice();return r[6]=e[n],r[8]=n,r}function _O(t){let e,n,r,s,i,o,a=ve(t[1]),l=[];for(let c=0;c<a.length;c+=1)l[c]=mm(pm(t,a,c));return{c(){e=w("div"),n=w("h3"),n.textContent="LEVEL MOVES",r=k(),s=w("table"),i=w("tr"),i.innerHTML='<th class="svelte-dzfq6q">Move</th> <th class="svelte-dzfq6q">Level</th>',o=k();for(let c=0;c<l.length;c+=1)l[c].c();m(i,"class","svelte-dzfq6q"),m(s,"class","pokemon-level-movements-content svelte-dzfq6q"),m(e,"class","pokemon-level-movements svelte-dzfq6q")},m(c,u){I(c,e,u),g(e,n),g(e,r),g(e,s),g(s,i),g(s,o);for(let h=0;h<l.length;h+=1)l[h]&&l[h].m(s,null)},p(c,u){if(u&3){a=ve(c[1]);let h;for(h=0;h<a.length;h+=1){const d=pm(c,a,h);l[h]?l[h].p(d,u):(l[h]=mm(d),l[h].c(),l[h].m(s,null))}for(;h<l.length;h+=1)l[h].d(1);l.length=a.length}},d(c){c&&T(e),Yt(l,c)}}}function mm(t){let e,n,r,s,i;return{c(){e=w("tr"),n=w("th"),n.textContent=`${t[6].name}`,r=k(),s=w("th"),s.textContent=`${t[6].level}`,i=k(),m(n,"class","svelte-dzfq6q"),m(s,"class","svelte-dzfq6q"),Vn(e,"background-color",t[0](t[8])),m(e,"class","pokemon-level-movement svelte-dzfq6q")},m(o,a){I(o,e,a),g(e,n),g(e,r),g(e,s),g(e,i)},p:S,d(o){o&&T(e)}}}function vO(t){let e,n=t[1].length>0&&_O(t);return{c(){n&&n.c(),e=me()},m(r,s){n&&n.m(r,s),I(r,e,s)},p(r,[s]){r[1].length>0&&n.p(r,s)},i:S,o:S,d(r){r&&T(e),n&&n.d(r)}}}function wO(t,e,n){let{data:r}=e,{selectedGame:s}=e,{mainColor:i}=e,{secondaryColor:o}=e;const a=c=>c%2===0?i:o;let l=[];return t.$$set=c=>{"data"in c&&n(2,r=c.data),"selectedGame"in c&&n(3,s=c.selectedGame),"mainColor"in c&&n(4,i=c.mainColor),"secondaryColor"in c&&n(5,o=c.secondaryColor)},t.$$.update=()=>{t.$$.dirty&12&&(r==null||r.map(c=>{var u,h;(u=c.version_group_details)!=null&&u.map(d=>d.version_group.name).includes(s)&&l.push({name:c.move.name,level:(h=c.version_group_details)==null?void 0:h[0].level_learned_at})}))},[a,l,r,s,i,o]}class AO extends ye{constructor(e){super(),ge(this,e,wO,vO,ue,{data:2,selectedGame:3,mainColor:4,secondaryColor:5})}}function gm(t,e,n){const r=t.slice();return r[6]=e[n],r[8]=n,r}function SO(t){let e,n,r,s,i,o,a=ve(t[0]),l=[];for(let c=0;c<a.length;c+=1)l[c]=ym(gm(t,a,c));return{c(){e=w("div"),n=w("h3"),n.textContent="MACHINE MOVES",r=k(),s=w("table"),i=w("tr"),i.innerHTML='<th class="svelte-1a9n473">Move</th>',o=k();for(let c=0;c<l.length;c+=1)l[c].c();m(i,"class","svelte-1a9n473"),m(s,"class","pokemon-machine-movements-content svelte-1a9n473"),m(e,"class","pokemon-machine-movements svelte-1a9n473")},m(c,u){I(c,e,u),g(e,n),g(e,r),g(e,s),g(s,i),g(s,o);for(let h=0;h<l.length;h+=1)l[h]&&l[h].m(s,null)},p(c,u){if(u&3){a=ve(c[0]);let h;for(h=0;h<a.length;h+=1){const d=gm(c,a,h);l[h]?l[h].p(d,u):(l[h]=ym(d),l[h].c(),l[h].m(s,null))}for(;h<l.length;h+=1)l[h].d(1);l.length=a.length}},d(c){c&&T(e),Yt(l,c)}}}function ym(t){let e,n,r;return{c(){e=w("tr"),n=w("th"),n.textContent=`${t[6].name}`,r=k(),m(n,"class","svelte-1a9n473"),Vn(e,"background-color",t[1](t[8])),m(e,"class","pokemon-machine-movement svelte-1a9n473")},m(s,i){I(s,e,i),g(e,n),g(e,r)},p:S,d(s){s&&T(e)}}}function EO(t){let e,n=t[0].length>0&&SO(t);return{c(){n&&n.c(),e=me()},m(r,s){n&&n.m(r,s),I(r,e,s)},p(r,[s]){r[0].length>0&&n.p(r,s)},i:S,o:S,d(r){r&&T(e),n&&n.d(r)}}}function bO(t,e,n){let{data:r}=e,{selectedGame:s}=e,{mainColor:i}=e,{secondaryColor:o}=e,a=[];const l=c=>c%2===0?i:o;return t.$$set=c=>{"data"in c&&n(2,r=c.data),"selectedGame"in c&&n(3,s=c.selectedGame),"mainColor"in c&&n(4,i=c.mainColor),"secondaryColor"in c&&n(5,o=c.secondaryColor)},t.$$.update=()=>{t.$$.dirty&12&&(r==null||r.map(c=>{var u;(u=c.version_group_details)!=null&&u.map(h=>h.version_group.name).includes(s)&&a.push({name:c.move.name})}))},[a,l,r,s,i,o]}class TO extends ye{constructor(e){super(),ge(this,e,bO,EO,ue,{data:2,selectedGame:3,mainColor:4,secondaryColor:5})}}function _m(t,e,n){const r=t.slice();return r[6]=e[n],r[8]=n,r}function IO(t){let e,n,r,s,i,o,a=ve(t[0]),l=[];for(let c=0;c<a.length;c+=1)l[c]=vm(_m(t,a,c));return{c(){e=w("div"),n=w("h3"),n.textContent="TUTOR MOVES",r=k(),s=w("table"),i=w("tr"),i.innerHTML='<th class="svelte-wtrjes">Move</th>',o=k();for(let c=0;c<l.length;c+=1)l[c].c();m(i,"class","svelte-wtrjes"),m(s,"class","pokemon-tutor-movements-content svelte-wtrjes"),m(e,"class","pokemon-tutor-movements svelte-wtrjes")},m(c,u){I(c,e,u),g(e,n),g(e,r),g(e,s),g(s,i),g(s,o);for(let h=0;h<l.length;h+=1)l[h]&&l[h].m(s,null)},p(c,u){if(u&3){a=ve(c[0]);let h;for(h=0;h<a.length;h+=1){const d=_m(c,a,h);l[h]?l[h].p(d,u):(l[h]=vm(d),l[h].c(),l[h].m(s,null))}for(;h<l.length;h+=1)l[h].d(1);l.length=a.length}},d(c){c&&T(e),Yt(l,c)}}}function vm(t){let e,n,r;return{c(){e=w("tr"),n=w("th"),n.textContent=`${t[6].name}`,r=k(),m(n,"class","svelte-wtrjes"),Vn(e,"background-color",t[1](t[8])),m(e,"class","pokemon-tutor-movement svelte-wtrjes")},m(s,i){I(s,e,i),g(e,n),g(e,r)},p:S,d(s){s&&T(e)}}}function CO(t){let e,n=t[0].length>0&&IO(t);return{c(){n&&n.c(),e=me()},m(r,s){n&&n.m(r,s),I(r,e,s)},p(r,[s]){r[0].length>0&&n.p(r,s)},i:S,o:S,d(r){r&&T(e),n&&n.d(r)}}}function kO(t,e,n){let{data:r}=e,{selectedGame:s}=e,{mainColor:i}=e,{secondaryColor:o}=e,a=[];const l=c=>c%2===0?i:o;return t.$$set=c=>{"data"in c&&n(2,r=c.data),"selectedGame"in c&&n(3,s=c.selectedGame),"mainColor"in c&&n(4,i=c.mainColor),"secondaryColor"in c&&n(5,o=c.secondaryColor)},t.$$.update=()=>{t.$$.dirty&12&&(r==null||r.map(c=>{var u;(u=c.version_group_details)!=null&&u.map(h=>h.version_group.name).includes(s)&&a.push({name:c.move.name})}))},[a,l,r,s,i,o]}class RO extends ye{constructor(e){super(),ge(this,e,kO,CO,ue,{data:2,selectedGame:3,mainColor:4,secondaryColor:5})}}const PO={a:{viewBox:"0 0 512 512"},c:'<title></title><path d="M48,256c0,114.87,93.13,208,208,208s208-93.13,208-208S370.87,48,256,48,48,141.13,48,256Zm224-80.09L208.42,240H358v32H208.42L272,336.09,249.3,358.63,147.46,256,249.3,153.37Z"></path>'},ae={alphaSaphire:"#26649C",black:"#444444",black2:"#424B50",blue:"#1111FF",brilliantDiamond:"#44BAE5",crystal:"#4FD9FF",diamond:"#AAAAFF",emerald:"#00A000",fireRed:"#FF7327",gold:"#DAA520",green:"#11BB11",heartgold:"#B69E00",leafGreen:"#00DD00",legendsArceus:"#36597B",letsGoEevee:"#D4924B",letsGoPikachu:"#F5DA26",moon:"#5599CA",omegaRuby:"#AB2813",pearl:"#FFAAAA",platinum:"#999999",red:"#FF1111",ruby:"#A00000",sapphire:"#0000A0",scarlet:"#F34134",shield:"#BF004F",shiningPearl:"#DA7D99",silver:"#C0C0C0",soulsilver:"#C0C0E1",sun:"#F1912B",sword:"#00A1E9",ultraMoon:"#226DB5",ultraSun:"#E95B2B",violet:"#8334B7",white:"#E1E1E1",white2:"#E3CED0",x:"#025DA6",xd:"#604E82",y:"#EA1A3E",yellow:"#FFD733"};function wm(t,e,n){const r=t.slice();return r[11]=e[n],r}function DO(t){let e,n,r,s,i,o,a,l,c,u,h,d,f,p;i=new Os({props:{color:t[4](t[3]).mainColor,src:PO}});const _=[VO,MO,NO],y=[];function v(A,E){return A[0]?0:A[1]&&!A[2]?1:A[2]?2:-1}return~(u=v(t))&&(h=y[u]=_[u](t)),{c(){e=w("div"),n=w("div"),r=w("div"),s=w("div"),x(i.$$.fragment),o=k(),a=w("h2"),l=re(t[3]),c=k(),h&&h.c(),m(s,"class","back-icon svelte-ue2sw0"),Vn(a,"color",t[4](t[3]).mainColor),m(a,"class","svelte-ue2sw0"),m(r,"class","movements-header svelte-ue2sw0"),m(n,"class","game-movements svelte-ue2sw0"),m(e,"class","movements-container svelte-ue2sw0")},m(A,E){I(A,e,E),g(e,n),g(n,r),g(r,s),B(i,s,null),g(r,o),g(r,a),g(a,l),g(n,c),~u&&y[u].m(n,null),d=!0,f||(p=X(s,"click",t[10]),f=!0)},p(A,E){const R={};E&24&&(R.color=A[4](A[3]).mainColor),i.$set(R),(!d||E&8)&&Se(l,A[3]),(!d||E&24)&&Vn(a,"color",A[4](A[3]).mainColor);let D=u;u=v(A),u===D?~u&&y[u].p(A,E):(h&&(fe(),C(y[D],1,1,()=>{y[D]=null}),de()),~u?(h=y[u],h?h.p(A,E):(h=y[u]=_[u](A),h.c()),b(h,1),h.m(n,null)):h=null)},i(A){d||(b(i.$$.fragment,A),b(h),d=!0)},o(A){C(i.$$.fragment,A),C(h),d=!1},d(A){A&&T(e),W(i),~u&&y[u].d(),f=!1,p()}}}function OO(t){let e,n=ve(t[8]),r=[];for(let s=0;s<n.length;s+=1)r[s]=bm(wm(t,n,s));return{c(){for(let s=0;s<r.length;s+=1)r[s].c();e=me()},m(s,i){for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(s,i);I(s,e,i)},p(s,i){if(i&280){n=ve(s[8]);let o;for(o=0;o<n.length;o+=1){const a=wm(s,n,o);r[o]?r[o].p(a,i):(r[o]=bm(a),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},i:S,o:S,d(s){s&&T(e),Yt(r,s)}}}function NO(t){let e;return{c(){e=w("span"),m(e,"class","loader svelte-ue2sw0")},m(n,r){I(n,e,r)},p:S,i:S,o:S,d(n){n&&T(e)}}}function MO(t){let e,n;return{c(){e=w("div"),n=re(t[1])},m(r,s){I(r,e,s),g(e,n)},p(r,s){s&2&&Se(n,r[1])},i:S,o:S,d(r){r&&T(e)}}}function VO(t){var l,c,u;let e,n,r,s,i=((l=t[7])==null?void 0:l.length)>0&&Am(t),o=((c=t[6])==null?void 0:c.length)>0&&Sm(t),a=((u=t[5])==null?void 0:u.length)>0&&Em(t);return{c(){e=w("div"),i&&i.c(),n=k(),o&&o.c(),r=k(),a&&a.c(),m(e,"class","movements-tables svelte-ue2sw0")},m(h,d){I(h,e,d),i&&i.m(e,null),g(e,n),o&&o.m(e,null),g(e,r),a&&a.m(e,null),s=!0},p(h,d){var f,p,_;((f=h[7])==null?void 0:f.length)>0?i?(i.p(h,d),d&128&&b(i,1)):(i=Am(h),i.c(),b(i,1),i.m(e,n)):i&&(fe(),C(i,1,1,()=>{i=null}),de()),((p=h[6])==null?void 0:p.length)>0?o?(o.p(h,d),d&64&&b(o,1)):(o=Sm(h),o.c(),b(o,1),o.m(e,r)):o&&(fe(),C(o,1,1,()=>{o=null}),de()),((_=h[5])==null?void 0:_.length)>0?a?(a.p(h,d),d&32&&b(a,1)):(a=Em(h),a.c(),b(a,1),a.m(e,null)):a&&(fe(),C(a,1,1,()=>{a=null}),de())},i(h){s||(b(i),b(o),b(a),s=!0)},o(h){C(i),C(o),C(a),s=!1},d(h){h&&T(e),i&&i.d(),o&&o.d(),a&&a.d()}}}function Am(t){let e,n;return e=new AO({props:{data:t[7],selectedGame:t[3],mainColor:t[4](t[3]).mainColor,secondaryColor:t[4](t[3]).secondaryColor}}),{c(){x(e.$$.fragment)},m(r,s){B(e,r,s),n=!0},p(r,s){const i={};s&128&&(i.data=r[7]),s&8&&(i.selectedGame=r[3]),s&24&&(i.mainColor=r[4](r[3]).mainColor),s&24&&(i.secondaryColor=r[4](r[3]).secondaryColor),e.$set(i)},i(r){n||(b(e.$$.fragment,r),n=!0)},o(r){C(e.$$.fragment,r),n=!1},d(r){W(e,r)}}}function Sm(t){let e,n;return e=new TO({props:{data:t[6],selectedGame:t[3],mainColor:t[4](t[3]).mainColor,secondaryColor:t[4](t[3]).secondaryColor}}),{c(){x(e.$$.fragment)},m(r,s){B(e,r,s),n=!0},p(r,s){const i={};s&64&&(i.data=r[6]),s&8&&(i.selectedGame=r[3]),s&24&&(i.mainColor=r[4](r[3]).mainColor),s&24&&(i.secondaryColor=r[4](r[3]).secondaryColor),e.$set(i)},i(r){n||(b(e.$$.fragment,r),n=!0)},o(r){C(e.$$.fragment,r),n=!1},d(r){W(e,r)}}}function Em(t){let e,n;return e=new RO({props:{data:t[5],selectedGame:t[3],mainColor:t[4](t[3]).mainColor,secondaryColor:t[4](t[3]).secondaryColor}}),{c(){x(e.$$.fragment)},m(r,s){B(e,r,s),n=!0},p(r,s){const i={};s&32&&(i.data=r[5]),s&8&&(i.selectedGame=r[3]),s&24&&(i.mainColor=r[4](r[3]).mainColor),s&24&&(i.secondaryColor=r[4](r[3]).secondaryColor),e.$set(i)},i(r){n||(b(e.$$.fragment,r),n=!0)},o(r){C(e.$$.fragment,r),n=!1},d(r){W(e,r)}}}function bm(t){let e,n=t[11]+"",r,s,i;function o(){return t[9](t[11])}return{c(){e=w("div"),r=re(n),Vn(e,"background","linear-gradient(90deg, "+t[4](t[11]).selectedColor+")"),m(e,"class","game svelte-ue2sw0")},m(a,l){I(a,e,l),g(e,r),s||(i=X(e,"click",o),s=!0)},p(a,l){t=a,l&16&&Vn(e,"background","linear-gradient(90deg, "+t[4](t[11]).selectedColor+")")},d(a){a&&T(e),s=!1,i()}}}function LO(t){let e,n,r,s;const i=[OO,DO],o=[];function a(l,c){return l[3]?1:0}return n=a(t),r=o[n]=i[n](t),{c(){e=w("div"),r.c(),m(e,"class","games-container svelte-ue2sw0")},m(l,c){I(l,e,c),o[n].m(e,null),s=!0},p(l,[c]){let u=n;n=a(l),n===u?o[n].p(l,c):(fe(),C(o[u],1,1,()=>{o[u]=null}),de(),r=o[n],r?r.p(l,c):(r=o[n]=i[n](l),r.c()),b(r,1),r.m(e,null))},i(l){s||(b(r),s=!0)},o(l){C(r),s=!1},d(l){l&&T(e),o[n].d()}}}function FO(t,e,n){let r,s,i,o,{pokemonData:a}=e,{error:l}=e,{loading:c}=e;const u=[];let h=null;const d=p=>{n(3,h=p)},f=()=>n(3,h=null);return t.$$set=p=>{"pokemonData"in p&&n(0,a=p.pokemonData),"error"in p&&n(1,l=p.error),"loading"in p&&n(2,c=p.loading)},t.$$.update=()=>{t.$$.dirty&1&&(a==null||a.moves.forEach(p=>{var _,y,v,A,E,R,D,L,U;((_=p.version_group_details)==null?void 0:_[0].level_learned_at)>0&&!u.includes((y=p.version_group_details)==null?void 0:y[0].version_group.name)&&u.push((v=p.version_group_details)==null?void 0:v[0].version_group.name),((A=p.version_group_details)==null?void 0:A[0].move_learn_method.name)==="machine"&&!u.includes((E=p.version_group_details)==null?void 0:E[0].version_group.name)&&u.push((R=p.version_group_details)==null?void 0:R[0].version_group.name),((D=p.version_group_details)==null?void 0:D[0].move_learn_method.name)==="tutor"&&!u.includes((L=p.version_group_details)==null?void 0:L[0].version_group.name)&&u.push((U=p.version_group_details)==null?void 0:U[0].version_group.name)})),t.$$.dirty&1&&n(7,r=a==null?void 0:a.moves.filter(p=>{var _;return((_=p.version_group_details)==null?void 0:_[0].level_learned_at)>0}).sort((p,_)=>{var y,v;return((y=p.version_group_details)==null?void 0:y[0].level_learned_at)-((v=_.version_group_details)==null?void 0:v[0].level_learned_at)})),t.$$.dirty&1&&n(6,s=a==null?void 0:a.moves.filter(p=>{var _;return((_=p.version_group_details)==null?void 0:_[0].move_learn_method.name)==="machine"})),t.$$.dirty&1&&n(5,i=a==null?void 0:a.moves.filter(p=>{var _;return((_=p.version_group_details)==null?void 0:_[0].move_learn_method.name)==="tutor"}))},n(4,o=p=>{let _=null,y=null,v=null,A=null;if(p!=null&&p.includes("lets-go-pikachu-lets-go-eevee"))_=`${ae.letsGoPikachu}, ${ae.letsGoEevee}`,v=`${ae.letsGoPikachu}`,y=`${ae.letsGoEevee}, ${ae.letsGoPikachu}`,A=`${ae.letsGoEevee}`;else if(p!=null&&p.includes("omega-ruby-alpha-sapphire"))_=`${ae.omegaRuby}, ${ae.alphaSaphire}`,v=`${ae.omegaRuby}`,y=`${ae.alphaSaphire}, ${ae.omegaRuby}`,A=`${ae.alphaSaphire}`;else if(p!=null&&p.includes("black-2-white-2"))_=`${ae.black2}, ${ae.white2}`,v=`${ae.black2}`,y=`${ae.white2}, ${ae.black2}`,A=`${ae.white2}`;else if(p!=null&&p.includes("ultra-sun-ultra-moon"))_=`${ae.ultraSun}, ${ae.ultraMoon}`,v=`${ae.ultraSun}`,y=`${ae.ultraMoon}, ${ae.ultraSun}`,A=`${ae.ultraMoon}`;else if(p!=null&&p.includes("-")){const[E,R]=p.split("-");_=`${ae[E]}, ${ae[R]}`,v=`${ae[E]}`,y=`${ae[R]}, ${ae[E]}`,A=`${ae[R]}`}else _=`${ae[p]}, ${ae[p]}`,v=`${ae[p]}`,y=`${ae[p]}, ${ae[p]}`,A="#ccbbbb";return{selectedColor:_,hoverColor:y,mainColor:v,secondaryColor:A}}),[a,l,c,h,o,i,s,r,u,d,f]}class HO extends ye{constructor(e){super(),ge(this,e,FO,LO,ue,{pokemonData:0,error:1,loading:2})}}const _s={POKEDEX:1,MOVES:2,TCG:3},Sw=[{id:_s.POKEDEX,label:"POKEDEX"},{id:_s.MOVES,label:"MOVES"},{id:_s.TCG,label:"TCG"}];function UO(t){let e,n,r,s,i,o,a,l,c,u;return{c(){e=w("section"),n=w("form"),r=w("input"),s=k(),i=Pn("svg"),o=Pn("path"),a=Pn("path"),l=Pn("path"),m(r,"type","search"),m(r,"pattern","^[a-zA-Z0-9 -.]*$"),m(r,"name","search"),m(r,"id","search"),m(r,"placeholder","Pikachu"),m(r,"class","svelte-11hr1dc"),m(n,"id","example-form"),m(n,"class","svelte-11hr1dc"),m(o,"stroke","none"),m(o,"d","M0 0h24v24H0z"),m(o,"fill","none"),m(a,"d","M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"),m(l,"d","M21 21l-6 -6"),m(i,"xmlns","http://www.w3.org/2000/svg"),m(i,"class","icon icon-tabler icon-tabler-search svelte-11hr1dc"),m(i,"width","24"),m(i,"height","24"),m(i,"viewBox","0 0 24 24"),m(i,"stroke-width","1.25"),m(i,"stroke","currentColor"),m(i,"fill","none"),m(i,"stroke-linecap","round"),m(i,"stroke-linejoin","round"),m(e,"class","search-area svelte-11hr1dc")},m(h,d){I(h,e,d),g(e,n),g(n,r),Ft(r,t[0]),g(e,s),g(e,i),g(i,o),g(i,a),g(i,l),c||(u=[X(r,"input",t[2]),X(n,"submit",t[3]),X(i,"click",t[4]),X(i,"keydown",t[5])],c=!0)},p(h,[d]){d&1&&r.value!==h[0]&&Ft(r,h[0])},i:S,o:S,d(h){h&&T(e),c=!1,gt(u)}}}function BO(t,e,n){let{query:r}=e,{triggerSearch:s}=e;function i(){r=this.value,n(0,r)}const o=c=>s(c),a=c=>s(c),l=c=>s(c);return t.$$set=c=>{"query"in c&&n(0,r=c.query),"triggerSearch"in c&&n(1,s=c.triggerSearch)},[r,s,i,o,a,l]}class WO extends ye{constructor(e){super(),ge(this,e,BO,UO,ue,{query:0,triggerSearch:1})}}function xO(t){let e,n,r,s;return{c(){e=w("div"),n=w("a"),r=w("img"),m(r,"class","pokedex-title"),ce(r.src,s="/assets/images/logos/title.png")||m(r,"src",s),m(r,"alt","title"),m(n,"href",t[0]),m(e,"class","title-images svelte-rkiuis")},m(i,o){I(i,e,o),g(e,n),g(n,r)},p:S,i:S,o:S,d(i){i&&T(e)}}}function jO(t){return[sessionStorage.getItem("user")?"/showCase":"/"]}class qO extends ye{constructor(e){super(),ge(this,e,jO,xO,ue,{})}}function GO(t){let e;return{c(){e=w("div"),e.innerHTML='<img class="pokedex-title" src="/assets/gifs/pokeball.gif" alt="pokeball"/> <h3>Search for a Pokemon or pokedex number</h3>',m(e,"class","no-data svelte-1mrxuf9")},m(n,r){I(n,e,r)},p:S,i:S,o:S,d(n){n&&T(e)}}}class zO extends ye{constructor(e){super(),ge(this,e,null,GO,ue,{})}}function KO(t,e,n){const r=t.slice();return r[6]=e[n],r}function Tm(t,e,n){const r=t.slice();return r[6]=e[n],r}function QO(t){let e,n,r,s,i=ve(ji),o=[];for(let a=0;a<i.length;a+=1)o[a]=Im(Tm(t,i,a));return{c(){e=w("div"),n=w("div"),n.textContent="Series",r=k(),s=w("div");for(let a=0;a<o.length;a+=1)o[a].c();m(n,"class","filter-header svelte-1h3yl4s"),m(s,"class","filters svelte-1h3yl4s"),m(e,"class","tcg-filters svelte-1h3yl4s")},m(a,l){I(a,e,l),g(e,n),g(e,r),g(e,s);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(s,null)},p(a,l){if(l&3){i=ve(ji);let c;for(c=0;c<i.length;c+=1){const u=Tm(a,i,c);o[c]?o[c].p(u,l):(o[c]=Im(u),o[c].c(),o[c].m(s,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=i.length}},d(a){a&&T(e),Yt(o,a)}}}function YO(t){let e,n,r;function s(){return t[3](t[6])}return{c(){e=w("div"),e.textContent=`${t[6].label}`,m(e,"class","filter svelte-1h3yl4s")},m(i,o){I(i,e,o),n||(r=X(e,"click",s),n=!0)},p(i,o){t=i},d(i){i&&T(e),n=!1,r()}}}function XO(t){let e,n,r;return{c(){e=w("div"),e.textContent=`${t[6].label}`,m(e,"class","filter active svelte-1h3yl4s")},m(s,i){I(s,e,i),n||(r=X(e,"click",t[2]),n=!0)},p:S,d(s){s&&T(e),n=!1,r()}}}function Im(t){let e;function n(i,o){return i[6].code===i[0]?XO:YO}let r=n(t),s=r(t);return{c(){s.c(),e=me()},m(i,o){s.m(i,o),I(i,e,o)},p(i,o){r===(r=n(i))&&s?s.p(i,o):(s.d(1),s=r(i),s&&(s.c(),s.m(e.parentNode,e)))},d(i){i&&T(e),s.d(i)}}}function JO(t){let e,n,r,s,i,o,a,l,c=ve(ji),u=[];for(let h=0;h<c.length;h+=1)u[h]=$O(KO(t,c,h));return{c(){e=w("div"),n=w("div"),n.textContent="Series",r=k(),s=w("div"),i=w("select"),o=w("option"),o.textContent="All";for(let h=0;h<u.length;h+=1)u[h].c();m(n,"class","filter-header svelte-1h3yl4s"),o.__value="",Ft(o,o.__value),m(i,"class","filter svelte-1h3yl4s"),t[0]===void 0&&nr(()=>t[4].call(i)),m(s,"class","filters svelte-1h3yl4s"),m(e,"class","tcg-filters svelte-1h3yl4s")},m(h,d){I(h,e,d),g(e,n),g(e,r),g(e,s),g(s,i),g(i,o);for(let f=0;f<u.length;f+=1)u[f]&&u[f].m(i,null);ff(i,t[0],!0),a||(l=[X(i,"change",t[4]),X(i,"change",t[5])],a=!0)},p(h,d){d&1&&ff(i,h[0])},d(h){h&&T(e),Yt(u,h),a=!1,gt(l)}}}function $O(t){let e;return{c(){e=w("option"),e.textContent=`${t[6].label}`,e.__value=t[6].code,Ft(e,e.__value)},m(n,r){I(n,e,r)},p:S,d(n){n&&T(e)}}}function ZO(t){let e=!qp(),n,r=qp(),s,i=e&&QO(t),o=r&&JO(t);return{c(){i&&i.c(),n=k(),o&&o.c(),s=me()},m(a,l){i&&i.m(a,l),I(a,n,l),o&&o.m(a,l),I(a,s,l)},p(a,[l]){e&&i.p(a,l),r&&o.p(a,l)},i:S,o:S,d(a){a&&(T(n),T(s)),i&&i.d(a),o&&o.d(a)}}}function eN(t,e,n){let{currentFilter:r=""}=e,{loadQuery:s=()=>{}}=e;const i=async()=>{n(0,r=""),await s()},o=async c=>{n(0,r=c.code),await s()};function a(){r=Nw(this),n(0,r)}const l=async()=>{await s()};return t.$$set=c=>{"currentFilter"in c&&n(0,r=c.currentFilter),"loadQuery"in c&&n(1,s=c.loadQuery)},[r,s,i,o,a,l]}class tN extends ye{constructor(e){super(),ge(this,e,eN,ZO,ue,{currentFilter:0,loadQuery:1})}}function Cm(t,e,n){const r=t.slice();return r[29]=e[n],r[31]=n,r}function nN(t){let e,n;return e=new zO({}),{c(){x(e.$$.fragment)},m(r,s){B(e,r,s),n=!0},p:S,i(r){n||(b(e.$$.fragment,r),n=!0)},o(r){C(e.$$.fragment,r),n=!1},d(r){W(e,r)}}}function rN(t){let e;return{c(){e=w("span"),m(e,"class","loader svelte-1j96g6u")},m(n,r){I(n,e,r)},p:S,i:S,o:S,d(n){n&&T(e)}}}function sN(t){let e,n;return e=new tf({}),{c(){x(e.$$.fragment)},m(r,s){B(e,r,s),n=!0},p:S,i(r){n||(b(e.$$.fragment,r),n=!0)},o(r){C(e.$$.fragment,r),n=!1},d(r){W(e,r)}}}function iN(t){let e,n,r,s=t[12].id,i,o;function a(u){t[17](u)}let l={items:Sw};t[1]!==void 0&&(l.activeTab=t[1]),e=new yO({props:l}),Ie.push(()=>Je(e,"activeTab",a));let c=Om(t);return{c(){x(e.$$.fragment),r=k(),c.c(),i=me()},m(u,h){B(e,u,h),I(u,r,h),c.m(u,h),I(u,i,h),o=!0},p(u,h){const d={};!n&&h[0]&2&&(n=!0,d.activeTab=u[1],Xe(()=>n=!1)),e.$set(d),h[0]&4096&&ue(s,s=u[12].id)?(fe(),C(c,1,1,S),de(),c=Om(u),c.c(),b(c,1),c.m(i.parentNode,i)):c.p(u,h)},i(u){o||(b(e.$$.fragment,u),b(c),o=!0)},o(u){C(e.$$.fragment,u),C(c),o=!1},d(u){u&&(T(r),T(i)),W(e,u),c.d(u)}}}function oN(t){let e,n,r,s,i,o,a;function l(f){t[20](f)}let c={loadQuery:t[14]};t[5]!==void 0&&(c.currentFilter=t[5]),e=new tN({props:c}),Ie.push(()=>Je(e,"currentFilter",l));let u=t[13]&&t[6]&&km(),h=t[13]&&t[7].length&&!t[6]&&Rm(t),d=t[8]&&!t[6]&&t[0].length&&Dm();return{c(){x(e.$$.fragment),r=k(),u&&u.c(),s=k(),h&&h.c(),i=k(),d&&d.c(),o=me()},m(f,p){B(e,f,p),I(f,r,p),u&&u.m(f,p),I(f,s,p),h&&h.m(f,p),I(f,i,p),d&&d.m(f,p),I(f,o,p),a=!0},p(f,p){const _={};!n&&p[0]&32&&(n=!0,_.currentFilter=f[5],Xe(()=>n=!1)),e.$set(_),f[13]&&f[6]?u||(u=km(),u.c(),u.m(s.parentNode,s)):u&&(u.d(1),u=null),f[13]&&f[7].length&&!f[6]?h?(h.p(f,p),p[0]&8384&&b(h,1)):(h=Rm(f),h.c(),b(h,1),h.m(i.parentNode,i)):h&&(fe(),C(h,1,1,()=>{h=null}),de()),f[8]&&!f[6]&&f[0].length?d?p[0]&321&&b(d,1):(d=Dm(),d.c(),b(d,1),d.m(o.parentNode,o)):d&&(fe(),C(d,1,1,()=>{d=null}),de())},i(f){a||(b(e.$$.fragment,f),b(h),b(d),a=!0)},o(f){C(e.$$.fragment,f),C(h),C(d),a=!1},d(f){f&&(T(r),T(s),T(i),T(o)),W(e,f),u&&u.d(f),h&&h.d(f),d&&d.d(f)}}}function aN(t){let e,n,r;function s(o){t[19](o)}let i={error:t[3],loading:t[4]};return t[9]!==void 0&&(i.pokemonData=t[9]),e=new HO({props:i}),Ie.push(()=>Je(e,"pokemonData",s)),{c(){x(e.$$.fragment)},m(o,a){B(e,o,a),r=!0},p(o,a){const l={};a[0]&8&&(l.error=o[3]),a[0]&16&&(l.loading=o[4]),!n&&a[0]&512&&(n=!0,l.pokemonData=o[9],Xe(()=>n=!1)),e.$set(l)},i(o){r||(b(e.$$.fragment,o),r=!0)},o(o){C(e.$$.fragment,o),r=!1},d(o){W(e,o)}}}function lN(t){let e,n,r,s;const i=[dN,fN,hN,uN],o=[];function a(l,c){return l[0]&&l[9]?0:l[3]?1:l[4]?2:!l[4]&&!l[9]?3:-1}return~(e=a(t))&&(n=o[e]=i[e](t)),{c(){n&&n.c(),r=me()},m(l,c){~e&&o[e].m(l,c),I(l,r,c),s=!0},p(l,c){let u=e;e=a(l),e===u?~e&&o[e].p(l,c):(n&&(fe(),C(o[u],1,1,()=>{o[u]=null}),de()),~e?(n=o[e],n?n.p(l,c):(n=o[e]=i[e](l),n.c()),b(n,1),n.m(r.parentNode,r)):n=null)},i(l){s||(b(n),s=!0)},o(l){C(n),s=!1},d(l){l&&T(r),~e&&o[e].d(l)}}}function km(t){let e,n,r;return{c(){e=w("h3"),e.textContent="Fetching Cards...",n=k(),r=w("span"),m(r,"class","loader svelte-1j96g6u")},m(s,i){I(s,e,i),I(s,n,i),I(s,r,i)},d(s){s&&(T(e),T(n),T(r))}}}function Rm(t){let e,n;return e=new dl({props:{$$slots:{default:[cN]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment)},m(r,s){B(e,r,s),n=!0},p(r,s){const i={};s[0]&128|s[1]&2&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||(b(e.$$.fragment,r),n=!0)},o(r){C(e.$$.fragment,r),n=!1},d(r){W(e,r)}}}function Pm(t,e){let n,r,s;return r=new ml({props:{id:e[29].id,name:e[29].name,set:e[29].set,number:e[29].number,types:e[29].types,supertype:e[29].supertype,subtypes:e[29].subtypes,rarity:e[29].rarity,isReverse:e[29].isReverse}}),{key:t,first:null,c(){n=me(),x(r.$$.fragment),this.first=n},m(i,o){I(i,n,o),B(r,i,o),s=!0},p(i,o){e=i;const a={};o[0]&128&&(a.id=e[29].id),o[0]&128&&(a.name=e[29].name),o[0]&128&&(a.set=e[29].set),o[0]&128&&(a.number=e[29].number),o[0]&128&&(a.types=e[29].types),o[0]&128&&(a.supertype=e[29].supertype),o[0]&128&&(a.subtypes=e[29].subtypes),o[0]&128&&(a.rarity=e[29].rarity),o[0]&128&&(a.isReverse=e[29].isReverse),r.$set(a)},i(i){s||(b(r.$$.fragment,i),s=!0)},o(i){C(r.$$.fragment,i),s=!1},d(i){i&&T(n),W(r,i)}}}function cN(t){let e=[],n=new Map,r,s,i=ve(t[7]);const o=a=>a[29].id;for(let a=0;a<i.length;a+=1){let l=Cm(t,i,a),c=o(l);n.set(c,e[a]=Pm(c,l))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();r=me()},m(a,l){for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(a,l);I(a,r,l),s=!0},p(a,l){l[0]&128&&(i=ve(a[7]),fe(),e=bu(e,l,o,1,a,i,n,r.parentNode,Eu,Pm,r,Cm),de())},i(a){if(!s){for(let l=0;l<i.length;l+=1)b(e[l]);s=!0}},o(a){for(let l=0;l<e.length;l+=1)C(e[l]);s=!1},d(a){a&&T(r);for(let l=0;l<e.length;l+=1)e[l].d(a)}}}function Dm(t){let e,n;return e=new tf({}),{c(){x(e.$$.fragment)},m(r,s){B(e,r,s),n=!0},i(r){n||(b(e.$$.fragment,r),n=!0)},o(r){C(e.$$.fragment,r),n=!1},d(r){W(e,r)}}}function uN(t){let e;return{c(){e=w("h3"),e.textContent="Search for a Pokemon or pokedex number"},m(n,r){I(n,e,r)},p:S,i:S,o:S,d(n){n&&T(e)}}}function hN(t){let e,n,r;return{c(){e=w("h3"),e.textContent="Fetching Pokemon...",n=k(),r=w("span"),m(r,"class","loader svelte-1j96g6u")},m(s,i){I(s,e,i),I(s,n,i),I(s,r,i)},p:S,i:S,o:S,d(s){s&&(T(e),T(n),T(r))}}}function fN(t){let e,n;return e=new tf({}),{c(){x(e.$$.fragment)},m(r,s){B(e,r,s),n=!0},p:S,i(r){n||(b(e.$$.fragment,r),n=!0)},o(r){C(e.$$.fragment,r),n=!1},d(r){W(e,r)}}}function dN(t){let e,n,r;function s(o){t[18](o)}let i={triggerSearch:t[15],pokemonData:t[9],error:t[3],loading:t[4]};return t[10]!==void 0&&(i.evolutionChainData=t[10]),e=new $D({props:i}),Ie.push(()=>Je(e,"evolutionChainData",s)),{c(){x(e.$$.fragment)},m(o,a){B(e,o,a),r=!0},p(o,a){const l={};a[0]&512&&(l.pokemonData=o[9]),a[0]&8&&(l.error=o[3]),a[0]&16&&(l.loading=o[4]),!n&&a[0]&1024&&(n=!0,l.evolutionChainData=o[10],Xe(()=>n=!1)),e.$set(l)},i(o){r||(b(e.$$.fragment,o),r=!0)},o(o){C(e.$$.fragment,o),r=!1},d(o){W(e,o)}}}function Om(t){let e,n,r,s,i,o;const a=[lN,aN,oN],l=[];function c(u,h){return u[12].id===_s.POKEDEX?0:u[12].id===_s.MOVES?1:u[12].id===_s.TCG?2:-1}return~(n=c(t))&&(r=l[n]=a[n](t)),{c(){e=w("div"),r&&r.c(),m(e,"class","slide-wrapper svelte-1j96g6u"),Vn(e,"--back",t[12].back)},m(u,h){I(u,e,h),~n&&l[n].m(e,null),t[21](e),o=!0},p(u,h){t=u;let d=n;n=c(t),n===d?~n&&l[n].p(t,h):(r&&(fe(),C(l[d],1,1,()=>{l[d]=null}),de()),~n?(r=l[n],r?r.p(t,h):(r=l[n]=a[n](t),r.c()),b(r,1),r.m(e,null)):r=null),(!o||h[0]&4096)&&Vn(e,"--back",t[12].back)},i(u){o||(b(r),u&&nr(()=>{o&&(i&&i.end(1),s=rg(e,um,{x:t[11].in,duration:500,opacity:1}),s.start())}),o=!0)},o(u){C(r),s&&s.invalidate(),u&&(i=sg(e,um,{x:t[11].out,duration:500,opacity:1})),o=!1},d(u){u&&T(e),~n&&l[n].d(),t[21](null),u&&i&&i.end()}}}function pN(t){let e,n,r,s,i,o,a,l,c;e=new qO({});function u(_){t[16](_)}let h={triggerSearch:t[15]};t[0]!==void 0&&(h.query=t[0]),r=new WO({props:h}),Ie.push(()=>Je(r,"query",u));const d=[iN,sN,rN,nN],f=[];function p(_,y){return _[9]||_[7].length>0?0:_[3]&&!_[6]?1:_[6]?2:3}return o=p(t),a=f[o]=d[o](t),{c(){x(e.$$.fragment),n=k(),x(r.$$.fragment),i=k(),a.c(),l=me()},m(_,y){B(e,_,y),I(_,n,y),B(r,_,y),I(_,i,y),f[o].m(_,y),I(_,l,y),c=!0},p(_,y){const v={};!s&&y[0]&1&&(s=!0,v.query=_[0],Xe(()=>s=!1)),r.$set(v);let A=o;o=p(_),o===A?f[o].p(_,y):(fe(),C(f[A],1,1,()=>{f[A]=null}),de(),a=f[o],a?a.p(_,y):(a=f[o]=d[o](_),a.c()),b(a,1),a.m(l.parentNode,l))},i(_){c||(b(e.$$.fragment,_),b(r.$$.fragment,_),b(a),c=!0)},o(_){C(e.$$.fragment,_),C(r.$$.fragment,_),C(a),c=!1},d(_){_&&(T(n),T(i),T(l)),W(e,_),W(r,_),f[o].d(_)}}}function mN(t,e,n){let r,s,i="",o="",a=null,l=!1,c="",u=!1,h,d=[],f=!1,p=null,_=null;const y=()=>{n(0,i=""),o="",n(3,a=null),n(4,l=!1),n(6,u=!1),h=null,n(7,d=[]),n(8,f=!1),n(9,p=null),n(10,_=null)};Ia.configure({apiKey:"35c2a827-0d26-4c7a-898e-9cab6a3e629a"});const v=async()=>{o=i,!(!r||i.length===0)&&(n(6,u=!0),clearTimeout(h),h=setTimeout(()=>{console.log(c,"currentFilter"),console.log(i,"query"),Ia.card.where({q:`( ${c?`set.id:${c}`:""} name:"*${i}*" )`,select:"id,name,number,supertype,subtypes,rarity,images,types,set",orderBy:"-set.releaseDate,-number",pageSize:1e3}).then(F=>{const pe=F.data||[];console.log(pe,"cards"),n(7,d=[]),n(8,f=!1);let Ce=pe.slice(0,1e3).map(be=>((be.rarity==="Common"||be.rarity==="Uncommon")&&(be.isReverse=!!Math.round(Math.random())),be.set=be.set.id,be));n(7,d=[...Ce]),d.length||n(8,f=!0),n(6,u=!1)}).catch(()=>{n(7,d=[]),n(6,u=!1),n(8,f=!0)})},666))},A=async()=>{n(4,l=!0);try{const F=await fetch(`https://pokeapi.co/api/v2/pokemon/${i.toLowerCase()}`);if(n(9,p=await F.json()),n(3,a=null),p){n(0,i=p.name);const Ce=await(await fetch(p.species.url)).json(),be=await fetch(Ce.evolution_chain.url);n(10,_=await be.json());const yt=(await(await fetch(`https://pokeapi.co/api/v2/pokemon-species/${p.id}`)).json()).flavor_text_entries.find(Me=>Me.language.name==="en");n(9,p.description=yt.flavor_text,p)}}catch{n(3,a="Pokemon not found"),n(9,p=null)}n(4,l=!1)};let E=0,R=0,D,L;function U(){if(E===R)return;const F=D.offsetWidth,pe=E>R?1:-1;n(11,L={in:F*pe,out:F*-pe})}const z=async(F,pe=null)=>{F.preventDefault(),pe&&n(0,i=pe),o!==i&&(await v(),await A())};function N(F){i=F,n(0,i)}function M(F){E=F,n(1,E)}function we(F){_=F,n(10,_)}function Q(F){p=F,n(9,p)}function J(F){c=F,n(5,c)}function xe(F){Ie[F?"unshift":"push"](()=>{D=F,n(2,D)})}return t.$$.update=()=>{t.$$.dirty[0]&1&&n(13,r=i.length>0),t.$$.dirty[0]&1&&i.length===0&&y(),t.$$.dirty[0]&6&&D&&(U(),R=E),t.$$.dirty[0]&2&&n(12,s=Sw[E]),t.$$.dirty[0]&4},[i,E,D,a,l,c,u,d,f,p,_,L,s,r,v,z,N,M,we,Q,J,xe]}class gN extends ye{constructor(e){super(),ge(this,e,mN,pN,ue,{},null,[-1,-1])}}const yN={a:{viewBox:"0 0 24 24",fill:"none"},c:'<path d="M8 5H6C4.89543 5 4 5.89543 4 7V19C4 20.1046 4.89543 21 6 21H16C17.1046 21 18 20.1046 18 19V18M8 5C8 6.10457 8.89543 7 10 7H12C13.1046 7 14 6.10457 14 5M8 5C8 3.89543 8.89543 3 10 3H12C13.1046 3 14 3.89543 14 5M14 5H16C17.1046 5 18 5.89543 18 7V10M20 14H10M10 14L13 11M10 14L13 17" stroke="#4A5568" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>'},_N={a:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},c:'<path d="M16.972 6.251c-.967-.538-2.185-.188-2.72.777l-3.713 6.682-2.125-2.125c-.781-.781-2.047-.781-2.828 0-.781.781-.781 2.047 0 2.828l4 4c.378.379.888.587 1.414.587l.277-.02c.621-.087 1.166-.46 1.471-1.009l5-9c.537-.966.189-2.183-.776-2.72z"></path>'},vN={a:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},c:'<path d="M12 4c-4.419 0-8 3.582-8 8s3.581 8 8 8 8-3.582 8-8-3.581-8-8-8zm3.707 10.293c.391.391.391 1.023 0 1.414-.195.195-.451.293-.707.293s-.512-.098-.707-.293l-2.293-2.293-2.293 2.293c-.195.195-.451.293-.707.293s-.512-.098-.707-.293c-.391-.391-.391-1.023 0-1.414l2.293-2.293-2.293-2.293c-.391-.391-.391-1.023 0-1.414s1.023-.391 1.414 0l2.293 2.293 2.293-2.293c.391-.391 1.023-.391 1.414 0s.391 1.023 0 1.414l-2.293 2.293 2.293 2.293z"></path>'},wN={a:{viewBox:"0 0 24 24"},c:`<g><path fill="none" d="M0 0h24v24H0z"></path>
<path d="M4 8h16v13a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V8zm3-3V3a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v2h5v2H2V5h5zm2-1v1h6V4H9zm0 8v6h2v-6H9zm4 0v6h2v-6h-2z"></path></g>`};function Nm(t,e,n){const r=t.slice();return r[17]=e[n],r}function Mm(t,e,n){const r=t.slice();return r[17]=e[n],r}function Vm(t){let e,n,r,s,i,o,a=t[0].nickname+"",l,c,u,h,d=t[0].email+"",f,p,_,y,v,A,E,R,D,L,U,z,N,M,we,Q,J,xe,F,pe,Ce,be,$t,Be,yt,Me,Wt=t[0].uid+"",ke,Te,Re,Pt,ct,rn,et,Zt,Vt,xt,jt,In,Fe,_t,hr,vt,en,fr,Ge,tt,Dt,Bn,dr,Ve=t[1]&&Lm(t);Be=new Os({props:{src:yN}});const Cn=[SN,AN],qt=[];function V(Y,qe){return Y[0].friends.length===0?0:1}Fe=V(t),_t=qt[Fe]=Cn[Fe](t);const je=[CN,IN],oe=[];function Le(Y,qe){return Y[0].friendRequests.length===0?0:1}return Ge=Le(t),tt=oe[Ge]=je[Ge](t),{c(){e=w("div"),n=w("div"),r=w("img"),i=k(),o=w("h1"),l=re(a),c=k(),u=w("h2"),h=re("("),f=re(d),p=re(")"),_=k(),y=w("div"),v=w("div"),A=w("div"),E=w("h2"),E.textContent="Update profile",R=k(),D=w("form"),L=w("input"),U=k(),Ve&&Ve.c(),z=k(),N=w("label"),M=w("input"),we=re(`
                            Upload avatar`),Q=k(),J=w("button"),J.textContent="Save",xe=k(),F=w("div"),pe=w("div"),Ce=w("h2"),Ce.textContent="Friend code",be=k(),$t=w("div"),x(Be.$$.fragment),yt=k(),Me=w("p"),ke=re(Wt),Te=k(),Re=w("h2"),Re.textContent="Add friend",Pt=k(),ct=w("input"),rn=k(),et=w("button"),et.textContent="Add friend",Zt=k(),Vt=w("div"),xt=w("div"),jt=w("h2"),jt.textContent="Friends",In=k(),_t.c(),hr=k(),vt=w("div"),en=w("h2"),en.textContent="Friend requests",fr=k(),tt.c(),m(r,"class","user-photo svelte-1vnh0wi"),ce(r.src,s="data:image/png;base64, "+t[0].photoURL)||m(r,"src",s),m(r,"alt","user profile picture"),m(n,"class","profile-frame svelte-1vnh0wi"),m(o,"class","user-name svelte-1vnh0wi"),m(u,"class","user-email svelte-1vnh0wi"),m(E,"class","update-profile-title svelte-1vnh0wi"),m(L,"class","nickname-input svelte-1vnh0wi"),m(L,"type","text"),m(L,"name","nickname"),m(L,"placeholder","Nickname"),m(M,"id","photo-input"),m(M,"type","file"),m(M,"accept","image/*"),m(M,"class","svelte-1vnh0wi"),m(N,"class","custom-file-upload svelte-1vnh0wi"),m(J,"type","submit"),m(J,"class","svelte-1vnh0wi"),m(D,"class","svelte-1vnh0wi"),m(A,"class","update-profile-container svelte-1vnh0wi"),m(Ce,"class","friend-code-title svelte-1vnh0wi"),m($t,"class","friend-code-copy-icon svelte-1vnh0wi"),m(pe,"class","friend-code-title-copy svelte-1vnh0wi"),m(Me,"class","friend-code svelte-1vnh0wi"),m(Me,"id","friend-code"),m(Re,"class","friend-input-title svelte-1vnh0wi"),m(ct,"class","friend-input svelte-1vnh0wi"),m(ct,"type","text"),m(ct,"name","add a friend"),m(ct,"placeholder","Add a friend"),m(et,"class","svelte-1vnh0wi"),m(F,"class","friend-code-container svelte-1vnh0wi"),m(v,"class","profile-content svelte-1vnh0wi"),m(jt,"class","friend-code-title svelte-1vnh0wi"),m(xt,"class","friends-container svelte-1vnh0wi"),m(en,"class","friend-code-title svelte-1vnh0wi"),m(vt,"class","friend-requests-container svelte-1vnh0wi"),m(Vt,"class","friends-and-requests-container svelte-1vnh0wi"),m(y,"class","update-profile-and-fcode-container svelte-1vnh0wi"),m(e,"class","profile-info svelte-1vnh0wi")},m(Y,qe){I(Y,e,qe),g(e,n),g(n,r),g(e,i),g(e,o),g(o,l),g(e,c),g(e,u),g(u,h),g(u,f),g(u,p),g(e,_),g(e,y),g(y,v),g(v,A),g(A,E),g(A,R),g(A,D),g(D,L),g(D,U),Ve&&Ve.m(D,null),g(D,z),g(D,N),g(N,M),g(N,we),g(D,Q),g(D,J),g(v,xe),g(v,F),g(F,pe),g(pe,Ce),g(pe,be),g(pe,$t),B(Be,$t,null),g(F,yt),g(F,Me),g(Me,ke),g(F,Te),g(F,Re),g(F,Pt),g(F,ct),g(F,rn),g(F,et),g(y,Zt),g(y,Vt),g(Vt,xt),g(xt,jt),g(xt,In),qt[Fe].m(xt,null),g(Vt,hr),g(Vt,vt),g(vt,en),g(vt,fr),oe[Ge].m(vt,null),Dt=!0,Bn||(dr=[X(M,"change",t[3]),X(D,"submit",t[10]),X($t,"click",t[11]),X(et,"click",t[12])],Bn=!0)},p(Y,qe){(!Dt||qe&1&&!ce(r.src,s="data:image/png;base64, "+Y[0].photoURL))&&m(r,"src",s),(!Dt||qe&1)&&a!==(a=Y[0].nickname+"")&&Se(l,a),(!Dt||qe&1)&&d!==(d=Y[0].email+"")&&Se(f,d),Y[1]?Ve?Ve.p(Y,qe):(Ve=Lm(Y),Ve.c(),Ve.m(D,z)):Ve&&(Ve.d(1),Ve=null),(!Dt||qe&1)&&Wt!==(Wt=Y[0].uid+"")&&Se(ke,Wt);let qr=Fe;Fe=V(Y),Fe===qr?qt[Fe].p(Y,qe):(fe(),C(qt[qr],1,1,()=>{qt[qr]=null}),de(),_t=qt[Fe],_t?_t.p(Y,qe):(_t=qt[Fe]=Cn[Fe](Y),_t.c()),b(_t,1),_t.m(xt,null));let kn=Ge;Ge=Le(Y),Ge===kn?oe[Ge].p(Y,qe):(fe(),C(oe[kn],1,1,()=>{oe[kn]=null}),de(),tt=oe[Ge],tt?tt.p(Y,qe):(tt=oe[Ge]=je[Ge](Y),tt.c()),b(tt,1),tt.m(vt,null))},i(Y){Dt||(b(Be.$$.fragment,Y),b(_t),b(tt),Dt=!0)},o(Y){C(Be.$$.fragment,Y),C(_t),C(tt),Dt=!1},d(Y){Y&&T(e),Ve&&Ve.d(),W(Be),qt[Fe].d(),oe[Ge].d(),Bn=!1,gt(dr)}}}function Lm(t){let e,n;return{c(){e=w("img"),m(e,"class","user-photo-uploaded svelte-1vnh0wi"),ce(e.src,n="data:image/png;base64, "+t[1])||m(e,"src",n),m(e,"alt","user profile picture")},m(r,s){I(r,e,s)},p(r,s){s&2&&!ce(e.src,n="data:image/png;base64, "+r[1])&&m(e,"src",n)},d(r){r&&T(e)}}}function AN(t){let e,n,r,s={ctx:t,current:null,token:null,hasCatch:!1,pending:TN,then:bN,catch:EN,value:16,blocks:[,,,]};return Ht(n=t[6](t[0].friends),s),{c(){e=me(),s.block.c()},m(i,o){I(i,e,o),s.block.m(i,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,r=!0},p(i,o){t=i,s.ctx=t,o&1&&n!==(n=t[6](t[0].friends))&&Ht(n,s)||Ar(s,t,o)},i(i){r||(b(s.block),r=!0)},o(i){for(let o=0;o<3;o+=1){const a=s.blocks[o];C(a)}r=!1},d(i){i&&T(e),s.block.d(i),s.token=null,s=null}}}function SN(t){let e;return{c(){e=w("p"),e.textContent="You have no friends yet",m(e,"class","friend-code svelte-1vnh0wi")},m(n,r){I(n,e,r)},p:S,i:S,o:S,d(n){n&&T(e)}}}function EN(t){return{c:S,m:S,p:S,i:S,o:S,d:S}}function bN(t){let e,n,r=ve(t[16]),s=[];for(let o=0;o<r.length;o+=1)s[o]=Fm(Mm(t,r,o));const i=o=>C(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=me()},m(o,a){for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(o,a);I(o,e,a),n=!0},p(o,a){if(a&577){r=ve(o[16]);let l;for(l=0;l<r.length;l+=1){const c=Mm(o,r,l);s[l]?(s[l].p(c,a),b(s[l],1)):(s[l]=Fm(c),s[l].c(),b(s[l],1),s[l].m(e.parentNode,e))}for(fe(),l=r.length;l<s.length;l+=1)i(l);de()}},i(o){if(!n){for(let a=0;a<r.length;a+=1)b(s[a]);n=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)C(s[a]);n=!1},d(o){o&&T(e),Yt(s,o)}}}function Fm(t){let e,n,r,s,i,o,a=t[17].nickname+"",l,c,u,h,d,f,p,_,y;d=new Os({props:{src:wN}});function v(){return t[13](t[17])}return{c(){e=w("div"),n=w("div"),r=w("img"),i=k(),o=w("p"),l=re(a),c=k(),u=w("div"),h=w("div"),x(d.$$.fragment),f=k(),m(r,"class","friend-img svelte-1vnh0wi"),ce(r.src,s="data:image/png;base64, "+t[17].photoURL)||m(r,"src",s),m(o,"class","friend-request-name svelte-1vnh0wi"),m(n,"class","friend-request-data svelte-1vnh0wi"),m(h,"class","friend-delete svelte-1vnh0wi"),m(u,"class","friend-request-buttons svelte-1vnh0wi"),m(e,"class","friend-request svelte-1vnh0wi")},m(A,E){I(A,e,E),g(e,n),g(n,r),g(n,i),g(n,o),g(o,l),g(e,c),g(e,u),g(u,h),B(d,h,null),g(e,f),p=!0,_||(y=X(h,"click",v),_=!0)},p(A,E){t=A,(!p||E&1&&!ce(r.src,s="data:image/png;base64, "+t[17].photoURL))&&m(r,"src",s),(!p||E&1)&&a!==(a=t[17].nickname+"")&&Se(l,a)},i(A){p||(b(d.$$.fragment,A),p=!0)},o(A){C(d.$$.fragment,A),p=!1},d(A){A&&T(e),W(d),_=!1,y()}}}function TN(t){return{c:S,m:S,p:S,i:S,o:S,d:S}}function IN(t){let e,n,r,s={ctx:t,current:null,token:null,hasCatch:!1,pending:PN,then:RN,catch:kN,value:16,blocks:[,,,]};return Ht(n=t[6](t[0].friendRequests),s),{c(){e=me(),s.block.c()},m(i,o){I(i,e,o),s.block.m(i,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,r=!0},p(i,o){t=i,s.ctx=t,o&1&&n!==(n=t[6](t[0].friendRequests))&&Ht(n,s)||Ar(s,t,o)},i(i){r||(b(s.block),r=!0)},o(i){for(let o=0;o<3;o+=1){const a=s.blocks[o];C(a)}r=!1},d(i){i&&T(e),s.block.d(i),s.token=null,s=null}}}function CN(t){let e;return{c(){e=w("p"),e.textContent="You have no friend requests",m(e,"class","friend-code svelte-1vnh0wi")},m(n,r){I(n,e,r)},p:S,i:S,o:S,d(n){n&&T(e)}}}function kN(t){return{c:S,m:S,p:S,i:S,o:S,d:S}}function RN(t){let e,n,r=ve(t[16]),s=[];for(let o=0;o<r.length;o+=1)s[o]=Hm(Nm(t,r,o));const i=o=>C(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=me()},m(o,a){for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(o,a);I(o,e,a),n=!0},p(o,a){if(a&449){r=ve(o[16]);let l;for(l=0;l<r.length;l+=1){const c=Nm(o,r,l);s[l]?(s[l].p(c,a),b(s[l],1)):(s[l]=Hm(c),s[l].c(),b(s[l],1),s[l].m(e.parentNode,e))}for(fe(),l=r.length;l<s.length;l+=1)i(l);de()}},i(o){if(!n){for(let a=0;a<r.length;a+=1)b(s[a]);n=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)C(s[a]);n=!1},d(o){o&&T(e),Yt(s,o)}}}function Hm(t){let e,n,r,s,i,o,a=t[17].nickname+"",l,c,u,h,d,f,p,_,y,v,A,E;d=new Os({props:{src:_N}});function R(){return t[14](t[17])}_=new Os({props:{src:vN}});function D(){return t[15](t[17])}return{c(){e=w("div"),n=w("div"),r=w("img"),i=k(),o=w("p"),l=re(a),c=k(),u=w("div"),h=w("div"),x(d.$$.fragment),f=k(),p=w("div"),x(_.$$.fragment),y=k(),m(r,"class","friend-img svelte-1vnh0wi"),ce(r.src,s="data:image/png;base64, "+t[17].photoURL)||m(r,"src",s),m(o,"class","friend-request-name svelte-1vnh0wi"),m(n,"class","friend-request-data svelte-1vnh0wi"),m(h,"class","friend-request-accept svelte-1vnh0wi"),m(p,"class","friend-request-reject svelte-1vnh0wi"),m(u,"class","friend-request-buttons svelte-1vnh0wi"),m(e,"class","friend-request svelte-1vnh0wi")},m(L,U){I(L,e,U),g(e,n),g(n,r),g(n,i),g(n,o),g(o,l),g(e,c),g(e,u),g(u,h),B(d,h,null),g(u,f),g(u,p),B(_,p,null),g(e,y),v=!0,A||(E=[X(h,"click",R),X(p,"click",D)],A=!0)},p(L,U){t=L,(!v||U&1&&!ce(r.src,s="data:image/png;base64, "+t[17].photoURL))&&m(r,"src",s),(!v||U&1)&&a!==(a=t[17].nickname+"")&&Se(l,a)},i(L){v||(b(d.$$.fragment,L),b(_.$$.fragment,L),v=!0)},o(L){C(d.$$.fragment,L),C(_.$$.fragment,L),v=!1},d(L){L&&T(e),W(d),W(_),A=!1,gt(E)}}}function PN(t){return{c:S,m:S,p:S,i:S,o:S,d:S}}function DN(t){let e,n,r=t[0]&&Vm(t);return{c(){r&&r.c(),e=me()},m(s,i){r&&r.m(s,i),I(s,e,i),n=!0},p(s,[i]){s[0]?r?(r.p(s,i),i&1&&b(r,1)):(r=Vm(s),r.c(),b(r,1),r.m(e.parentNode,e)):r&&(fe(),C(r,1,1,()=>{r=null}),de())},i(s){n||(b(r),n=!0)},o(s){C(r),n=!1},d(s){s&&T(e),r&&r.d(s)}}}function ON(t,e,n){let r,s=null;zi(async()=>{const E=sessionStorage.getItem("user");await hn(JSON.parse(E).uid).then(R=>{R&&n(0,r=R)})});const i=async E=>{E.preventDefault();let R;if(E.target.nickname.value===""&&s===null){alert("Please enter a nickname or upload a profile picture");return}s===null?R={nickname:E.target.nickname.value}:E.target.nickname.value===""?R={photoURL:s}:R={nickname:E.target.nickname.value,photoURL:s},await Aw(r.uid,R),window.location.reload()},o=async E=>{const R=E.target.files[0];if(R)if(R.size>701486)alert("File is too big! Please select a file smaller than 0.7MB.");else{const D=new FileReader;D.onload=L=>{n(1,s=L.target.result.split(",")[1])},D.readAsDataURL(R)}},a=async()=>{const E=document.getElementById("friend-code").textContent;try{await navigator.clipboard.writeText(E),alert("Copied to clipboard")}catch(R){console.error("Unable to copy text: "+R)}},l=async()=>{if(document.querySelector(".friend-input").value===""){alert("Please enter a friend code");return}if(document.querySelector(".friend-input").value===r.uid){alert("You cannot add yourself as a friend");return}const E=await hD(r.uid,document.querySelector(".friend-input").value);if(E){alert(E),document.querySelector(".friend-input").value="";return}alert("Friend request sent"),document.querySelector(".friend-input").value=""},c=async E=>{if(E.length){const R=E.map(async D=>{console.log(D,"friendRequest");const L=await hn(D);if(console.log(L,"response"),L)return{uid:D,nickname:L.nickname,photoURL:L.photoURL}});try{return await Promise.all(R)}catch(D){console.error(D)}}return Promise.resolve([])},u=async(E,R)=>{await fD(E,R),alert("Friend request accepted"),window.location.reload()},h=async(E,R)=>{await dD(E,R),alert("Friend request rejected"),window.location.reload()},d=async(E,R)=>{await pD(E,R),alert("Friend removed"),window.location.reload()};return[r,s,i,o,a,l,c,u,h,d,E=>i(E),()=>a(),()=>l(),E=>d(r.uid,E.uid),E=>u(r.uid,E.uid),E=>h(r.uid,E.uid)]}class NN extends ye{constructor(e){super(),ge(this,e,ON,DN,ue,{})}}function Um(t,e,n){const r=t.slice();return r[1]=e[n],r[3]=n,r}function Bm(t){let e,n;return e=new dl({props:{$$slots:{default:[MN]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment)},m(r,s){B(e,r,s),n=!0},p(r,s){const i={};s&17&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||(b(e.$$.fragment,r),n=!0)},o(r){C(e.$$.fragment,r),n=!1},d(r){W(e,r)}}}function Wm(t,e){let n,r,s;return r=new ml({props:{id:e[1].id,name:e[1].name,set:e[1].set,number:e[1].number,types:e[1].types,supertype:e[1].supertype,subtypes:e[1].subtypes,rarity:e[1].rarity,isReverse:e[1].isReverse}}),{key:t,first:null,c(){n=me(),x(r.$$.fragment),this.first=n},m(i,o){I(i,n,o),B(r,i,o),s=!0},p(i,o){e=i;const a={};o&1&&(a.id=e[1].id),o&1&&(a.name=e[1].name),o&1&&(a.set=e[1].set),o&1&&(a.number=e[1].number),o&1&&(a.types=e[1].types),o&1&&(a.supertype=e[1].supertype),o&1&&(a.subtypes=e[1].subtypes),o&1&&(a.rarity=e[1].rarity),o&1&&(a.isReverse=e[1].isReverse),r.$set(a)},i(i){s||(b(r.$$.fragment,i),s=!0)},o(i){C(r.$$.fragment,i),s=!1},d(i){i&&T(n),W(r,i)}}}function MN(t){let e=[],n=new Map,r,s,i=ve(t[0].collection);const o=a=>a[1].id;for(let a=0;a<i.length;a+=1){let l=Um(t,i,a),c=o(l);n.set(c,e[a]=Wm(c,l))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();r=me()},m(a,l){for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(a,l);I(a,r,l),s=!0},p(a,l){l&1&&(i=ve(a[0].collection),fe(),e=bu(e,l,o,1,a,i,n,r.parentNode,Eu,Wm,r,Um),de())},i(a){if(!s){for(let l=0;l<i.length;l+=1)b(e[l]);s=!0}},o(a){for(let l=0;l<e.length;l+=1)C(e[l]);s=!1},d(a){a&&T(r);for(let l=0;l<e.length;l+=1)e[l].d(a)}}}function VN(t){let e,n,r=t[0]&&t[0].collection.length&&Bm(t);return{c(){r&&r.c(),e=me()},m(s,i){r&&r.m(s,i),I(s,e,i),n=!0},p(s,[i]){s[0]&&s[0].collection.length?r?(r.p(s,i),i&1&&b(r,1)):(r=Bm(s),r.c(),b(r,1),r.m(e.parentNode,e)):r&&(fe(),C(r,1,1,()=>{r=null}),de())},i(s){n||(b(r),n=!0)},o(s){C(r),n=!1},d(s){s&&T(e),r&&r.d(s)}}}function LN(t,e,n){let r;return zi(async()=>{const s=sessionStorage.getItem("user");await hn(JSON.parse(s).uid).then(i=>{i&&n(0,r=i)})}),[r]}class FN extends ye{constructor(e){super(),ge(this,e,LN,VN,ue,{})}}const xm=[{name:"Standard",banner:"/assets/images/balls/Poke_Ball.webp",price:100,class:"pokeball"},{name:"Super",banner:"/assets/images/balls/Super_Ball.webp",price:200,class:"superball"},{name:"Ultra",banner:"/assets/images/balls/Ultra_Ball.webp",price:500,class:"ultraball"}];function jm(t,e,n){const r=t.slice();return r[13]=e[n],r}function HN(t){let e,n,r,s,i,o,a,l,c,u,h=t[4]?"Seems like it's opening...":"Press the pokeball to free the pokemon",d,f,p;return{c(){e=w("div"),n=w("div"),r=k(),s=w("div"),i=w("div"),o=k(),a=w("div"),c=k(),u=w("div"),d=re(h),m(n,"class","shadow svelte-sj32nn"),Ke(n,"shadow-effect",t[4]),m(i,"class","reflect svelte-sj32nn"),m(a,"class","button svelte-sj32nn"),m(s,"class",l=cf(t[5])+" svelte-sj32nn"),Ke(s,"rotate-effect",t[4]),m(u,"class","summon-info svelte-sj32nn"),m(e,"class","pokeball-animation svelte-sj32nn")},m(_,y){I(_,e,y),g(e,n),g(e,r),g(e,s),g(s,i),g(s,o),g(s,a),g(e,c),g(e,u),g(u,d),f||(p=X(s,"click",t[10]),f=!0)},p(_,y){y&16&&Ke(n,"shadow-effect",_[4]),y&32&&l!==(l=cf(_[5])+" svelte-sj32nn")&&m(s,"class",l),y&48&&Ke(s,"rotate-effect",_[4]),y&16&&h!==(h=_[4]?"Seems like it's opening...":"Press the pokeball to free the pokemon")&&Se(d,h)},i:S,o:S,d(_){_&&T(e),f=!1,p()}}}function UN(t){let e,n,r,s,i,o,a;return n=new dl({props:{$$slots:{default:[WN]},$$scope:{ctx:t}}}),{c(){e=w("div"),x(n.$$.fragment),r=k(),s=w("button"),s.textContent="Catch it!",m(s,"class","svelte-sj32nn"),m(e,"class","summon-container svelte-sj32nn")},m(l,c){I(l,e,c),B(n,e,null),g(e,r),g(e,s),i=!0,o||(a=X(s,"click",t[9]),o=!0)},p(l,c){const u={};c&65540&&(u.$$scope={dirty:c,ctx:l}),n.$set(u)},i(l){i||(b(n.$$.fragment,l),i=!0)},o(l){C(n.$$.fragment,l),i=!1},d(l){l&&T(e),W(n),o=!1,a()}}}function BN(t){let e,n,r,s,i=ve(xm),o=[];for(let a=0;a<i.length;a+=1)o[a]=qm(jm(t,i,a));return{c(){e=w("div"),n=w("div"),n.innerHTML="<h1>Summon a pokemon</h1> <p>Choose a summon type</p>",r=k(),s=w("div");for(let a=0;a<o.length;a+=1)o[a].c();m(n,"class","summon-title svelte-sj32nn"),m(s,"class","summon-types svelte-sj32nn"),m(e,"class","summon-container svelte-sj32nn")},m(a,l){I(a,e,l),g(e,n),g(e,r),g(e,s);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(s,null)},p(a,l){if(l&40){i=ve(xm);let c;for(c=0;c<i.length;c+=1){const u=jm(a,i,c);o[c]?o[c].p(u,l):(o[c]=qm(u),o[c].c(),o[c].m(s,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=i.length}},i:S,o:S,d(a){a&&T(e),Yt(o,a)}}}function WN(t){let e,n;return e=new ml({props:{id:t[2].id,name:t[2].name,set:t[2].set,number:t[2].number,types:t[2].types,supertype:t[2].supertype,subtypes:t[2].subtypes,rarity:t[2].rarity,isReverse:t[2].isReverse}}),{c(){x(e.$$.fragment)},m(r,s){B(e,r,s),n=!0},p(r,s){const i={};s&4&&(i.id=r[2].id),s&4&&(i.name=r[2].name),s&4&&(i.set=r[2].set),s&4&&(i.number=r[2].number),s&4&&(i.types=r[2].types),s&4&&(i.supertype=r[2].supertype),s&4&&(i.subtypes=r[2].subtypes),s&4&&(i.rarity=r[2].rarity),s&4&&(i.isReverse=r[2].isReverse),e.$set(i)},i(r){n||(b(e.$$.fragment,r),n=!0)},o(r){C(e.$$.fragment,r),n=!1},d(r){W(e,r)}}}function qm(t){let e,n,r,s,i,o,a,l,c,u,h;function d(){return t[8](t[13])}return{c(){e=w("div"),n=w("div"),r=w("div"),r.textContent=`${t[13].price}`,s=k(),i=w("img"),a=k(),l=w("div"),l.textContent=`${t[13].name}`,c=k(),m(r,"class","summon-type-price"),ce(i.src,o=t[13].banner)||m(i,"src",o),m(i,"alt",t[13].name),m(i,"width","200px"),m(i,"class","svelte-sj32nn"),m(n,"class","summon-type-image svelte-sj32nn"),m(l,"class","summon-type-name svelte-sj32nn"),m(e,"class","summon-type svelte-sj32nn")},m(f,p){I(f,e,p),g(e,n),g(n,r),g(n,s),g(n,i),g(e,a),g(e,l),g(e,c),u||(h=X(e,"click",d),u=!0)},p(f,p){t=f},d(f){f&&T(e),u=!1,h()}}}function xN(t){let e,n,r,s;const i=[BN,UN,HN],o=[];function a(l,c){return!l[3]&&!l[1]?0:l[1]?1:l[3]&&!l[1]?2:-1}return~(e=a(t))&&(n=o[e]=i[e](t)),{c(){n&&n.c(),r=me()},m(l,c){~e&&o[e].m(l,c),I(l,r,c),s=!0},p(l,[c]){let u=e;e=a(l),e===u?~e&&o[e].p(l,c):(n&&(fe(),C(o[u],1,1,()=>{o[u]=null}),de()),~e?(n=o[e],n?n.p(l,c):(n=o[e]=i[e](l),n.c()),b(n,1),n.m(r.parentNode,r)):n=null)},i(l){s||(b(n),s=!0)},o(l){C(n),s=!1},d(l){l&&T(r),~e&&o[e].d(l)}}}function jN(t,e,n){let r,s=!1,i=!1,o,a=!1,l=!1,c="pokeball";const u=()=>{n(4,l=!0)},h=async()=>{n(0,s=!0),u();const y=performance.now();for(;!o;)await vw().then(A=>{n(2,o=A)});const v=sessionStorage.getItem("user");for(await hn(JSON.parse(v).uid).then(A=>{A&&(r=A)}),await Aw(r.uid,{...r,collection:[...r.collection,o]});performance.now()-y<4e3;)await new Promise(A=>setTimeout(A,100));n(1,i=!0)},d=()=>{n(0,s=!1),n(1,i=!1),n(3,a=!1),n(4,l=!1),n(2,o=null)};return[s,i,o,a,l,c,h,d,y=>{n(5,c=y.class),n(3,a=!0)},()=>d(),async()=>{s||await h()}]}class qN extends ye{constructor(e){super(),ge(this,e,jN,xN,ue,{})}}function GN(t){let e;return{c(){e=w("div"),e.textContent="Coming Soon...",m(e,"class","coming-soon svelte-piyyfe")},m(n,r){I(n,e,r)},p:S,i:S,o:S,d(n){n&&T(e)}}}class Ew extends ye{constructor(e){super(),ge(this,e,null,GN,ue,{})}}function Gm(t){let e;const n=t[2].default,r=Ns(n,t,t[1],null);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),e=!0},p(s,i){r&&r.p&&(!e||i&2)&&Vs(r,n,s,s[1],e?Ms(n,s[1],i,null):Ls(s[1]),null)},i(s){e||(b(r,s),e=!0)},o(s){C(r,s),e=!1},d(s){r&&r.d(s)}}}function zN(t){let e,n,r=t[0]&&Gm(t);return{c(){r&&r.c(),e=me()},m(s,i){r&&r.m(s,i),I(s,e,i),n=!0},p(s,[i]){s[0]?r?(r.p(s,i),i&1&&b(r,1)):(r=Gm(s),r.c(),b(r,1),r.m(e.parentNode,e)):r&&(fe(),C(r,1,1,()=>{r=null}),de())},i(s){n||(b(r),n=!0)},o(s){C(r),n=!1},d(s){s&&T(e),r&&r.d(s)}}}function KN(t,e,n){let r,{$$slots:s={},$$scope:i}=e;return t.$$set=o=>{"$$scope"in o&&n(1,i=o.$$scope)},t.$$.update=()=>{t.$$.dirty&1&&(r||(window.location.href="/"))},n(0,r=sessionStorage.getItem("user")),[r,i,s]}class zs extends ye{constructor(e){super(),ge(this,e,KN,zN,ue,{})}}function QN(t){let e,n,r,s;return{c(){e=w("div"),n=w("button"),n.innerHTML='<svg width="32" height="24" class="svelte-1cwhwyg"><line id="top" x1="8" y1="7" x2="24" y2="7" class="svelte-1cwhwyg"></line><line id="middle" x1="8" y1="12" x2="24" y2="12" class="svelte-1cwhwyg"></line><line id="bottom" x1="8" y1="17" x2="24" y2="17" class="svelte-1cwhwyg"></line></svg>',m(n,"class","text-gray-500 hover:text-gray-700 cursor-pointer mr-4 border-none focus:outline-none svelte-1cwhwyg"),Ke(n,"open",t[0]),m(e,"class","button-wrapper")},m(i,o){I(i,e,o),g(e,n),r||(s=X(n,"click",t[1]),r=!0)},p(i,[o]){o&1&&Ke(n,"open",i[0])},i:S,o:S,d(i){i&&T(e),r=!1,s()}}}function YN(t,e,n){let{open:r=!1}=e;const s=()=>n(0,r=!r);return t.$$set=i=>{"open"in i&&n(0,r=i.open)},[r,s]}class XN extends ye{constructor(e){super(),ge(this,e,YN,QN,ue,{open:0})}}function JN(t){let e,n,r;function s(o){t[1](o)}let i={};return t[0]!==void 0&&(i.open=t[0]),e=new XN({props:i}),Ie.push(()=>Je(e,"open",s)),{c(){x(e.$$.fragment)},m(o,a){B(e,o,a),r=!0},p(o,[a]){const l={};!n&&a&1&&(n=!0,l.open=o[0],Xe(()=>n=!1)),e.$set(l)},i(o){r||(b(e.$$.fragment,o),r=!0)},o(o){C(e.$$.fragment,o),r=!1},d(o){W(e,o)}}}function $N(t,e,n){let{sidebar:r=!1}=e;function s(i){r=i,n(0,r)}return t.$$set=i=>{"sidebar"in i&&n(0,r=i.sidebar)},[r,s]}class Ks extends ye{constructor(e){super(),ge(this,e,$N,JN,ue,{sidebar:0})}}function zm(t){let e,n,r,s,i,o=t[1].nickname+"",a,l,c,u,h=t[1].email+"",d,f;return{c(){e=w("div"),n=w("img"),s=k(),i=w("h1"),a=re(o),l=k(),c=w("h2"),u=re("("),d=re(h),f=re(")"),m(n,"class","user-photo svelte-10flijl"),ce(n.src,r="data:image/png;base64, "+t[1].photoURL)||m(n,"src",r),m(n,"alt","user profile picture"),m(e,"class","profile-frame svelte-10flijl"),m(i,"class","user-name svelte-10flijl"),m(c,"class","user-email svelte-10flijl")},m(p,_){I(p,e,_),g(e,n),I(p,s,_),I(p,i,_),g(i,a),I(p,l,_),I(p,c,_),g(c,u),g(c,d),g(c,f)},p(p,_){_&2&&!ce(n.src,r="data:image/png;base64, "+p[1].photoURL)&&m(n,"src",r),_&2&&o!==(o=p[1].nickname+"")&&Se(a,o),_&2&&h!==(h=p[1].email+"")&&Se(d,h)},d(p){p&&(T(e),T(s),T(i),T(l),T(c))}}}function ZN(t){let e,n,r,s,i,o,a,l,c,u,h,d,f,p,_,y,v,A,E=t[1]&&zm(t);return{c(){e=w("aside"),n=w("nav"),E&&E.c(),r=k(),s=w("button"),s.textContent="Pokedex",i=k(),o=w("button"),o.textContent="Profile",a=k(),l=w("button"),l.textContent="Collection",c=k(),u=w("button"),u.textContent="Battle!",h=k(),d=w("button"),d.textContent="Summon",f=k(),p=w("button"),p.textContent="Settings",_=k(),y=w("button"),y.textContent="Logout",m(s,"class","hover:text-gray-700 hover:no-underline svelte-10flijl"),m(o,"class","hover:text-gray-700 hover:no-underline svelte-10flijl"),m(l,"class","hover:text-gray-700 hover:no-underline svelte-10flijl"),m(u,"class","hover:text-gray-700 hover:no-underline svelte-10flijl"),m(d,"class","hover:text-gray-700 hover:no-underline svelte-10flijl"),m(p,"class","hover:text-gray-700 hover:no-underline svelte-10flijl"),m(y,"class","hover:text-gray-700 hover:no-underline svelte-10flijl"),m(n,"class","text-xl svelte-10flijl"),m(e,"class","absolute w-full h-full bg-gray-200 border-r-2 shadow-lg svelte-10flijl"),Ke(e,"open",t[0])},m(R,D){I(R,e,D),g(e,n),E&&E.m(n,null),g(n,r),g(n,s),g(n,i),g(n,o),g(n,a),g(n,l),g(n,c),g(n,u),g(n,h),g(n,d),g(n,f),g(n,p),g(n,_),g(n,y),v||(A=[X(s,"click",t[3]),X(o,"click",t[4]),X(l,"click",t[5]),X(u,"click",t[6]),X(d,"click",t[7]),X(p,"click",t[8]),X(y,"click",t[9])],v=!0)},p(R,[D]){R[1]?E?E.p(R,D):(E=zm(R),E.c(),E.m(n,r)):E&&(E.d(1),E=null),D&1&&Ke(e,"open",R[0])},i:S,o:S,d(R){R&&T(e),E&&E.d(),v=!1,gt(A)}}}function eM(t,e,n){let{open:r=!1}=e,s;zi(async()=>{const f=sessionStorage.getItem("user");await hn(JSON.parse(f).uid).then(p=>{p&&n(1,s=p)})});const i=async()=>{sessionStorage.removeItem("user"),window.location.href="/"},o=()=>window.location.href="/showCase",a=()=>window.location.href="/profile",l=()=>window.location.href="/collection",c=()=>window.location.href="/battle",u=()=>window.location.href="/summon",h=()=>window.location.href="/settings",d=()=>i();return t.$$set=f=>{"open"in f&&n(0,r=f.open)},[r,s,i,o,a,l,c,u,h,d]}class Qs extends ye{constructor(e){super(),ge(this,e,eM,ZN,ue,{open:0})}}function tM(t){let e,n;return e=new yD({}),{c(){x(e.$$.fragment)},m(r,s){B(e,r,s),n=!0},i(r){n||(b(e.$$.fragment,r),n=!0)},o(r){C(e.$$.fragment,r),n=!1},d(r){W(e,r)}}}function nM(t){let e,n;return e=new wD({}),{c(){x(e.$$.fragment)},m(r,s){B(e,r,s),n=!0},i(r){n||(b(e.$$.fragment,r),n=!0)},o(r){C(e.$$.fragment,r),n=!1},d(r){W(e,r)}}}function rM(t){let e,n,r,s,i,o,a,l;function c(f){t[2](f)}let u={};t[1]!==void 0&&(u.open=t[1]),e=new Qs({props:u}),Ie.push(()=>Je(e,"open",c));function h(f){t[3](f)}let d={};return t[1]!==void 0&&(d.sidebar=t[1]),s=new Ks({props:d}),Ie.push(()=>Je(s,"sidebar",h)),a=new gN({}),{c(){x(e.$$.fragment),r=k(),x(s.$$.fragment),o=k(),x(a.$$.fragment)},m(f,p){B(e,f,p),I(f,r,p),B(s,f,p),I(f,o,p),B(a,f,p),l=!0},p(f,p){const _={};!n&&p&2&&(n=!0,_.open=f[1],Xe(()=>n=!1)),e.$set(_);const y={};!i&&p&2&&(i=!0,y.sidebar=f[1],Xe(()=>i=!1)),s.$set(y)},i(f){l||(b(e.$$.fragment,f),b(s.$$.fragment,f),b(a.$$.fragment,f),l=!0)},o(f){C(e.$$.fragment,f),C(s.$$.fragment,f),C(a.$$.fragment,f),l=!1},d(f){f&&(T(r),T(o)),W(e,f),W(s,f),W(a,f)}}}function sM(t){let e,n;return e=new zs({props:{$$slots:{default:[rM]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment)},m(r,s){B(e,r,s),n=!0},p(r,s){const i={};s&16386&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||(b(e.$$.fragment,r),n=!0)},o(r){C(e.$$.fragment,r),n=!1},d(r){W(e,r)}}}function iM(t){let e,n,r,s,i,o,a,l;function c(f){t[4](f)}let u={};t[1]!==void 0&&(u.open=t[1]),e=new Qs({props:u}),Ie.push(()=>Je(e,"open",c));function h(f){t[5](f)}let d={};return t[1]!==void 0&&(d.sidebar=t[1]),s=new Ks({props:d}),Ie.push(()=>Je(s,"sidebar",h)),a=new NN({}),{c(){x(e.$$.fragment),r=k(),x(s.$$.fragment),o=k(),x(a.$$.fragment)},m(f,p){B(e,f,p),I(f,r,p),B(s,f,p),I(f,o,p),B(a,f,p),l=!0},p(f,p){const _={};!n&&p&2&&(n=!0,_.open=f[1],Xe(()=>n=!1)),e.$set(_);const y={};!i&&p&2&&(i=!0,y.sidebar=f[1],Xe(()=>i=!1)),s.$set(y)},i(f){l||(b(e.$$.fragment,f),b(s.$$.fragment,f),b(a.$$.fragment,f),l=!0)},o(f){C(e.$$.fragment,f),C(s.$$.fragment,f),C(a.$$.fragment,f),l=!1},d(f){f&&(T(r),T(o)),W(e,f),W(s,f),W(a,f)}}}function oM(t){let e,n;return e=new zs({props:{$$slots:{default:[iM]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment)},m(r,s){B(e,r,s),n=!0},p(r,s){const i={};s&16386&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||(b(e.$$.fragment,r),n=!0)},o(r){C(e.$$.fragment,r),n=!1},d(r){W(e,r)}}}function aM(t){let e,n,r,s,i,o,a,l;function c(f){t[6](f)}let u={};t[1]!==void 0&&(u.open=t[1]),e=new Qs({props:u}),Ie.push(()=>Je(e,"open",c));function h(f){t[7](f)}let d={};return t[1]!==void 0&&(d.sidebar=t[1]),s=new Ks({props:d}),Ie.push(()=>Je(s,"sidebar",h)),a=new FN({}),{c(){x(e.$$.fragment),r=k(),x(s.$$.fragment),o=k(),x(a.$$.fragment)},m(f,p){B(e,f,p),I(f,r,p),B(s,f,p),I(f,o,p),B(a,f,p),l=!0},p(f,p){const _={};!n&&p&2&&(n=!0,_.open=f[1],Xe(()=>n=!1)),e.$set(_);const y={};!i&&p&2&&(i=!0,y.sidebar=f[1],Xe(()=>i=!1)),s.$set(y)},i(f){l||(b(e.$$.fragment,f),b(s.$$.fragment,f),b(a.$$.fragment,f),l=!0)},o(f){C(e.$$.fragment,f),C(s.$$.fragment,f),C(a.$$.fragment,f),l=!1},d(f){f&&(T(r),T(o)),W(e,f),W(s,f),W(a,f)}}}function lM(t){let e,n;return e=new zs({props:{$$slots:{default:[aM]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment)},m(r,s){B(e,r,s),n=!0},p(r,s){const i={};s&16386&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||(b(e.$$.fragment,r),n=!0)},o(r){C(e.$$.fragment,r),n=!1},d(r){W(e,r)}}}function cM(t){let e,n,r,s,i,o,a,l;function c(f){t[8](f)}let u={};t[1]!==void 0&&(u.open=t[1]),e=new Qs({props:u}),Ie.push(()=>Je(e,"open",c));function h(f){t[9](f)}let d={};return t[1]!==void 0&&(d.sidebar=t[1]),s=new Ks({props:d}),Ie.push(()=>Je(s,"sidebar",h)),a=new Ew({}),{c(){x(e.$$.fragment),r=k(),x(s.$$.fragment),o=k(),x(a.$$.fragment)},m(f,p){B(e,f,p),I(f,r,p),B(s,f,p),I(f,o,p),B(a,f,p),l=!0},p(f,p){const _={};!n&&p&2&&(n=!0,_.open=f[1],Xe(()=>n=!1)),e.$set(_);const y={};!i&&p&2&&(i=!0,y.sidebar=f[1],Xe(()=>i=!1)),s.$set(y)},i(f){l||(b(e.$$.fragment,f),b(s.$$.fragment,f),b(a.$$.fragment,f),l=!0)},o(f){C(e.$$.fragment,f),C(s.$$.fragment,f),C(a.$$.fragment,f),l=!1},d(f){f&&(T(r),T(o)),W(e,f),W(s,f),W(a,f)}}}function uM(t){let e,n;return e=new zs({props:{$$slots:{default:[cM]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment)},m(r,s){B(e,r,s),n=!0},p(r,s){const i={};s&16386&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||(b(e.$$.fragment,r),n=!0)},o(r){C(e.$$.fragment,r),n=!1},d(r){W(e,r)}}}function hM(t){let e,n,r,s,i,o,a,l;function c(f){t[10](f)}let u={};t[1]!==void 0&&(u.open=t[1]),e=new Qs({props:u}),Ie.push(()=>Je(e,"open",c));function h(f){t[11](f)}let d={};return t[1]!==void 0&&(d.sidebar=t[1]),s=new Ks({props:d}),Ie.push(()=>Je(s,"sidebar",h)),a=new qN({}),{c(){x(e.$$.fragment),r=k(),x(s.$$.fragment),o=k(),x(a.$$.fragment)},m(f,p){B(e,f,p),I(f,r,p),B(s,f,p),I(f,o,p),B(a,f,p),l=!0},p(f,p){const _={};!n&&p&2&&(n=!0,_.open=f[1],Xe(()=>n=!1)),e.$set(_);const y={};!i&&p&2&&(i=!0,y.sidebar=f[1],Xe(()=>i=!1)),s.$set(y)},i(f){l||(b(e.$$.fragment,f),b(s.$$.fragment,f),b(a.$$.fragment,f),l=!0)},o(f){C(e.$$.fragment,f),C(s.$$.fragment,f),C(a.$$.fragment,f),l=!1},d(f){f&&(T(r),T(o)),W(e,f),W(s,f),W(a,f)}}}function fM(t){let e,n;return e=new zs({props:{$$slots:{default:[hM]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment)},m(r,s){B(e,r,s),n=!0},p(r,s){const i={};s&16386&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||(b(e.$$.fragment,r),n=!0)},o(r){C(e.$$.fragment,r),n=!1},d(r){W(e,r)}}}function dM(t){let e,n,r,s,i,o,a,l;function c(f){t[12](f)}let u={};t[1]!==void 0&&(u.open=t[1]),e=new Qs({props:u}),Ie.push(()=>Je(e,"open",c));function h(f){t[13](f)}let d={};return t[1]!==void 0&&(d.sidebar=t[1]),s=new Ks({props:d}),Ie.push(()=>Je(s,"sidebar",h)),a=new Ew({}),{c(){x(e.$$.fragment),r=k(),x(s.$$.fragment),o=k(),x(a.$$.fragment)},m(f,p){B(e,f,p),I(f,r,p),B(s,f,p),I(f,o,p),B(a,f,p),l=!0},p(f,p){const _={};!n&&p&2&&(n=!0,_.open=f[1],Xe(()=>n=!1)),e.$set(_);const y={};!i&&p&2&&(i=!0,y.sidebar=f[1],Xe(()=>i=!1)),s.$set(y)},i(f){l||(b(e.$$.fragment,f),b(s.$$.fragment,f),b(a.$$.fragment,f),l=!0)},o(f){C(e.$$.fragment,f),C(s.$$.fragment,f),C(a.$$.fragment,f),l=!1},d(f){f&&(T(r),T(o)),W(e,f),W(s,f),W(a,f)}}}function pM(t){let e,n;return e=new zs({props:{$$slots:{default:[dM]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment)},m(r,s){B(e,r,s),n=!0},p(r,s){const i={};s&16386&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||(b(e.$$.fragment,r),n=!0)},o(r){C(e.$$.fragment,r),n=!1},d(r){W(e,r)}}}function mM(t){let e,n,r,s,i,o,a,l,c,u,h,d,f,p,_,y;return e=new Wn({props:{path:"/",$$slots:{default:[tM]},$$scope:{ctx:t}}}),r=new Wn({props:{path:"/signup",$$slots:{default:[nM]},$$scope:{ctx:t}}}),i=new Wn({props:{path:"/showCase",$$slots:{default:[sM]},$$scope:{ctx:t}}}),a=new Wn({props:{path:"/profile",$$slots:{default:[oM]},$$scope:{ctx:t}}}),c=new Wn({props:{path:"/collection",$$slots:{default:[lM]},$$scope:{ctx:t}}}),h=new Wn({props:{path:"/battle",$$slots:{default:[uM]},$$scope:{ctx:t}}}),f=new Wn({props:{path:"/summon",$$slots:{default:[fM]},$$scope:{ctx:t}}}),_=new Wn({props:{path:"/settings",$$slots:{default:[pM]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment),n=k(),x(r.$$.fragment),s=k(),x(i.$$.fragment),o=k(),x(a.$$.fragment),l=k(),x(c.$$.fragment),u=k(),x(h.$$.fragment),d=k(),x(f.$$.fragment),p=k(),x(_.$$.fragment)},m(v,A){B(e,v,A),I(v,n,A),B(r,v,A),I(v,s,A),B(i,v,A),I(v,o,A),B(a,v,A),I(v,l,A),B(c,v,A),I(v,u,A),B(h,v,A),I(v,d,A),B(f,v,A),I(v,p,A),B(_,v,A),y=!0},p(v,A){const E={};A&16384&&(E.$$scope={dirty:A,ctx:v}),e.$set(E);const R={};A&16384&&(R.$$scope={dirty:A,ctx:v}),r.$set(R);const D={};A&16386&&(D.$$scope={dirty:A,ctx:v}),i.$set(D);const L={};A&16386&&(L.$$scope={dirty:A,ctx:v}),a.$set(L);const U={};A&16386&&(U.$$scope={dirty:A,ctx:v}),c.$set(U);const z={};A&16386&&(z.$$scope={dirty:A,ctx:v}),h.$set(z);const N={};A&16386&&(N.$$scope={dirty:A,ctx:v}),f.$set(N);const M={};A&16386&&(M.$$scope={dirty:A,ctx:v}),_.$set(M)},i(v){y||(b(e.$$.fragment,v),b(r.$$.fragment,v),b(i.$$.fragment,v),b(a.$$.fragment,v),b(c.$$.fragment,v),b(h.$$.fragment,v),b(f.$$.fragment,v),b(_.$$.fragment,v),y=!0)},o(v){C(e.$$.fragment,v),C(r.$$.fragment,v),C(i.$$.fragment,v),C(a.$$.fragment,v),C(c.$$.fragment,v),C(h.$$.fragment,v),C(f.$$.fragment,v),C(_.$$.fragment,v),y=!1},d(v){v&&(T(n),T(s),T(o),T(l),T(u),T(d),T(p)),W(e,v),W(r,v),W(i,v),W(a,v),W(c,v),W(h,v),W(f,v),W(_,v)}}}function gM(t){let e,n,r,s;return r=new gA({props:{url:t[0],$$slots:{default:[mM]},$$scope:{ctx:t}}}),{c(){e=w("link"),n=k(),x(r.$$.fragment),m(e,"href","https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css"),m(e,"rel","stylesheet")},m(i,o){g(document.head,e),I(i,n,o),B(r,i,o),s=!0},p(i,[o]){const a={};o&1&&(a.url=i[0]),o&16386&&(a.$$scope={dirty:o,ctx:i}),r.$set(a)},i(i){s||(b(r.$$.fragment,i),s=!0)},o(i){C(r.$$.fragment,i),s=!1},d(i){i&&T(n),T(e),W(r,i)}}}function yM(t,e,n){let{url:r=""}=e,s=!1;function i(v){s=v,n(1,s)}function o(v){s=v,n(1,s)}function a(v){s=v,n(1,s)}function l(v){s=v,n(1,s)}function c(v){s=v,n(1,s)}function u(v){s=v,n(1,s)}function h(v){s=v,n(1,s)}function d(v){s=v,n(1,s)}function f(v){s=v,n(1,s)}function p(v){s=v,n(1,s)}function _(v){s=v,n(1,s)}function y(v){s=v,n(1,s)}return t.$$set=v=>{"url"in v&&n(0,r=v.url)},[r,s,i,o,a,l,c,u,h,d,f,p,_,y]}class _M extends ye{constructor(e){super(),ge(this,e,yM,gM,ue,{url:0})}}new _M({target:document.getElementById("root")});
